function Z$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function He(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var HM={exports:{}},Qp={},zM={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd=Symbol.for("react.element"),eL=Symbol.for("react.portal"),tL=Symbol.for("react.fragment"),nL=Symbol.for("react.strict_mode"),rL=Symbol.for("react.profiler"),iL=Symbol.for("react.provider"),aL=Symbol.for("react.context"),sL=Symbol.for("react.forward_ref"),oL=Symbol.for("react.suspense"),lL=Symbol.for("react.memo"),cL=Symbol.for("react.lazy"),Q1=Symbol.iterator;function uL(t){return t===null||typeof t!="object"?null:(t=Q1&&t[Q1]||t["@@iterator"],typeof t=="function"?t:null)}var WM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KM=Object.assign,GM={};function dl(t,e,n){this.props=t,this.context=e,this.refs=GM,this.updater=n||WM}dl.prototype.isReactComponent={};dl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qM(){}qM.prototype=dl.prototype;function rb(t,e,n){this.props=t,this.context=e,this.refs=GM,this.updater=n||WM}var ib=rb.prototype=new qM;ib.constructor=rb;KM(ib,dl.prototype);ib.isPureReactComponent=!0;var J1=Array.isArray,YM=Object.prototype.hasOwnProperty,ab={current:null},XM={key:!0,ref:!0,__self:!0,__source:!0};function QM(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)YM.call(e,r)&&!XM.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:sd,type:t,key:a,ref:s,props:i,_owner:ab.current}}function dL(t,e){return{$$typeof:sd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sb(t){return typeof t=="object"&&t!==null&&t.$$typeof===sd}function hL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Z1=/\/+/g;function zg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hL(""+t.key):e.toString(36)}function Dh(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case sd:case eL:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+zg(s,0):r,J1(i)?(n="",t!=null&&(n=t.replace(Z1,"$&/")+"/"),Dh(i,e,n,"",function(c){return c})):i!=null&&(sb(i)&&(i=dL(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Z1,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",J1(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+zg(a,o);s+=Dh(a,e,n,l,i)}else if(l=uL(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+zg(a,o++),s+=Dh(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Xd(t,e,n){if(t==null)return t;var r=[],i=0;return Dh(t,r,"","",function(a){return e.call(n,a,i++)}),r}function fL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},kh={transition:null},pL={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:kh,ReactCurrentOwner:ab};function JM(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:Xd,forEach:function(t,e,n){Xd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xd(t,function(){e++}),e},toArray:function(t){return Xd(t,function(e){return e})||[]},only:function(t){if(!sb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=dl;xe.Fragment=tL;xe.Profiler=rL;xe.PureComponent=rb;xe.StrictMode=nL;xe.Suspense=oL;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pL;xe.act=JM;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=KM({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=ab.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)YM.call(e,l)&&!XM.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:sd,type:t.type,key:i,ref:a,props:r,_owner:s}};xe.createContext=function(t){return t={$$typeof:aL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iL,_context:t},t.Consumer=t};xe.createElement=QM;xe.createFactory=function(t){var e=QM.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:sL,render:t}};xe.isValidElement=sb;xe.lazy=function(t){return{$$typeof:cL,_payload:{_status:-1,_result:t},_init:fL}};xe.memo=function(t,e){return{$$typeof:lL,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=kh.transition;kh.transition={};try{t()}finally{kh.transition=e}};xe.unstable_act=JM;xe.useCallback=function(t,e){return dn.current.useCallback(t,e)};xe.useContext=function(t){return dn.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};xe.useEffect=function(t,e){return dn.current.useEffect(t,e)};xe.useId=function(){return dn.current.useId()};xe.useImperativeHandle=function(t,e,n){return dn.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return dn.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return dn.current.useReducer(t,e,n)};xe.useRef=function(t){return dn.current.useRef(t)};xe.useState=function(t){return dn.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return dn.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return dn.current.useTransition()};xe.version="18.3.1";zM.exports=xe;var k=zM.exports;const H=He(k),mL=Z$({__proto__:null,default:H},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gL=k,yL=Symbol.for("react.element"),vL=Symbol.for("react.fragment"),xL=Object.prototype.hasOwnProperty,bL=gL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wL={key:!0,ref:!0,__self:!0,__source:!0};function ZM(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)xL.call(e,r)&&!wL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:yL,type:t,key:a,ref:s,props:i,_owner:bL.current}}Qp.Fragment=vL;Qp.jsx=ZM;Qp.jsxs=ZM;HM.exports=Qp;var u=HM.exports,av={},eI={exports:{}},kn={},tI={exports:{}},nI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,V){var $=R.length;R.push(V);e:for(;0<$;){var K=$-1>>>1,q=R[K];if(0<i(q,V))R[K]=V,R[$]=q,$=K;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var V=R[0],$=R.pop();if($!==V){R[0]=$;e:for(var K=0,q=R.length,ee=q>>>1;K<ee;){var me=2*(K+1)-1,be=R[me],Ne=me+1,ht=R[Ne];if(0>i(be,$))Ne<q&&0>i(ht,be)?(R[K]=ht,R[Ne]=$,K=Ne):(R[K]=be,R[me]=$,K=me);else if(Ne<q&&0>i(ht,$))R[K]=ht,R[Ne]=$,K=Ne;else break e}}return V}function i(R,V){var $=R.sortIndex-V.sortIndex;return $!==0?$:R.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],h=1,d=null,p=3,m=!1,y=!1,w=!1,g=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=R)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function A(R){if(w=!1,_(R),!y)if(n(l)!==null)y=!0,F(P);else{var V=n(c);V!==null&&U(A,V.startTime-R)}}function P(R,V){y=!1,w&&(w=!1,x(T),T=-1),m=!0;var $=p;try{for(_(V),d=n(l);d!==null&&(!(d.expirationTime>V)||R&&!O());){var K=d.callback;if(typeof K=="function"){d.callback=null,p=d.priorityLevel;var q=K(d.expirationTime<=V);V=t.unstable_now(),typeof q=="function"?d.callback=q:d===n(l)&&r(l),_(V)}else r(l);d=n(l)}if(d!==null)var ee=!0;else{var me=n(c);me!==null&&U(A,me.startTime-V),ee=!1}return ee}finally{d=null,p=$,m=!1}}var E=!1,S=null,T=-1,M=5,I=-1;function O(){return!(t.unstable_now()-I<M)}function j(){if(S!==null){var R=t.unstable_now();I=R;var V=!0;try{V=S(!0,R)}finally{V?C():(E=!1,S=null)}}else E=!1}var C;if(typeof v=="function")C=function(){v(j)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,B=L.port2;L.port1.onmessage=j,C=function(){B.postMessage(null)}}else C=function(){g(j,0)};function F(R){S=R,E||(E=!0,C())}function U(R,V){T=g(function(){R(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,F(P))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var $=p;p=V;try{return R()}finally{p=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,V){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var $=p;p=R;try{return V()}finally{p=$}},t.unstable_scheduleCallback=function(R,V,$){var K=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?K+$:K):$=K,R){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=$+q,R={id:h++,callback:V,priorityLevel:R,startTime:$,expirationTime:q,sortIndex:-1},$>K?(R.sortIndex=$,e(c,R),n(l)===null&&R===n(c)&&(w?(x(T),T=-1):w=!0,U(A,$-K))):(R.sortIndex=q,e(l,R),y||m||(y=!0,F(P))),R},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(R){var V=p;return function(){var $=p;p=V;try{return R.apply(this,arguments)}finally{p=$}}}})(nI);tI.exports=nI;var _L=tI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SL=k,On=_L;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rI=new Set,Xc={};function Ss(t,e){To(t,e),To(t+"Capture",e)}function To(t,e){for(Xc[t]=e,t=0;t<e.length;t++)rI.add(e[t])}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sv=Object.prototype.hasOwnProperty,EL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eS={},tS={};function PL(t){return sv.call(tS,t)?!0:sv.call(eS,t)?!1:EL.test(t)?tS[t]=!0:(eS[t]=!0,!1)}function AL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function TL(t,e,n,r){if(e===null||typeof e>"u"||AL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hn(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bt[t]=new hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bt[e]=new hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bt[t]=new hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bt[t]=new hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bt[t]=new hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bt[t]=new hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bt[t]=new hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bt[t]=new hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bt[t]=new hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ob=/[\-:]([a-z])/g;function lb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ob,lb);Bt[e]=new hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ob,lb);Bt[e]=new hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ob,lb);Bt[e]=new hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bt[t]=new hn(t,1,!1,t.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bt[t]=new hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function cb(t,e,n,r){var i=Bt.hasOwnProperty(e)?Bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(TL(e,n,i,r)&&(n=null),r||i===null?PL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wi=SL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qd=Symbol.for("react.element"),qs=Symbol.for("react.portal"),Ys=Symbol.for("react.fragment"),ub=Symbol.for("react.strict_mode"),ov=Symbol.for("react.profiler"),iI=Symbol.for("react.provider"),aI=Symbol.for("react.context"),db=Symbol.for("react.forward_ref"),lv=Symbol.for("react.suspense"),cv=Symbol.for("react.suspense_list"),hb=Symbol.for("react.memo"),Ri=Symbol.for("react.lazy"),sI=Symbol.for("react.offscreen"),nS=Symbol.iterator;function Xl(t){return t===null||typeof t!="object"?null:(t=nS&&t[nS]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,Wg;function mc(t){if(Wg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wg=e&&e[1]||""}return`
`+Wg+t}var Kg=!1;function Gg(t,e){if(!t||Kg)return"";Kg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Kg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mc(t):""}function NL(t){switch(t.tag){case 5:return mc(t.type);case 16:return mc("Lazy");case 13:return mc("Suspense");case 19:return mc("SuspenseList");case 0:case 2:case 15:return t=Gg(t.type,!1),t;case 11:return t=Gg(t.type.render,!1),t;case 1:return t=Gg(t.type,!0),t;default:return""}}function uv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ys:return"Fragment";case qs:return"Portal";case ov:return"Profiler";case ub:return"StrictMode";case lv:return"Suspense";case cv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aI:return(t.displayName||"Context")+".Consumer";case iI:return(t._context.displayName||"Context")+".Provider";case db:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hb:return e=t.displayName||null,e!==null?e:uv(t.type)||"Memo";case Ri:e=t._payload,t=t._init;try{return uv(t(e))}catch{}}return null}function ML(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uv(e);case 8:return e===ub?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IL(t){var e=oI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jd(t){t._valueTracker||(t._valueTracker=IL(t))}function lI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=oI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dv(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function rS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cI(t,e){e=e.checked,e!=null&&cb(t,"checked",e,!1)}function hv(t,e){cI(t,e);var n=fa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fv(t,e.type,n):e.hasOwnProperty("defaultValue")&&fv(t,e.type,fa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function iS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fv(t,e,n){(e!=="number"||nf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gc=Array.isArray;function ho(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function pv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(gc(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fa(n)}}function uI(t,e){var n=fa(e.value),r=fa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function sS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zd,hI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zd=Zd||document.createElement("div"),Zd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jL=["Webkit","ms","Moz","O"];Object.keys(Tc).forEach(function(t){jL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tc[e]=Tc[t]})});function fI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Tc.hasOwnProperty(t)&&Tc[t]?(""+e).trim():e+"px"}function pI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var CL=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gv(t,e){if(e){if(CL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function yv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vv=null;function fb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xv=null,fo=null,po=null;function oS(t){if(t=cd(t)){if(typeof xv!="function")throw Error(J(280));var e=t.stateNode;e&&(e=nm(e),xv(t.stateNode,t.type,e))}}function mI(t){fo?po?po.push(t):po=[t]:fo=t}function gI(){if(fo){var t=fo,e=po;if(po=fo=null,oS(t),e)for(t=0;t<e.length;t++)oS(e[t])}}function yI(t,e){return t(e)}function vI(){}var qg=!1;function xI(t,e,n){if(qg)return t(e,n);qg=!0;try{return yI(t,e,n)}finally{qg=!1,(fo!==null||po!==null)&&(vI(),gI())}}function Jc(t,e){var n=t.stateNode;if(n===null)return null;var r=nm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var bv=!1;if(ci)try{var Ql={};Object.defineProperty(Ql,"passive",{get:function(){bv=!0}}),window.addEventListener("test",Ql,Ql),window.removeEventListener("test",Ql,Ql)}catch{bv=!1}function OL(t,e,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Nc=!1,rf=null,af=!1,wv=null,DL={onError:function(t){Nc=!0,rf=t}};function kL(t,e,n,r,i,a,s,o,l){Nc=!1,rf=null,OL.apply(DL,arguments)}function RL(t,e,n,r,i,a,s,o,l){if(kL.apply(this,arguments),Nc){if(Nc){var c=rf;Nc=!1,rf=null}else throw Error(J(198));af||(af=!0,wv=c)}}function Es(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lS(t){if(Es(t)!==t)throw Error(J(188))}function $L(t){var e=t.alternate;if(!e){if(e=Es(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return lS(i),t;if(a===r)return lS(i),e;a=a.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function wI(t){return t=$L(t),t!==null?_I(t):null}function _I(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_I(t);if(e!==null)return e;t=t.sibling}return null}var SI=On.unstable_scheduleCallback,cS=On.unstable_cancelCallback,LL=On.unstable_shouldYield,FL=On.unstable_requestPaint,ut=On.unstable_now,VL=On.unstable_getCurrentPriorityLevel,pb=On.unstable_ImmediatePriority,EI=On.unstable_UserBlockingPriority,sf=On.unstable_NormalPriority,BL=On.unstable_LowPriority,PI=On.unstable_IdlePriority,Jp=null,Ir=null;function UL(t){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(Jp,t,void 0,(t.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:WL,HL=Math.log,zL=Math.LN2;function WL(t){return t>>>=0,t===0?32:31-(HL(t)/zL|0)|0}var eh=64,th=4194304;function yc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function of(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=yc(o):(a&=s,a!==0&&(r=yc(a)))}else s=n&~i,s!==0?r=yc(s):a!==0&&(r=yc(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-mr(e),i=1<<n,r|=t[n],e&=~i;return r}function KL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-mr(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=KL(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function _v(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function AI(){var t=eh;return eh<<=1,!(eh&4194240)&&(eh=64),t}function Yg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function od(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mr(e),t[e]=n}function qL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-mr(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function mb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-mr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function TI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var NI,gb,MI,II,jI,Sv=!1,nh=[],Qi=null,Ji=null,Zi=null,Zc=new Map,eu=new Map,Fi=[],YL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uS(t,e){switch(t){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":Zc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(e.pointerId)}}function Jl(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=cd(e),e!==null&&gb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function XL(t,e,n,r,i){switch(e){case"focusin":return Qi=Jl(Qi,t,e,n,r,i),!0;case"dragenter":return Ji=Jl(Ji,t,e,n,r,i),!0;case"mouseover":return Zi=Jl(Zi,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Zc.set(a,Jl(Zc.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,eu.set(a,Jl(eu.get(a)||null,t,e,n,r,i)),!0}return!1}function CI(t){var e=Ga(t.target);if(e!==null){var n=Es(e);if(n!==null){if(e=n.tag,e===13){if(e=bI(n),e!==null){t.blockedOn=e,jI(t.priority,function(){MI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ev(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vv=r,n.target.dispatchEvent(r),vv=null}else return e=cd(n),e!==null&&gb(e),t.blockedOn=n,!1;e.shift()}return!0}function dS(t,e,n){Rh(t)&&n.delete(e)}function QL(){Sv=!1,Qi!==null&&Rh(Qi)&&(Qi=null),Ji!==null&&Rh(Ji)&&(Ji=null),Zi!==null&&Rh(Zi)&&(Zi=null),Zc.forEach(dS),eu.forEach(dS)}function Zl(t,e){t.blockedOn===e&&(t.blockedOn=null,Sv||(Sv=!0,On.unstable_scheduleCallback(On.unstable_NormalPriority,QL)))}function tu(t){function e(i){return Zl(i,t)}if(0<nh.length){Zl(nh[0],t);for(var n=1;n<nh.length;n++){var r=nh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qi!==null&&Zl(Qi,t),Ji!==null&&Zl(Ji,t),Zi!==null&&Zl(Zi,t),Zc.forEach(e),eu.forEach(e),n=0;n<Fi.length;n++)r=Fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fi.length&&(n=Fi[0],n.blockedOn===null);)CI(n),n.blockedOn===null&&Fi.shift()}var mo=wi.ReactCurrentBatchConfig,lf=!0;function JL(t,e,n,r){var i=ke,a=mo.transition;mo.transition=null;try{ke=1,yb(t,e,n,r)}finally{ke=i,mo.transition=a}}function ZL(t,e,n,r){var i=ke,a=mo.transition;mo.transition=null;try{ke=4,yb(t,e,n,r)}finally{ke=i,mo.transition=a}}function yb(t,e,n,r){if(lf){var i=Ev(t,e,n,r);if(i===null)ay(t,e,r,cf,n),uS(t,r);else if(XL(i,t,e,n,r))r.stopPropagation();else if(uS(t,r),e&4&&-1<YL.indexOf(t)){for(;i!==null;){var a=cd(i);if(a!==null&&NI(a),a=Ev(t,e,n,r),a===null&&ay(t,e,r,cf,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else ay(t,e,r,null,n)}}var cf=null;function Ev(t,e,n,r){if(cf=null,t=fb(r),t=Ga(t),t!==null)if(e=Es(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cf=t,null}function OI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VL()){case pb:return 1;case EI:return 4;case sf:case BL:return 16;case PI:return 536870912;default:return 16}default:return 16}}var Wi=null,vb=null,$h=null;function DI(){if($h)return $h;var t,e=vb,n=e.length,r,i="value"in Wi?Wi.value:Wi.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return $h=i.slice(t,1<r?1-r:void 0)}function Lh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rh(){return!0}function hS(){return!1}function Rn(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?rh:hS,this.isPropagationStopped=hS,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rh)},persist:function(){},isPersistent:rh}),e}var hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xb=Rn(hl),ld=rt({},hl,{view:0,detail:0}),e3=Rn(ld),Xg,Qg,ec,Zp=rt({},ld,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ec&&(ec&&t.type==="mousemove"?(Xg=t.screenX-ec.screenX,Qg=t.screenY-ec.screenY):Qg=Xg=0,ec=t),Xg)},movementY:function(t){return"movementY"in t?t.movementY:Qg}}),fS=Rn(Zp),t3=rt({},Zp,{dataTransfer:0}),n3=Rn(t3),r3=rt({},ld,{relatedTarget:0}),Jg=Rn(r3),i3=rt({},hl,{animationName:0,elapsedTime:0,pseudoElement:0}),a3=Rn(i3),s3=rt({},hl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),o3=Rn(s3),l3=rt({},hl,{data:0}),pS=Rn(l3),c3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=d3[t])?!!e[t]:!1}function bb(){return h3}var f3=rt({},ld,{key:function(t){if(t.key){var e=c3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?u3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bb,charCode:function(t){return t.type==="keypress"?Lh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p3=Rn(f3),m3=rt({},Zp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mS=Rn(m3),g3=rt({},ld,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bb}),y3=Rn(g3),v3=rt({},hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),x3=Rn(v3),b3=rt({},Zp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),w3=Rn(b3),_3=[9,13,27,32],wb=ci&&"CompositionEvent"in window,Mc=null;ci&&"documentMode"in document&&(Mc=document.documentMode);var S3=ci&&"TextEvent"in window&&!Mc,kI=ci&&(!wb||Mc&&8<Mc&&11>=Mc),gS=" ",yS=!1;function RI(t,e){switch(t){case"keyup":return _3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $I(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xs=!1;function E3(t,e){switch(t){case"compositionend":return $I(e);case"keypress":return e.which!==32?null:(yS=!0,gS);case"textInput":return t=e.data,t===gS&&yS?null:t;default:return null}}function P3(t,e){if(Xs)return t==="compositionend"||!wb&&RI(t,e)?(t=DI(),$h=vb=Wi=null,Xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kI&&e.locale!=="ko"?null:e.data;default:return null}}var A3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!A3[t.type]:e==="textarea"}function LI(t,e,n,r){mI(r),e=uf(e,"onChange"),0<e.length&&(n=new xb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ic=null,nu=null;function T3(t){YI(t,0)}function em(t){var e=Zs(t);if(lI(e))return t}function N3(t,e){if(t==="change")return e}var FI=!1;if(ci){var Zg;if(ci){var ey="oninput"in document;if(!ey){var xS=document.createElement("div");xS.setAttribute("oninput","return;"),ey=typeof xS.oninput=="function"}Zg=ey}else Zg=!1;FI=Zg&&(!document.documentMode||9<document.documentMode)}function bS(){Ic&&(Ic.detachEvent("onpropertychange",VI),nu=Ic=null)}function VI(t){if(t.propertyName==="value"&&em(nu)){var e=[];LI(e,nu,t,fb(t)),xI(T3,e)}}function M3(t,e,n){t==="focusin"?(bS(),Ic=e,nu=n,Ic.attachEvent("onpropertychange",VI)):t==="focusout"&&bS()}function I3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return em(nu)}function j3(t,e){if(t==="click")return em(e)}function C3(t,e){if(t==="input"||t==="change")return em(e)}function O3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vr=typeof Object.is=="function"?Object.is:O3;function ru(t,e){if(vr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sv.call(e,i)||!vr(t[i],e[i]))return!1}return!0}function wS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _S(t,e){var n=wS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wS(n)}}function BI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?BI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function UI(){for(var t=window,e=nf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nf(t.document)}return e}function _b(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function D3(t){var e=UI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&BI(n.ownerDocument.documentElement,n)){if(r!==null&&_b(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=_S(n,a);var s=_S(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var k3=ci&&"documentMode"in document&&11>=document.documentMode,Qs=null,Pv=null,jc=null,Av=!1;function SS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Av||Qs==null||Qs!==nf(r)||(r=Qs,"selectionStart"in r&&_b(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jc&&ru(jc,r)||(jc=r,r=uf(Pv,"onSelect"),0<r.length&&(e=new xb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qs)))}function ih(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Js={animationend:ih("Animation","AnimationEnd"),animationiteration:ih("Animation","AnimationIteration"),animationstart:ih("Animation","AnimationStart"),transitionend:ih("Transition","TransitionEnd")},ty={},HI={};ci&&(HI=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function tm(t){if(ty[t])return ty[t];if(!Js[t])return t;var e=Js[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in HI)return ty[t]=e[n];return t}var zI=tm("animationend"),WI=tm("animationiteration"),KI=tm("animationstart"),GI=tm("transitionend"),qI=new Map,ES="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _a(t,e){qI.set(t,e),Ss(e,[t])}for(var ny=0;ny<ES.length;ny++){var ry=ES[ny],R3=ry.toLowerCase(),$3=ry[0].toUpperCase()+ry.slice(1);_a(R3,"on"+$3)}_a(zI,"onAnimationEnd");_a(WI,"onAnimationIteration");_a(KI,"onAnimationStart");_a("dblclick","onDoubleClick");_a("focusin","onFocus");_a("focusout","onBlur");_a(GI,"onTransitionEnd");To("onMouseEnter",["mouseout","mouseover"]);To("onMouseLeave",["mouseout","mouseover"]);To("onPointerEnter",["pointerout","pointerover"]);To("onPointerLeave",["pointerout","pointerover"]);Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L3=new Set("cancel close invalid load scroll toggle".split(" ").concat(vc));function PS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,RL(r,e,void 0,t),t.currentTarget=null}function YI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;PS(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;PS(i,o,c),a=l}}}if(af)throw t=wv,af=!1,wv=null,t}function We(t,e){var n=e[jv];n===void 0&&(n=e[jv]=new Set);var r=t+"__bubble";n.has(r)||(XI(e,t,2,!1),n.add(r))}function iy(t,e,n){var r=0;e&&(r|=4),XI(n,t,r,e)}var ah="_reactListening"+Math.random().toString(36).slice(2);function iu(t){if(!t[ah]){t[ah]=!0,rI.forEach(function(n){n!=="selectionchange"&&(L3.has(n)||iy(n,!1,t),iy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ah]||(e[ah]=!0,iy("selectionchange",!1,e))}}function XI(t,e,n,r){switch(OI(e)){case 1:var i=JL;break;case 4:i=ZL;break;default:i=yb}n=i.bind(null,e,n,t),i=void 0,!bv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ay(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Ga(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}xI(function(){var c=a,h=fb(n),d=[];e:{var p=qI.get(t);if(p!==void 0){var m=xb,y=t;switch(t){case"keypress":if(Lh(n)===0)break e;case"keydown":case"keyup":m=p3;break;case"focusin":y="focus",m=Jg;break;case"focusout":y="blur",m=Jg;break;case"beforeblur":case"afterblur":m=Jg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=fS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=n3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=y3;break;case zI:case WI:case KI:m=a3;break;case GI:m=x3;break;case"scroll":m=e3;break;case"wheel":m=w3;break;case"copy":case"cut":case"paste":m=o3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=mS}var w=(e&4)!==0,g=!w&&t==="scroll",x=w?p!==null?p+"Capture":null:p;w=[];for(var v=c,_;v!==null;){_=v;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,x!==null&&(A=Jc(v,x),A!=null&&w.push(au(v,A,_)))),g)break;v=v.return}0<w.length&&(p=new m(p,y,null,n,h),d.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==vv&&(y=n.relatedTarget||n.fromElement)&&(Ga(y)||y[ui]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=c,y=y?Ga(y):null,y!==null&&(g=Es(y),y!==g||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(w=fS,A="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=mS,A="onPointerLeave",x="onPointerEnter",v="pointer"),g=m==null?p:Zs(m),_=y==null?p:Zs(y),p=new w(A,v+"leave",m,n,h),p.target=g,p.relatedTarget=_,A=null,Ga(h)===c&&(w=new w(x,v+"enter",y,n,h),w.target=_,w.relatedTarget=g,A=w),g=A,m&&y)t:{for(w=m,x=y,v=0,_=w;_;_=$s(_))v++;for(_=0,A=x;A;A=$s(A))_++;for(;0<v-_;)w=$s(w),v--;for(;0<_-v;)x=$s(x),_--;for(;v--;){if(w===x||x!==null&&w===x.alternate)break t;w=$s(w),x=$s(x)}w=null}else w=null;m!==null&&AS(d,p,m,w,!1),y!==null&&g!==null&&AS(d,g,y,w,!0)}}e:{if(p=c?Zs(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var P=N3;else if(vS(p))if(FI)P=C3;else{P=I3;var E=M3}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=j3);if(P&&(P=P(t,c))){LI(d,P,n,h);break e}E&&E(t,p,c),t==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&fv(p,"number",p.value)}switch(E=c?Zs(c):window,t){case"focusin":(vS(E)||E.contentEditable==="true")&&(Qs=E,Pv=c,jc=null);break;case"focusout":jc=Pv=Qs=null;break;case"mousedown":Av=!0;break;case"contextmenu":case"mouseup":case"dragend":Av=!1,SS(d,n,h);break;case"selectionchange":if(k3)break;case"keydown":case"keyup":SS(d,n,h)}var S;if(wb)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Xs?RI(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(kI&&n.locale!=="ko"&&(Xs||T!=="onCompositionStart"?T==="onCompositionEnd"&&Xs&&(S=DI()):(Wi=h,vb="value"in Wi?Wi.value:Wi.textContent,Xs=!0)),E=uf(c,T),0<E.length&&(T=new pS(T,t,null,n,h),d.push({event:T,listeners:E}),S?T.data=S:(S=$I(n),S!==null&&(T.data=S)))),(S=S3?E3(t,n):P3(t,n))&&(c=uf(c,"onBeforeInput"),0<c.length&&(h=new pS("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=S))}YI(d,e)})}function au(t,e,n){return{instance:t,listener:e,currentTarget:n}}function uf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Jc(t,n),a!=null&&r.unshift(au(t,a,i)),a=Jc(t,e),a!=null&&r.push(au(t,a,i))),t=t.return}return r}function $s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function AS(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Jc(n,a),l!=null&&s.unshift(au(n,l,o))):i||(l=Jc(n,a),l!=null&&s.push(au(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var F3=/\r\n?/g,V3=/\u0000|\uFFFD/g;function TS(t){return(typeof t=="string"?t:""+t).replace(F3,`
`).replace(V3,"")}function sh(t,e,n){if(e=TS(e),TS(t)!==e&&n)throw Error(J(425))}function df(){}var Tv=null,Nv=null;function Mv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Iv=typeof setTimeout=="function"?setTimeout:void 0,B3=typeof clearTimeout=="function"?clearTimeout:void 0,NS=typeof Promise=="function"?Promise:void 0,U3=typeof queueMicrotask=="function"?queueMicrotask:typeof NS<"u"?function(t){return NS.resolve(null).then(t).catch(H3)}:Iv;function H3(t){setTimeout(function(){throw t})}function sy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),tu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);tu(e)}function ea(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function MS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fl=Math.random().toString(36).slice(2),Nr="__reactFiber$"+fl,su="__reactProps$"+fl,ui="__reactContainer$"+fl,jv="__reactEvents$"+fl,z3="__reactListeners$"+fl,W3="__reactHandles$"+fl;function Ga(t){var e=t[Nr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ui]||n[Nr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=MS(t);t!==null;){if(n=t[Nr])return n;t=MS(t)}return e}t=n,n=t.parentNode}return null}function cd(t){return t=t[Nr]||t[ui],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function nm(t){return t[su]||null}var Cv=[],eo=-1;function Sa(t){return{current:t}}function Xe(t){0>eo||(t.current=Cv[eo],Cv[eo]=null,eo--)}function Ue(t,e){eo++,Cv[eo]=t.current,t.current=e}var pa={},nn=Sa(pa),vn=Sa(!1),ls=pa;function No(t,e){var n=t.type.contextTypes;if(!n)return pa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xn(t){return t=t.childContextTypes,t!=null}function hf(){Xe(vn),Xe(nn)}function IS(t,e,n){if(nn.current!==pa)throw Error(J(168));Ue(nn,e),Ue(vn,n)}function QI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,ML(t)||"Unknown",i));return rt({},n,r)}function ff(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pa,ls=nn.current,Ue(nn,t),Ue(vn,vn.current),!0}function jS(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=QI(t,e,ls),r.__reactInternalMemoizedMergedChildContext=t,Xe(vn),Xe(nn),Ue(nn,t)):Xe(vn),Ue(vn,n)}var Qr=null,rm=!1,oy=!1;function JI(t){Qr===null?Qr=[t]:Qr.push(t)}function K3(t){rm=!0,JI(t)}function Ea(){if(!oy&&Qr!==null){oy=!0;var t=0,e=ke;try{var n=Qr;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qr=null,rm=!1}catch(i){throw Qr!==null&&(Qr=Qr.slice(t+1)),SI(pb,Ea),i}finally{ke=e,oy=!1}}return null}var to=[],no=0,pf=null,mf=0,Bn=[],Un=0,cs=null,Jr=1,Zr="";function Fa(t,e){to[no++]=mf,to[no++]=pf,pf=t,mf=e}function ZI(t,e,n){Bn[Un++]=Jr,Bn[Un++]=Zr,Bn[Un++]=cs,cs=t;var r=Jr;t=Zr;var i=32-mr(r)-1;r&=~(1<<i),n+=1;var a=32-mr(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Jr=1<<32-mr(e)+i|n<<i|r,Zr=a+t}else Jr=1<<a|n<<i|r,Zr=t}function Sb(t){t.return!==null&&(Fa(t,1),ZI(t,1,0))}function Eb(t){for(;t===pf;)pf=to[--no],to[no]=null,mf=to[--no],to[no]=null;for(;t===cs;)cs=Bn[--Un],Bn[Un]=null,Zr=Bn[--Un],Bn[Un]=null,Jr=Bn[--Un],Bn[Un]=null}var Cn=null,In=null,Qe=!1,cr=null;function ej(t,e){var n=Wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function CS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cn=t,In=ea(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cn=t,In=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cs!==null?{id:Jr,overflow:Zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Cn=t,In=null,!0):!1;default:return!1}}function Ov(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dv(t){if(Qe){var e=In;if(e){var n=e;if(!CS(t,e)){if(Ov(t))throw Error(J(418));e=ea(n.nextSibling);var r=Cn;e&&CS(t,e)?ej(r,n):(t.flags=t.flags&-4097|2,Qe=!1,Cn=t)}}else{if(Ov(t))throw Error(J(418));t.flags=t.flags&-4097|2,Qe=!1,Cn=t}}}function OS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cn=t}function oh(t){if(t!==Cn)return!1;if(!Qe)return OS(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mv(t.type,t.memoizedProps)),e&&(e=In)){if(Ov(t))throw tj(),Error(J(418));for(;e;)ej(t,e),e=ea(e.nextSibling)}if(OS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){In=ea(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}In=null}}else In=Cn?ea(t.stateNode.nextSibling):null;return!0}function tj(){for(var t=In;t;)t=ea(t.nextSibling)}function Mo(){In=Cn=null,Qe=!1}function Pb(t){cr===null?cr=[t]:cr.push(t)}var G3=wi.ReactCurrentBatchConfig;function tc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function lh(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function DS(t){var e=t._init;return e(t._payload)}function nj(t){function e(x,v){if(t){var _=x.deletions;_===null?(x.deletions=[v],x.flags|=16):_.push(v)}}function n(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function r(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function i(x,v){return x=ia(x,v),x.index=0,x.sibling=null,x}function a(x,v,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<v?(x.flags|=2,v):_):(x.flags|=2,v)):(x.flags|=1048576,v)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,v,_,A){return v===null||v.tag!==6?(v=py(_,x.mode,A),v.return=x,v):(v=i(v,_),v.return=x,v)}function l(x,v,_,A){var P=_.type;return P===Ys?h(x,v,_.props.children,A,_.key):v!==null&&(v.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ri&&DS(P)===v.type)?(A=i(v,_.props),A.ref=tc(x,v,_),A.return=x,A):(A=Wh(_.type,_.key,_.props,null,x.mode,A),A.ref=tc(x,v,_),A.return=x,A)}function c(x,v,_,A){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=my(_,x.mode,A),v.return=x,v):(v=i(v,_.children||[]),v.return=x,v)}function h(x,v,_,A,P){return v===null||v.tag!==7?(v=ns(_,x.mode,A,P),v.return=x,v):(v=i(v,_),v.return=x,v)}function d(x,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=py(""+v,x.mode,_),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Qd:return _=Wh(v.type,v.key,v.props,null,x.mode,_),_.ref=tc(x,null,v),_.return=x,_;case qs:return v=my(v,x.mode,_),v.return=x,v;case Ri:var A=v._init;return d(x,A(v._payload),_)}if(gc(v)||Xl(v))return v=ns(v,x.mode,_,null),v.return=x,v;lh(x,v)}return null}function p(x,v,_,A){var P=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return P!==null?null:o(x,v,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Qd:return _.key===P?l(x,v,_,A):null;case qs:return _.key===P?c(x,v,_,A):null;case Ri:return P=_._init,p(x,v,P(_._payload),A)}if(gc(_)||Xl(_))return P!==null?null:h(x,v,_,A,null);lh(x,_)}return null}function m(x,v,_,A,P){if(typeof A=="string"&&A!==""||typeof A=="number")return x=x.get(_)||null,o(v,x,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Qd:return x=x.get(A.key===null?_:A.key)||null,l(v,x,A,P);case qs:return x=x.get(A.key===null?_:A.key)||null,c(v,x,A,P);case Ri:var E=A._init;return m(x,v,_,E(A._payload),P)}if(gc(A)||Xl(A))return x=x.get(_)||null,h(v,x,A,P,null);lh(v,A)}return null}function y(x,v,_,A){for(var P=null,E=null,S=v,T=v=0,M=null;S!==null&&T<_.length;T++){S.index>T?(M=S,S=null):M=S.sibling;var I=p(x,S,_[T],A);if(I===null){S===null&&(S=M);break}t&&S&&I.alternate===null&&e(x,S),v=a(I,v,T),E===null?P=I:E.sibling=I,E=I,S=M}if(T===_.length)return n(x,S),Qe&&Fa(x,T),P;if(S===null){for(;T<_.length;T++)S=d(x,_[T],A),S!==null&&(v=a(S,v,T),E===null?P=S:E.sibling=S,E=S);return Qe&&Fa(x,T),P}for(S=r(x,S);T<_.length;T++)M=m(S,x,T,_[T],A),M!==null&&(t&&M.alternate!==null&&S.delete(M.key===null?T:M.key),v=a(M,v,T),E===null?P=M:E.sibling=M,E=M);return t&&S.forEach(function(O){return e(x,O)}),Qe&&Fa(x,T),P}function w(x,v,_,A){var P=Xl(_);if(typeof P!="function")throw Error(J(150));if(_=P.call(_),_==null)throw Error(J(151));for(var E=P=null,S=v,T=v=0,M=null,I=_.next();S!==null&&!I.done;T++,I=_.next()){S.index>T?(M=S,S=null):M=S.sibling;var O=p(x,S,I.value,A);if(O===null){S===null&&(S=M);break}t&&S&&O.alternate===null&&e(x,S),v=a(O,v,T),E===null?P=O:E.sibling=O,E=O,S=M}if(I.done)return n(x,S),Qe&&Fa(x,T),P;if(S===null){for(;!I.done;T++,I=_.next())I=d(x,I.value,A),I!==null&&(v=a(I,v,T),E===null?P=I:E.sibling=I,E=I);return Qe&&Fa(x,T),P}for(S=r(x,S);!I.done;T++,I=_.next())I=m(S,x,T,I.value,A),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?T:I.key),v=a(I,v,T),E===null?P=I:E.sibling=I,E=I);return t&&S.forEach(function(j){return e(x,j)}),Qe&&Fa(x,T),P}function g(x,v,_,A){if(typeof _=="object"&&_!==null&&_.type===Ys&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Qd:e:{for(var P=_.key,E=v;E!==null;){if(E.key===P){if(P=_.type,P===Ys){if(E.tag===7){n(x,E.sibling),v=i(E,_.props.children),v.return=x,x=v;break e}}else if(E.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ri&&DS(P)===E.type){n(x,E.sibling),v=i(E,_.props),v.ref=tc(x,E,_),v.return=x,x=v;break e}n(x,E);break}else e(x,E);E=E.sibling}_.type===Ys?(v=ns(_.props.children,x.mode,A,_.key),v.return=x,x=v):(A=Wh(_.type,_.key,_.props,null,x.mode,A),A.ref=tc(x,v,_),A.return=x,x=A)}return s(x);case qs:e:{for(E=_.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(x,v.sibling),v=i(v,_.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else e(x,v);v=v.sibling}v=my(_,x.mode,A),v.return=x,x=v}return s(x);case Ri:return E=_._init,g(x,v,E(_._payload),A)}if(gc(_))return y(x,v,_,A);if(Xl(_))return w(x,v,_,A);lh(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(x,v.sibling),v=i(v,_),v.return=x,x=v):(n(x,v),v=py(_,x.mode,A),v.return=x,x=v),s(x)):n(x,v)}return g}var Io=nj(!0),rj=nj(!1),gf=Sa(null),yf=null,ro=null,Ab=null;function Tb(){Ab=ro=yf=null}function Nb(t){var e=gf.current;Xe(gf),t._currentValue=e}function kv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function go(t,e){yf=t,Ab=ro=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gn=!0),t.firstContext=null)}function Xn(t){var e=t._currentValue;if(Ab!==t)if(t={context:t,memoizedValue:e,next:null},ro===null){if(yf===null)throw Error(J(308));ro=t,yf.dependencies={lanes:0,firstContext:t}}else ro=ro.next=t;return e}var qa=null;function Mb(t){qa===null?qa=[t]:qa.push(t)}function ij(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Mb(e)):(n.next=i.next,i.next=n),e.interleaved=n,di(t,r)}function di(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $i=!1;function Ib(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ii(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ta(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,di(t,n)}return i=r.interleaved,i===null?(e.next=e,Mb(r)):(e.next=i.next,i.next=e),r.interleaved=e,di(t,n)}function Fh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mb(t,n)}}function kS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vf(t,e,n,r){var i=t.updateQueue;$i=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==s&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,h=c=l=null,o=a;do{var p=o.lane,m=o.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,w=o;switch(p=e,m=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(m,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(m,d,p):y,p==null)break e;d=rt({},d,p);break e;case 2:$i=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=m,l=d):h=h.next=m,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);ds|=s,t.lanes=s,t.memoizedState=d}}function RS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var ud={},jr=Sa(ud),ou=Sa(ud),lu=Sa(ud);function Ya(t){if(t===ud)throw Error(J(174));return t}function jb(t,e){switch(Ue(lu,e),Ue(ou,t),Ue(jr,ud),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mv(e,t)}Xe(jr),Ue(jr,e)}function jo(){Xe(jr),Xe(ou),Xe(lu)}function sj(t){Ya(lu.current);var e=Ya(jr.current),n=mv(e,t.type);e!==n&&(Ue(ou,t),Ue(jr,n))}function Cb(t){ou.current===t&&(Xe(jr),Xe(ou))}var et=Sa(0);function xf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ly=[];function Ob(){for(var t=0;t<ly.length;t++)ly[t]._workInProgressVersionPrimary=null;ly.length=0}var Vh=wi.ReactCurrentDispatcher,cy=wi.ReactCurrentBatchConfig,us=0,tt=null,wt=null,jt=null,bf=!1,Cc=!1,cu=0,q3=0;function qt(){throw Error(J(321))}function Db(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vr(t[n],e[n]))return!1;return!0}function kb(t,e,n,r,i,a){if(us=a,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vh.current=t===null||t.memoizedState===null?J3:Z3,t=n(r,i),Cc){a=0;do{if(Cc=!1,cu=0,25<=a)throw Error(J(301));a+=1,jt=wt=null,e.updateQueue=null,Vh.current=e4,t=n(r,i)}while(Cc)}if(Vh.current=wf,e=wt!==null&&wt.next!==null,us=0,jt=wt=tt=null,bf=!1,e)throw Error(J(300));return t}function Rb(){var t=cu!==0;return cu=0,t}function Pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?tt.memoizedState=jt=t:jt=jt.next=t,jt}function Qn(){if(wt===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=jt===null?tt.memoizedState:jt.next;if(e!==null)jt=e,wt=t;else{if(t===null)throw Error(J(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},jt===null?tt.memoizedState=jt=t:jt=jt.next=t}return jt}function uu(t,e){return typeof e=="function"?e(t):e}function uy(t){var e=Qn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=wt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var h=c.lane;if((us&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,s=r):l=l.next=d,tt.lanes|=h,ds|=h}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,vr(r,e.memoizedState)||(gn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,tt.lanes|=a,ds|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dy(t){var e=Qn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);vr(a,e.memoizedState)||(gn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function oj(){}function lj(t,e){var n=tt,r=Qn(),i=e(),a=!vr(r.memoizedState,i);if(a&&(r.memoizedState=i,gn=!0),r=r.queue,$b(dj.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,du(9,uj.bind(null,n,r,i,e),void 0,null),Ct===null)throw Error(J(349));us&30||cj(n,e,i)}return i}function cj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function uj(t,e,n,r){e.value=n,e.getSnapshot=r,hj(e)&&fj(t)}function dj(t,e,n){return n(function(){hj(e)&&fj(t)})}function hj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vr(t,n)}catch{return!0}}function fj(t){var e=di(t,1);e!==null&&gr(e,t,1,-1)}function $S(t){var e=Pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:t},e.queue=t,t=t.dispatch=Q3.bind(null,tt,t),[e.memoizedState,t]}function du(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function pj(){return Qn().memoizedState}function Bh(t,e,n,r){var i=Pr();tt.flags|=t,i.memoizedState=du(1|e,n,void 0,r===void 0?null:r)}function im(t,e,n,r){var i=Qn();r=r===void 0?null:r;var a=void 0;if(wt!==null){var s=wt.memoizedState;if(a=s.destroy,r!==null&&Db(r,s.deps)){i.memoizedState=du(e,n,a,r);return}}tt.flags|=t,i.memoizedState=du(1|e,n,a,r)}function LS(t,e){return Bh(8390656,8,t,e)}function $b(t,e){return im(2048,8,t,e)}function mj(t,e){return im(4,2,t,e)}function gj(t,e){return im(4,4,t,e)}function yj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vj(t,e,n){return n=n!=null?n.concat([t]):null,im(4,4,yj.bind(null,e,t),n)}function Lb(){}function xj(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Db(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bj(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Db(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function wj(t,e,n){return us&21?(vr(n,e)||(n=AI(),tt.lanes|=n,ds|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gn=!0),t.memoizedState=n)}function Y3(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=cy.transition;cy.transition={};try{t(!1),e()}finally{ke=n,cy.transition=r}}function _j(){return Qn().memoizedState}function X3(t,e,n){var r=ra(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Sj(t))Ej(e,n);else if(n=ij(t,e,n,r),n!==null){var i=un();gr(n,t,r,i),Pj(n,e,r)}}function Q3(t,e,n){var r=ra(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sj(t))Ej(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,vr(o,s)){var l=e.interleaved;l===null?(i.next=i,Mb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ij(t,e,i,r),n!==null&&(i=un(),gr(n,t,r,i),Pj(n,e,r))}}function Sj(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function Ej(t,e){Cc=bf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Pj(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mb(t,n)}}var wf={readContext:Xn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},J3={readContext:Xn,useCallback:function(t,e){return Pr().memoizedState=[t,e===void 0?null:e],t},useContext:Xn,useEffect:LS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bh(4194308,4,yj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bh(4,2,t,e)},useMemo:function(t,e){var n=Pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=X3.bind(null,tt,t),[r.memoizedState,t]},useRef:function(t){var e=Pr();return t={current:t},e.memoizedState=t},useState:$S,useDebugValue:Lb,useDeferredValue:function(t){return Pr().memoizedState=t},useTransition:function(){var t=$S(!1),e=t[0];return t=Y3.bind(null,t[1]),Pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tt,i=Pr();if(Qe){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Ct===null)throw Error(J(349));us&30||cj(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,LS(dj.bind(null,r,a,t),[t]),r.flags|=2048,du(9,uj.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Pr(),e=Ct.identifierPrefix;if(Qe){var n=Zr,r=Jr;n=(r&~(1<<32-mr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=q3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Z3={readContext:Xn,useCallback:xj,useContext:Xn,useEffect:$b,useImperativeHandle:vj,useInsertionEffect:mj,useLayoutEffect:gj,useMemo:bj,useReducer:uy,useRef:pj,useState:function(){return uy(uu)},useDebugValue:Lb,useDeferredValue:function(t){var e=Qn();return wj(e,wt.memoizedState,t)},useTransition:function(){var t=uy(uu)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:oj,useSyncExternalStore:lj,useId:_j,unstable_isNewReconciler:!1},e4={readContext:Xn,useCallback:xj,useContext:Xn,useEffect:$b,useImperativeHandle:vj,useInsertionEffect:mj,useLayoutEffect:gj,useMemo:bj,useReducer:dy,useRef:pj,useState:function(){return dy(uu)},useDebugValue:Lb,useDeferredValue:function(t){var e=Qn();return wt===null?e.memoizedState=t:wj(e,wt.memoizedState,t)},useTransition:function(){var t=dy(uu)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:oj,useSyncExternalStore:lj,useId:_j,unstable_isNewReconciler:!1};function ar(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Rv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var am={isMounted:function(t){return(t=t._reactInternals)?Es(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=un(),i=ra(t),a=ii(r,i);a.payload=e,n!=null&&(a.callback=n),e=ta(t,a,i),e!==null&&(gr(e,t,i,r),Fh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=un(),i=ra(t),a=ii(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=ta(t,a,i),e!==null&&(gr(e,t,i,r),Fh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=un(),r=ra(t),i=ii(n,r);i.tag=2,e!=null&&(i.callback=e),e=ta(t,i,r),e!==null&&(gr(e,t,r,n),Fh(e,t,r))}};function FS(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!ru(n,r)||!ru(i,a):!0}function Aj(t,e,n){var r=!1,i=pa,a=e.contextType;return typeof a=="object"&&a!==null?a=Xn(a):(i=xn(e)?ls:nn.current,r=e.contextTypes,a=(r=r!=null)?No(t,i):pa),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=am,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function VS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&am.enqueueReplaceState(e,e.state,null)}function $v(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ib(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Xn(a):(a=xn(e)?ls:nn.current,i.context=No(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Rv(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&am.enqueueReplaceState(i,i.state,null),vf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Co(t,e){try{var n="",r=e;do n+=NL(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function hy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Lv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var t4=typeof WeakMap=="function"?WeakMap:Map;function Tj(t,e,n){n=ii(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sf||(Sf=!0,qv=r),Lv(t,e)},n}function Nj(t,e,n){n=ii(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Lv(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Lv(t,e),typeof r!="function"&&(na===null?na=new Set([this]):na.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function BS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new t4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=m4.bind(null,t,e,n),e.then(t,t))}function US(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function HS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ii(-1,1),e.tag=2,ta(n,e,1))),n.lanes|=1),t)}var n4=wi.ReactCurrentOwner,gn=!1;function ln(t,e,n,r){e.child=t===null?rj(e,null,n,r):Io(e,t.child,n,r)}function zS(t,e,n,r,i){n=n.render;var a=e.ref;return go(e,i),r=kb(t,e,n,r,a,i),n=Rb(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hi(t,e,i)):(Qe&&n&&Sb(e),e.flags|=1,ln(t,e,r,i),e.child)}function WS(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!Kb(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,Mj(t,e,a,r,i)):(t=Wh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:ru,n(s,r)&&t.ref===e.ref)return hi(t,e,i)}return e.flags|=1,t=ia(a,r),t.ref=e.ref,t.return=e,e.child=t}function Mj(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(ru(a,r)&&t.ref===e.ref)if(gn=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(gn=!0);else return e.lanes=t.lanes,hi(t,e,i)}return Fv(t,e,n,r,i)}function Ij(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(ao,Tn),Tn|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(ao,Tn),Tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ue(ao,Tn),Tn|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Ue(ao,Tn),Tn|=r;return ln(t,e,i,n),e.child}function jj(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fv(t,e,n,r,i){var a=xn(n)?ls:nn.current;return a=No(e,a),go(e,i),n=kb(t,e,n,r,a,i),r=Rb(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hi(t,e,i)):(Qe&&r&&Sb(e),e.flags|=1,ln(t,e,n,i),e.child)}function KS(t,e,n,r,i){if(xn(n)){var a=!0;ff(e)}else a=!1;if(go(e,i),e.stateNode===null)Uh(t,e),Aj(e,n,r),$v(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xn(c):(c=xn(n)?ls:nn.current,c=No(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&VS(e,s,r,c),$i=!1;var p=e.memoizedState;s.state=p,vf(e,r,s,i),l=e.memoizedState,o!==r||p!==l||vn.current||$i?(typeof h=="function"&&(Rv(e,n,h,r),l=e.memoizedState),(o=$i||FS(e,n,o,r,p,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,aj(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:ar(e.type,o),s.props=c,d=e.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xn(l):(l=xn(n)?ls:nn.current,l=No(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||p!==l)&&VS(e,s,r,l),$i=!1,p=e.memoizedState,s.state=p,vf(e,r,s,i);var y=e.memoizedState;o!==d||p!==y||vn.current||$i?(typeof m=="function"&&(Rv(e,n,m,r),y=e.memoizedState),(c=$i||FS(e,n,c,r,p,y,l)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Vv(t,e,n,r,a,i)}function Vv(t,e,n,r,i,a){jj(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&jS(e,n,!1),hi(t,e,a);r=e.stateNode,n4.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Io(e,t.child,null,a),e.child=Io(e,null,o,a)):ln(t,e,o,a),e.memoizedState=r.state,i&&jS(e,n,!0),e.child}function Cj(t){var e=t.stateNode;e.pendingContext?IS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&IS(t,e.context,!1),jb(t,e.containerInfo)}function GS(t,e,n,r,i){return Mo(),Pb(i),e.flags|=256,ln(t,e,n,r),e.child}var Bv={dehydrated:null,treeContext:null,retryLane:0};function Uv(t){return{baseLanes:t,cachePool:null,transitions:null}}function Oj(t,e,n){var r=e.pendingProps,i=et.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ue(et,i&1),t===null)return Dv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=lm(s,r,0,null),t=ns(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Uv(n),e.memoizedState=Bv,t):Fb(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return r4(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ia(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=ia(o,a):(a=ns(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?Uv(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=Bv,r}return a=t.child,t=a.sibling,r=ia(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fb(t,e){return e=lm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ch(t,e,n,r){return r!==null&&Pb(r),Io(e,t.child,null,n),t=Fb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function r4(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=hy(Error(J(422))),ch(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=lm({mode:"visible",children:r.children},i,0,null),a=ns(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Io(e,t.child,null,s),e.child.memoizedState=Uv(s),e.memoizedState=Bv,a);if(!(e.mode&1))return ch(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(J(419)),r=hy(a,r,void 0),ch(t,e,s,r)}if(o=(s&t.childLanes)!==0,gn||o){if(r=Ct,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,di(t,i),gr(r,t,i,-1))}return Wb(),r=hy(Error(J(421))),ch(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=g4.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,In=ea(i.nextSibling),Cn=e,Qe=!0,cr=null,t!==null&&(Bn[Un++]=Jr,Bn[Un++]=Zr,Bn[Un++]=cs,Jr=t.id,Zr=t.overflow,cs=e),e=Fb(e,r.children),e.flags|=4096,e)}function qS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),kv(t.return,e,n)}function fy(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Dj(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(ln(t,e,r.children,n),r=et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qS(t,n,e);else if(t.tag===19)qS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(et,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),fy(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}fy(e,!0,n,null,a);break;case"together":fy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ds|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=ia(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ia(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function i4(t,e,n){switch(e.tag){case 3:Cj(e),Mo();break;case 5:sj(e);break;case 1:xn(e.type)&&ff(e);break;case 4:jb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ue(gf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(et,et.current&1),e.flags|=128,null):n&e.child.childLanes?Oj(t,e,n):(Ue(et,et.current&1),t=hi(t,e,n),t!==null?t.sibling:null);Ue(et,et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Dj(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(et,et.current),r)break;return null;case 22:case 23:return e.lanes=0,Ij(t,e,n)}return hi(t,e,n)}var kj,Hv,Rj,$j;kj=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hv=function(){};Rj=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ya(jr.current);var a=null;switch(n){case"input":i=dv(t,i),r=dv(t,r),a=[];break;case"select":i=rt({},i,{value:void 0}),r=rt({},r,{value:void 0}),a=[];break;case"textarea":i=pv(t,i),r=pv(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=df)}gv(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Xc.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Xc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&We("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};$j=function(t,e,n,r){n!==r&&(e.flags|=4)};function nc(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function a4(t,e,n){var r=e.pendingProps;switch(Eb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return xn(e.type)&&hf(),Yt(e),null;case 3:return r=e.stateNode,jo(),Xe(vn),Xe(nn),Ob(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(oh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(Qv(cr),cr=null))),Hv(t,e),Yt(e),null;case 5:Cb(e);var i=Ya(lu.current);if(n=e.type,t!==null&&e.stateNode!=null)Rj(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Yt(e),null}if(t=Ya(jr.current),oh(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Nr]=e,r[su]=a,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<vc.length;i++)We(vc[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":rS(r,a),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},We("invalid",r);break;case"textarea":aS(r,a),We("invalid",r)}gv(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&sh(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&sh(r.textContent,o,t),i=["children",""+o]):Xc.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&We("scroll",r)}switch(n){case"input":Jd(r),iS(r,a,!0);break;case"textarea":Jd(r),sS(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=df)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Nr]=e,t[su]=r,kj(t,e,!1,!1),e.stateNode=t;e:{switch(s=yv(n,r),n){case"dialog":We("cancel",t),We("close",t),i=r;break;case"iframe":case"object":case"embed":We("load",t),i=r;break;case"video":case"audio":for(i=0;i<vc.length;i++)We(vc[i],t);i=r;break;case"source":We("error",t),i=r;break;case"img":case"image":case"link":We("error",t),We("load",t),i=r;break;case"details":We("toggle",t),i=r;break;case"input":rS(t,r),i=dv(t,r),We("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=rt({},r,{value:void 0}),We("invalid",t);break;case"textarea":aS(t,r),i=pv(t,r),We("invalid",t);break;default:i=r}gv(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?pI(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hI(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Qc(t,l):typeof l=="number"&&Qc(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Xc.hasOwnProperty(a)?l!=null&&a==="onScroll"&&We("scroll",t):l!=null&&cb(t,a,l,s))}switch(n){case"input":Jd(t),iS(t,r,!1);break;case"textarea":Jd(t),sS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fa(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?ho(t,!!r.multiple,a,!1):r.defaultValue!=null&&ho(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=df)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(t&&e.stateNode!=null)$j(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Ya(lu.current),Ya(jr.current),oh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Nr]=e,(a=r.nodeValue!==n)&&(t=Cn,t!==null))switch(t.tag){case 3:sh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sh(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nr]=e,e.stateNode=r}return Yt(e),null;case 13:if(Xe(et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&In!==null&&e.mode&1&&!(e.flags&128))tj(),Mo(),e.flags|=98560,a=!1;else if(a=oh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(J(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(J(317));a[Nr]=e}else Mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yt(e),a=!1}else cr!==null&&(Qv(cr),cr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||et.current&1?St===0&&(St=3):Wb())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return jo(),Hv(t,e),t===null&&iu(e.stateNode.containerInfo),Yt(e),null;case 10:return Nb(e.type._context),Yt(e),null;case 17:return xn(e.type)&&hf(),Yt(e),null;case 19:if(Xe(et),a=e.memoizedState,a===null)return Yt(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)nc(a,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=xf(t),s!==null){for(e.flags|=128,nc(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(et,et.current&1|2),e.child}t=t.sibling}a.tail!==null&&ut()>Oo&&(e.flags|=128,r=!0,nc(a,!1),e.lanes=4194304)}else{if(!r)if(t=xf(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Qe)return Yt(e),null}else 2*ut()-a.renderingStartTime>Oo&&n!==1073741824&&(e.flags|=128,r=!0,nc(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ut(),e.sibling=null,n=et.current,Ue(et,r?n&1|2:n&1),e):(Yt(e),null);case 22:case 23:return zb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tn&1073741824&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function s4(t,e){switch(Eb(e),e.tag){case 1:return xn(e.type)&&hf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jo(),Xe(vn),Xe(nn),Ob(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cb(e),null;case 13:if(Xe(et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Mo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(et),null;case 4:return jo(),null;case 10:return Nb(e.type._context),null;case 22:case 23:return zb(),null;case 24:return null;default:return null}}var uh=!1,Zt=!1,o4=typeof WeakSet=="function"?WeakSet:Set,ie=null;function io(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(t,e,r)}else n.current=null}function zv(t,e,n){try{n()}catch(r){ot(t,e,r)}}var YS=!1;function l4(t,e){if(Tv=lf,t=UI(),_b(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,h=0,d=t,p=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(o=s+i),d!==a||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===t)break t;if(p===n&&++c===i&&(o=s),p===a&&++h===r&&(l=s),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nv={focusedElem:t,selectionRange:n},lf=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,g=y.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:ar(e.type,w),g);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(A){ot(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return y=YS,YS=!1,y}function Oc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&zv(e,n,a)}i=i.next}while(i!==r)}}function sm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Lj(t){var e=t.alternate;e!==null&&(t.alternate=null,Lj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nr],delete e[su],delete e[jv],delete e[z3],delete e[W3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Fj(t){return t.tag===5||t.tag===3||t.tag===4}function XS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=df));else if(r!==4&&(t=t.child,t!==null))for(Kv(t,e,n),t=t.sibling;t!==null;)Kv(t,e,n),t=t.sibling}function Gv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gv(t,e,n),t=t.sibling;t!==null;)Gv(t,e,n),t=t.sibling}var Rt=null,sr=!1;function Di(t,e,n){for(n=n.child;n!==null;)Vj(t,e,n),n=n.sibling}function Vj(t,e,n){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(Jp,n)}catch{}switch(n.tag){case 5:Zt||io(n,e);case 6:var r=Rt,i=sr;Rt=null,Di(t,e,n),Rt=r,sr=i,Rt!==null&&(sr?(t=Rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rt.removeChild(n.stateNode));break;case 18:Rt!==null&&(sr?(t=Rt,n=n.stateNode,t.nodeType===8?sy(t.parentNode,n):t.nodeType===1&&sy(t,n),tu(t)):sy(Rt,n.stateNode));break;case 4:r=Rt,i=sr,Rt=n.stateNode.containerInfo,sr=!0,Di(t,e,n),Rt=r,sr=i;break;case 0:case 11:case 14:case 15:if(!Zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&zv(n,e,s),i=i.next}while(i!==r)}Di(t,e,n);break;case 1:if(!Zt&&(io(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ot(n,e,o)}Di(t,e,n);break;case 21:Di(t,e,n);break;case 22:n.mode&1?(Zt=(r=Zt)||n.memoizedState!==null,Di(t,e,n),Zt=r):Di(t,e,n);break;default:Di(t,e,n)}}function QS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new o4),e.forEach(function(r){var i=y4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Rt=o.stateNode,sr=!1;break e;case 3:Rt=o.stateNode.containerInfo,sr=!0;break e;case 4:Rt=o.stateNode.containerInfo,sr=!0;break e}o=o.return}if(Rt===null)throw Error(J(160));Vj(a,s,i),Rt=null,sr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ot(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Bj(e,t),e=e.sibling}function Bj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nr(e,t),Er(t),r&4){try{Oc(3,t,t.return),sm(3,t)}catch(w){ot(t,t.return,w)}try{Oc(5,t,t.return)}catch(w){ot(t,t.return,w)}}break;case 1:nr(e,t),Er(t),r&512&&n!==null&&io(n,n.return);break;case 5:if(nr(e,t),Er(t),r&512&&n!==null&&io(n,n.return),t.flags&32){var i=t.stateNode;try{Qc(i,"")}catch(w){ot(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&cI(i,a),yv(o,s);var c=yv(o,a);for(s=0;s<l.length;s+=2){var h=l[s],d=l[s+1];h==="style"?pI(i,d):h==="dangerouslySetInnerHTML"?hI(i,d):h==="children"?Qc(i,d):cb(i,h,d,c)}switch(o){case"input":hv(i,a);break;case"textarea":uI(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?ho(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?ho(i,!!a.multiple,a.defaultValue,!0):ho(i,!!a.multiple,a.multiple?[]:"",!1))}i[su]=a}catch(w){ot(t,t.return,w)}}break;case 6:if(nr(e,t),Er(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(w){ot(t,t.return,w)}}break;case 3:if(nr(e,t),Er(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tu(e.containerInfo)}catch(w){ot(t,t.return,w)}break;case 4:nr(e,t),Er(t);break;case 13:nr(e,t),Er(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Ub=ut())),r&4&&QS(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Zt=(c=Zt)||h,nr(e,t),Zt=c):nr(e,t),Er(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(ie=t,h=t.child;h!==null;){for(d=ie=h;ie!==null;){switch(p=ie,m=p.child,p.tag){case 0:case 11:case 14:case 15:Oc(4,p,p.return);break;case 1:io(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){ot(r,n,w)}}break;case 5:io(p,p.return);break;case 22:if(p.memoizedState!==null){ZS(d);continue}}m!==null?(m.return=p,ie=m):ZS(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=fI("display",s))}catch(w){ot(t,t.return,w)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(w){ot(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:nr(e,t),Er(t),r&4&&QS(t);break;case 21:break;default:nr(e,t),Er(t)}}function Er(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Fj(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qc(i,""),r.flags&=-33);var a=XS(t);Gv(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=XS(t);Kv(t,o,s);break;default:throw Error(J(161))}}catch(l){ot(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function c4(t,e,n){ie=t,Uj(t)}function Uj(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||uh;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Zt;o=uh;var c=Zt;if(uh=s,(Zt=l)&&!c)for(ie=i;ie!==null;)s=ie,l=s.child,s.tag===22&&s.memoizedState!==null?eE(i):l!==null?(l.return=s,ie=l):eE(i);for(;a!==null;)ie=a,Uj(a),a=a.sibling;ie=i,uh=o,Zt=c}JS(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ie=a):JS(t)}}function JS(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zt||sm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ar(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&RS(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}RS(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&tu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Zt||e.flags&512&&Wv(e)}catch(p){ot(e,e.return,p)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function ZS(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function eE(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sm(4,e)}catch(l){ot(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ot(e,i,l)}}var a=e.return;try{Wv(e)}catch(l){ot(e,a,l)}break;case 5:var s=e.return;try{Wv(e)}catch(l){ot(e,s,l)}}}catch(l){ot(e,e.return,l)}if(e===t){ie=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ie=o;break}ie=e.return}}var u4=Math.ceil,_f=wi.ReactCurrentDispatcher,Vb=wi.ReactCurrentOwner,Gn=wi.ReactCurrentBatchConfig,Ae=0,Ct=null,mt=null,Vt=0,Tn=0,ao=Sa(0),St=0,hu=null,ds=0,om=0,Bb=0,Dc=null,pn=null,Ub=0,Oo=1/0,Xr=null,Sf=!1,qv=null,na=null,dh=!1,Ki=null,Ef=0,kc=0,Yv=null,Hh=-1,zh=0;function un(){return Ae&6?ut():Hh!==-1?Hh:Hh=ut()}function ra(t){return t.mode&1?Ae&2&&Vt!==0?Vt&-Vt:G3.transition!==null?(zh===0&&(zh=AI()),zh):(t=ke,t!==0||(t=window.event,t=t===void 0?16:OI(t.type)),t):1}function gr(t,e,n,r){if(50<kc)throw kc=0,Yv=null,Error(J(185));od(t,n,r),(!(Ae&2)||t!==Ct)&&(t===Ct&&(!(Ae&2)&&(om|=n),St===4&&Vi(t,Vt)),bn(t,r),n===1&&Ae===0&&!(e.mode&1)&&(Oo=ut()+500,rm&&Ea()))}function bn(t,e){var n=t.callbackNode;GL(t,e);var r=of(t,t===Ct?Vt:0);if(r===0)n!==null&&cS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cS(n),e===1)t.tag===0?K3(tE.bind(null,t)):JI(tE.bind(null,t)),U3(function(){!(Ae&6)&&Ea()}),n=null;else{switch(TI(r)){case 1:n=pb;break;case 4:n=EI;break;case 16:n=sf;break;case 536870912:n=PI;break;default:n=sf}n=Xj(n,Hj.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Hj(t,e){if(Hh=-1,zh=0,Ae&6)throw Error(J(327));var n=t.callbackNode;if(yo()&&t.callbackNode!==n)return null;var r=of(t,t===Ct?Vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Pf(t,r);else{e=r;var i=Ae;Ae|=2;var a=Wj();(Ct!==t||Vt!==e)&&(Xr=null,Oo=ut()+500,ts(t,e));do try{f4();break}catch(o){zj(t,o)}while(!0);Tb(),_f.current=a,Ae=i,mt!==null?e=0:(Ct=null,Vt=0,e=St)}if(e!==0){if(e===2&&(i=_v(t),i!==0&&(r=i,e=Xv(t,i))),e===1)throw n=hu,ts(t,0),Vi(t,r),bn(t,ut()),n;if(e===6)Vi(t,r);else{if(i=t.current.alternate,!(r&30)&&!d4(i)&&(e=Pf(t,r),e===2&&(a=_v(t),a!==0&&(r=a,e=Xv(t,a))),e===1))throw n=hu,ts(t,0),Vi(t,r),bn(t,ut()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Va(t,pn,Xr);break;case 3:if(Vi(t,r),(r&130023424)===r&&(e=Ub+500-ut(),10<e)){if(of(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){un(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Iv(Va.bind(null,t,pn,Xr),e);break}Va(t,pn,Xr);break;case 4:if(Vi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-mr(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*u4(r/1960))-r,10<r){t.timeoutHandle=Iv(Va.bind(null,t,pn,Xr),r);break}Va(t,pn,Xr);break;case 5:Va(t,pn,Xr);break;default:throw Error(J(329))}}}return bn(t,ut()),t.callbackNode===n?Hj.bind(null,t):null}function Xv(t,e){var n=Dc;return t.current.memoizedState.isDehydrated&&(ts(t,e).flags|=256),t=Pf(t,e),t!==2&&(e=pn,pn=n,e!==null&&Qv(e)),t}function Qv(t){pn===null?pn=t:pn.push.apply(pn,t)}function d4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!vr(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vi(t,e){for(e&=~Bb,e&=~om,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mr(e),r=1<<n;t[n]=-1,e&=~r}}function tE(t){if(Ae&6)throw Error(J(327));yo();var e=of(t,0);if(!(e&1))return bn(t,ut()),null;var n=Pf(t,e);if(t.tag!==0&&n===2){var r=_v(t);r!==0&&(e=r,n=Xv(t,r))}if(n===1)throw n=hu,ts(t,0),Vi(t,e),bn(t,ut()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Va(t,pn,Xr),bn(t,ut()),null}function Hb(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(Oo=ut()+500,rm&&Ea())}}function hs(t){Ki!==null&&Ki.tag===0&&!(Ae&6)&&yo();var e=Ae;Ae|=1;var n=Gn.transition,r=ke;try{if(Gn.transition=null,ke=1,t)return t()}finally{ke=r,Gn.transition=n,Ae=e,!(Ae&6)&&Ea()}}function zb(){Tn=ao.current,Xe(ao)}function ts(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,B3(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch(Eb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hf();break;case 3:jo(),Xe(vn),Xe(nn),Ob();break;case 5:Cb(r);break;case 4:jo();break;case 13:Xe(et);break;case 19:Xe(et);break;case 10:Nb(r.type._context);break;case 22:case 23:zb()}n=n.return}if(Ct=t,mt=t=ia(t.current,null),Vt=Tn=e,St=0,hu=null,Bb=om=ds=0,pn=Dc=null,qa!==null){for(e=0;e<qa.length;e++)if(n=qa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}qa=null}return t}function zj(t,e){do{var n=mt;try{if(Tb(),Vh.current=wf,bf){for(var r=tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bf=!1}if(us=0,jt=wt=tt=null,Cc=!1,cu=0,Vb.current=null,n===null||n.return===null){St=1,hu=e,mt=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=Vt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=US(s);if(m!==null){m.flags&=-257,HS(m,s,o,a,e),m.mode&1&&BS(a,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){BS(a,c,e),Wb();break e}l=Error(J(426))}}else if(Qe&&o.mode&1){var g=US(s);if(g!==null){!(g.flags&65536)&&(g.flags|=256),HS(g,s,o,a,e),Pb(Co(l,o));break e}}a=l=Co(l,o),St!==4&&(St=2),Dc===null?Dc=[a]:Dc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=Tj(a,l,e);kS(a,x);break e;case 1:o=l;var v=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(na===null||!na.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var A=Nj(a,o,e);kS(a,A);break e}}a=a.return}while(a!==null)}Gj(n)}catch(P){e=P,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(!0)}function Wj(){var t=_f.current;return _f.current=wf,t===null?wf:t}function Wb(){(St===0||St===3||St===2)&&(St=4),Ct===null||!(ds&268435455)&&!(om&268435455)||Vi(Ct,Vt)}function Pf(t,e){var n=Ae;Ae|=2;var r=Wj();(Ct!==t||Vt!==e)&&(Xr=null,ts(t,e));do try{h4();break}catch(i){zj(t,i)}while(!0);if(Tb(),Ae=n,_f.current=r,mt!==null)throw Error(J(261));return Ct=null,Vt=0,St}function h4(){for(;mt!==null;)Kj(mt)}function f4(){for(;mt!==null&&!LL();)Kj(mt)}function Kj(t){var e=Yj(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?Gj(t):mt=e,Vb.current=null}function Gj(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=s4(n,e),n!==null){n.flags&=32767,mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,mt=null;return}}else if(n=a4(n,e,Tn),n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);St===0&&(St=5)}function Va(t,e,n){var r=ke,i=Gn.transition;try{Gn.transition=null,ke=1,p4(t,e,n,r)}finally{Gn.transition=i,ke=r}return null}function p4(t,e,n,r){do yo();while(Ki!==null);if(Ae&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(qL(t,a),t===Ct&&(mt=Ct=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dh||(dh=!0,Xj(sf,function(){return yo(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Gn.transition,Gn.transition=null;var s=ke;ke=1;var o=Ae;Ae|=4,Vb.current=null,l4(t,n),Bj(n,t),D3(Nv),lf=!!Tv,Nv=Tv=null,t.current=n,c4(n),FL(),Ae=o,ke=s,Gn.transition=a}else t.current=n;if(dh&&(dh=!1,Ki=t,Ef=i),a=t.pendingLanes,a===0&&(na=null),UL(n.stateNode),bn(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Sf)throw Sf=!1,t=qv,qv=null,t;return Ef&1&&t.tag!==0&&yo(),a=t.pendingLanes,a&1?t===Yv?kc++:(kc=0,Yv=t):kc=0,Ea(),null}function yo(){if(Ki!==null){var t=TI(Ef),e=Gn.transition,n=ke;try{if(Gn.transition=null,ke=16>t?16:t,Ki===null)var r=!1;else{if(t=Ki,Ki=null,Ef=0,Ae&6)throw Error(J(331));var i=Ae;for(Ae|=4,ie=t.current;ie!==null;){var a=ie,s=a.child;if(ie.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(ie=c;ie!==null;){var h=ie;switch(h.tag){case 0:case 11:case 15:Oc(8,h,a)}var d=h.child;if(d!==null)d.return=h,ie=d;else for(;ie!==null;){h=ie;var p=h.sibling,m=h.return;if(Lj(h),h===c){ie=null;break}if(p!==null){p.return=m,ie=p;break}ie=m}}}var y=a.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var g=w.sibling;w.sibling=null,w=g}while(w!==null)}}ie=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ie=s;else e:for(;ie!==null;){if(a=ie,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Oc(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,ie=x;break e}ie=a.return}}var v=t.current;for(ie=v;ie!==null;){s=ie;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,ie=_;else e:for(s=v;ie!==null;){if(o=ie,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:sm(9,o)}}catch(P){ot(o,o.return,P)}if(o===s){ie=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,ie=A;break e}ie=o.return}}if(Ae=i,Ea(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(Jp,t)}catch{}r=!0}return r}finally{ke=n,Gn.transition=e}}return!1}function nE(t,e,n){e=Co(n,e),e=Tj(t,e,1),t=ta(t,e,1),e=un(),t!==null&&(od(t,1,e),bn(t,e))}function ot(t,e,n){if(t.tag===3)nE(t,t,n);else for(;e!==null;){if(e.tag===3){nE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(na===null||!na.has(r))){t=Co(n,t),t=Nj(e,t,1),e=ta(e,t,1),t=un(),e!==null&&(od(e,1,t),bn(e,t));break}}e=e.return}}function m4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=un(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(Vt&n)===n&&(St===4||St===3&&(Vt&130023424)===Vt&&500>ut()-Ub?ts(t,0):Bb|=n),bn(t,e)}function qj(t,e){e===0&&(t.mode&1?(e=th,th<<=1,!(th&130023424)&&(th=4194304)):e=1);var n=un();t=di(t,e),t!==null&&(od(t,e,n),bn(t,n))}function g4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qj(t,n)}function y4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),qj(t,n)}var Yj;Yj=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vn.current)gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gn=!1,i4(t,e,n);gn=!!(t.flags&131072)}else gn=!1,Qe&&e.flags&1048576&&ZI(e,mf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Uh(t,e),t=e.pendingProps;var i=No(e,nn.current);go(e,n),i=kb(null,e,r,t,i,n);var a=Rb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xn(r)?(a=!0,ff(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ib(e),i.updater=am,e.stateNode=i,i._reactInternals=e,$v(e,r,t,n),e=Vv(null,e,r,!0,a,n)):(e.tag=0,Qe&&a&&Sb(e),ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Uh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=x4(r),t=ar(r,t),i){case 0:e=Fv(null,e,r,t,n);break e;case 1:e=KS(null,e,r,t,n);break e;case 11:e=zS(null,e,r,t,n);break e;case 14:e=WS(null,e,r,ar(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),Fv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),KS(t,e,r,i,n);case 3:e:{if(Cj(e),t===null)throw Error(J(387));r=e.pendingProps,a=e.memoizedState,i=a.element,aj(t,e),vf(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Co(Error(J(423)),e),e=GS(t,e,r,n,i);break e}else if(r!==i){i=Co(Error(J(424)),e),e=GS(t,e,r,n,i);break e}else for(In=ea(e.stateNode.containerInfo.firstChild),Cn=e,Qe=!0,cr=null,n=rj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mo(),r===i){e=hi(t,e,n);break e}ln(t,e,r,n)}e=e.child}return e;case 5:return sj(e),t===null&&Dv(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,Mv(r,i)?s=null:a!==null&&Mv(r,a)&&(e.flags|=32),jj(t,e),ln(t,e,s,n),e.child;case 6:return t===null&&Dv(e),null;case 13:return Oj(t,e,n);case 4:return jb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Io(e,null,r,n):ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),zS(t,e,r,i,n);case 7:return ln(t,e,e.pendingProps,n),e.child;case 8:return ln(t,e,e.pendingProps.children,n),e.child;case 12:return ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Ue(gf,r._currentValue),r._currentValue=s,a!==null)if(vr(a.value,s)){if(a.children===i.children&&!vn.current){e=hi(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=ii(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),kv(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(J(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),kv(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,go(e,n),i=Xn(i),r=r(i),e.flags|=1,ln(t,e,r,n),e.child;case 14:return r=e.type,i=ar(r,e.pendingProps),i=ar(r.type,i),WS(t,e,r,i,n);case 15:return Mj(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),Uh(t,e),e.tag=1,xn(r)?(t=!0,ff(e)):t=!1,go(e,n),Aj(e,r,i),$v(e,r,i,n),Vv(null,e,r,!0,t,n);case 19:return Dj(t,e,n);case 22:return Ij(t,e,n)}throw Error(J(156,e.tag))};function Xj(t,e){return SI(t,e)}function v4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(t,e,n,r){return new v4(t,e,n,r)}function Kb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function x4(t){if(typeof t=="function")return Kb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===db)return 11;if(t===hb)return 14}return 2}function ia(t,e){var n=t.alternate;return n===null?(n=Wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wh(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")Kb(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ys:return ns(n.children,i,a,e);case ub:s=8,i|=8;break;case ov:return t=Wn(12,n,e,i|2),t.elementType=ov,t.lanes=a,t;case lv:return t=Wn(13,n,e,i),t.elementType=lv,t.lanes=a,t;case cv:return t=Wn(19,n,e,i),t.elementType=cv,t.lanes=a,t;case sI:return lm(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case iI:s=10;break e;case aI:s=9;break e;case db:s=11;break e;case hb:s=14;break e;case Ri:s=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Wn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function ns(t,e,n,r){return t=Wn(7,t,r,e),t.lanes=n,t}function lm(t,e,n,r){return t=Wn(22,t,r,e),t.elementType=sI,t.lanes=n,t.stateNode={isHidden:!1},t}function py(t,e,n){return t=Wn(6,t,null,e),t.lanes=n,t}function my(t,e,n){return e=Wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function b4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yg(0),this.expirationTimes=Yg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gb(t,e,n,r,i,a,s,o,l){return t=new b4(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Wn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ib(a),t}function w4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Qj(t){if(!t)return pa;t=t._reactInternals;e:{if(Es(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(xn(n))return QI(t,n,e)}return e}function Jj(t,e,n,r,i,a,s,o,l){return t=Gb(n,r,!0,t,i,a,s,o,l),t.context=Qj(null),n=t.current,r=un(),i=ra(n),a=ii(r,i),a.callback=e??null,ta(n,a,i),t.current.lanes=i,od(t,i,r),bn(t,r),t}function cm(t,e,n,r){var i=e.current,a=un(),s=ra(i);return n=Qj(n),e.context===null?e.context=n:e.pendingContext=n,e=ii(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ta(i,e,s),t!==null&&(gr(t,i,s,a),Fh(t,i,s)),s}function Af(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qb(t,e){rE(t,e),(t=t.alternate)&&rE(t,e)}function _4(){return null}var Zj=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yb(t){this._internalRoot=t}um.prototype.render=Yb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));cm(t,e,null,null)};um.prototype.unmount=Yb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hs(function(){cm(null,t,null,null)}),e[ui]=null}};function um(t){this._internalRoot=t}um.prototype.unstable_scheduleHydration=function(t){if(t){var e=II();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fi.length&&e!==0&&e<Fi[n].priority;n++);Fi.splice(n,0,t),n===0&&CI(t)}};function Xb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function iE(){}function S4(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Af(s);a.call(c)}}var s=Jj(e,r,t,0,null,!1,!1,"",iE);return t._reactRootContainer=s,t[ui]=s.current,iu(t.nodeType===8?t.parentNode:t),hs(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Af(l);o.call(c)}}var l=Gb(t,0,!1,null,null,!1,!1,"",iE);return t._reactRootContainer=l,t[ui]=l.current,iu(t.nodeType===8?t.parentNode:t),hs(function(){cm(e,l,n,r)}),l}function hm(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Af(s);o.call(l)}}cm(e,s,t,i)}else s=S4(n,e,t,i,r);return Af(s)}NI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yc(e.pendingLanes);n!==0&&(mb(e,n|1),bn(e,ut()),!(Ae&6)&&(Oo=ut()+500,Ea()))}break;case 13:hs(function(){var r=di(t,1);if(r!==null){var i=un();gr(r,t,1,i)}}),qb(t,1)}};gb=function(t){if(t.tag===13){var e=di(t,134217728);if(e!==null){var n=un();gr(e,t,134217728,n)}qb(t,134217728)}};MI=function(t){if(t.tag===13){var e=ra(t),n=di(t,e);if(n!==null){var r=un();gr(n,t,e,r)}qb(t,e)}};II=function(){return ke};jI=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};xv=function(t,e,n){switch(e){case"input":if(hv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=nm(r);if(!i)throw Error(J(90));lI(r),hv(r,i)}}}break;case"textarea":uI(t,n);break;case"select":e=n.value,e!=null&&ho(t,!!n.multiple,e,!1)}};yI=Hb;vI=hs;var E4={usingClientEntryPoint:!1,Events:[cd,Zs,nm,mI,gI,Hb]},rc={findFiberByHostInstance:Ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P4={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wI(t),t===null?null:t.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||_4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{Jp=hh.inject(P4),Ir=hh}catch{}}kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E4;kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xb(e))throw Error(J(200));return w4(t,e,null,n)};kn.createRoot=function(t,e){if(!Xb(t))throw Error(J(299));var n=!1,r="",i=Zj;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Gb(t,1,!1,null,null,n,!1,r,i),t[ui]=e.current,iu(t.nodeType===8?t.parentNode:t),new Yb(e)};kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=wI(e),t=t===null?null:t.stateNode,t};kn.flushSync=function(t){return hs(t)};kn.hydrate=function(t,e,n){if(!dm(e))throw Error(J(200));return hm(null,t,e,!0,n)};kn.hydrateRoot=function(t,e,n){if(!Xb(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=Zj;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Jj(e,null,t,1,n??null,i,!1,a,s),t[ui]=e.current,iu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new um(e)};kn.render=function(t,e,n){if(!dm(e))throw Error(J(200));return hm(null,t,e,!1,n)};kn.unmountComponentAtNode=function(t){if(!dm(t))throw Error(J(40));return t._reactRootContainer?(hs(function(){hm(null,null,t,!1,function(){t._reactRootContainer=null,t[ui]=null})}),!0):!1};kn.unstable_batchedUpdates=Hb;kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!dm(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return hm(t,e,n,!1,r)};kn.version="18.3.1-next-f1338f8080-20240426";function eC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eC)}catch(t){console.error(t)}}eC(),eI.exports=kn;var A4=eI.exports,aE=A4;av.createRoot=aE.createRoot,av.hydrateRoot=aE.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fu.apply(this,arguments)}var Gi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Gi||(Gi={}));const sE="popstate";function T4(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return Jv("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Tf(i)}return M4(e,n,null,t)}function nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N4(){return Math.random().toString(36).substr(2,8)}function oE(t,e){return{usr:t.state,key:t.key,idx:e}}function Jv(t,e,n,r){return n===void 0&&(n=null),fu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pl(e):e,{state:n,key:e&&e.key||r||N4()})}function Tf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function M4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=Gi.Pop,l=null,c=h();c==null&&(c=0,s.replaceState(fu({},s.state,{idx:c}),""));function h(){return(s.state||{idx:null}).idx}function d(){o=Gi.Pop;let g=h(),x=g==null?null:g-c;c=g,l&&l({action:o,location:w.location,delta:x})}function p(g,x){o=Gi.Push;let v=Jv(w.location,g,x);c=h()+1;let _=oE(v,c),A=w.createHref(v);try{s.pushState(_,"",A)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(A)}a&&l&&l({action:o,location:w.location,delta:1})}function m(g,x){o=Gi.Replace;let v=Jv(w.location,g,x);c=h();let _=oE(v,c),A=w.createHref(v);s.replaceState(_,"",A),a&&l&&l({action:o,location:w.location,delta:0})}function y(g){let x=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof g=="string"?g:Tf(g);return v=v.replace(/ $/,"%20"),nt(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let w={get action(){return o},get location(){return t(i,s)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(sE,d),l=g,()=>{i.removeEventListener(sE,d),l=null}},createHref(g){return e(i,g)},createURL:y,encodeLocation(g){let x=y(g);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(g){return s.go(g)}};return w}var lE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lE||(lE={}));function I4(t,e,n){return n===void 0&&(n="/"),j4(t,e,n)}function j4(t,e,n,r){let i=typeof e=="string"?pl(e):e,a=Do(i.pathname||"/",n);if(a==null)return null;let s=tC(t);C4(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=H4(a);o=B4(s[l],c)}return o}function tC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(nt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=aa([r,l.relativePath]),h=n.concat(l);a.children&&a.children.length>0&&(nt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),tC(a.children,e,h,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:F4(c,a.index),routesMeta:h})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of nC(a.path))i(a,s,l)}),e}function nC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=nC(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function C4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:V4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const O4=/^:[\w-]+$/,D4=3,k4=2,R4=1,$4=10,L4=-2,cE=t=>t==="*";function F4(t,e){let n=t.split("/"),r=n.length;return n.some(cE)&&(r+=L4),e&&(r+=k4),n.filter(i=>!cE(i)).reduce((i,a)=>i+(O4.test(a)?D4:a===""?R4:$4),r)}function V4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function B4(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",d=Zv({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),p=l.route;if(!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:aa([a,d.pathname]),pathnameBase:q4(aa([a,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(a=aa([a,d.pathnameBase]))}return s}function Zv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=U4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:p,isOptional:m}=h;if(p==="*"){let w=o[d]||"";s=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const y=o[d];return m&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function U4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Qb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function H4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Do(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const z4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W4=t=>z4.test(t);function K4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?pl(t):t,a;if(n)if(W4(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Qb(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?a=uE(n.substring(1),"/"):a=uE(n,e)}else a=e;return{pathname:a,search:Y4(r),hash:X4(i)}}function uE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function G4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jb(t,e){let n=G4(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Zb(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=pl(t):(i=fu({},t),nt(!i.pathname||!i.pathname.includes("?"),gy("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),gy("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),gy("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}o=d>=0?e[d]:"/"}let l=K4(i,o),c=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const aa=t=>t.join("/").replace(/\/\/+/g,"/"),q4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Y4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,X4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Q4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rC=["post","put","patch","delete"];new Set(rC);const J4=["get",...rC];new Set(J4);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(this,arguments)}const fm=k.createContext(null),iC=k.createContext(null),_i=k.createContext(null),pm=k.createContext(null),Si=k.createContext({outlet:null,matches:[],isDataRoute:!1}),aC=k.createContext(null);function Z4(t,e){let{relative:n}=e===void 0?{}:e;ml()||nt(!1);let{basename:r,navigator:i}=k.useContext(_i),{hash:a,pathname:s,search:o}=mm(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:aa([r,s])),i.createHref({pathname:l,search:o,hash:a})}function ml(){return k.useContext(pm)!=null}function Ps(){return ml()||nt(!1),k.useContext(pm).location}function sC(t){k.useContext(_i).static||k.useLayoutEffect(t)}function wn(){let{isDataRoute:t}=k.useContext(Si);return t?hF():eF()}function eF(){ml()||nt(!1);let t=k.useContext(fm),{basename:e,future:n,navigator:r}=k.useContext(_i),{matches:i}=k.useContext(Si),{pathname:a}=Ps(),s=JSON.stringify(Jb(i,n.v7_relativeSplatPath)),o=k.useRef(!1);return sC(()=>{o.current=!0}),k.useCallback(function(c,h){if(h===void 0&&(h={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=Zb(c,JSON.parse(s),a,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:aa([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,s,a,t])}function oC(){let{matches:t}=k.useContext(Si),e=t[t.length-1];return e?e.params:{}}function mm(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(_i),{matches:i}=k.useContext(Si),{pathname:a}=Ps(),s=JSON.stringify(Jb(i,r.v7_relativeSplatPath));return k.useMemo(()=>Zb(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function tF(t,e){return nF(t,e)}function nF(t,e,n,r){ml()||nt(!1);let{navigator:i}=k.useContext(_i),{matches:a}=k.useContext(Si),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Ps(),h;if(e){var d;let g=typeof e=="string"?pl(e):e;l==="/"||(d=g.pathname)!=null&&d.startsWith(l)||nt(!1),h=g}else h=c;let p=h.pathname||"/",m=p;if(l!=="/"){let g=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let y=I4(t,{pathname:m}),w=oF(y&&y.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:aa([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:aa([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,n,r);return e&&w?k.createElement(pm.Provider,{value:{location:pu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Gi.Pop}},w):w}function rF(){let t=dF(),e=Q4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,null)}const iF=k.createElement(rF,null);class aF extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(Si.Provider,{value:this.props.routeContext},k.createElement(aC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sF(t){let{routeContext:e,match:n,children:r}=t,i=k.useContext(fm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Si.Provider,{value:e},r)}function oF(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let h=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);h>=0||nt(!1),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:m}=n,y=d.route.loader&&p[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,d,p)=>{let m,y=!1,w=null,g=null;n&&(m=o&&d.route.id?o[d.route.id]:void 0,w=d.route.errorElement||iF,l&&(c<0&&p===0?(fF("route-fallback"),y=!0,g=null):c===p&&(y=!0,g=d.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,p+1)),v=()=>{let _;return m?_=w:y?_=g:d.route.Component?_=k.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=h,k.createElement(sF,{match:d,routeContext:{outlet:h,matches:x,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?k.createElement(aF,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var lC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lC||{}),cC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(cC||{});function lF(t){let e=k.useContext(fm);return e||nt(!1),e}function cF(t){let e=k.useContext(iC);return e||nt(!1),e}function uF(t){let e=k.useContext(Si);return e||nt(!1),e}function uC(t){let e=uF(),n=e.matches[e.matches.length-1];return n.route.id||nt(!1),n.route.id}function dF(){var t;let e=k.useContext(aC),n=cF(),r=uC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function hF(){let{router:t}=lF(lC.UseNavigateStable),e=uC(cC.UseNavigateStable),n=k.useRef(!1);return sC(()=>{n.current=!0}),k.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,pu({fromRouteId:e},a)))},[t,e])}const dE={};function fF(t,e,n){dE[t]||(dE[t]=!0)}function pF(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function xr(t){let{to:e,replace:n,state:r,relative:i}=t;ml()||nt(!1);let{future:a,static:s}=k.useContext(_i),{matches:o}=k.useContext(Si),{pathname:l}=Ps(),c=wn(),h=Zb(e,Jb(o,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(h);return k.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function Oe(t){nt(!1)}function mF(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Gi.Pop,navigator:a,static:s=!1,future:o}=t;ml()&&nt(!1);let l=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:a,static:s,future:pu({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=pl(r));let{pathname:h="/",search:d="",hash:p="",state:m=null,key:y="default"}=r,w=k.useMemo(()=>{let g=Do(h,l);return g==null?null:{location:{pathname:g,search:d,hash:p,state:m,key:y},navigationType:i}},[l,h,d,p,m,y,i]);return w==null?null:k.createElement(_i.Provider,{value:c},k.createElement(pm.Provider,{children:n,value:w}))}function gF(t){let{children:e,location:n}=t;return tF(e0(e),n)}new Promise(()=>{});function e0(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let a=[...e,i];if(r.type===k.Fragment){n.push.apply(n,e0(r.props.children,a));return}r.type!==Oe&&nt(!1),!r.props.index||!r.props.children||nt(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=e0(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nf(){return Nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nf.apply(this,arguments)}function dC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vF(t,e){return t.button===0&&(!e||e==="_self")&&!yF(t)}const xF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bF=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],wF="6";try{window.__reactRouterVersion=wF}catch{}const _F=k.createContext({isTransitioning:!1}),SF="startTransition",hE=mL[SF];function EF(t){let{basename:e,children:n,future:r,window:i}=t,a=k.useRef();a.current==null&&(a.current=T4({window:i,v5Compat:!0}));let s=a.current,[o,l]=k.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},h=k.useCallback(d=>{c&&hE?hE(()=>l(d)):l(d)},[l,c]);return k.useLayoutEffect(()=>s.listen(h),[s,h]),k.useEffect(()=>pF(r),[r]),k.createElement(mF,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const PF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,je=k.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:h,viewTransition:d}=e,p=dC(e,xF),{basename:m}=k.useContext(_i),y,w=!1;if(typeof c=="string"&&AF.test(c)&&(y=c,PF))try{let _=new URL(window.location.href),A=c.startsWith("//")?new URL(_.protocol+c):new URL(c),P=Do(A.pathname,m);A.origin===_.origin&&P!=null?c=P+A.search+A.hash:w=!0}catch{}let g=Z4(c,{relative:i}),x=MF(c,{replace:s,state:o,target:l,preventScrollReset:h,relative:i,viewTransition:d});function v(_){r&&r(_),_.defaultPrevented||x(_)}return k.createElement("a",Nf({},p,{href:y||g,onClick:w||a?r:v,ref:n,target:l}))}),TF=k.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:s=!1,style:o,to:l,viewTransition:c,children:h}=e,d=dC(e,bF),p=mm(l,{relative:d.relative}),m=Ps(),y=k.useContext(iC),{navigator:w,basename:g}=k.useContext(_i),x=y!=null&&IF(p)&&c===!0,v=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,_=m.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(_=_.toLowerCase(),A=A?A.toLowerCase():null,v=v.toLowerCase()),A&&g&&(A=Do(A,g)||A);const P=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=_===v||!s&&_.startsWith(v)&&_.charAt(P)==="/",S=A!=null&&(A===v||!s&&A.startsWith(v)&&A.charAt(v.length)==="/"),T={isActive:E,isPending:S,isTransitioning:x},M=E?r:void 0,I;typeof a=="function"?I=a(T):I=[a,E?"active":null,S?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(T):o;return k.createElement(je,Nf({},d,{"aria-current":M,className:I,ref:n,style:O,to:l,viewTransition:c}),typeof h=="function"?h(T):h)});var t0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(t0||(t0={}));var fE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fE||(fE={}));function NF(t){let e=k.useContext(fm);return e||nt(!1),e}function MF(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=wn(),c=Ps(),h=mm(t,{relative:s});return k.useCallback(d=>{if(vF(d,n)){d.preventDefault();let p=r!==void 0?r:Tf(c)===Tf(h);l(t,{replace:p,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,h,r,i,n,t,a,s,o])}function IF(t,e){e===void 0&&(e={});let n=k.useContext(_F);n==null&&nt(!1);let{basename:r}=NF(t0.useViewTransitionState),i=mm(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Do(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Do(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zv(i.pathname,s)!=null||Zv(i.pathname,a)!=null}const hC=[{id:"hosp-2",name:"Fortis Hospital"},{id:"hosp-1",name:"CityCare Multi-Speciality Hospital"},{id:"hosp-3",name:"Max Hospital"}],Rc=["Pulmonology","Endocrinology","Oncology","Dermatology","Pathology","ENT","Nutrients & Dietetics","Neurology","General Medicine","Cardiology"],jF=new Set(["Kavya","Ritu","Anjali","Neha","Rohini","Meera","Shreya","Anitha","Divya","Sneha","Riya","Pooja","Nisha","Priya","Deepika","Reena","Farah","Kavita","Ananya","Lakshmi","Sana","Nandini","Sonia","Aditi","Meenakshi","Anita"]);function CF(t){return t.replace(/^Dr\.\s*/i,"").trim().split(/\s+/)[0]||""}function OF(t){const e=CF(t);return jF.has(e)?"Female":"Male"}function DF(t,e,n,r){const a=(e*100+n*10+r+101)%100;return t==="Female"?`https://randomuser.me/api/portraits/women/${a}.jpg`:`https://randomuser.me/api/portraits/men/${a}.jpg`}const kF={Pulmonology:[["Dr. Nikhil Batra",11,"MD Pulmonary Medicine","Chronic cough and airway disease","9 AM1 PM",["Hindi","English"]],["Dr. Tara Srinivasan",10,"DNB Respiratory Medicine","Interstitial lung disease","10 AM2 PM",["English","Tamil"]],["Dr. Omkar Deshpande",9,"FCCP Pulmonology","Bronchoscopy","11 AM3 PM",["Marathi","English"]],["Dr. Priya Talwar",8,"MD Tuberculosis & Chest","Tuberculosis management","2 PM6 PM",["Hindi","English"]],["Dr. Sandeep Kamat",13,"DM Pulmonary Critical Care","ICU respiratory care","9 AM3 PM",["English","Kannada"]],["Dr. Leena Joseph",7,"Respiratory Fellowship","Pediatric asthma","12 PM5 PM",["Malayalam","English"]],["Dr. Hitesh Arora",12,"MD Pulmonary Medicine","Allergic airway disorders","1 PM6 PM",["Hindi","English"]],["Dr. Rina Das",9,"DNB Chest Medicine","Pulmonary rehabilitation","10 AM4 PM",["Bengali","English"]]],Endocrinology:[["Dr. Kavita Bansal",12,"DM Endocrinology","Type 1 diabetes care","9 AM1 PM",["Hindi","English"]],["Dr. Aditya Menon",10,"Endocrine Fellowship","Metabolic syndrome","10 AM2 PM",["Malayalam","English"]],["Dr. Nisha Rao",9,"DM Endocrinology","PCOS and hormonal disorders","11 AM3 PM",["English","Kannada"]],["Dr. Rohan Malviya",8,"MD Medicine DM Endo","Bone and calcium disorders","2 PM6 PM",["Hindi","English"]],["Dr. Simran Oberoi",13,"DM Endocrinology","Gestational diabetes","9 AM3 PM",["Hindi","English"]],["Dr. Vivek Patil",11,"DNB Endocrinology","Insulin optimization","12 PM5 PM",["Marathi","English"]],["Dr. Asha Narayanan",9,"Endocrine Specialist","Adrenal disorders","1 PM6 PM",["Tamil","English"]],["Dr. Kunal Suri",10,"DM Endocrinology","Pituitary disorders","10 AM4 PM",["Hindi","English"]]],Oncology:[["Dr. Pooja Rajan",11,"DM Medical Oncology","Targeted therapy","9 AM1 PM",["English","Hindi"]],["Dr. Harsh Vohra",10,"MD Oncology","Head and neck cancers","10 AM2 PM",["Hindi","English"]],["Dr. Neelima Paul",9,"Clinical Oncology Fellowship","Immunotherapy","11 AM3 PM",["English","Bengali"]],["Dr. Ritesh Dutta",8,"Medical Oncology","GI oncology","2 PM6 PM",["Hindi","English"]],["Dr. Sana Qureshi",13,"DM Oncology","Lung cancer care","9 AM3 PM",["Urdu","English"]],["Dr. Arun Bhardwaj",12,"Onco Medicine","Lymphoma treatment","12 PM5 PM",["Hindi","English"]],["Dr. Megha Iqbal",10,"Breast Oncology Fellowship","Breast oncology","1 PM6 PM",["English","Hindi"]],["Dr. Tejas Kulkarni",9,"DM Medical Oncology","Precision oncology","10 AM4 PM",["Marathi","English"]]],Dermatology:[["Dr. Ishita Verma",11,"MD Dermatology","Pigmentation disorders","9 AM1 PM",["Hindi","English"]],["Dr. Ashwin Nair",10,"Clinical Dermatology","Hair loss treatment","10 AM2 PM",["Malayalam","English"]],["Dr. Rupal Shah",9,"Dermatology Fellowship","Atopic dermatitis","11 AM3 PM",["Gujarati","English"]],["Dr. Naman Joshi",8,"MD Skin & VD","Fungal infections","2 PM6 PM",["Hindi","English"]],["Dr. Preeti Kaul",13,"Cosmetic Dermatology","Anti-aging treatments","9 AM3 PM",["English","Hindi"]],["Dr. Sagar Rao",12,"Dermatology Specialist","Psoriasis care","12 PM5 PM",["English","Kannada"]],["Dr. Esha Mathew",10,"MD Dermatology","Sensitive skin disorders","1 PM6 PM",["English","Malayalam"]],["Dr. Tushar Goyal",9,"Dermatology & Cosmetology","Acne scars","10 AM4 PM",["Hindi","English"]]],Pathology:[["Dr. Charu Bedi",11,"MD Pathology","Cytopathology","9 AM1 PM",["Hindi","English"]],["Dr. Gaurav Nanda",10,"Clinical Pathology","Hematology diagnostics","10 AM2 PM",["Hindi","English"]],["Dr. Priyanka Sen",9,"MD Lab Medicine","Microbiology correlation","11 AM3 PM",["Bengali","English"]],["Dr. Nishant Rawat",8,"Pathology Specialist","Biopsy reporting","2 PM6 PM",["Hindi","English"]],["Dr. Neetu Bahl",13,"Histopathology Fellowship","Onco-pathology","9 AM3 PM",["English","Hindi"]],["Dr. Amitesh Pillai",12,"MD Pathology","Clinical biochemistry","12 PM5 PM",["English","Malayalam"]],["Dr. Samiksha Kale",10,"Clinical Laboratory Sciences","Endocrine assay interpretation","1 PM6 PM",["Marathi","English"]],["Dr. Rohan Jindal",9,"Pathology Consultant","Autoimmune panel interpretation","10 AM4 PM",["Hindi","English"]]],ENT:[["Dr. Vinay Kaushik",11,"MS ENT","Nasal polyps and sinusitis","9 AM1 PM",["Hindi","English"]],["Dr. Deepa Mathew",10,"ENT Fellowship","Vertigo and balance disorders","10 AM2 PM",["Malayalam","English"]],["Dr. Sharad Kulkarni",9,"DNB Otorhinolaryngology","Voice and throat disorders","11 AM3 PM",["Marathi","English"]],["Dr. Nupur Gandhi",8,"ENT Specialist","Ear infections","2 PM6 PM",["Hindi","English"]],["Dr. Hemant Arora",13,"Head & Neck ENT","Nasal endoscopy","9 AM3 PM",["Hindi","English"]],["Dr. Reema Nair",12,"ENT Surgeon","Tympanoplasty","12 PM5 PM",["English","Malayalam"]],["Dr. Prakash Iyer",10,"MS ENT","Tinnitus care","1 PM6 PM",["Tamil","English"]],["Dr. Sanya Choudhary",9,"ENT Consultant","Allergic rhinitis","10 AM4 PM",["Hindi","English"]]],"Nutrients & Dietetics":[["Dr. Kiran Sethi",11,"MSc Clinical Nutrition","Sports nutrition","9 AM1 PM",["Hindi","English"]],["Dr. Namrata Bose",10,"Dietetics Fellowship","Renal diet plans","10 AM2 PM",["Bengali","English"]],["Dr. Rhea Nambiar",9,"Clinical Dietetics","PCOS diet planning","11 AM3 PM",["English","Malayalam"]],["Dr. Jatin Sehgal",8,"Nutrition Sciences","Pediatric nutrition","2 PM6 PM",["Hindi","English"]],["Dr. Pallavi Rao",13,"MSc Nutrition","Cardiac diet protocols","9 AM3 PM",["Kannada","English"]],["Dr. Deepali Arora",12,"Registered Dietitian","Weight management","12 PM5 PM",["Hindi","English"]],["Dr. Arvind Krishnan",10,"Clinical Nutrition","Metabolic nutrition","1 PM6 PM",["Tamil","English"]],["Dr. Swati Bhatia",9,"Dietetic Practice","Diabetes meal planning","10 AM4 PM",["Hindi","English"]]],Neurology:[["Dr. Taranjeet Singh",11,"DM Neurology","Epilepsy management","9 AM1 PM",["Hindi","English"]],["Dr. Lakshmi Menon",10,"Neuro Fellowship","Parkinsonism","10 AM2 PM",["Malayalam","English"]],["Dr. Nitin Purohit",9,"DM Neurology","Peripheral neuropathy","11 AM3 PM",["Hindi","English"]],["Dr. Vaishali Rao",8,"Neurology Specialist","Vertigo neurology","2 PM6 PM",["Kannada","English"]],["Dr. Pankaj Sood",13,"Neuro Medicine","Stroke prevention","9 AM3 PM",["Hindi","English"]],["Dr. Irene Joseph",12,"Clinical Neurology","Demyelinating disorders","12 PM5 PM",["English","Malayalam"]],["Dr. Bhavesh Trivedi",10,"DM Neurology","Cognitive disorders","1 PM6 PM",["Gujarati","English"]],["Dr. Rachita Malhotra",9,"Neuro Consultant","Headache disorders","10 AM4 PM",["Hindi","English"]]],"General Medicine":[["Dr. Saurabh Tyagi",11,"MD Internal Medicine","Hypertension and fever","9 AM1 PM",["Hindi","English"]],["Dr. Aditi Nair",10,"General Medicine","Preventive medicine","10 AM2 PM",["Malayalam","English"]],["Dr. Kartik Bahl",9,"MD Medicine","Infectious disease triage","11 AM3 PM",["Hindi","English"]],["Dr. Pooja Nanda",8,"Internal Medicine","Metabolic disorders","2 PM6 PM",["Hindi","English"]],["Dr. Mitesh Shah",13,"MD General Medicine","Comorbidity management","9 AM3 PM",["Gujarati","English"]],["Dr. Lincy Thomas",12,"General Physician","Senior citizen care","12 PM5 PM",["English","Malayalam"]],["Dr. Rohit Saxena",10,"Internal Medicine","Acute care medicine","1 PM6 PM",["Hindi","English"]],["Dr. Niharika Iyer",9,"Lifestyle Medicine","Chronic disease prevention","10 AM4 PM",["Tamil","English"]]],Cardiology:[["Dr. Nikhil Arora",11,"DM Cardiology","Hypertension and ECG","9 AM1 PM",["Hindi","English"]],["Dr. Rina Mathew",10,"Clinical Cardiology","Heart failure care","10 AM2 PM",["English","Malayalam"]],["Dr. Sumit Khurana",9,"Interventional Cardiology","Coronary risk evaluation","11 AM3 PM",["Hindi","English"]],["Dr. Apeksha Nene",8,"DNB Cardiology","Preventive cardiology","2 PM6 PM",["Marathi","English"]],["Dr. Pranav Ghosh",13,"DM Cardiology","Arrhythmia management","9 AM3 PM",["Bengali","English"]],["Dr. Roshni Patel",12,"Cardiac Imaging","Echo diagnostics","12 PM5 PM",["Gujarati","English"]],["Dr. Adarsh Nair",10,"Clinical Cardiology","Post-MI rehabilitation","1 PM6 PM",["English","Malayalam"]],["Dr. Kaviraj Sen",9,"Cardiology Specialist","Lipid and heart risk clinic","10 AM4 PM",["Hindi","English"]]]};function RF(t,e){const n=kF[e]??[];if(t.length>=10)return t;const r=10-t.length;return[...t,...n.slice(0,r)]}function $F(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,Object.fromEntries(Rc.map(r=>{const i=n[r]??[];return[r,RF(i,r)]}))]))}const LF={"Fortis Hospital":{Pulmonology:[["Dr. Arjun Mehta",12,"MD Pulmonology AIIMS","Asthma & COPD","9 AM1 PM",["English","Hindi"],"MonFri"],["Dr. Kavya Iyer",8,"DNB Respiratory Medicine","Sleep Apnea","2 PM6 PM",["English","Tamil"],"TueSat"],["Dr. Rohit Sharma",15,"MD Chest Medicine","Lung Infection","10 AM4 PM",["Hindi","English"],"MonThu"],["Dr. Nisha Patel",6,"Fellowship Pulmonary Care","Allergy Lung","9 AM2 PM",["English","Gujarati"],"MonSat"],["Dr. Vikram Singh",18,"MD Pulmonology","Interstitial Lung Disease","3 PM7 PM",["Hindi","English"],"TueSun"],["Dr. Sneha Reddy",10,"DM Pulmonary Medicine","Bronchoscopy","8 AM12 PM",["English","Telugu"],"MonFri"],["Dr. Karan Verma",9,"MD Respiratory","Tuberculosis","1 PM5 PM",["Hindi","English"],"MonSat"],["Dr. Farhan Khan",14,"DNB Pulmonology","Critical Care","10 AM3 PM",["Urdu","English"],"TueSun"],["Dr. Priya Nair",7,"MD Chest","Pediatric Pulmonary","9 AM1 PM",["English","Malayalam"],"MonFri"],["Dr. Aditya Bose",11,"Lung Rehab Fellowship","Smoking Disorders","2 PM6 PM",["Bengali","English"],"WedSun"]],Endocrinology:[["Dr. Ritu Agarwal",13,"DM Endocrinology","Diabetes","9 AM1 PM",["English","Hindi"],"MonFri"],["Dr. Manoj Kulkarni",17,"MD Medicine DM Endo","Thyroid","2 PM7 PM",["Marathi","English"],"TueSun"],["Dr. Pooja Nair",8,"Fellowship Diabetes","PCOS","10 AM2 PM",["English","Malayalam"],"MonSat"],["Dr. Neeraj Jain",11,"DM Endocrinology","Hormone Disorders","3 PM6 PM",["Hindi","English"],"MonFri"],["Dr. Lakshmi Narayanan",15,"MD Endocrine","Metabolic Syndrome","9 AM12 PM",["Tamil","English"],"TueSun"],["Dr. Mehul Shah",9,"DNB Endocrine","Obesity","1 PM5 PM",["Gujarati","English"],"MonSat"],["Dr. Sana Sheikh",6,"Endocrine Fellowship","Adrenal Disorders","10 AM3 PM",["Urdu","English"],"MonFri"],["Dr. Rahul Bansal",14,"DM Endocrinology","Osteoporosis","8 AM12 PM",["Hindi","English"],"TueSat"],["Dr. Ananya Chatterjee",7,"MD Medicine","Thyroid Cancer","2 PM6 PM",["Bengali","English"],"MonFri"],["Dr. Deepak Verghese",12,"DM Endocrine","Pituitary Disorders","11 AM4 PM",["English","Malayalam"],"WedSun"]],Oncology:[["Dr. Vivek Sinha",20,"DM Medical Oncology","Chemotherapy","9 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Anjali Kapoor",14,"MD Oncology","Breast Cancer","2 PM6 PM",["English","Hindi"],"TueSat"],["Dr. Rajeev Menon",18,"DM Oncology","Lung Cancer","10 AM4 PM",["English","Malayalam"],"MonThu"],["Dr. Shalini Gupta",9,"Clinical Oncology","Pediatric Cancer","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Harish Pillai",16,"Surgical Oncology","Tumor Surgery","1 PM5 PM",["English","Malayalam"],"TueSun"],["Dr. Snehal Desai",12,"MD Oncology","Radiotherapy","3 PM7 PM",["Gujarati","English"],"MonFri"],["Dr. Farah Ahmed",7,"Oncology Fellowship","Blood Cancer","8 AM12 PM",["Urdu","English"],"TueSat"],["Dr. Prakash Iyer",15,"DM Oncology","GI Cancer","10 AM3 PM",["Tamil","English"],"MonFri"],["Dr. Nikhil Arora",11,"MD Oncology","Immunotherapy","2 PM6 PM",["Hindi","English"],"WedSun"],["Dr. Kavita Rao",13,"Clinical Oncology","Palliative Care","9 AM2 PM",["English","Kannada"],"MonSat"]],Dermatology:[["Dr. Neha Sharma",10,"MD Dermatology","Acne","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Rohini Krishnan",8,"Cosmetic Dermatology","Laser","2 PM6 PM",["English","Tamil"],"TueSun"],["Dr. Amit Jain",15,"Skin Specialist","Psoriasis","10 AM4 PM",["Hindi","English"],"MonFri"],["Dr. Sana Ali",6,"Aesthetic Skin","Anti Aging","9 AM2 PM",["Urdu","English"],"MonSat"],["Dr. Varun Mehta",12,"Dermatologic Surgery","Mole Removal","3 PM7 PM",["English","Hindi"],"TueSun"],["Dr. Priyanka Nair",9,"MD Dermatology","Hair Loss","8 AM12 PM",["English","Malayalam"],"MonFri"],["Dr. Tarun Bansal",11,"Clinical Dermatology","Eczema","1 PM5 PM",["Hindi","English"],"MonSat"],["Dr. Divya Iyer",7,"Cosmetic Dermatology","Chemical Peels","10 AM3 PM",["English","Tamil"],"TueFri"],["Dr. Sameer Khan",14,"Skin Allergy","Dermatitis","2 PM6 PM",["Urdu","English"],"MonSat"],["Dr. Aditi Bose",5,"MD Dermatology","Pediatric Skin","9 AM1 PM",["Bengali","English"],"MonFri"]],Pathology:[["Dr. Ramesh Gupta",22,"MD Pathology","Histopathology","9 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Shweta Iyer",12,"Clinical Pathology","Blood Tests","10 AM4 PM",["English","Tamil"],"MonSat"],["Dr. Akash Verma",9,"Cytopathology","FNAC","8 AM1 PM",["Hindi","English"],"TueSat"],["Dr. Pankaj Sharma",16,"Lab Medicine","Microbiology","2 PM6 PM",["Hindi","English"],"MonFri"],["Dr. Nandini Pillai",11,"Molecular Pathology","Genetic Testing","9 AM2 PM",["Malayalam","English"],"MonSat"],["Dr. Imran Sheikh",7,"Clinical Biochemistry","Hormone Assay","10 AM3 PM",["Urdu","English"],"TueSun"],["Dr. Arvind Menon",18,"Hematopathology","Blood Disorders","1 PM5 PM",["English","Malayalam"],"MonFri"],["Dr. Kavita Desai",13,"Surgical Pathology","Tissue Diagnosis","8 AM12 PM",["Gujarati","English"],"MonSat"],["Dr. Rahul Nair",6,"Lab Diagnostics","Infection Screening","9 AM1 PM",["English","Malayalam"],"TueSun"],["Dr. Sonia Kapoor",10,"Clinical Pathology","Routine Tests","2 PM6 PM",["Hindi","English"],"MonSat"]],ENT:[["Dr. Ajay Singh",18,"MS ENT","Sinus Surgery","9 AM1 PM",["Hindi","English"],"MonFri"],["Dr. Meera Nair",10,"ENT","Hearing Loss","2 PM6 PM",["English","Malayalam"],"MonSat"],["Dr. Karthik Iyer",12,"MS ENT","Voice Disorders","10 AM4 PM",["Tamil","English"],"TueSun"],["Dr. Ritu Sharma",8,"ENT","Tonsillitis","9 AM2 PM",["Hindi","English"],"MonSat"],["Dr. Farhan Ali",14,"ENT Surgery","Nasal Polyps","3 PM7 PM",["Urdu","English"],"TueSun"],["Dr. Sneha Reddy",9,"Pediatric ENT","Ear Infection","8 AM12 PM",["Telugu","English"],"MonFri"],["Dr. Vikrant Kapoor",11,"ENT","Vertigo","1 PM5 PM",["Hindi","English"],"MonSat"],["Dr. Anil Menon",15,"Head Neck Surgery","Tumor Removal","10 AM3 PM",["Malayalam","English"],"MonFri"],["Dr. Pooja Desai",6,"ENT","Allergy","2 PM6 PM",["Gujarati","English"],"TueSat"],["Dr. Rajesh Pillai",17,"ENT","Cochlear Implant","9 AM1 PM",["English","Malayalam"],"MonFri"]],"Nutrients & Dietetics":[["Dr. Shreya Kapoor",9,"MSc Nutrition","Weight Loss","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Anitha Reddy",12,"Dietetics","Diabetes Diet","2 PM6 PM",["Telugu","English"],"MonFri"],["Dr. Rahul Shah",8,"Nutrition Science","Sports Nutrition","10 AM3 PM",["Gujarati","English"],"MonSat"],["Dr. Meenakshi Iyer",15,"Clinical Nutrition","Thyroid Diet","9 AM2 PM",["Tamil","English"],"MonFri"],["Dr. Farah Khan",6,"Diet Planning","Pregnancy Diet","1 PM5 PM",["Urdu","English"],"TueSun"],["Dr. Vivek Menon",10,"Nutrition Therapy","Cardiac Diet","8 AM12 PM",["Malayalam","English"],"MonSat"],["Dr. Pooja Verma",7,"Weight Management","Obesity","2 PM6 PM",["Hindi","English"],"MonFri"],["Dr. Kavya Nair",11,"Pediatric Nutrition","Child Diet","9 AM1 PM",["English","Malayalam"],"MonSat"],["Dr. Aman Bansal",5,"Lifestyle Nutrition","Detox","3 PM7 PM",["Hindi","English"],"TueSun"],["Dr. Snehal Deshmukh",13,"Therapeutic Diet","Kidney Diet","10 AM4 PM",["Marathi","English"],"MonFri"]],Neurology:[["Dr. Raghav Khanna",16,"DM Neurology","Stroke","9 AM1 PM",["Hindi","English"],"MonFri"],["Dr. Divya Menon",9,"Neuro Specialist","Migraine","2 PM6 PM",["Malayalam","English"],"MonSat"],["Dr. Suresh Reddy",14,"DM Neuro","Epilepsy","10 AM4 PM",["Telugu","English"],"TueSun"],["Dr. Mehul Shah",11,"Neuro Disorders","Parkinsons","9 AM2 PM",["Gujarati","English"],"MonSat"],["Dr. Ananya Roy",7,"Clinical Neuro","Neuropathy","1 PM5 PM",["Bengali","English"],"MonFri"],["Dr. Karthik Iyer",13,"Neuro Surgery","Brain Tumor","8 AM12 PM",["Tamil","English"],"TueSat"],["Dr. Farhan Khan",10,"Neuro Care","Alzheimers","2 PM6 PM",["Urdu","English"],"MonFri"],["Dr. Priya Nair",12,"DM Neuro","Multiple Sclerosis","9 AM1 PM",["English","Malayalam"],"MonSat"],["Dr. Vikram Singh",18,"Senior Neurologist","Spinal Disorders","10 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Neha Kapoor",8,"Neuro Medicine","Head Injury","3 PM7 PM",["Hindi","English"],"TueSun"]],"General Medicine":[["Dr. Amit Verma",15,"MD Medicine","Fever & Infection","9 AM2 PM",["Hindi","English"],"MonSat"],["Dr. Sneha Iyer",9,"MD General","Lifestyle Disease","2 PM6 PM",["Tamil","English"],"MonFri"],["Dr. Rahul Sharma",12,"Physician","Hypertension","10 AM4 PM",["Hindi","English"],"MonSat"],["Dr. Kavita Nair",8,"General Medicine","Diabetes","9 AM1 PM",["English","Malayalam"],"TueSun"],["Dr. Mehul Shah",11,"Internal Medicine","Chronic Illness","1 PM5 PM",["Gujarati","English"],"MonFri"],["Dr. Sana Ali",7,"General Physician","Viral Fever","2 PM6 PM",["Urdu","English"],"MonSat"],["Dr. Arvind Menon",14,"MD Medicine","Preventive Care","9 AM3 PM",["Malayalam","English"],"MonFri"],["Dr. Pooja Kapoor",6,"Physician","Digestive Issues","10 AM2 PM",["Hindi","English"],"TueSat"],["Dr. Nikhil Bose",10,"Internal Medicine","Metabolic Disease","8 AM12 PM",["Bengali","English"],"MonFri"],["Dr. Ritu Jain",13,"MD Medicine","Immunity Disorders","3 PM7 PM",["Hindi","English"],"MonSat"]],Cardiology:[["Dr. Vikram Malhotra",20,"DM Cardiology","Heart Attack","9 AM2 PM",["Hindi","English"],"MonFri"],["Dr. Meera Pillai",12,"Cardiologist","ECG & Echo","2 PM6 PM",["Malayalam","English"],"MonSat"],["Dr. Rahul Jain",10,"Heart Specialist","Hypertension","10 AM4 PM",["Hindi","English"],"MonSat"],["Dr. Arjun Menon",15,"Interventional Cardiology","Angioplasty","9 AM1 PM",["English","Malayalam"],"TueSun"],["Dr. Kavya Sharma",8,"Clinical Cardiology","Heart Failure","1 PM5 PM",["Hindi","English"],"MonFri"],["Dr. Suresh Reddy",14,"DM Cardio","Arrhythmia","8 AM12 PM",["Telugu","English"],"MonSat"],["Dr. Mehul Shah",11,"Cardiac Care","Cholesterol","2 PM6 PM",["Gujarati","English"],"TueSun"],["Dr. Farhan Khan",13,"Heart Specialist","Valve Disease","9 AM3 PM",["Urdu","English"],"MonFri"],["Dr. Neha Kapoor",7,"Cardiologist","Preventive Heart Care","10 AM2 PM",["Hindi","English"],"MonSat"],["Dr. Aditya Bose",16,"Senior Cardiologist","Cardiac Surgery Support","3 PM7 PM",["Bengali","English"],"MonFri"]]},"CityCare Multi-Speciality Hospital":{Pulmonology:[["Dr. Raghav Verma",14,"MD Pulmonology","COPD","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Divya Iyer",9,"Respiratory Medicine","Asthma","2 PM6 PM",["Tamil","English"],"TueSun"],["Dr. Faisal Ahmed",12,"Lung Specialist","Bronchoscopy","10 AM4 PM",["Urdu","English"],"MonFri"],["Dr. Mehul Patel",7,"Pulmonary Care","TB","9 AM2 PM",["Gujarati","English"],"MonSat"],["Dr. Kavita Sharma",15,"Chest Medicine","ILD","3 PM7 PM",["Hindi","English"],"TueSun"],["Dr. Arvind Nair",11,"Pulmonary Rehab","Sleep Apnea","8 AM12 PM",["Malayalam","English"],"MonFri"],["Dr. Suresh Reddy",18,"DM Pulmonology","Lung Cancer","1 PM5 PM",["Telugu","English"],"MonSat"],["Dr. Pooja Verma",6,"Allergy Lung","Chronic Asthma","10 AM3 PM",["Hindi","English"],"TueSun"],["Dr. Nitin Bose",10,"Respiratory Medicine","Smoking Disorders","9 AM1 PM",["Bengali","English"],"MonFri"],["Dr. Anita Menon",13,"Pulmonary Medicine","Critical Care","2 PM6 PM",["English","Malayalam"],"MonSat"]],Endocrinology:[["Dr. Rakesh Bansal",19,"DM Endocrinology","Diabetes","9 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Meera Pillai",11,"Thyroid Specialist","Thyroid Specialist","2 PM6 PM",["Malayalam","English"],"TueSat"],["Dr. Sana Sheikh",8,"Hormone Disorders","Hormone Disorders","10 AM2 PM",["Urdu","English"],"MonSat"],["Dr. Varun Mehta",15,"Metabolic Disorders","Metabolic Disorders","1 PM5 PM",["Hindi","English"],"MonFri"],["Dr. Lakshmi Iyer",12,"PCOS","PCOS","9 AM1 PM",["Tamil","English"],"MonSat"],["Dr. Rahul Jain",7,"Osteoporosis","Osteoporosis","2 PM6 PM",["Hindi","English"],"TueSun"],["Dr. Neha Kapoor",10,"Thyroid Cancer","Thyroid Cancer","10 AM4 PM",["Hindi","English"],"MonFri"],["Dr. Arjun Menon",13,"Pituitary Disorders","Pituitary Disorders","9 AM2 PM",["Malayalam","English"],"MonSat"],["Dr. Pankaj Shah",6,"Obesity","Obesity","3 PM7 PM",["Gujarati","English"],"TueSun"],["Dr. Ananya Roy",9,"Hormone Therapy","Hormone Therapy","8 AM12 PM",["Bengali","English"],"MonFri"]],Oncology:[["Dr. Vikram Malhotra",21,"Medical Oncology","Chemotherapy","9 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Ritu Sharma",14,"Breast Cancer","Breast Cancer","2 PM6 PM",["Hindi","English"],"TueSat"],["Dr. Farhan Khan",12,"Lung Cancer","Lung Cancer","10 AM4 PM",["Urdu","English"],"MonFri"],["Dr. Priya Nair",9,"Pediatric Oncology","Pediatric Oncology","9 AM1 PM",["English","Malayalam"],"MonSat"],["Dr. Sameer Gupta",18,"Surgical Oncology","Surgical Oncology","1 PM5 PM",["Hindi","English"],"TueSun"],["Dr. Kavya Iyer",10,"Radiotherapy","Radiotherapy","3 PM7 PM",["Tamil","English"],"MonFri"],["Dr. Aditya Bose",13,"Blood Cancer","Blood Cancer","8 AM12 PM",["Bengali","English"],"TueSat"],["Dr. Snehal Desai",8,"Immunotherapy","Immunotherapy","10 AM3 PM",["Gujarati","English"],"MonSat"],["Dr. Rajeev Menon",16,"GI Cancer","GI Cancer","2 PM6 PM",["Malayalam","English"],"MonFri"],["Dr. Anjali Kapoor",11,"Palliative Care","Palliative Care","9 AM2 PM",["Hindi","English"],"TueSun"]],Dermatology:[["Dr. Neha Jain",9,"MD Dermatology","Acne","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Rohit Sharma",14,"Psoriasis","Psoriasis","10 AM4 PM",["Hindi","English"],"MonFri"],["Dr. Sana Ali",7,"Cosmetic Skin","Cosmetic Skin","2 PM6 PM",["Urdu","English"],"MonSat"],["Dr. Varun Kapoor",12,"Hair Loss","Hair Loss","9 AM2 PM",["Hindi","English"],"TueSun"],["Dr. Meera Nair",10,"Laser Therapy","Laser Therapy","3 PM7 PM",["English","Malayalam"],"MonFri"],["Dr. Karthik Iyer",15,"Skin Allergy","Skin Allergy","8 AM12 PM",["Tamil","English"],"MonSat"],["Dr. Pooja Shah",6,"Anti Aging","Anti Aging","1 PM5 PM",["Gujarati","English"],"TueSun"],["Dr. Aman Bansal",11,"Eczema","Eczema","10 AM3 PM",["Hindi","English"],"MonSat"],["Dr. Kavita Rao",8,"Pediatric Skin","Pediatric Skin","9 AM1 PM",["Kannada","English"],"MonFri"],["Dr. Divya Menon",13,"Chemical Peels","Chemical Peels","2 PM6 PM",["Malayalam","English"],"MonSat"]],Pathology:[["Dr. Ramesh Gupta",20,"Histopathology","Histopathology","9 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Shweta Iyer",11,"Blood Tests","Blood Tests","10 AM4 PM",["Tamil","English"],"MonSat"],["Dr. Akash Verma",9,"FNAC","FNAC","8 AM1 PM",["Hindi","English"],"TueSat"],["Dr. Pankaj Sharma",16,"Microbiology","Microbiology","2 PM6 PM",["Hindi","English"],"MonFri"],["Dr. Nandini Pillai",12,"Molecular Testing","Molecular Testing","9 AM2 PM",["Malayalam","English"],"MonSat"],["Dr. Imran Sheikh",7,"Biochemistry","Biochemistry","10 AM3 PM",["Urdu","English"],"TueSun"],["Dr. Arvind Menon",18,"Hematology","Hematology","1 PM5 PM",["Malayalam","English"],"MonFri"],["Dr. Kavita Desai",13,"Tissue Diagnosis","Tissue Diagnosis","8 AM12 PM",["Gujarati","English"],"MonSat"],["Dr. Rahul Nair",6,"Lab Diagnostics","Lab Diagnostics","9 AM1 PM",["English","Malayalam"],"TueSun"],["Dr. Sonia Kapoor",10,"Clinical Lab","Clinical Lab","2 PM6 PM",["Hindi","English"],"MonSat"]],ENT:[["Dr. Ajay Singh",18,"Sinus Surgery","Sinus Surgery","9 AM1 PM",["Hindi","English"],"MonFri"],["Dr. Meera Nair",10,"Hearing Loss","Hearing Loss","2 PM6 PM",["Malayalam","English"],"MonSat"],["Dr. Karthik Iyer",12,"Voice Disorders","Voice Disorders","10 AM4 PM",["Tamil","English"],"TueSun"],["Dr. Ritu Sharma",8,"Tonsils","Tonsils","9 AM2 PM",["Hindi","English"],"MonSat"],["Dr. Farhan Ali",14,"Nasal Polyps","Nasal Polyps","3 PM7 PM",["Urdu","English"],"TueSun"],["Dr. Sneha Reddy",9,"Pediatric ENT","Pediatric ENT","8 AM12 PM",["Telugu","English"],"MonFri"],["Dr. Vikrant Kapoor",11,"Vertigo","Vertigo","1 PM5 PM",["Hindi","English"],"MonSat"],["Dr. Anil Menon",15,"Neck Surgery","Neck Surgery","10 AM3 PM",["Malayalam","English"],"MonFri"],["Dr. Pooja Desai",6,"Allergy ENT","Allergy ENT","2 PM6 PM",["Gujarati","English"],"TueSat"],["Dr. Rajesh Pillai",17,"Cochlear Implant","Cochlear Implant","9 AM1 PM",["English","Malayalam"],"MonFri"]],"Nutrients & Dietetics":[["Dr. Shreya Kapoor",9,"Weight Loss","Weight Loss","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Anitha Reddy",12,"Diabetes Diet","Diabetes Diet","2 PM6 PM",["Telugu","English"],"MonFri"],["Dr. Rahul Shah",8,"Sports Nutrition","Sports Nutrition","10 AM3 PM",["Gujarati","English"],"MonSat"],["Dr. Meenakshi Iyer",15,"Thyroid Diet","Thyroid Diet","9 AM2 PM",["Tamil","English"],"MonFri"],["Dr. Farah Khan",6,"Pregnancy Diet","Pregnancy Diet","1 PM5 PM",["Urdu","English"],"TueSun"],["Dr. Vivek Menon",10,"Cardiac Diet","Cardiac Diet","8 AM12 PM",["Malayalam","English"],"MonSat"],["Dr. Pooja Verma",7,"Obesity","Obesity","2 PM6 PM",["Hindi","English"],"MonFri"],["Dr. Kavya Nair",11,"Pediatric Diet","Pediatric Diet","9 AM1 PM",["English","Malayalam"],"MonSat"],["Dr. Aman Bansal",5,"Detox","Detox","3 PM7 PM",["Hindi","English"],"TueSun"],["Dr. Snehal Deshmukh",13,"Kidney Diet","Kidney Diet","10 AM4 PM",["Marathi","English"],"MonFri"]],Neurology:[["Dr. Rajat Khanna",16,"Stroke Specialist","Stroke Specialist","9 AM1 PM",["Hindi","English"],"MonFri"],["Dr. Divya Menon",9,"Migraine","Migraine","2 PM6 PM",["Malayalam","English"],"MonSat"],["Dr. Suresh Reddy",14,"Epilepsy","Epilepsy","10 AM4 PM",["Telugu","English"],"TueSun"],["Dr. Mehul Shah",11,"Parkinsons","Parkinsons","9 AM2 PM",["Gujarati","English"],"MonSat"],["Dr. Ananya Roy",7,"Neuropathy","Neuropathy","1 PM5 PM",["Bengali","English"],"MonFri"],["Dr. Karthik Iyer",13,"Brain Tumor","Brain Tumor","8 AM12 PM",["Tamil","English"],"TueSat"],["Dr. Farhan Khan",10,"Alzheimers","Alzheimers","2 PM6 PM",["Urdu","English"],"MonFri"],["Dr. Priya Nair",12,"Multiple Sclerosis","Multiple Sclerosis","9 AM1 PM",["English","Malayalam"],"MonSat"],["Dr. Vikram Singh",18,"Spinal Disorders","Spinal Disorders","10 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Neha Kapoor",8,"Head Injury","Head Injury","3 PM7 PM",["Hindi","English"],"TueSun"]],"General Medicine":[["Dr. Amit Verma",15,"Fever","Fever","9 AM2 PM",["Hindi","English"],"MonSat"],["Dr. Sneha Iyer",9,"Lifestyle Disease","Lifestyle Disease","2 PM6 PM",["Tamil","English"],"MonFri"],["Dr. Rahul Sharma",12,"Hypertension","Hypertension","10 AM4 PM",["Hindi","English"],"MonSat"],["Dr. Kavita Nair",8,"Diabetes","Diabetes","9 AM1 PM",["English","Malayalam"],"TueSun"],["Dr. Mehul Shah",11,"Chronic Illness","Chronic Illness","1 PM5 PM",["Gujarati","English"],"MonFri"],["Dr. Sana Ali",7,"Viral Fever","Viral Fever","2 PM6 PM",["Urdu","English"],"MonSat"],["Dr. Arvind Menon",14,"Preventive Care","Preventive Care","9 AM3 PM",["Malayalam","English"],"MonFri"],["Dr. Pooja Kapoor",6,"Digestive Issues","Digestive Issues","10 AM2 PM",["Hindi","English"],"TueSat"],["Dr. Nikhil Bose",10,"Metabolic Disease","Metabolic Disease","8 AM12 PM",["Bengali","English"],"MonFri"],["Dr. Ritu Jain",13,"Immunity Disorders","Immunity Disorders","3 PM7 PM",["Hindi","English"],"MonSat"]],Cardiology:[["Dr. Vikram Malhotra",20,"Heart Attack","Heart Attack","9 AM2 PM",["Hindi","English"],"MonFri"],["Dr. Meera Pillai",12,"ECG","ECG","2 PM6 PM",["Malayalam","English"],"MonSat"],["Dr. Rahul Jain",10,"Hypertension","Hypertension","10 AM4 PM",["Hindi","English"],"MonSat"],["Dr. Arjun Menon",15,"Angioplasty","Angioplasty","9 AM1 PM",["English","Malayalam"],"TueSun"],["Dr. Kavya Sharma",8,"Heart Failure","Heart Failure","1 PM5 PM",["Hindi","English"],"MonFri"],["Dr. Suresh Reddy",14,"Arrhythmia","Arrhythmia","8 AM12 PM",["Telugu","English"],"MonSat"],["Dr. Mehul Shah",11,"Cholesterol","Cholesterol","2 PM6 PM",["Gujarati","English"],"TueSun"],["Dr. Farhan Khan",13,"Valve Disease","Valve Disease","9 AM3 PM",["Urdu","English"],"MonFri"],["Dr. Neha Kapoor",7,"Preventive Cardio","Preventive Cardio","10 AM2 PM",["Hindi","English"],"MonSat"],["Dr. Aditya Bose",16,"Cardiac Surgery Support","Cardiac Surgery Support","3 PM7 PM",["Bengali","English"],"MonFri"]]},"Max Hospital":{Pulmonology:[["Dr. Aman Khurana",13,"MD Pulmonology (AIIMS)","Asthma & airway inflammation","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Riya Menon",7,"DNB Respiratory Medicine","Sleep apnea & ventilation therapy","2 PM6 PM",["Malayalam","English"],"TueSun"],["Dr. Imran Khan",16,"MD Chest Medicine","COPD management","10 AM4 PM",["Urdu","English"],"MonFri"],["Dr. Kiran Patel",9,"Fellowship Pulmonary Care","Lung infections","9 AM2 PM",["Gujarati","English"],"MonSat"],["Dr. Harish Iyer",12,"DM Pulmonary Medicine","Bronchoscopy","3 PM7 PM",["Tamil","English"],"TueSun"],["Dr. Sneha Kapoor",8,"Pulmonary Rehabilitation Certification","Lung recovery therapy","8 AM12 PM",["Hindi","English"],"MonFri"],["Dr. Ravi Nair",14,"MD Respiratory Medicine","Tuberculosis treatment","1 PM5 PM",["Malayalam","English"],"MonSat"],["Dr. Pawan Verma",10,"MD Pulmonology","Smoking-related disorders","10 AM3 PM",["Hindi","English"],"TueSun"],["Dr. Deepika Roy",6,"Pediatric Pulmonary Fellowship","Childhood lung disease","9 AM1 PM",["Bengali","English"],"MonFri"],["Dr. Joseph Mathew",18,"DM Critical Care Pulmonology","ICU respiratory support","2 PM6 PM",["English","Malayalam"],"MonSat"]],Endocrinology:[["Dr. Mohit Agarwal",17,"DM Endocrinology","Diabetes management","9 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Reena Iyer",11,"MD Medicine + Endocrine Fellowship","Thyroid disorders","2 PM6 PM",["Tamil","English"],"TueSat"],["Dr. Farah Khan",8,"Clinical Endocrinology Fellowship","Hormonal imbalance","10 AM2 PM",["Urdu","English"],"MonSat"],["Dr. Anil Menon",15,"DM Metabolic Medicine","Metabolic syndrome","1 PM5 PM",["Malayalam","English"],"MonFri"],["Dr. Kavita Sharma",12,"Reproductive Endocrinology","PCOS","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Rahul Jain",7,"Endocrine Care Certification","Osteoporosis","2 PM6 PM",["Hindi","English"],"TueSun"],["Dr. Suresh Reddy",10,"DM Oncology Endocrine","Thyroid cancer","10 AM4 PM",["Telugu","English"],"MonFri"],["Dr. Mehul Shah",13,"Pituitary Specialist Training","Pituitary disorders","9 AM2 PM",["Gujarati","English"],"MonSat"],["Dr. Ananya Bose",6,"Clinical Nutrition Endocrine","Obesity treatment","3 PM7 PM",["Bengali","English"],"TueSun"],["Dr. Lakshmi Pillai",9,"Hormone Therapy Certification","Hormone replacement therapy","8 AM12 PM",["Malayalam","English"],"MonFri"]],Oncology:[["Dr. Rajiv Kapoor",22,"DM Medical Oncology","Chemotherapy planning","9 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Meera Nair",15,"Breast Oncology Fellowship","Breast cancer care","2 PM6 PM",["Malayalam","English"],"TueSat"],["Dr. Vikram Singh",13,"Lung Cancer Specialist","Thoracic oncology","10 AM4 PM",["Hindi","English"],"MonFri"],["Dr. Pooja Sharma",8,"Pediatric Oncology Fellowship","Childhood cancers","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Arjun Menon",17,"Surgical Oncology","Tumor removal surgery","1 PM5 PM",["Malayalam","English"],"TueSun"],["Dr. Kavya Iyer",11,"Radiation Oncology","Radiotherapy planning","3 PM7 PM",["Tamil","English"],"MonFri"],["Dr. Sameer Khan",9,"Hemato Oncology","Blood cancers","8 AM12 PM",["Urdu","English"],"TueSat"],["Dr. Neha Kapoor",12,"Immunotherapy Specialist","Targeted therapy","10 AM3 PM",["Hindi","English"],"MonSat"],["Dr. Rakesh Gupta",18,"GI Oncology","Gastro cancers","2 PM6 PM",["Hindi","English"],"MonFri"],["Dr. Anjali Verma",10,"Palliative Medicine","End-of-life care","9 AM2 PM",["Hindi","English"],"TueSun"]],Dermatology:[["Dr. Ritu Jain",10,"MD Dermatology","Acne & scars","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Aman Bansal",14,"Clinical Dermatology","Psoriasis","10 AM4 PM",["Hindi","English"],"MonFri"],["Dr. Sana Ali",7,"Cosmetic Dermatology","Aesthetic procedures","2 PM6 PM",["Urdu","English"],"MonSat"],["Dr. Mehul Shah",12,"Hair Restoration Training","Hair loss treatment","9 AM2 PM",["Gujarati","English"],"TueSun"],["Dr. Divya Menon",11,"Laser Dermatology Certification","Laser therapy","3 PM7 PM",["Malayalam","English"],"MonFri"],["Dr. Karthik Iyer",15,"Allergy Dermatology","Skin allergy treatment","8 AM12 PM",["Tamil","English"],"MonSat"],["Dr. Pooja Kapoor",6,"Anti-aging Dermatology","Skin rejuvenation","1 PM5 PM",["Hindi","English"],"TueSun"],["Dr. Rahul Sharma",13,"Clinical Dermatology","Eczema treatment","10 AM3 PM",["Hindi","English"],"MonSat"],["Dr. Kavita Rao",8,"Pediatric Dermatology","Child skin disorders","9 AM1 PM",["Kannada","English"],"MonFri"],["Dr. Nikhil Bose",9,"Cosmetic Skin Therapy","Chemical peels","2 PM6 PM",["Bengali","English"],"MonSat"]],Pathology:[["Dr. Mahesh Gupta",21,"MD Pathology","Histopathology","9 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Shweta Iyer",12,"Clinical Pathology","Blood analysis","10 AM4 PM",["Tamil","English"],"MonSat"],["Dr. Akash Verma",9,"Cytopathology","Cell analysis","8 AM1 PM",["Hindi","English"],"TueSat"],["Dr. Pankaj Sharma",17,"Microbiology","Infection detection","2 PM6 PM",["Hindi","English"],"MonFri"],["Dr. Nandini Pillai",11,"Molecular Pathology","Genetic testing","9 AM2 PM",["Malayalam","English"],"MonSat"],["Dr. Imran Sheikh",8,"Clinical Biochemistry","Chemical testing","10 AM3 PM",["Urdu","English"],"TueSun"],["Dr. Arvind Menon",19,"Hematopathology","Blood disorders","1 PM5 PM",["Malayalam","English"],"MonFri"],["Dr. Kavita Desai",13,"Surgical Pathology","Tissue diagnosis","8 AM12 PM",["Gujarati","English"],"MonSat"],["Dr. Rahul Nair",7,"Lab Diagnostics","Routine testing","9 AM1 PM",["English","Malayalam"],"TueSun"],["Dr. Sonia Kapoor",10,"Clinical Lab Medicine","Medical reports","2 PM6 PM",["Hindi","English"],"MonSat"]],ENT:[["Dr. Ajay Singh",18,"MS ENT","Sinus surgery","9 AM1 PM",["Hindi","English"],"MonFri"],["Dr. Meera Nair",11,"ENT Specialist","Hearing loss","2 PM6 PM",["Malayalam","English"],"MonSat"],["Dr. Karthik Iyer",13,"Voice Specialist","Voice disorders","10 AM4 PM",["Tamil","English"],"TueSun"],["Dr. Ritu Sharma",9,"ENT","Tonsil disorders","9 AM2 PM",["Hindi","English"],"MonSat"],["Dr. Farhan Ali",15,"ENT Surgery","Nasal polyps","3 PM7 PM",["Urdu","English"],"TueSun"],["Dr. Sneha Reddy",10,"Pediatric ENT","Ear infections","8 AM12 PM",["Telugu","English"],"MonFri"],["Dr. Vikrant Kapoor",12,"ENT","Vertigo treatment","1 PM5 PM",["Hindi","English"],"MonSat"],["Dr. Anil Menon",16,"Head Neck Surgery","Tumor removal","10 AM3 PM",["Malayalam","English"],"MonFri"],["Dr. Pooja Desai",7,"ENT Allergy Specialist","Nasal allergy","2 PM6 PM",["Gujarati","English"],"TueSat"],["Dr. Rajesh Pillai",18,"Cochlear Implant Surgeon","Hearing implants","9 AM1 PM",["English","Malayalam"],"MonFri"]],"Nutrients & Dietetics":[["Dr. Shreya Kapoor",9,"MSc Clinical Nutrition","Weight loss plans","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Anitha Reddy",12,"Dietetics Certification","Diabetes diet","2 PM6 PM",["Telugu","English"],"MonFri"],["Dr. Rahul Shah",8,"Sports Nutrition Specialist","Athlete diet","10 AM3 PM",["Gujarati","English"],"MonSat"],["Dr. Meenakshi Iyer",15,"Clinical Nutrition","Thyroid diet","9 AM2 PM",["Tamil","English"],"MonFri"],["Dr. Farah Khan",6,"Pregnancy Nutrition","Maternal diet","1 PM5 PM",["Urdu","English"],"TueSun"],["Dr. Vivek Menon",10,"Cardiac Nutrition","Heart diet","8 AM12 PM",["Malayalam","English"],"MonSat"],["Dr. Pooja Verma",7,"Weight Management","Obesity diet","2 PM6 PM",["Hindi","English"],"MonFri"],["Dr. Kavya Nair",11,"Pediatric Nutrition","Child diet","9 AM1 PM",["English","Malayalam"],"MonSat"],["Dr. Aman Bansal",5,"Lifestyle Nutrition","Detox plans","3 PM7 PM",["Hindi","English"],"TueSun"],["Dr. Snehal Deshmukh",13,"Therapeutic Diet","Kidney diet","10 AM4 PM",["Marathi","English"],"MonFri"]],Neurology:[["Dr. Rajat Khanna",16,"DM Neurology","Stroke management","9 AM1 PM",["Hindi","English"],"MonFri"],["Dr. Divya Menon",9,"Neuro Specialist","Migraine","2 PM6 PM",["Malayalam","English"],"MonSat"],["Dr. Suresh Reddy",14,"Epileptologist","Epilepsy","10 AM4 PM",["Telugu","English"],"TueSun"],["Dr. Mehul Shah",11,"Movement Disorder Specialist","Parkinsons","9 AM2 PM",["Gujarati","English"],"MonSat"],["Dr. Ananya Roy",7,"Clinical Neurology","Neuropathy","1 PM5 PM",["Bengali","English"],"MonFri"],["Dr. Karthik Iyer",13,"Neuro Surgery","Brain tumors","8 AM12 PM",["Tamil","English"],"TueSat"],["Dr. Farhan Khan",10,"Neurodegenerative Disorders","Alzheimers","2 PM6 PM",["Urdu","English"],"MonFri"],["Dr. Priya Nair",12,"DM Neurology","Multiple sclerosis","9 AM1 PM",["English","Malayalam"],"MonSat"],["Dr. Vikram Singh",18,"Spine Specialist","Spinal disorders","10 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Neha Kapoor",8,"Neuro Trauma Care","Head injury","3 PM7 PM",["Hindi","English"],"TueSun"]],"General Medicine":[["Dr. Amit Verma",15,"MD Medicine","Fever treatment","9 AM2 PM",["Hindi","English"],"MonSat"],["Dr. Sneha Iyer",9,"Lifestyle Medicine","Lifestyle disorders","2 PM6 PM",["Tamil","English"],"MonFri"],["Dr. Rahul Sharma",12,"Physician","Hypertension","10 AM4 PM",["Hindi","English"],"MonSat"],["Dr. Kavita Nair",8,"Internal Medicine","Diabetes","9 AM1 PM",["English","Malayalam"],"TueSun"],["Dr. Mehul Shah",11,"Chronic Disease Specialist","Long-term illness","1 PM5 PM",["Gujarati","English"],"MonFri"],["Dr. Sana Ali",7,"General Physician","Viral infections","2 PM6 PM",["Urdu","English"],"MonSat"],["Dr. Arvind Menon",14,"Preventive Medicine","Health screening","9 AM3 PM",["Malayalam","English"],"MonFri"],["Dr. Pooja Kapoor",6,"Digestive Specialist","GI problems","10 AM2 PM",["Hindi","English"],"TueSat"],["Dr. Nikhil Bose",10,"Metabolic Medicine","Metabolic disorders","8 AM12 PM",["Bengali","English"],"MonFri"],["Dr. Ritu Jain",13,"Immunology Medicine","Immunity disorders","3 PM7 PM",["Hindi","English"],"MonSat"]],Cardiology:[["Dr. Vikram Malhotra",20,"DM Cardiology","Heart attack treatment","9 AM2 PM",["Hindi","English"],"MonFri"],["Dr. Meera Pillai",12,"Clinical Cardiology","ECG & Echo","2 PM6 PM",["Malayalam","English"],"MonSat"],["Dr. Rahul Jain",10,"Cardiac Medicine","Hypertension","10 AM4 PM",["Hindi","English"],"MonSat"],["Dr. Arjun Menon",15,"Interventional Cardiology","Angioplasty","9 AM1 PM",["English","Malayalam"],"TueSun"],["Dr. Kavya Sharma",8,"Heart Failure Specialist","Cardiac failure","1 PM5 PM",["Hindi","English"],"MonFri"],["Dr. Suresh Reddy",14,"Electrophysiology","Arrhythmia","8 AM12 PM",["Telugu","English"],"MonSat"],["Dr. Mehul Shah",11,"Preventive Cardiology","Cholesterol management","2 PM6 PM",["Gujarati","English"],"TueSun"],["Dr. Farhan Khan",13,"Structural Heart Specialist","Valve disease","9 AM3 PM",["Urdu","English"],"MonFri"],["Dr. Neha Kapoor",7,"Preventive Cardiac Care","Risk screening","10 AM2 PM",["Hindi","English"],"MonSat"],["Dr. Aditya Bose",16,"Cardiac Surgery Support","Pre/post surgery care","3 PM7 PM",["Bengali","English"],"MonFri"]]}},FF=$F(LF),Ls=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],pE={Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thu:"Thursday",Fri:"Friday",Sat:"Saturday",Sun:"Sunday"};function VF(t){if(!t)return new Set(["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]);const[e,n]=t.split("").map(l=>l.trim()),r=pE[e],i=pE[n];if(!r||!i)return new Set(["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]);const a=Ls.indexOf(r),s=Ls.indexOf(i);if(a===-1||s===-1)return new Set(["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]);const o=new Set;if(a<=s){for(let l=a;l<=s;l+=1)o.add(Ls[l]);return o}for(let l=a;l<Ls.length;l+=1)o.add(Ls[l]);for(let l=0;l<=s;l+=1)o.add(Ls[l]);return o}function BF(t,e){const n=VF(e);return{Monday:n.has("Monday")?t:"Off",Tuesday:n.has("Tuesday")?t:"Off",Wednesday:n.has("Wednesday")?t:"Off",Thursday:n.has("Thursday")?t:"Off",Friday:n.has("Friday")?t:"Off",Saturday:n.has("Saturday")?t:"Off",Sunday:n.has("Sunday")?t:"Off"}}function UF(t){const[e,n]=t.split("").map(r=>r.trim());return[e,n]}const HF=Object.entries(FF).flatMap(([t,e],n)=>{const r=hC.find(i=>i.name===t);return Object.entries(e).flatMap(([i,a],s)=>a.map((o,l)=>{const[c,h,d,p,m,y,w]=o,g=OF(c);return{id:`${r.id}-${i.toLowerCase().replace(/[^a-z0-9]+/g,"-")}-${l+1}`,fullName:c,gender:g,department:i,specialization:p,experienceYears:h,educationShort:d,educationHistory:[{degree:"MBBS",institution:"AIIMS New Delhi",year:`${2005+l}`},{degree:d,institution:"Speciality Medical Institute",year:`${2010+l}`}],consultationFee:900+s*80,languages:y,profileImage:DF(g,n,s,l),availabilityStatus:"Available",weeklyAvailability:BF(m,w),availableTimeSlots:UF(m),professionalBio:`${c} focuses on ${p.toLowerCase()} with ${h} years of experience.`,workTimeline:[{period:"2012 - 2018",role:`Consultant ${i}`},{period:"2018 - Present",role:`Senior Specialist, ${t}`}],hospitalAffiliation:t,hospitalId:r.id,certifications:["Medical Council Registered","Clinical Excellence Training"],publications:["Clinical outcomes review","Department case publication"],patientReviews:[{reviewer:"Patient A",rating:5,comment:"Very helpful consultation."},{reviewer:"Patient B",rating:4,comment:"Clear treatment explanation."}]}}))});function zF(){const t=[{icon:"",title:"AI-Powered Triage",description:"Get instant preliminary assessment of your symptoms using advanced AI technology."},{icon:"",title:"Expert Doctors",description:"Connect with experienced specialists across multiple departments at top hospitals."},{icon:"",title:"Easy Appointments",description:"Book appointments with your preferred doctors at your convenience."},{icon:"",title:"Multi-Hospital Access",description:"Access healthcare services across our network of partner hospitals."},{icon:"",title:"Medical Records",description:"Securely store and access your complete medical history anytime."},{icon:"",title:"24/7 Support",description:"Get health guidance and support whenever you need it."}],e=[{hospital:"Max Hospital",features:["State-of-the-art infrastructure","Advanced diagnostic equipment","24x7 emergency services","NABH accredited facilities","International standard patient care","Comprehensive specialty departments"]},{hospital:"Fortis Hospital",features:["Multi-specialty healthcare","Advanced surgical facilities","ICU & Critical care units","Modern pathology labs","Expert medical professionals","Patient-centric care approach"]},{hospital:"CityCare Multi-Speciality Hospital",features:["Comprehensive healthcare services","Modern medical technology","Experienced medical team","Efficient patient management","Quality healthcare at affordable costs","Community-focused healthcare"]}];return u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 via-white to-blue-50",children:[u.jsx("header",{className:"sticky top-0 z-50 bg-white/95 backdrop-blur border-b border-slate-200 shadow-sm",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-med-500 to-med-700 rounded-xl",children:u.jsx("span",{className:"text-white text-xl font-bold",children:"P"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Prognosis Care"}),u.jsx("p",{className:"text-xs text-med-600 font-medium",children:"AI Healthcare Triage"})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(je,{to:"/auth",className:"px-4 py-2 text-sm font-medium text-slate-700 hover:text-med-600 transition-colors",children:"Login"}),u.jsx(je,{to:"/auth",className:"px-5 py-2 text-sm font-medium text-white bg-gradient-to-r from-med-600 to-med-700 rounded-lg hover:from-med-700 hover:to-med-800 transition-all shadow-md hover:shadow-lg",children:"Sign Up"})]})]})})}),u.jsxs("section",{className:"relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-med-100/50 to-blue-100/50"}),u.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32",children:u.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[u.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-slate-900 mb-6 leading-tight",children:["Your Health, Our"," ",u.jsx("span",{className:"bg-gradient-to-r from-med-600 to-blue-600 bg-clip-text text-transparent",children:"Priority"})]}),u.jsx("p",{className:"text-xl text-slate-600 mb-8 leading-relaxed",children:"Experience the future of healthcare with AI-powered diagnosis, expert doctors, and seamless appointment booking - all in one platform."}),u.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[u.jsx(je,{to:"/auth",className:"px-8 py-4 text-lg font-semibold text-white bg-gradient-to-r from-med-600 to-med-700 rounded-xl hover:from-med-700 hover:to-med-800 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Get Started"}),u.jsx("a",{href:"#hospitals",className:"px-8 py-4 text-lg font-semibold text-med-700 bg-white border-2 border-med-600 rounded-xl hover:bg-med-50 transition-all shadow-lg",children:"Our Hospitals"})]})]})})]}),u.jsx("section",{className:"py-20 bg-white",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-slate-900 mb-4",children:"Why Choose Prognosis Care?"}),u.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Comprehensive healthcare solutions powered by cutting-edge technology and expert medical professionals"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((n,r)=>u.jsxs("div",{className:"p-6 bg-gradient-to-br from-white to-blue-50/50 rounded-2xl border border-slate-200 hover:border-med-300 hover:shadow-lg transition-all",children:[u.jsx("div",{className:"text-5xl mb-4",children:n.icon}),u.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:n.title}),u.jsx("p",{className:"text-slate-600",children:n.description})]},r))})]})}),u.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 to-med-50",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-slate-900 mb-4",children:"Comprehensive Medical Departments"}),u.jsxs("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:["Access specialized care across ",Rc.length," medical departments with expert doctors"]})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:Rc.map((n,r)=>u.jsx("div",{className:"p-4 bg-white rounded-xl border border-slate-200 hover:border-med-400 hover:shadow-md transition-all text-center",children:u.jsx("p",{className:"text-sm font-semibold text-slate-800",children:n})},r))})]})}),u.jsx("section",{id:"hospitals",className:"py-20 bg-white",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-slate-900 mb-4",children:"Our Partner Hospitals"}),u.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"We've partnered with the best healthcare institutions to provide you with top-quality medical care"})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:e.map((n,r)=>u.jsxs("div",{className:"bg-gradient-to-br from-white to-med-50/30 rounded-2xl border-2 border-med-200 p-8 hover:border-med-400 hover:shadow-xl transition-all",children:[u.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-br from-med-500 to-med-700 rounded-2xl mb-6 mx-auto",children:u.jsx("span",{className:"text-white text-2xl font-bold",children:""})}),u.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-6 text-center",children:n.hospital}),u.jsx("ul",{className:"space-y-3",children:n.features.map((i,a)=>u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-med-600 mt-1",children:""}),u.jsx("span",{className:"text-slate-700",children:i})]},a))})]},r))})]})}),u.jsx("section",{className:"py-20 bg-gradient-to-br from-med-50 to-blue-50",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-slate-900 mb-4",children:"How It Works"}),u.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Get started with healthcare made simple in just a few steps"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[{step:"1",title:"Sign Up",description:"Create your account in minutes"},{step:"2",title:"Choose Hospital",description:"Select your preferred hospital"},{step:"3",title:"AI Triage",description:"Get instant health assessment"},{step:"4",title:"Book Appointment",description:"Schedule with expert doctors"}].map((n,r)=>u.jsxs("div",{className:"relative text-center",children:[u.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-br from-med-600 to-med-700 text-white text-2xl font-bold rounded-full mb-4 mx-auto shadow-lg",children:n.step}),u.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:n.title}),u.jsx("p",{className:"text-slate-600",children:n.description}),r<3&&u.jsx("div",{className:"hidden md:block absolute top-8 left-[60%] w-[80%] h-0.5 bg-gradient-to-r from-med-400 to-transparent"})]},r))})]})}),u.jsx("section",{className:"py-20 bg-white",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-4xl font-bold text-med-600 mb-2",children:hC.length}),u.jsx("p",{className:"text-slate-600 font-medium",children:"Partner Hospitals"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-4xl font-bold text-med-600 mb-2",children:"100+"}),u.jsx("p",{className:"text-slate-600 font-medium",children:"Expert Doctors"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-4xl font-bold text-med-600 mb-2",children:Rc.length}),u.jsx("p",{className:"text-slate-600 font-medium",children:"Medical Departments"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-4xl font-bold text-med-600 mb-2",children:"24/7"}),u.jsx("p",{className:"text-slate-600 font-medium",children:"Support Available"})]})]})})}),u.jsx("section",{className:"py-20 bg-gradient-to-r from-med-600 to-blue-600 text-white",children:u.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-6",children:"Ready to Take Control of Your Health?"}),u.jsx("p",{className:"text-xl mb-8 text-blue-100",children:"Join thousands of patients who trust Prognosis Care for their healthcare needs"}),u.jsx(je,{to:"/auth",className:"inline-block px-8 py-4 text-lg font-semibold text-med-700 bg-white rounded-xl hover:bg-blue-50 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Get Started Today"})]})}),u.jsx("footer",{className:"bg-slate-900 text-slate-300 py-12",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-med-500 to-med-700 rounded-xl",children:u.jsx("span",{className:"text-white text-xl font-bold",children:"P"})}),u.jsx("h3",{className:"text-xl font-bold text-white",children:"Prognosis Care"})]}),u.jsx("p",{className:"text-sm text-slate-400",children:"Transforming healthcare with AI-powered diagnostics and seamless patient care."})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Quick Links"}),u.jsxs("ul",{className:"space-y-2 text-sm",children:[u.jsx("li",{children:u.jsx(je,{to:"/auth",className:"hover:text-med-400 transition-colors",children:"Login"})}),u.jsx("li",{children:u.jsx(je,{to:"/auth",className:"hover:text-med-400 transition-colors",children:"Sign Up"})}),u.jsx("li",{children:u.jsx("a",{href:"#hospitals",className:"hover:text-med-400 transition-colors",children:"Our Hospitals"})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Contact"}),u.jsxs("p",{className:"text-sm text-slate-400",children:["Email: support@prognosiscare.com",u.jsx("br",{}),"Phone: +91 1800-123-4567",u.jsx("br",{}),"Available 24/7"]})]})]}),u.jsx("div",{className:"border-t border-slate-800 pt-8 text-center text-sm text-slate-400",children:u.jsxs("p",{children:[" ",new Date().getFullYear()," Prognosis Care. All rights reserved."]})})]})})]})}const WF=()=>{};var mE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},KF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},pC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=a>>2,d=(a&3)<<4|o>>4;let p=(o&15)<<2|c>>6,m=c&63;l||(m=64,s||(p=64)),r.push(n[h],n[d],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||d==null)throw new GF;const p=a<<2|o>>4;if(r.push(p),c!==64){const m=o<<4&240|c>>2;if(r.push(m),d!==64){const y=c<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qF=function(t){const e=fC(t);return pC.encodeByteArray(e,!0)},Mf=function(t){return qF(t).replace(/\./g,"")},mC=function(t){try{return pC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=()=>YF().__FIREBASE_DEFAULTS__,QF=()=>{if(typeof process>"u"||typeof mE>"u")return;const t=mE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mC(t[1]);return e&&JSON.parse(e)},gm=()=>{try{return WF()||XF()||QF()||JF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gC=t=>{var e,n;return(n=(e=gm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ZF=t=>{const e=gC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yC=()=>{var t;return(t=gm())===null||t===void 0?void 0:t.config},vC=t=>{var e;return(e=gm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Mf(JSON.stringify(n)),Mf(JSON.stringify(s)),""].join(".")}const $c={};function nV(){const t={prod:[],emulator:[]};for(const e of Object.keys($c))$c[e]?t.emulator.push(e):t.prod.push(e);return t}function rV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let gE=!1;function bC(t,e){if(typeof window>"u"||typeof document>"u"||!gl(window.location.host)||$c[t]===e||$c[t]||gE)return;$c[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",a=nV().prod.length>0;function s(){const p=document.getElementById(r);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{gE=!0,s()},p}function h(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=rV(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),g=document.getElementById(w)||document.createElement("a"),x=n("preprendIcon"),v=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const _=p.element;o(_),h(g,w);const A=c();l(v,x),_.append(v,y,g,A),document.body.appendChild(_)}a?(y.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function aV(){var t;const e=(t=gm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cV(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uV(){return!aV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dV(){try{return typeof indexedDB=="object"}catch{return!1}}function hV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="FirebaseError";class Ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fV,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dd.prototype.create)}}class dd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?pV(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Ei(i,o,r)}}function pV(t,e){return t.replace(mV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const mV=/\{\$([^}]+)}/g;function gV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(yE(a)&&yE(s)){if(!fs(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function bc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function yV(t,e){const n=new vV(t,e);return n.subscribe.bind(n)}class vV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=yy),i.error===void 0&&(i.error=yy),i.complete===void 0&&(i.complete=yy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t){return t&&t._delegate?t._delegate:t}class ps{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_V(e))try{this.getOrInitializeService({instanceIdentifier:Ba})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ba){return this.instances.has(e)}getOptions(e=Ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ba){return this.component?this.component.multipleInstances?e:Ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wV(t){return t===Ba?void 0:t}function _V(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const EV={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},PV=we.INFO,AV={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},TV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=AV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ew{constructor(e){this.name=e,this._logLevel=PV,this._logHandler=TV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const NV=(t,e)=>e.some(n=>t instanceof n);let vE,xE;function MV(){return vE||(vE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IV(){return xE||(xE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wC=new WeakMap,n0=new WeakMap,_C=new WeakMap,vy=new WeakMap,tw=new WeakMap;function jV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(sa(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&wC.set(n,t)}).catch(()=>{}),tw.set(e,t),e}function CV(t){if(n0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});n0.set(t,e)}let r0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return n0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_C.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OV(t){r0=t(r0)}function DV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xy(this),e,...n);return _C.set(r,e.sort?e.sort():[e]),sa(r)}:IV().includes(t)?function(...e){return t.apply(xy(this),e),sa(wC.get(this))}:function(...e){return sa(t.apply(xy(this),e))}}function kV(t){return typeof t=="function"?DV(t):(t instanceof IDBTransaction&&CV(t),NV(t,MV())?new Proxy(t,r0):t)}function sa(t){if(t instanceof IDBRequest)return jV(t);if(vy.has(t))return vy.get(t);const e=kV(t);return e!==t&&(vy.set(t,e),tw.set(e,t)),e}const xy=t=>tw.get(t);function RV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=sa(s);return r&&s.addEventListener("upgradeneeded",l=>{r(sa(s.result),l.oldVersion,l.newVersion,sa(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const $V=["get","getKey","getAll","getAllKeys","count"],LV=["put","add","delete","clear"],by=new Map;function bE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(by.get(e))return by.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=LV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$V.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return by.set(e,a),a}OV(t=>({...t,get:(e,n,r)=>bE(e,n)||t.get(e,n,r),has:(e,n)=>!!bE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const i0="@firebase/app",wE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new ew("@firebase/app"),BV="@firebase/app-compat",UV="@firebase/analytics-compat",HV="@firebase/analytics",zV="@firebase/app-check-compat",WV="@firebase/app-check",KV="@firebase/auth",GV="@firebase/auth-compat",qV="@firebase/database",YV="@firebase/data-connect",XV="@firebase/database-compat",QV="@firebase/functions",JV="@firebase/functions-compat",ZV="@firebase/installations",e6="@firebase/installations-compat",t6="@firebase/messaging",n6="@firebase/messaging-compat",r6="@firebase/performance",i6="@firebase/performance-compat",a6="@firebase/remote-config",s6="@firebase/remote-config-compat",o6="@firebase/storage",l6="@firebase/storage-compat",c6="@firebase/firestore",u6="@firebase/ai",d6="@firebase/firestore-compat",h6="firebase",f6="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="[DEFAULT]",p6={[i0]:"fire-core",[BV]:"fire-core-compat",[HV]:"fire-analytics",[UV]:"fire-analytics-compat",[WV]:"fire-app-check",[zV]:"fire-app-check-compat",[KV]:"fire-auth",[GV]:"fire-auth-compat",[qV]:"fire-rtdb",[YV]:"fire-data-connect",[XV]:"fire-rtdb-compat",[QV]:"fire-fn",[JV]:"fire-fn-compat",[ZV]:"fire-iid",[e6]:"fire-iid-compat",[t6]:"fire-fcm",[n6]:"fire-fcm-compat",[r6]:"fire-perf",[i6]:"fire-perf-compat",[a6]:"fire-rc",[s6]:"fire-rc-compat",[o6]:"fire-gcs",[l6]:"fire-gcs-compat",[c6]:"fire-fst",[d6]:"fire-fst-compat",[u6]:"fire-vertex","fire-js":"fire-js",[h6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new Map,m6=new Map,s0=new Map;function _E(t,e){try{t.container.addComponent(e)}catch(n){fi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ko(t){const e=t.name;if(s0.has(e))return fi.debug(`There were multiple attempts to register component ${e}.`),!1;s0.set(e,t);for(const n of If.values())_E(n,t);for(const n of m6.values())_E(n,t);return!0}function nw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oa=new dd("app","Firebase",g6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=f6;function SC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:a0,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw oa.create("bad-app-name",{appName:String(i)});if(n||(n=yC()),!n)throw oa.create("no-options");const a=If.get(i);if(a){if(fs(n,a.options)&&fs(r,a.config))return a;throw oa.create("duplicate-app",{appName:i})}const s=new SV(i);for(const l of s0.values())s.addComponent(l);const o=new y6(n,r,s);return If.set(i,o),o}function EC(t=a0){const e=If.get(t);if(!e&&t===a0&&yC())return SC();if(!e)throw oa.create("no-app",{appName:t});return e}function la(t,e,n){var r;let i=(r=p6[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const o=[`Unable to register library "${i}" with version "${e}":`];a&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fi.warn(o.join(" "));return}ko(new ps(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="firebase-heartbeat-database",x6=1,mu="firebase-heartbeat-store";let wy=null;function PC(){return wy||(wy=RV(v6,x6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(t=>{throw oa.create("idb-open",{originalErrorMessage:t.message})})),wy}async function b6(t){try{const n=(await PC()).transaction(mu),r=await n.objectStore(mu).get(AC(t));return await n.done,r}catch(e){if(e instanceof Ei)fi.warn(e.message);else{const n=oa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fi.warn(n.message)}}}async function SE(t,e){try{const r=(await PC()).transaction(mu,"readwrite");await r.objectStore(mu).put(e,AC(t)),await r.done}catch(n){if(n instanceof Ei)fi.warn(n.message);else{const r=oa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fi.warn(r.message)}}}function AC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=1024,_6=30;class S6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new P6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=EE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>_6){const s=A6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=EE(),{heartbeatsToSend:r,unsentEntries:i}=E6(this._heartbeatsCache.heartbeats),a=Mf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return fi.warn(n),""}}}function EE(){return new Date().toISOString().substring(0,10)}function E6(t,e=w6){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),PE(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),PE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class P6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dV()?hV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return SE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return SE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function PE(t){return Mf(JSON.stringify({version:2,heartbeats:t})).length}function A6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(t){ko(new ps("platform-logger",e=>new FV(e),"PRIVATE")),ko(new ps("heartbeat",e=>new S6(e),"PRIVATE")),la(i0,wE,t),la(i0,wE,"esm2017"),la("fire-js","")}T6("");var AE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ca,TC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function M(){}M.prototype=T.prototype,S.D=T.prototype,S.prototype=new M,S.prototype.constructor=S,S.C=function(I,O,j){for(var C=Array(arguments.length-2),L=2;L<arguments.length;L++)C[L-2]=arguments[L];return T.prototype[O].apply(I,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,T,M){M||(M=0);var I=Array(16);if(typeof T=="string")for(var O=0;16>O;++O)I[O]=T.charCodeAt(M++)|T.charCodeAt(M++)<<8|T.charCodeAt(M++)<<16|T.charCodeAt(M++)<<24;else for(O=0;16>O;++O)I[O]=T[M++]|T[M++]<<8|T[M++]<<16|T[M++]<<24;T=S.g[0],M=S.g[1],O=S.g[2];var j=S.g[3],C=T+(j^M&(O^j))+I[0]+3614090360&4294967295;T=M+(C<<7&4294967295|C>>>25),C=j+(O^T&(M^O))+I[1]+3905402710&4294967295,j=T+(C<<12&4294967295|C>>>20),C=O+(M^j&(T^M))+I[2]+606105819&4294967295,O=j+(C<<17&4294967295|C>>>15),C=M+(T^O&(j^T))+I[3]+3250441966&4294967295,M=O+(C<<22&4294967295|C>>>10),C=T+(j^M&(O^j))+I[4]+4118548399&4294967295,T=M+(C<<7&4294967295|C>>>25),C=j+(O^T&(M^O))+I[5]+1200080426&4294967295,j=T+(C<<12&4294967295|C>>>20),C=O+(M^j&(T^M))+I[6]+2821735955&4294967295,O=j+(C<<17&4294967295|C>>>15),C=M+(T^O&(j^T))+I[7]+4249261313&4294967295,M=O+(C<<22&4294967295|C>>>10),C=T+(j^M&(O^j))+I[8]+1770035416&4294967295,T=M+(C<<7&4294967295|C>>>25),C=j+(O^T&(M^O))+I[9]+2336552879&4294967295,j=T+(C<<12&4294967295|C>>>20),C=O+(M^j&(T^M))+I[10]+4294925233&4294967295,O=j+(C<<17&4294967295|C>>>15),C=M+(T^O&(j^T))+I[11]+2304563134&4294967295,M=O+(C<<22&4294967295|C>>>10),C=T+(j^M&(O^j))+I[12]+1804603682&4294967295,T=M+(C<<7&4294967295|C>>>25),C=j+(O^T&(M^O))+I[13]+4254626195&4294967295,j=T+(C<<12&4294967295|C>>>20),C=O+(M^j&(T^M))+I[14]+2792965006&4294967295,O=j+(C<<17&4294967295|C>>>15),C=M+(T^O&(j^T))+I[15]+1236535329&4294967295,M=O+(C<<22&4294967295|C>>>10),C=T+(O^j&(M^O))+I[1]+4129170786&4294967295,T=M+(C<<5&4294967295|C>>>27),C=j+(M^O&(T^M))+I[6]+3225465664&4294967295,j=T+(C<<9&4294967295|C>>>23),C=O+(T^M&(j^T))+I[11]+643717713&4294967295,O=j+(C<<14&4294967295|C>>>18),C=M+(j^T&(O^j))+I[0]+3921069994&4294967295,M=O+(C<<20&4294967295|C>>>12),C=T+(O^j&(M^O))+I[5]+3593408605&4294967295,T=M+(C<<5&4294967295|C>>>27),C=j+(M^O&(T^M))+I[10]+38016083&4294967295,j=T+(C<<9&4294967295|C>>>23),C=O+(T^M&(j^T))+I[15]+3634488961&4294967295,O=j+(C<<14&4294967295|C>>>18),C=M+(j^T&(O^j))+I[4]+3889429448&4294967295,M=O+(C<<20&4294967295|C>>>12),C=T+(O^j&(M^O))+I[9]+568446438&4294967295,T=M+(C<<5&4294967295|C>>>27),C=j+(M^O&(T^M))+I[14]+3275163606&4294967295,j=T+(C<<9&4294967295|C>>>23),C=O+(T^M&(j^T))+I[3]+4107603335&4294967295,O=j+(C<<14&4294967295|C>>>18),C=M+(j^T&(O^j))+I[8]+1163531501&4294967295,M=O+(C<<20&4294967295|C>>>12),C=T+(O^j&(M^O))+I[13]+2850285829&4294967295,T=M+(C<<5&4294967295|C>>>27),C=j+(M^O&(T^M))+I[2]+4243563512&4294967295,j=T+(C<<9&4294967295|C>>>23),C=O+(T^M&(j^T))+I[7]+1735328473&4294967295,O=j+(C<<14&4294967295|C>>>18),C=M+(j^T&(O^j))+I[12]+2368359562&4294967295,M=O+(C<<20&4294967295|C>>>12),C=T+(M^O^j)+I[5]+4294588738&4294967295,T=M+(C<<4&4294967295|C>>>28),C=j+(T^M^O)+I[8]+2272392833&4294967295,j=T+(C<<11&4294967295|C>>>21),C=O+(j^T^M)+I[11]+1839030562&4294967295,O=j+(C<<16&4294967295|C>>>16),C=M+(O^j^T)+I[14]+4259657740&4294967295,M=O+(C<<23&4294967295|C>>>9),C=T+(M^O^j)+I[1]+2763975236&4294967295,T=M+(C<<4&4294967295|C>>>28),C=j+(T^M^O)+I[4]+1272893353&4294967295,j=T+(C<<11&4294967295|C>>>21),C=O+(j^T^M)+I[7]+4139469664&4294967295,O=j+(C<<16&4294967295|C>>>16),C=M+(O^j^T)+I[10]+3200236656&4294967295,M=O+(C<<23&4294967295|C>>>9),C=T+(M^O^j)+I[13]+681279174&4294967295,T=M+(C<<4&4294967295|C>>>28),C=j+(T^M^O)+I[0]+3936430074&4294967295,j=T+(C<<11&4294967295|C>>>21),C=O+(j^T^M)+I[3]+3572445317&4294967295,O=j+(C<<16&4294967295|C>>>16),C=M+(O^j^T)+I[6]+76029189&4294967295,M=O+(C<<23&4294967295|C>>>9),C=T+(M^O^j)+I[9]+3654602809&4294967295,T=M+(C<<4&4294967295|C>>>28),C=j+(T^M^O)+I[12]+3873151461&4294967295,j=T+(C<<11&4294967295|C>>>21),C=O+(j^T^M)+I[15]+530742520&4294967295,O=j+(C<<16&4294967295|C>>>16),C=M+(O^j^T)+I[2]+3299628645&4294967295,M=O+(C<<23&4294967295|C>>>9),C=T+(O^(M|~j))+I[0]+4096336452&4294967295,T=M+(C<<6&4294967295|C>>>26),C=j+(M^(T|~O))+I[7]+1126891415&4294967295,j=T+(C<<10&4294967295|C>>>22),C=O+(T^(j|~M))+I[14]+2878612391&4294967295,O=j+(C<<15&4294967295|C>>>17),C=M+(j^(O|~T))+I[5]+4237533241&4294967295,M=O+(C<<21&4294967295|C>>>11),C=T+(O^(M|~j))+I[12]+1700485571&4294967295,T=M+(C<<6&4294967295|C>>>26),C=j+(M^(T|~O))+I[3]+2399980690&4294967295,j=T+(C<<10&4294967295|C>>>22),C=O+(T^(j|~M))+I[10]+4293915773&4294967295,O=j+(C<<15&4294967295|C>>>17),C=M+(j^(O|~T))+I[1]+2240044497&4294967295,M=O+(C<<21&4294967295|C>>>11),C=T+(O^(M|~j))+I[8]+1873313359&4294967295,T=M+(C<<6&4294967295|C>>>26),C=j+(M^(T|~O))+I[15]+4264355552&4294967295,j=T+(C<<10&4294967295|C>>>22),C=O+(T^(j|~M))+I[6]+2734768916&4294967295,O=j+(C<<15&4294967295|C>>>17),C=M+(j^(O|~T))+I[13]+1309151649&4294967295,M=O+(C<<21&4294967295|C>>>11),C=T+(O^(M|~j))+I[4]+4149444226&4294967295,T=M+(C<<6&4294967295|C>>>26),C=j+(M^(T|~O))+I[11]+3174756917&4294967295,j=T+(C<<10&4294967295|C>>>22),C=O+(T^(j|~M))+I[2]+718787259&4294967295,O=j+(C<<15&4294967295|C>>>17),C=M+(j^(O|~T))+I[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+j&4294967295}r.prototype.u=function(S,T){T===void 0&&(T=S.length);for(var M=T-this.blockSize,I=this.B,O=this.h,j=0;j<T;){if(O==0)for(;j<=M;)i(this,S,j),j+=this.blockSize;if(typeof S=="string"){for(;j<T;)if(I[O++]=S.charCodeAt(j++),O==this.blockSize){i(this,I),O=0;break}}else for(;j<T;)if(I[O++]=S[j++],O==this.blockSize){i(this,I),O=0;break}}this.h=O,this.o+=T},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;var M=8*this.o;for(T=S.length-8;T<S.length;++T)S[T]=M&255,M/=256;for(this.u(S),S=Array(16),T=M=0;4>T;++T)for(var I=0;32>I;I+=8)S[M++]=this.g[T]>>>I&255;return S};function a(S,T){var M=o;return Object.prototype.hasOwnProperty.call(M,S)?M[S]:M[S]=T(S)}function s(S,T){this.h=T;for(var M=[],I=!0,O=S.length-1;0<=O;O--){var j=S[O]|0;I&&j==T||(M[O]=j,I=!1)}this.g=M}var o={};function l(S){return-128<=S&&128>S?a(S,function(T){return new s([T|0],0>T?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return g(c(-S));for(var T=[],M=1,I=0;S>=M;I++)T[I]=S/M|0,M*=4294967296;return new s(T,0)}function h(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return g(h(S.substring(1),T));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=c(Math.pow(T,8)),I=d,O=0;O<S.length;O+=8){var j=Math.min(8,S.length-O),C=parseInt(S.substring(O,O+j),T);8>j?(j=c(Math.pow(T,j)),I=I.j(j).add(c(C))):(I=I.j(M),I=I.add(c(C)))}return I}var d=l(0),p=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(w(this))return-g(this).m();for(var S=0,T=1,M=0;M<this.g.length;M++){var I=this.i(M);S+=(0<=I?I:4294967296+I)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(y(this))return"0";if(w(this))return"-"+g(this).toString(S);for(var T=c(Math.pow(S,6)),M=this,I="";;){var O=A(M,T).g;M=x(M,O.j(T));var j=((0<M.g.length?M.g[0]:M.h)>>>0).toString(S);if(M=O,y(M))return j+I;for(;6>j.length;)j="0"+j;I=j+I}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function y(S){if(S.h!=0)return!1;for(var T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=x(this,S),w(S)?-1:y(S)?0:1};function g(S){for(var T=S.g.length,M=[],I=0;I<T;I++)M[I]=~S.g[I];return new s(M,~S.h).add(p)}t.abs=function(){return w(this)?g(this):this},t.add=function(S){for(var T=Math.max(this.g.length,S.g.length),M=[],I=0,O=0;O<=T;O++){var j=I+(this.i(O)&65535)+(S.i(O)&65535),C=(j>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);I=C>>>16,j&=65535,C&=65535,M[O]=C<<16|j}return new s(M,M[M.length-1]&-2147483648?-1:0)};function x(S,T){return S.add(g(T))}t.j=function(S){if(y(this)||y(S))return d;if(w(this))return w(S)?g(this).j(g(S)):g(g(this).j(S));if(w(S))return g(this.j(g(S)));if(0>this.l(m)&&0>S.l(m))return c(this.m()*S.m());for(var T=this.g.length+S.g.length,M=[],I=0;I<2*T;I++)M[I]=0;for(I=0;I<this.g.length;I++)for(var O=0;O<S.g.length;O++){var j=this.i(I)>>>16,C=this.i(I)&65535,L=S.i(O)>>>16,B=S.i(O)&65535;M[2*I+2*O]+=C*B,v(M,2*I+2*O),M[2*I+2*O+1]+=j*B,v(M,2*I+2*O+1),M[2*I+2*O+1]+=C*L,v(M,2*I+2*O+1),M[2*I+2*O+2]+=j*L,v(M,2*I+2*O+2)}for(I=0;I<T;I++)M[I]=M[2*I+1]<<16|M[2*I];for(I=T;I<2*T;I++)M[I]=0;return new s(M,0)};function v(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function _(S,T){this.g=S,this.h=T}function A(S,T){if(y(T))throw Error("division by zero");if(y(S))return new _(d,d);if(w(S))return T=A(g(S),T),new _(g(T.g),g(T.h));if(w(T))return T=A(S,g(T)),new _(g(T.g),T.h);if(30<S.g.length){if(w(S)||w(T))throw Error("slowDivide_ only works with positive integers.");for(var M=p,I=T;0>=I.l(S);)M=P(M),I=P(I);var O=E(M,1),j=E(I,1);for(I=E(I,2),M=E(M,2);!y(I);){var C=j.add(I);0>=C.l(S)&&(O=O.add(M),j=C),I=E(I,1),M=E(M,1)}return T=x(S,O.j(T)),new _(O,T)}for(O=d;0<=S.l(T);){for(M=Math.max(1,Math.floor(S.m()/T.m())),I=Math.ceil(Math.log(M)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),j=c(M),C=j.j(T);w(C)||0<C.l(S);)M-=I,j=c(M),C=j.j(T);y(j)&&(j=p),O=O.add(j),S=x(S,C)}return new _(O,S)}t.A=function(S){return A(this,S).h},t.and=function(S){for(var T=Math.max(this.g.length,S.g.length),M=[],I=0;I<T;I++)M[I]=this.i(I)&S.i(I);return new s(M,this.h&S.h)},t.or=function(S){for(var T=Math.max(this.g.length,S.g.length),M=[],I=0;I<T;I++)M[I]=this.i(I)|S.i(I);return new s(M,this.h|S.h)},t.xor=function(S){for(var T=Math.max(this.g.length,S.g.length),M=[],I=0;I<T;I++)M[I]=this.i(I)^S.i(I);return new s(M,this.h^S.h)};function P(S){for(var T=S.g.length+1,M=[],I=0;I<T;I++)M[I]=S.i(I)<<1|S.i(I-1)>>>31;return new s(M,S.h)}function E(S,T){var M=T>>5;T%=32;for(var I=S.g.length-M,O=[],j=0;j<I;j++)O[j]=0<T?S.i(j+M)>>>T|S.i(j+M+1)<<32-T:S.i(j+M);return new s(O,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,TC=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=h,ca=s}).apply(typeof AE<"u"?AE:typeof self<"u"?self:typeof window<"u"?window:{});var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NC,wc,MC,Kh,o0,IC,jC,CC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,N){return f==Array.prototype||f==Object.prototype||(f[b]=N.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof fh=="object"&&fh];for(var b=0;b<f.length;++b){var N=f[b];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(f,b){if(b)e:{var N=r;f=f.split(".");for(var D=0;D<f.length-1;D++){var z=f[D];if(!(z in N))break e;N=N[z]}f=f[f.length-1],D=N[f],b=b(D),b!=D&&b!=null&&e(N,f,{configurable:!0,writable:!0,value:b})}}function a(f,b){f instanceof String&&(f+="");var N=0,D=!1,z={next:function(){if(!D&&N<f.length){var W=N++;return{value:b(W,f[W]),done:!1}}return D=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}i("Array.prototype.values",function(f){return f||function(){return a(this,function(b,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function c(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function h(f,b,N){return f.call.apply(f.bind,arguments)}function d(f,b,N){if(!f)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,D),f.apply(b,z)}}return function(){return f.apply(b,arguments)}}function p(f,b,N){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,p.apply(null,arguments)}function m(f,b){var N=Array.prototype.slice.call(arguments,1);return function(){var D=N.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function y(f,b){function N(){}N.prototype=b.prototype,f.aa=b.prototype,f.prototype=new N,f.prototype.constructor=f,f.Qb=function(D,z,W){for(var Z=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)Z[Le-2]=arguments[Le];return b.prototype[z].apply(D,Z)}}function w(f){const b=f.length;if(0<b){const N=Array(b);for(let D=0;D<b;D++)N[D]=f[D];return N}return[]}function g(f,b){for(let N=1;N<arguments.length;N++){const D=arguments[N];if(l(D)){const z=f.length||0,W=D.length||0;f.length=z+W;for(let Z=0;Z<W;Z++)f[z+Z]=D[Z]}else f.push(D)}}class x{constructor(b,N){this.i=b,this.j=N,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function v(f){return/^[\s\xa0]*$/.test(f)}function _(){var f=o.navigator;return f&&(f=f.userAgent)?f:""}function A(f){return A[" "](f),f}A[" "]=function(){};var P=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function E(f,b,N){for(const D in f)b.call(N,f[D],D,f)}function S(f,b){for(const N in f)b.call(void 0,f[N],N,f)}function T(f){const b={};for(const N in f)b[N]=f[N];return b}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(f,b){let N,D;for(let z=1;z<arguments.length;z++){D=arguments[z];for(N in D)f[N]=D[N];for(let W=0;W<M.length;W++)N=M[W],Object.prototype.hasOwnProperty.call(D,N)&&(f[N]=D[N])}}function O(f){var b=1;f=f.split(":");const N=[];for(;0<b&&f.length;)N.push(f.shift()),b--;return f.length&&N.push(f.join(":")),N}function j(f){o.setTimeout(()=>{throw f},0)}function C(){var f=V;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class L{constructor(){this.h=this.g=null}add(b,N){const D=B.get();D.set(b,N),this.h?this.h.next=D:this.g=D,this.h=D}}var B=new x(()=>new F,f=>f.reset());class F{constructor(){this.next=this.g=this.h=null}set(b,N){this.h=b,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let U,R=!1,V=new L,$=()=>{const f=o.Promise.resolve(void 0);U=()=>{f.then(K)}};var K=()=>{for(var f;f=C();){try{f.h.call(f.g)}catch(N){j(N)}var b=B;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}R=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const N=()=>{};o.addEventListener("test",N,b),o.removeEventListener("test",N,b)}catch{}return f}();function be(f,b){if(ee.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var N=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if(P){e:{try{A(b.nodeName);var z=!0;break e}catch{}z=!1}z||(b=null)}}else N=="mouseover"?b=f.fromElement:N=="mouseout"&&(b=f.toElement);this.relatedTarget=b,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ne[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&be.aa.h.call(this)}}y(be,ee);var Ne={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),Ht=0;function ne(f,b,N,D,z){this.listener=f,this.proxy=null,this.src=b,this.type=N,this.capture=!!D,this.ha=z,this.key=++Ht,this.da=this.fa=!1}function de(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function fe(f){this.src=f,this.g={},this.h=0}fe.prototype.add=function(f,b,N,D,z){var W=f.toString();f=this.g[W],f||(f=this.g[W]=[],this.h++);var Z=Ve(f,b,D,z);return-1<Z?(b=f[Z],N||(b.fa=!1)):(b=new ne(b,this.src,W,!!D,z),b.fa=N,f.push(b)),b};function Q(f,b){var N=b.type;if(N in f.g){var D=f.g[N],z=Array.prototype.indexOf.call(D,b,void 0),W;(W=0<=z)&&Array.prototype.splice.call(D,z,1),W&&(de(b),f.g[N].length==0&&(delete f.g[N],f.h--))}}function Ve(f,b,N,D){for(var z=0;z<f.length;++z){var W=f[z];if(!W.da&&W.listener==b&&W.capture==!!N&&W.ha==D)return z}return-1}var ye="closure_lm_"+(1e6*Math.random()|0),Ze={};function at(f,b,N,D,z){if(Array.isArray(b)){for(var W=0;W<b.length;W++)at(f,b[W],N,D,z);return null}return N=Rl(N),f&&f[ht]?f.K(b,N,c(D)?!!D.capture:!1,z):zt(f,b,N,!1,D,z)}function zt(f,b,N,D,z,W){if(!b)throw Error("Invalid event type");var Z=c(z)?!!z.capture:!!z,Le=Ca(f);if(Le||(f[ye]=Le=new fe(f)),N=Le.add(b,N,D,Z,W),N.proxy)return N;if(D=_r(),N.proxy=D,D.src=f,D.listener=N,f.addEventListener)me||(z=Z),z===void 0&&(z=!1),f.addEventListener(b.toString(),D,z);else if(f.attachEvent)f.attachEvent(Sr(b.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return N}function _r(){function f(N){return b.call(f.src,f.listener,N)}const b=Wr;return f}function zr(f,b,N,D,z){if(Array.isArray(b))for(var W=0;W<b.length;W++)zr(f,b[W],N,D,z);else D=c(D)?!!D.capture:!!D,N=Rl(N),f&&f[ht]?(f=f.i,b=String(b).toString(),b in f.g&&(W=f.g[b],N=Ve(W,N,D,z),-1<N&&(de(W[N]),Array.prototype.splice.call(W,N,1),W.length==0&&(delete f.g[b],f.h--)))):f&&(f=Ca(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Ve(b,N,D,z)),(N=-1<f?b[f]:null)&&Ii(N))}function Ii(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[ht])Q(b.i,f);else{var N=f.type,D=f.proxy;b.removeEventListener?b.removeEventListener(N,D,f.capture):b.detachEvent?b.detachEvent(Sr(N),D):b.addListener&&b.removeListener&&b.removeListener(D),(N=Ca(b))?(Q(N,f),N.h==0&&(N.src=null,b[ye]=null)):de(f)}}}function Sr(f){return f in Ze?Ze[f]:Ze[f]="on"+f}function Wr(f,b){if(f.da)f=!0;else{b=new be(b,this);var N=f.listener,D=f.ha||f.src;f.fa&&Ii(f),f=N.call(D,b)}return f}function Ca(f){return f=f[ye],f instanceof fe?f:null}var Cs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rl(f){return typeof f=="function"?f:(f[Cs]||(f[Cs]=function(b){return f.handleEvent(b)}),f[Cs])}function Wt(){q.call(this),this.i=new fe(this),this.M=this,this.F=null}y(Wt,q),Wt.prototype[ht]=!0,Wt.prototype.removeEventListener=function(f,b,N,D){zr(this,f,b,N,D)};function sn(f,b){var N,D=f.F;if(D)for(N=[];D;D=D.F)N.push(D);if(f=f.M,D=b.type||b,typeof b=="string")b=new ee(b,f);else if(b instanceof ee)b.target=b.target||f;else{var z=b;b=new ee(D,f),I(b,z)}if(z=!0,N)for(var W=N.length-1;0<=W;W--){var Z=b.g=N[W];z=Od(Z,D,!0,b)&&z}if(Z=b.g=f,z=Od(Z,D,!0,b)&&z,z=Od(Z,D,!1,b)&&z,N)for(W=0;W<N.length;W++)Z=b.g=N[W],z=Od(Z,D,!1,b)&&z}Wt.prototype.N=function(){if(Wt.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var N=f.g[b],D=0;D<N.length;D++)de(N[D]);delete f.g[b],f.h--}}this.F=null},Wt.prototype.K=function(f,b,N,D){return this.i.add(String(f),b,!1,N,D)},Wt.prototype.L=function(f,b,N,D){return this.i.add(String(f),b,!0,N,D)};function Od(f,b,N,D){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var z=!0,W=0;W<b.length;++W){var Z=b[W];if(Z&&!Z.da&&Z.capture==N){var Le=Z.listener,Dt=Z.ha||Z.src;Z.fa&&Q(f.i,Z),z=Le.call(Dt,D)!==!1&&z}}return z&&!D.defaultPrevented}function n1(f,b,N){if(typeof f=="function")N&&(f=p(f,N));else if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:o.setTimeout(f,b||0)}function r1(f){f.g=n1(()=>{f.g=null,f.i&&(f.i=!1,r1(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class T$ extends q{constructor(b,N){super(),this.m=b,this.l=N,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:r1(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $l(f){q.call(this),this.h=f,this.g={}}y($l,q);var i1=[];function a1(f){E(f.g,function(b,N){this.g.hasOwnProperty(N)&&Ii(b)},f),f.g={}}$l.prototype.N=function(){$l.aa.N.call(this),a1(this)},$l.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ng=o.JSON.stringify,N$=o.JSON.parse,M$=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function Mg(){}Mg.prototype.h=null;function s1(f){return f.h||(f.h=f.i())}function o1(){}var Ll={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ig(){ee.call(this,"d")}y(Ig,ee);function jg(){ee.call(this,"c")}y(jg,ee);var Oa={},l1=null;function Dd(){return l1=l1||new Wt}Oa.La="serverreachability";function c1(f){ee.call(this,Oa.La,f)}y(c1,ee);function Fl(f){const b=Dd();sn(b,new c1(b))}Oa.STAT_EVENT="statevent";function u1(f,b){ee.call(this,Oa.STAT_EVENT,f),this.stat=b}y(u1,ee);function on(f){const b=Dd();sn(b,new u1(b,f))}Oa.Ma="timingevent";function d1(f,b){ee.call(this,Oa.Ma,f),this.size=b}y(d1,ee);function Vl(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},b)}function Bl(){this.g=!0}Bl.prototype.xa=function(){this.g=!1};function I$(f,b,N,D,z,W){f.info(function(){if(f.g)if(W)for(var Z="",Le=W.split("&"),Dt=0;Dt<Le.length;Dt++){var Me=Le[Dt].split("=");if(1<Me.length){var Kt=Me[0];Me=Me[1];var Gt=Kt.split("_");Z=2<=Gt.length&&Gt[1]=="type"?Z+(Kt+"="+Me+"&"):Z+(Kt+"=redacted&")}}else Z=null;else Z=W;return"XMLHTTP REQ ("+D+") [attempt "+z+"]: "+b+`
`+N+`
`+Z})}function j$(f,b,N,D,z,W,Z){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+z+"]: "+b+`
`+N+`
`+W+" "+Z})}function Os(f,b,N,D){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+O$(f,N)+(D?" "+D:"")})}function C$(f,b){f.info(function(){return"TIMEOUT: "+b})}Bl.prototype.info=function(){};function O$(f,b){if(!f.g)return b;if(!b)return null;try{var N=JSON.parse(b);if(N){for(f=0;f<N.length;f++)if(Array.isArray(N[f])){var D=N[f];if(!(2>D.length)){var z=D[1];if(Array.isArray(z)&&!(1>z.length)){var W=z[0];if(W!="noop"&&W!="stop"&&W!="close")for(var Z=1;Z<z.length;Z++)z[Z]=""}}}}return Ng(N)}catch{return b}}var kd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},h1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cg;function Rd(){}y(Rd,Mg),Rd.prototype.g=function(){return new XMLHttpRequest},Rd.prototype.i=function(){return{}},Cg=new Rd;function ji(f,b,N,D){this.j=f,this.i=b,this.l=N,this.R=D||1,this.U=new $l(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new f1}function f1(){this.i=null,this.g="",this.h=!1}var p1={},Og={};function Dg(f,b,N){f.L=1,f.v=Vd(Kr(b)),f.m=N,f.P=!0,m1(f,null)}function m1(f,b){f.F=Date.now(),$d(f),f.A=Kr(f.v);var N=f.A,D=f.R;Array.isArray(D)||(D=[String(D)]),M1(N.i,"t",D),f.C=0,N=f.j.J,f.h=new f1,f.g=G1(f.j,N?b:null,!f.m),0<f.O&&(f.M=new T$(p(f.Y,f,f.g),f.O)),b=f.U,N=f.g,D=f.ca;var z="readystatechange";Array.isArray(z)||(z&&(i1[0]=z.toString()),z=i1);for(var W=0;W<z.length;W++){var Z=at(N,z[W],D||b.handleEvent,!1,b.h||b);if(!Z)break;b.g[Z.key]=Z}b=f.H?T(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),Fl(),I$(f.i,f.u,f.A,f.l,f.R,f.m)}ji.prototype.ca=function(f){f=f.target;const b=this.M;b&&Gr(f)==3?b.j():this.Y(f)},ji.prototype.Y=function(f){try{if(f==this.g)e:{const Gt=Gr(this.g);var b=this.g.Ba();const Rs=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||R1(this.g)))){this.J||Gt!=4||b==7||(b==8||0>=Rs?Fl(3):Fl(2)),kg(this);var N=this.g.Z();this.X=N;t:if(g1(this)){var D=R1(this.g);f="";var z=D.length,W=Gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Da(this),Ul(this);var Z="";break t}this.h.i=new o.TextDecoder}for(b=0;b<z;b++)this.h.h=!0,f+=this.h.i.decode(D[b],{stream:!(W&&b==z-1)});D.length=0,this.h.g+=f,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=N==200,j$(this.i,this.u,this.A,this.l,this.R,Gt,N),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Dt=this.g;if((Le=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Le)){var Me=Le;break t}}Me=null}if(N=Me)Os(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rg(this,N);else{this.o=!1,this.s=3,on(12),Da(this),Ul(this);break e}}if(this.P){N=!0;let tr;for(;!this.J&&this.C<Z.length;)if(tr=D$(this,Z),tr==Og){Gt==4&&(this.s=4,on(14),N=!1),Os(this.i,this.l,null,"[Incomplete Response]");break}else if(tr==p1){this.s=4,on(15),Os(this.i,this.l,Z,"[Invalid Chunk]"),N=!1;break}else Os(this.i,this.l,tr,null),Rg(this,tr);if(g1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||Z.length!=0||this.h.h||(this.s=1,on(16),N=!1),this.o=this.o&&N,!N)Os(this.i,this.l,Z,"[Invalid Chunked Response]"),Da(this),Ul(this);else if(0<Z.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Ug(Kt),Kt.M=!0,on(11))}}else Os(this.i,this.l,Z,null),Rg(this,Z);Gt==4&&Da(this),this.o&&!this.J&&(Gt==4?H1(this.j,this):(this.o=!1,$d(this)))}else Q$(this.g),N==400&&0<Z.indexOf("Unknown SID")?(this.s=3,on(12)):(this.s=0,on(13)),Da(this),Ul(this)}}}catch{}finally{}};function g1(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function D$(f,b){var N=f.C,D=b.indexOf(`
`,N);return D==-1?Og:(N=Number(b.substring(N,D)),isNaN(N)?p1:(D+=1,D+N>b.length?Og:(b=b.slice(D,D+N),f.C=D+N,b)))}ji.prototype.cancel=function(){this.J=!0,Da(this)};function $d(f){f.S=Date.now()+f.I,y1(f,f.I)}function y1(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Vl(p(f.ba,f),b)}function kg(f){f.B&&(o.clearTimeout(f.B),f.B=null)}ji.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(C$(this.i,this.A),this.L!=2&&(Fl(),on(17)),Da(this),this.s=2,Ul(this)):y1(this,this.S-f)};function Ul(f){f.j.G==0||f.J||H1(f.j,f)}function Da(f){kg(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,a1(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function Rg(f,b){try{var N=f.j;if(N.G!=0&&(N.g==f||$g(N.h,f))){if(!f.K&&$g(N.h,f)&&N.G==3){try{var D=N.Da.g.parse(b)}catch{D=null}if(Array.isArray(D)&&D.length==3){var z=D;if(z[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<f.F)Kd(N),zd(N);else break e;Bg(N),on(18)}}else N.za=z[1],0<N.za-N.T&&37500>z[2]&&N.F&&N.v==0&&!N.C&&(N.C=Vl(p(N.Za,N),6e3));if(1>=b1(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else Ra(N,11)}else if((f.K||N.g==f)&&Kd(N),!v(b))for(z=N.Da.g.parse(b),b=0;b<z.length;b++){let Me=z[b];if(N.T=Me[0],Me=Me[1],N.G==2)if(Me[0]=="c"){N.K=Me[1],N.ia=Me[2];const Kt=Me[3];Kt!=null&&(N.la=Kt,N.j.info("VER="+N.la));const Gt=Me[4];Gt!=null&&(N.Aa=Gt,N.j.info("SVER="+N.Aa));const Rs=Me[5];Rs!=null&&typeof Rs=="number"&&0<Rs&&(D=1.5*Rs,N.L=D,N.j.info("backChannelRequestTimeoutMs_="+D)),D=N;const tr=f.g;if(tr){const qd=tr.g?tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qd){var W=D.h;W.g||qd.indexOf("spdy")==-1&&qd.indexOf("quic")==-1&&qd.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Lg(W,W.h),W.h=null))}if(D.D){const Hg=tr.g?tr.g.getResponseHeader("X-HTTP-Session-Id"):null;Hg&&(D.ya=Hg,ze(D.I,D.D,Hg))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-f.F,N.j.info("Handshake RTT: "+N.R+"ms")),D=N;var Z=f;if(D.qa=K1(D,D.J?D.ia:null,D.W),Z.K){w1(D.h,Z);var Le=Z,Dt=D.L;Dt&&(Le.I=Dt),Le.B&&(kg(Le),$d(Le)),D.g=Z}else B1(D);0<N.i.length&&Wd(N)}else Me[0]!="stop"&&Me[0]!="close"||Ra(N,7);else N.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Ra(N,7):Vg(N):Me[0]!="noop"&&N.l&&N.l.ta(Me),N.v=0)}}Fl(4)}catch{}}var k$=class{constructor(f,b){this.g=f,this.map=b}};function v1(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function x1(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function b1(f){return f.h?1:f.g?f.g.size:0}function $g(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Lg(f,b){f.g?f.g.add(b):f.h=b}function w1(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}v1.prototype.cancel=function(){if(this.i=_1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function _1(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const N of f.g.values())b=b.concat(N.D);return b}return w(f.i)}function R$(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var b=[],N=f.length,D=0;D<N;D++)b.push(f[D]);return b}b=[],N=0;for(D in f)b[N++]=f[D];return b}function $$(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var b=[];f=f.length;for(var N=0;N<f;N++)b.push(N);return b}b=[],N=0;for(const D in f)b[N++]=D;return b}}}function S1(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var N=$$(f),D=R$(f),z=D.length,W=0;W<z;W++)b.call(void 0,D[W],N&&N[W],f)}var E1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function L$(f,b){if(f){f=f.split("&");for(var N=0;N<f.length;N++){var D=f[N].indexOf("="),z=null;if(0<=D){var W=f[N].substring(0,D);z=f[N].substring(D+1)}else W=f[N];b(W,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ka(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ka){this.h=f.h,Ld(this,f.j),this.o=f.o,this.g=f.g,Fd(this,f.s),this.l=f.l;var b=f.i,N=new Wl;N.i=b.i,b.g&&(N.g=new Map(b.g),N.h=b.h),P1(this,N),this.m=f.m}else f&&(b=String(f).match(E1))?(this.h=!1,Ld(this,b[1]||"",!0),this.o=Hl(b[2]||""),this.g=Hl(b[3]||"",!0),Fd(this,b[4]),this.l=Hl(b[5]||"",!0),P1(this,b[6]||"",!0),this.m=Hl(b[7]||"")):(this.h=!1,this.i=new Wl(null,this.h))}ka.prototype.toString=function(){var f=[],b=this.j;b&&f.push(zl(b,A1,!0),":");var N=this.g;return(N||b=="file")&&(f.push("//"),(b=this.o)&&f.push(zl(b,A1,!0),"@"),f.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&f.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&f.push("/"),f.push(zl(N,N.charAt(0)=="/"?B$:V$,!0))),(N=this.i.toString())&&f.push("?",N),(N=this.m)&&f.push("#",zl(N,H$)),f.join("")};function Kr(f){return new ka(f)}function Ld(f,b,N){f.j=N?Hl(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Fd(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function P1(f,b,N){b instanceof Wl?(f.i=b,z$(f.i,f.h)):(N||(b=zl(b,U$)),f.i=new Wl(b,f.h))}function ze(f,b,N){f.i.set(b,N)}function Vd(f){return ze(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Hl(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function zl(f,b,N){return typeof f=="string"?(f=encodeURI(f).replace(b,F$),N&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function F$(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var A1=/[#\/\?@]/g,V$=/[#\?:]/g,B$=/[#\?]/g,U$=/[#\?@]/g,H$=/#/g;function Wl(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function Ci(f){f.g||(f.g=new Map,f.h=0,f.i&&L$(f.i,function(b,N){f.add(decodeURIComponent(b.replace(/\+/g," ")),N)}))}t=Wl.prototype,t.add=function(f,b){Ci(this),this.i=null,f=Ds(this,f);var N=this.g.get(f);return N||this.g.set(f,N=[]),N.push(b),this.h+=1,this};function T1(f,b){Ci(f),b=Ds(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function N1(f,b){return Ci(f),b=Ds(f,b),f.g.has(b)}t.forEach=function(f,b){Ci(this),this.g.forEach(function(N,D){N.forEach(function(z){f.call(b,z,D,this)},this)},this)},t.na=function(){Ci(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),N=[];for(let D=0;D<b.length;D++){const z=f[D];for(let W=0;W<z.length;W++)N.push(b[D])}return N},t.V=function(f){Ci(this);let b=[];if(typeof f=="string")N1(this,f)&&(b=b.concat(this.g.get(Ds(this,f))));else{f=Array.from(this.g.values());for(let N=0;N<f.length;N++)b=b.concat(f[N])}return b},t.set=function(f,b){return Ci(this),this.i=null,f=Ds(this,f),N1(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function M1(f,b,N){T1(f,b),0<N.length&&(f.i=null,f.g.set(Ds(f,b),w(N)),f.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var N=0;N<b.length;N++){var D=b[N];const W=encodeURIComponent(String(D)),Z=this.V(D);for(D=0;D<Z.length;D++){var z=W;Z[D]!==""&&(z+="="+encodeURIComponent(String(Z[D]))),f.push(z)}}return this.i=f.join("&")};function Ds(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function z$(f,b){b&&!f.j&&(Ci(f),f.i=null,f.g.forEach(function(N,D){var z=D.toLowerCase();D!=z&&(T1(this,D),M1(this,z,N))},f)),f.j=b}function W$(f,b){const N=new Bl;if(o.Image){const D=new Image;D.onload=m(Oi,N,"TestLoadImage: loaded",!0,b,D),D.onerror=m(Oi,N,"TestLoadImage: error",!1,b,D),D.onabort=m(Oi,N,"TestLoadImage: abort",!1,b,D),D.ontimeout=m(Oi,N,"TestLoadImage: timeout",!1,b,D),o.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else b(!1)}function K$(f,b){const N=new Bl,D=new AbortController,z=setTimeout(()=>{D.abort(),Oi(N,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:D.signal}).then(W=>{clearTimeout(z),W.ok?Oi(N,"TestPingServer: ok",!0,b):Oi(N,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(z),Oi(N,"TestPingServer: error",!1,b)})}function Oi(f,b,N,D,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),D(N)}catch{}}function G$(){this.g=new M$}function q$(f,b,N){const D=N||"";try{S1(f,function(z,W){let Z=z;c(z)&&(Z=Ng(z)),b.push(D+W+"="+encodeURIComponent(Z))})}catch(z){throw b.push(D+"type="+encodeURIComponent("_badmap")),z}}function Bd(f){this.l=f.Ub||null,this.j=f.eb||!1}y(Bd,Mg),Bd.prototype.g=function(){return new Ud(this.l,this.j)},Bd.prototype.i=function(f){return function(){return f}}({});function Ud(f,b){Wt.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Ud,Wt),t=Ud.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,Gl(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||o).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kl(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Gl(this)),this.g&&(this.readyState=3,Gl(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;I1(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function I1(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?Kl(this):Gl(this),this.readyState==3&&I1(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Kl(this))},t.Qa=function(f){this.g&&(this.response=f,Kl(this))},t.ga=function(){this.g&&Kl(this)};function Kl(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Gl(f)}t.setRequestHeader=function(f,b){this.u.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var N=b.next();!N.done;)N=N.value,f.push(N[0]+": "+N[1]),N=b.next();return f.join(`\r
`)};function Gl(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ud.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function j1(f){let b="";return E(f,function(N,D){b+=D,b+=":",b+=N,b+=`\r
`}),b}function Fg(f,b,N){e:{for(D in N){var D=!1;break e}D=!0}D||(N=j1(N),typeof f=="string"?N!=null&&encodeURIComponent(String(N)):ze(f,b,N))}function st(f){Wt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(st,Wt);var Y$=/^https?$/i,X$=["POST","PUT"];t=st.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,b,N,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cg.g(),this.v=this.o?s1(this.o):s1(Cg),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(W){C1(this,W);return}if(f=N||"",N=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var z in D)N.set(z,D[z]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const W of D.keys())N.set(W,D.get(W));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(N.keys()).find(W=>W.toLowerCase()=="content-type"),z=o.FormData&&f instanceof o.FormData,!(0<=Array.prototype.indexOf.call(X$,b,void 0))||D||z||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,Z]of N)this.g.setRequestHeader(W,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{k1(this),this.u=!0,this.g.send(f),this.u=!1}catch(W){C1(this,W)}};function C1(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,O1(f),Hd(f)}function O1(f){f.A||(f.A=!0,sn(f,"complete"),sn(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,sn(this,"complete"),sn(this,"abort"),Hd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hd(this,!0)),st.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?D1(this):this.bb())},t.bb=function(){D1(this)};function D1(f){if(f.h&&typeof s<"u"&&(!f.v[1]||Gr(f)!=4||f.Z()!=2)){if(f.u&&Gr(f)==4)n1(f.Ea,0,f);else if(sn(f,"readystatechange"),Gr(f)==4){f.h=!1;try{const Z=f.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var N;if(!(N=b)){var D;if(D=Z===0){var z=String(f.D).match(E1)[1]||null;!z&&o.self&&o.self.location&&(z=o.self.location.protocol.slice(0,-1)),D=!Y$.test(z?z.toLowerCase():"")}N=D}if(N)sn(f,"complete"),sn(f,"success");else{f.m=6;try{var W=2<Gr(f)?f.g.statusText:""}catch{W=""}f.l=W+" ["+f.Z()+"]",O1(f)}}finally{Hd(f)}}}}function Hd(f,b){if(f.g){k1(f);const N=f.g,D=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||sn(f,"ready");try{N.onreadystatechange=D}catch{}}}function k1(f){f.I&&(o.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Gr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Gr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),N$(b)}};function R1(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Q$(f){const b={};f=(f.g&&2<=Gr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(v(f[D]))continue;var N=O(f[D]);const z=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const W=b[z]||[];b[z]=W,W.push(N)}S(b,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ql(f,b,N){return N&&N.internalChannelParams&&N.internalChannelParams[f]||b}function $1(f){this.Aa=0,this.i=[],this.j=new Bl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ql("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ql("baseRetryDelayMs",5e3,f),this.cb=ql("retryDelaySeedMs",1e4,f),this.Wa=ql("forwardChannelMaxRetries",2,f),this.wa=ql("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new v1(f&&f.concurrentRequestLimit),this.Da=new G$,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$1.prototype,t.la=8,t.G=1,t.connect=function(f,b,N,D){on(0),this.W=f,this.H=b||{},N&&D!==void 0&&(this.H.OSID=N,this.H.OAID=D),this.F=this.X,this.I=K1(this,null,this.W),Wd(this)};function Vg(f){if(L1(f),f.G==3){var b=f.U++,N=Kr(f.I);if(ze(N,"SID",f.K),ze(N,"RID",b),ze(N,"TYPE","terminate"),Yl(f,N),b=new ji(f,f.j,b),b.L=2,b.v=Vd(Kr(N)),N=!1,o.navigator&&o.navigator.sendBeacon)try{N=o.navigator.sendBeacon(b.v.toString(),"")}catch{}!N&&o.Image&&(new Image().src=b.v,N=!0),N||(b.g=G1(b.j,null),b.g.ea(b.v)),b.F=Date.now(),$d(b)}W1(f)}function zd(f){f.g&&(Ug(f),f.g.cancel(),f.g=null)}function L1(f){zd(f),f.u&&(o.clearTimeout(f.u),f.u=null),Kd(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&o.clearTimeout(f.s),f.s=null)}function Wd(f){if(!x1(f.h)&&!f.s){f.s=!0;var b=f.Ga;U||$(),R||(U(),R=!0),V.add(b,f),f.B=0}}function J$(f,b){return b1(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Vl(p(f.Ga,f,b),z1(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const z=new ji(this,this.j,f);let W=this.o;if(this.S&&(W?(W=T(W),I(W,this.S)):W=this.S),this.m!==null||this.O||(z.H=W,W=null),this.P)e:{for(var b=0,N=0;N<this.i.length;N++){t:{var D=this.i[N];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(b+=D,4096<b){b=N;break e}if(b===4096||N===this.i.length-1){b=N+1;break e}}b=1e3}else b=1e3;b=V1(this,z,b),N=Kr(this.I),ze(N,"RID",f),ze(N,"CVER",22),this.D&&ze(N,"X-HTTP-Session-Id",this.D),Yl(this,N),W&&(this.O?b="headers="+encodeURIComponent(String(j1(W)))+"&"+b:this.m&&Fg(N,this.m,W)),Lg(this.h,z),this.Ua&&ze(N,"TYPE","init"),this.P?(ze(N,"$req",b),ze(N,"SID","null"),z.T=!0,Dg(z,N,null)):Dg(z,N,b),this.G=2}}else this.G==3&&(f?F1(this,f):this.i.length==0||x1(this.h)||F1(this))};function F1(f,b){var N;b?N=b.l:N=f.U++;const D=Kr(f.I);ze(D,"SID",f.K),ze(D,"RID",N),ze(D,"AID",f.T),Yl(f,D),f.m&&f.o&&Fg(D,f.m,f.o),N=new ji(f,f.j,N,f.B+1),f.m===null&&(N.H=f.o),b&&(f.i=b.D.concat(f.i)),b=V1(f,N,1e3),N.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Lg(f.h,N),Dg(N,D,b)}function Yl(f,b){f.H&&E(f.H,function(N,D){ze(b,D,N)}),f.l&&S1({},function(N,D){ze(b,D,N)})}function V1(f,b,N){N=Math.min(f.i.length,N);var D=f.l?p(f.l.Na,f.l,f):null;e:{var z=f.i;let W=-1;for(;;){const Z=["count="+N];W==-1?0<N?(W=z[0].g,Z.push("ofs="+W)):W=0:Z.push("ofs="+W);let Le=!0;for(let Dt=0;Dt<N;Dt++){let Me=z[Dt].g;const Kt=z[Dt].map;if(Me-=W,0>Me)W=Math.max(0,z[Dt].g-100),Le=!1;else try{q$(Kt,Z,"req"+Me+"_")}catch{D&&D(Kt)}}if(Le){D=Z.join("&");break e}}}return f=f.i.splice(0,N),b.D=f,D}function B1(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;U||$(),R||(U(),R=!0),V.add(b,f),f.v=0}}function Bg(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Vl(p(f.Fa,f),z1(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,U1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Vl(p(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,on(10),zd(this),U1(this))};function Ug(f){f.A!=null&&(o.clearTimeout(f.A),f.A=null)}function U1(f){f.g=new ji(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=Kr(f.qa);ze(b,"RID","rpc"),ze(b,"SID",f.K),ze(b,"AID",f.T),ze(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&ze(b,"TO",f.ja),ze(b,"TYPE","xmlhttp"),Yl(f,b),f.m&&f.o&&Fg(b,f.m,f.o),f.L&&(f.g.I=f.L);var N=f.g;f=f.ia,N.L=1,N.v=Vd(Kr(b)),N.m=null,N.P=!0,m1(N,f)}t.Za=function(){this.C!=null&&(this.C=null,zd(this),Bg(this),on(19))};function Kd(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function H1(f,b){var N=null;if(f.g==b){Kd(f),Ug(f),f.g=null;var D=2}else if($g(f.h,b))N=b.D,w1(f.h,b),D=1;else return;if(f.G!=0){if(b.o)if(D==1){N=b.m?b.m.length:0,b=Date.now()-b.F;var z=f.B;D=Dd(),sn(D,new d1(D,N)),Wd(f)}else B1(f);else if(z=b.s,z==3||z==0&&0<b.X||!(D==1&&J$(f,b)||D==2&&Bg(f)))switch(N&&0<N.length&&(b=f.h,b.i=b.i.concat(N)),z){case 1:Ra(f,5);break;case 4:Ra(f,10);break;case 3:Ra(f,6);break;default:Ra(f,2)}}}function z1(f,b){let N=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(N*=2),N*b}function Ra(f,b){if(f.j.info("Error code "+b),b==2){var N=p(f.fb,f),D=f.Xa;const z=!D;D=new ka(D||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ld(D,"https"),Vd(D),z?W$(D.toString(),N):K$(D.toString(),N)}else on(2);f.G=0,f.l&&f.l.sa(b),W1(f),L1(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),on(2)):(this.j.info("Failed to ping google.com"),on(1))};function W1(f){if(f.G=0,f.ka=[],f.l){const b=_1(f.h);(b.length!=0||f.i.length!=0)&&(g(f.ka,b),g(f.ka,f.i),f.h.i.length=0,w(f.i),f.i.length=0),f.l.ra()}}function K1(f,b,N){var D=N instanceof ka?Kr(N):new ka(N);if(D.g!="")b&&(D.g=b+"."+D.g),Fd(D,D.s);else{var z=o.location;D=z.protocol,b=b?b+"."+z.hostname:z.hostname,z=+z.port;var W=new ka(null);D&&Ld(W,D),b&&(W.g=b),z&&Fd(W,z),N&&(W.l=N),D=W}return N=f.D,b=f.ya,N&&b&&ze(D,N,b),ze(D,"VER",f.la),Yl(f,D),D}function G1(f,b,N){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new st(new Bd({eb:N})):new st(f.pa),b.Ha(f.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function q1(){}t=q1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gd(){}Gd.prototype.g=function(f,b){return new Sn(f,b)};function Sn(f,b){Wt.call(this),this.g=new $1(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!v(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!v(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new ks(this)}y(Sn,Wt),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Vg(this.g)},Sn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var N={};N.__data__=f,f=N}else this.u&&(N={},N.__data__=Ng(f),f=N);b.i.push(new k$(b.Ya++,f)),b.G==3&&Wd(b)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Vg(this.g),delete this.g,Sn.aa.N.call(this)};function Y1(f){Ig.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const N in b){f=N;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}y(Y1,Ig);function X1(){jg.call(this),this.status=1}y(X1,jg);function ks(f){this.g=f}y(ks,q1),ks.prototype.ua=function(){sn(this.g,"a")},ks.prototype.ta=function(f){sn(this.g,new Y1(f))},ks.prototype.sa=function(f){sn(this.g,new X1)},ks.prototype.ra=function(){sn(this.g,"b")},Gd.prototype.createWebChannel=Gd.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,CC=function(){return new Gd},jC=function(){return Dd()},IC=Oa,o0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kd.NO_ERROR=0,kd.TIMEOUT=8,kd.HTTP_ERROR=6,Kh=kd,h1.COMPLETE="complete",MC=h1,o1.EventType=Ll,Ll.OPEN="a",Ll.CLOSE="b",Ll.ERROR="c",Ll.MESSAGE="d",Wt.prototype.listen=Wt.prototype.K,wc=o1,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,NC=st}).apply(typeof fh<"u"?fh:typeof self<"u"?self:typeof window<"u"?window:{});const TE="@firebase/firestore",NE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new ew("@firebase/firestore");function Us(){return ms.logLevel}function re(t,...e){if(ms.logLevel<=we.DEBUG){const n=e.map(rw);ms.debug(`Firestore (${vl}): ${t}`,...n)}}function pi(t,...e){if(ms.logLevel<=we.ERROR){const n=e.map(rw);ms.error(`Firestore (${vl}): ${t}`,...n)}}function ma(t,...e){if(ms.logLevel<=we.WARN){const n=e.map(rw);ms.warn(`Firestore (${vl}): ${t}`,...n)}}function rw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,OC(t,r,n)}function OC(t,e,n){let r=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw pi(r),new Error(r)}function De(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||OC(e,i,r)}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class M6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class I6{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){De(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new rs,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new rs)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string",31837,{l:r}),new DC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class j6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class C6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new j6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ME{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){De(this.o===void 0,3512);const r=a=>{a.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,re("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ME(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ME(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=D6(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function l0(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ge(r,i);{const a=kC(),s=k6(a.encode(IE(t,n)),a.encode(IE(e,n)));return s!==0?s:ge(r,i)}}n+=r>65535?2:1}return ge(t.length,e.length)}function IE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function k6(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ge(t[n],e[n]);return ge(t.length,e.length)}function Ro(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="__name__";class Ar{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ar.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return ge(e.length,n.length)}static compareSegments(e,n){const r=Ar.isNumericId(e),i=Ar.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ar.extractNumericId(e).compare(Ar.extractNumericId(n)):l0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ca.fromString(e.substring(4,e.length-2))}}class qe extends Ar{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const R6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends Ar{construct(e,n,r){return new Lt(e,n,r)}static isValidIdentifier(e){return R6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jE}static keyField(){return new Lt([jE])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new se(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new se(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new se(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new se(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(n)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(qe.fromString(e))}static fromName(e){return new oe(qe.fromString(e).popFirst(5))}static empty(){return new oe(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t,e,n){if(!n)throw new se(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $6(t,e,n,r){if(e===!0&&r===!0)throw new se(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CE(t){if(!oe.isDocumentKey(t))throw new se(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function OE(t){if(oe.isDocumentKey(t))throw new se(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $C(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function aw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue(12329,{type:typeof t})}function ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=aw(t);throw new se(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function fd(t,e){if(!$C(t))throw new se(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new se(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=-62135596800,kE=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*kE);return new Ye(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<DE)throw new se(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kE}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fd(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-DE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:gt("string",Ye._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new Ye(0,0))}static max(){return new he(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=-1;function L6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new ga(i,oe.empty(),e)}function F6(t){return new ga(t.readTime,t.key,gu)}class ga{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ga(he.min(),oe.empty(),gu)}static max(){return new ga(he.max(),oe.empty(),gu)}}function V6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==B6)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(i=>i?Y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const c=l;n(e[c]).next(h=>{s[c]=h,++o,o===a&&r(s)},h=>i(h))}})}static doWhile(e,n){return new Y((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function H6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}ym.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=-1;function vm(t){return t==null}function jf(t){return t===0&&1/t==-1/0}function z6(t){return typeof t=="number"&&Number.isInteger(t)&&!jf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="";function W6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=RE(e)),e=K6(t.get(n),e);return RE(e)}function K6(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case LC:n+="";break;default:n+=a}}return n}function RE(t){return t+LC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??$t.RED,this.left=i??$t.EMPTY,this.right=a??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new $t(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return $t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ue(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw ue(57766)}get value(){throw ue(16141)}get color(){throw ue(16727)}get left(){throw ue(29726)}get right(){throw ue(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LE(this.data.getIterator())}getIteratorFrom(e){return new LE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class LE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new jn([])}unionWith(e){let n=new Pt(Lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new VC("Invalid base64 string: "+a):a}}(e);return new Ut(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const G6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ya(t){if(De(!!t,39018),typeof t=="string"){let e=0;const n=G6.exec(t);if(De(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function va(t){return typeof t=="string"?Ut.fromBase64String(t):Ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="server_timestamp",UC="__type__",HC="__previous_value__",zC="__local_write_time__";function ow(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[UC])===null||n===void 0?void 0:n.stringValue)===BC}function xm(t){const e=t.mapValue.fields[HC];return ow(e)?xm(e):e}function yu(t){const e=ya(t.mapValue.fields[zC].timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,n,r,i,a,s,o,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const Cf="(default)";class vu{constructor(e,n){this.projectId=e,this.database=n||Cf}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===Cf}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="__type__",Y6="__max__",mh={mapValue:{}},KC="__vector__",Of="value";function xa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ow(t)?4:Q6(t)?9007199254740991:X6(t)?10:11:ue(28295,{value:t})}function Vr(t,e){if(t===e)return!0;const n=xa(t);if(n!==xa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yu(t).isEqual(yu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=ya(i.timestampValue),o=ya(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return va(i.bytesValue).isEqual(va(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return ct(i.geoPointValue.latitude)===ct(a.geoPointValue.latitude)&&ct(i.geoPointValue.longitude)===ct(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ct(i.integerValue)===ct(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=ct(i.doubleValue),o=ct(a.doubleValue);return s===o?jf(s)===jf(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ro(t.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if($E(s)!==$E(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Vr(s[l],o[l])))return!1;return!0}(t,e);default:return ue(52216,{left:t})}}function xu(t,e){return(t.values||[]).find(n=>Vr(n,e))!==void 0}function $o(t,e){if(t===e)return 0;const n=xa(t),r=xa(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=ct(a.integerValue||a.doubleValue),l=ct(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return FE(t.timestampValue,e.timestampValue);case 4:return FE(yu(t),yu(e));case 5:return l0(t.stringValue,e.stringValue);case 6:return function(a,s){const o=va(a),l=va(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const h=ge(o[c],l[c]);if(h!==0)return h}return ge(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=ge(ct(a.latitude),ct(s.latitude));return o!==0?o:ge(ct(a.longitude),ct(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return VE(t.arrayValue,e.arrayValue);case 10:return function(a,s){var o,l,c,h;const d=a.fields||{},p=s.fields||{},m=(o=d[Of])===null||o===void 0?void 0:o.arrayValue,y=(l=p[Of])===null||l===void 0?void 0:l.arrayValue,w=ge(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0);return w!==0?w:VE(m,y)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===mh.mapValue&&s===mh.mapValue)return 0;if(a===mh.mapValue)return 1;if(s===mh.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const p=l0(l[d],h[d]);if(p!==0)return p;const m=$o(o[l[d]],c[h[d]]);if(m!==0)return m}return ge(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ue(23264,{le:n})}}function FE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=ya(t),r=ya(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function VE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=$o(n[i],r[i]);if(a)return a}return ge(n.length,r.length)}function Lo(t){return c0(t)}function c0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ya(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return va(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=c0(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${c0(n.fields[s])}`;return i+"}"}(t.mapValue):ue(61005,{value:t})}function Gh(t){switch(xa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xm(t);return e?16+Gh(e):16;case 5:return 2*t.stringValue.length;case 6:return va(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Gh(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Pa(r.fields,(a,s)=>{i+=a.length+Gh(s)}),i}(t.mapValue);default:throw ue(13486,{value:t})}}function u0(t){return!!t&&"integerValue"in t}function lw(t){return!!t&&"arrayValue"in t}function BE(t){return!!t&&"nullValue"in t}function UE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qh(t){return!!t&&"mapValue"in t}function X6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[WC])===null||n===void 0?void 0:n.stringValue)===KC}function Lc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Pa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Lc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Q6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Y6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lc(n)}setAll(e){let n=Lt.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=Lc(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());qh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Pa(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new mn(Lc(this.value))}}function GC(t){const e=[];return Pa(t.fields,(n,r)=>{const i=new Lt([n]);if(qh(r)){const a=GC(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new en(e,0,he.min(),he.min(),he.min(),mn.empty(),0)}static newFoundDocument(e,n,r,i){return new en(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new en(e,2,n,he.min(),he.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,he.min(),he.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.position=e,this.inclusive=n}}function HE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=oe.comparator(oe.fromName(s.referenceValue),n.key):r=$o(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function zE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n="asc"){this.field=e,this.dir=n}}function J6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{}class _t extends qC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eB(e,n,r):n==="array-contains"?new rB(e,r):n==="in"?new iB(e,r):n==="not-in"?new aB(e,r):n==="array-contains-any"?new sB(e,r):new _t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tB(e,r):new nB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($o(n,this.value)):n!==null&&xa(this.value)===xa(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Br extends qC{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Br(e,n)}matches(e){return YC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function YC(t){return t.op==="and"}function XC(t){return Z6(t)&&YC(t)}function Z6(t){for(const e of t.filters)if(e instanceof Br)return!1;return!0}function d0(t){if(t instanceof _t)return t.field.canonicalString()+t.op.toString()+Lo(t.value);if(XC(t))return t.filters.map(e=>d0(e)).join(",");{const e=t.filters.map(n=>d0(n)).join(",");return`${t.op}(${e})`}}function QC(t,e){return t instanceof _t?function(r,i){return i instanceof _t&&r.op===i.op&&r.field.isEqual(i.field)&&Vr(r.value,i.value)}(t,e):t instanceof Br?function(r,i){return i instanceof Br&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&QC(s,i.filters[o]),!0):!1}(t,e):void ue(19439)}function JC(t){return t instanceof _t?function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`}(t):t instanceof Br?function(n){return n.op.toString()+" {"+n.getFilters().map(JC).join(" ,")+"}"}(t):"Filter"}class eB extends _t{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class tB extends _t{constructor(e,n){super(e,"in",n),this.keys=ZC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nB extends _t{constructor(e,n){super(e,"not-in",n),this.keys=ZC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ZC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class rB extends _t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lw(n)&&xu(n.arrayValue,this.value)}}class iB extends _t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xu(this.value.arrayValue,n)}}class aB extends _t{constructor(e,n){super(e,"not-in",n)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xu(this.value.arrayValue,n)}}class sB extends _t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Pe=null}}function WE(t,e=null,n=[],r=[],i=null,a=null,s=null){return new oB(t,e,n,r,i,a,s)}function cw(t){const e=pe(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>d0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),vm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Lo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Lo(r)).join(",")),e.Pe=n}return e.Pe}function uw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!J6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zE(t.startAt,e.startAt)&&zE(t.endAt,e.endAt)}function h0(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function lB(t,e,n,r,i,a,s,o){return new bm(t,e,n,r,i,a,s,o)}function dw(t){return new bm(t)}function KE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cB(t){return t.collectionGroup!==null}function Fc(t){const e=pe(t);if(e.Te===null){e.Te=[];const n=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Pt(Lt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Te.push(new kf(a,r))}),n.has(Lt.keyField().canonicalString())||e.Te.push(new kf(Lt.keyField(),r))}return e.Te}function Cr(t){const e=pe(t);return e.Ie||(e.Ie=uB(e,Fc(t))),e.Ie}function uB(t,e){if(t.limitType==="F")return WE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new kf(i.field,a)});const n=t.endAt?new Df(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Df(t.startAt.position,t.startAt.inclusive):null;return WE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function f0(t,e,n){return new bm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wm(t,e){return uw(Cr(t),Cr(e))&&t.limitType===e.limitType}function eO(t){return`${cw(Cr(t))}|lt:${t.limitType}`}function Hs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>JC(i)).join(", ")}]`),vm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Lo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Lo(i)).join(",")),`Target(${r})`}(Cr(t))}; limitType=${t.limitType})`}function _m(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):oe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Fc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const c=HE(s,o,l);return s.inclusive?c<=0:c<0}(r.startAt,Fc(r),i)||r.endAt&&!function(s,o,l){const c=HE(s,o,l);return s.inclusive?c>=0:c>0}(r.endAt,Fc(r),i))}(t,e)}function dB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tO(t){return(e,n)=>{let r=!1;for(const i of Fc(t)){const a=hB(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function hB(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),c=o.data.field(a);return l!==null&&c!==null?$o(l,c):ue(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return FC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB=new it(oe.comparator);function mi(){return fB}const nO=new it(oe.comparator);function _c(...t){let e=nO;for(const n of t)e=e.insert(n.key,n);return e}function rO(t){let e=nO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xa(){return Vc()}function iO(){return Vc()}function Vc(){return new As(t=>t.toString(),(t,e)=>t.isEqual(e))}const pB=new it(oe.comparator),mB=new Pt(oe.comparator);function Se(...t){let e=mB;for(const n of t)e=e.add(n);return e}const gB=new Pt(ge);function yB(){return gB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jf(e)?"-0":e}}function aO(t){return{integerValue:""+t}}function vB(t,e){return z6(e)?aO(e):hw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this._=void 0}}function xB(t,e,n){return t instanceof Rf?function(i,a){const s={fields:{[UC]:{stringValue:BC},[zC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&ow(a)&&(a=xm(a)),a&&(s.fields[HC]=a),{mapValue:s}}(n,e):t instanceof bu?oO(t,e):t instanceof wu?lO(t,e):function(i,a){const s=sO(i,a),o=GE(s)+GE(i.Ee);return u0(s)&&u0(i.Ee)?aO(o):hw(i.serializer,o)}(t,e)}function bB(t,e,n){return t instanceof bu?oO(t,e):t instanceof wu?lO(t,e):n}function sO(t,e){return t instanceof $f?function(r){return u0(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Rf extends Sm{}class bu extends Sm{constructor(e){super(),this.elements=e}}function oO(t,e){const n=cO(e);for(const r of t.elements)n.some(i=>Vr(i,r))||n.push(r);return{arrayValue:{values:n}}}class wu extends Sm{constructor(e){super(),this.elements=e}}function lO(t,e){let n=cO(e);for(const r of t.elements)n=n.filter(i=>!Vr(i,r));return{arrayValue:{values:n}}}class $f extends Sm{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function GE(t){return ct(t.integerValue||t.doubleValue)}function cO(t){return lw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function wB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof bu&&i instanceof bu||r instanceof wu&&i instanceof wu?Ro(r.elements,i.elements,Vr):r instanceof $f&&i instanceof $f?Vr(r.Ee,i.Ee):r instanceof Rf&&i instanceof Rf}(t.transform,e.transform)}class _B{constructor(e,n){this.version=e,this.transformResults=n}}class yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Em{}function uO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fw(t.key,yr.none()):new pd(t.key,t.data,yr.none());{const n=t.data,r=mn.empty();let i=new Pt(Lt.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new Aa(t.key,r,new jn(i.toArray()),yr.none())}}function SB(t,e,n){t instanceof pd?function(i,a,s){const o=i.value.clone(),l=YE(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Aa?function(i,a,s){if(!Yh(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=YE(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(dO(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Bc(t,e,n,r){return t instanceof pd?function(a,s,o,l){if(!Yh(a.precondition,s))return o;const c=a.value.clone(),h=XE(a.fieldTransforms,l,s);return c.setAll(h),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Aa?function(a,s,o,l){if(!Yh(a.precondition,s))return o;const c=XE(a.fieldTransforms,l,s),h=s.data;return h.setAll(dO(a)),h.setAll(c),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,s,o){return Yh(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function EB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=sO(r.transform,i||null);a!=null&&(n===null&&(n=mn.empty()),n.set(r.field,a))}return n||null}function qE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ro(r,i,(a,s)=>wB(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pd extends Em{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Aa extends Em{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function dO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function YE(t,e,n){const r=new Map;De(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,bB(s,o,n[i]))}return r}function XE(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,xB(a,s,e))}return r}class fw extends Em{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PB extends Em{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&SB(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iO();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=uO(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,(n,r)=>qE(n,r))&&Ro(this.baseMutations,e.baseMutations,(n,r)=>qE(n,r))}}class pw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return pB}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new pw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Ee;function MB(t){switch(t){case X.OK:return ue(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ue(15467,{code:t})}}function hO(t){if(t===void 0)return pi("GRPC error has no .code"),X.UNKNOWN;switch(t){case ft.OK:return X.OK;case ft.CANCELLED:return X.CANCELLED;case ft.UNKNOWN:return X.UNKNOWN;case ft.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ft.INTERNAL:return X.INTERNAL;case ft.UNAVAILABLE:return X.UNAVAILABLE;case ft.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ft.NOT_FOUND:return X.NOT_FOUND;case ft.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ft.ABORTED:return X.ABORTED;case ft.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ft.DATA_LOSS:return X.DATA_LOSS;default:return ue(39323,{code:t})}}(Ee=ft||(ft={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=new ca([4294967295,4294967295],0);function QE(t){const e=kC().encode(t),n=new TC;return n.update(e),new Uint8Array(n.digest())}function JE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ca([n,r],0),new ca([i,a],0)]}class mw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sc(`Invalid padding: ${n}`);if(r<0)throw new Sc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ca.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(ca.fromNumber(r)));return i.compare(IB)===1&&(i=new ca([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=QE(e),[r,i]=JE(n);for(let a=0;a<this.hashCount;a++){const s=this.pe(r,i,a);if(!this.ye(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new mw(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.fe===0)return;const n=QE(e),[r,i]=JE(n);for(let a=0;a<this.hashCount;a++){const s=this.pe(r,i,a);this.we(s)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,md.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pm(he.min(),i,new it(ge),mi(),Se())}}class md{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new md(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class fO{constructor(e,n){this.targetId=e,this.De=n}}class pO{constructor(e,n,r=Ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ZE{constructor(){this.ve=0,this.Ce=eP(),this.Fe=Ut.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Se(),n=Se(),r=Se();return this.Ce.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue(38017,{changeType:a})}}),new md(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=eP()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,De(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class jB{constructor(e){this.We=e,this.Ge=new Map,this.ze=mi(),this.je=gh(),this.Je=gh(),this.He=new it(ge)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:ue(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const a=i.target;if(h0(a))if(r===0){const s=new oe(a.path);this.Xe(n,s,en.newNoDocument(s,he.min()))}else De(r===1,20013,{expectedCount:r});else{const s=this.ot(n);if(s!==r){const o=this._t(e),l=o?this.ut(o,e,s):1;if(l!==0){this.rt(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=va(r).toUint8Array()}catch(l){if(l instanceof VC)return ma("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new mw(s,i,a)}catch(l){return ma(l instanceof Sc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.fe===0?null:o}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.We.lt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.Xe(n,a,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((a,s)=>{const o=this.st(s);if(o){if(a.current&&h0(o.target)){const l=new oe(o.target.path);this.Tt(l).has(s)||this.It(s,l)||this.Xe(s,l,en.newNoDocument(l,e))}a.Ne&&(n.set(s,a.Le()),a.ke())}});let r=Se();this.Je.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.ze.forEach((a,s)=>s.setReadTime(e));const i=new Pm(e,n,this.He,this.ze,r);return this.ze=mi(),this.je=gh(),this.Je=gh(),this.He=new it(ge),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new ZE,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Pt(ge),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Pt(ge),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new ZE),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function gh(){return new it(oe.comparator)}function eP(){return new it(oe.comparator)}const CB={asc:"ASCENDING",desc:"DESCENDING"},OB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DB={and:"AND",or:"OR"};class kB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function p0(t,e){return t.useProto3Json||vm(e)?e:{value:e}}function Lf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function RB(t,e){return Lf(t,e.toTimestamp())}function Or(t){return De(!!t,49232),he.fromTimestamp(function(n){const r=ya(n);return new Ye(r.seconds,r.nanos)}(t))}function gw(t,e){return m0(t,e).canonicalString()}function m0(t,e){const n=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gO(t){const e=qe.fromString(t);return De(wO(e),10190,{key:e.toString()}),e}function g0(t,e){return gw(t.databaseId,e.path)}function _y(t,e){const n=gO(e);if(n.get(1)!==t.databaseId.projectId)throw new se(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(vO(n))}function yO(t,e){return gw(t.databaseId,e)}function $B(t){const e=gO(t);return e.length===4?qe.emptyPath():vO(e)}function y0(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vO(t){return De(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function tP(t,e,n){return{name:g0(t,e),fields:n.value.mapValue.fields}}function LB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ue(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,h){return c.useProto3Json?(De(h===void 0||typeof h=="string",58123),Ut.fromBase64String(h||"")):(De(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ut.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const h=c.code===void 0?X.UNKNOWN:hO(c.code);return new se(h,c.message||"")}(s);n=new pO(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_y(t,r.document.name),a=Or(r.document.updateTime),s=r.document.createTime?Or(r.document.createTime):he.min(),o=new mn({mapValue:{fields:r.document.fields}}),l=en.newFoundDocument(i,a,s,o),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Xh(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_y(t,r.document),a=r.readTime?Or(r.readTime):he.min(),s=en.newNoDocument(i,a),o=r.removedTargetIds||[];n=new Xh([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_y(t,r.document),a=r.removedTargetIds||[];n=new Xh([],a,i,null)}else{if(!("filter"in e))return ue(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new NB(i,a),o=r.targetId;n=new fO(o,s)}}return n}function FB(t,e){let n;if(e instanceof pd)n={update:tP(t,e.key,e.value)};else if(e instanceof fw)n={delete:g0(t,e.key)};else if(e instanceof Aa)n={update:tP(t,e.key,e.data),updateMask:qB(e.fieldMask)};else{if(!(e instanceof PB))return ue(16599,{Rt:e.type});n={verify:g0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof Rf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof bu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof wu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof $f)return{fieldPath:s.field.canonicalString(),increment:o.Ee};throw ue(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:RB(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ue(27497)}(t,e.precondition)),n}function VB(t,e){return t&&t.length>0?(De(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?Or(i.updateTime):Or(a);return s.isEqual(he.min())&&(s=Or(a)),new _B(s,i.transformResults||[])}(n,e))):[]}function BB(t,e){return{documents:[yO(t,e.path)]}}function UB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yO(t,i);const a=function(c){if(c.length!==0)return bO(Br.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:zs(p.field),direction:WB(p.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=p0(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:i}}function HB(t){let e=$B(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=function(d){const p=xO(d);return p instanceof Br&&XC(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(p=>function(y){return new kf(Ws(y.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(d){let p;return p=typeof d=="object"?d.value:d,vm(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(d){const p=!!d.before,m=d.values||[];return new Df(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const p=!d.before,m=d.values||[];return new Df(m,p)}(n.endAt)),lB(e,i,s,a,o,"F",l,c)}function zB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ws(n.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ws(n.unaryFilter.field);return _t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ws(n.unaryFilter.field);return _t.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ws(n.unaryFilter.field);return _t.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ue(61313);default:return ue(60726)}}(t):t.fieldFilter!==void 0?function(n){return _t.create(Ws(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ue(58110);default:return ue(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Br.create(n.compositeFilter.filters.map(r=>xO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue(1026)}}(n.compositeFilter.op))}(t):ue(30097,{filter:t})}function WB(t){return CB[t]}function KB(t){return OB[t]}function GB(t){return DB[t]}function zs(t){return{fieldPath:t.canonicalString()}}function Ws(t){return Lt.fromServerFormat(t.fieldPath)}function bO(t){return t instanceof _t?function(n){if(n.op==="=="){if(UE(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NAN"}};if(BE(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UE(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NAN"}};if(BE(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(n.field),op:KB(n.op),value:n.value}}}(t):t instanceof Br?function(n){const r=n.getFilters().map(i=>bO(i));return r.length===1?r[0]:{compositeFilter:{op:GB(n.op),filters:r}}}(t):ue(54877,{filter:t})}function qB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,r,i,a=he.min(),s=he.min(),o=Ut.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e){this.gt=e}}function XB(t){const e=HB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?f0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(){this.Dn=new JB}addToCollectionParentIndex(e,n){return this.Dn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(ga.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(ga.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class JB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pt(qe.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_O=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(_O,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Fo(0)}static ur(){return new Fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="LruGarbageCollector",ZB=1048576;function iP([t,e],[n,r]){const i=ge(t,n);return i===0?ge(e,r):i}class e5{constructor(e){this.Tr=e,this.buffer=new Pt(iP),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();iP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class t5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){re(rP,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bl(n)?re(rP,"Ignoring IndexedDB error during garbage collection: ",n):await xl(n)}await this.Rr(3e5)})}}class n5{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(ym.ue);const r=new e5(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(nP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nP):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,a,s,o,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,o=Date.now(),this.removeTargets(e,r,n))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Us()<=we.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function r5(t,e){return new n5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(){this.changes=new As(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Bc(r.mutation,i,jn.empty(),Ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const i=Xa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=_c();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Xa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=mi();const s=Vc(),o=function(){return Vc()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Aa)?a=a.insert(c.key,c):h!==void 0?(s.set(c.key,h.mutation.getFieldMask()),Bc(h.mutation,c,h.mutation.getFieldMask(),Ye.now())):s.set(c.key,jn.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,h)=>s.set(c,h)),n.forEach((c,h)=>{var d;return o.set(c,new a5(h,(d=s.get(c))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(e,n){const r=Vc();let i=new it((s,o)=>s-o),a=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||jn.empty();h=o.applyToLocalView(c,h),r.set(l,h);const d=(i.get(o.batchId)||Se()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,h=l.value,d=iO();h.forEach(p=>{if(!a.has(p)){const m=uO(n.get(p),r.get(p));m!==null&&d.set(p,m),a=a.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return Y.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return oe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Y.resolve(Xa());let o=gu,l=a;return s.next(c=>Y.forEach(c,(h,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),a.get(h)?Y.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,Se())).next(h=>({batchId:o,changes:rO(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=_c();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=_c();return this.indexManager.getCollectionParents(e,a).next(o=>Y.forEach(o,l=>{const c=function(d,p){return new bm(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,p)=>{s=s.insert(d,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,c)=>{const h=c.getKey();s.get(h)===null&&(s=s.insert(h,en.newInvalidDocument(h)))});let o=_c();return s.forEach((l,c)=>{const h=a.get(l);h!==void 0&&Bc(h.mutation,c,jn.empty(),Ye.now()),_m(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Or(i.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:XB(i.bundledQuery),readTime:Or(i.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(){this.overlays=new it(oe.comparator),this.kr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xa();return Y.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.wt(e,n,a)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.kr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=Xa(),a=n.length+1,s=new oe(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new it((c,h)=>c-h);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=a.get(c.largestBatchId);h===null&&(h=Xa(),a=a.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=Xa(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=i)););return Y.resolve(o)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new TB(n,r));let a=this.kr.get(n);a===void 0&&(a=Se(),this.kr.set(n,a)),this.kr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.qr=new Pt(Mt.Qr),this.$r=new Pt(Mt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Mt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Mt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new oe(new qe([])),r=new Mt(n,e),i=new Mt(n,e+1),a=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),a.push(s.key)}),a}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new oe(new qe([])),r=new Mt(n,e),i=new Mt(n,e+1);let a=Se();return this.$r.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new Mt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return oe.comparator(e.key,n.key)||ge(e.Hr,n.Hr)}static Ur(e,n){return ge(e.Hr,n.Hr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Pt(Mt.Qr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new AB(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Yr=this.Yr.add(new Mt(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Y.resolve(s)}lookupMutationBatch(e,n){return Y.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?sw:this.er-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mt(n,0),i=new Mt(n,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,i],s=>{const o=this.Zr(s.Hr);a.push(o)}),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(ge);return n.forEach(i=>{const a=new Mt(i,0),s=new Mt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,s],o=>{r=r.add(o.Hr)})}),Y.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;oe.isDocumentKey(a)||(a=a.child(""));const s=new Mt(new oe(a),0);let o=new Pt(ge);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Hr)),!0)},s),Y.resolve(this.ei(o))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Y.forEach(n.mutations,i=>{const a=new Mt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Mt(n,0),i=this.Yr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e){this.ni=e,this.docs=function(){return new it(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=mi();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():en.newInvalidDocument(i))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=mi();const s=n.path,o=new oe(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||V6(F6(h),r)<=0||(i.has(h.key)||_m(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,n,r,i){ue(9500)}ri(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new h5(this)}getSize(e){return Y.resolve(this.size)}}class h5 extends i5{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e){this.persistence=e,this.ii=new As(n=>cw(n),uw),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.si=0,this.oi=new yw,this.targetCount=0,this._i=Fo.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),Y.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Fo(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.hr(n),Y.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ii.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ii.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),Y.waitFor(a).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),Y.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n){this.ai={},this.overlays={},this.ui=new ym(0),this.ci=!1,this.ci=!0,this.li=new c5,this.referenceDelegate=e(this),this.hi=new f5(this),this.indexManager=new QB,this.remoteDocumentCache=function(i){return new d5(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new YB(n),this.Ti=new o5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new l5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new u5(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new p5(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(e,n){return Y.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class p5 extends U6{constructor(e){super(),this.currentSequenceNumber=e}}class vw{constructor(e){this.persistence=e,this.Ai=new yw,this.Ri=null}static Vi(e){return new vw(e)}get mi(){if(this.Ri)return this.Ri;throw ue(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.mi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.mi,r=>{const i=oe.fromPath(r);return this.fi(e,i).next(a=>{a||n.removeEntry(i,he.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Y.or([()=>Y.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ff{constructor(e,n){this.persistence=e,this.gi=new As(r=>W6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=r5(this,n)}static Vi(e,n){return new Ff(e,n)}Ii(){}di(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return Y.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(a=>a?Y.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(o=>{o||(r++,a.removeEntry(s,he.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Y.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gh(e.data.value)),n}Sr(e,n,r){return Y.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return Y.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Se(),i=Se();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new xw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return uV()?8:H6(rn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ps(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ys(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new m5;return this.ws(e,n,s).next(o=>{if(a.result=o,this.Rs)return this.Ss(e,n,s,o.size)})}).next(()=>a.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Us()<=we.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Hs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(Us()<=we.DEBUG&&re("QueryEngine","Query:",Hs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Us()<=we.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Hs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(n))):Y.resolve())}ps(e,n){if(KE(n))return Y.resolve(null);let r=Cr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=f0(n,null,"F"),r=Cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=Se(...a);return this.gs.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,o);return this.Ds(n,c,s,l.readTime)?this.ps(e,f0(n,null,"F")):this.vs(e,c,n,l)}))})))}ys(e,n,r,i){return KE(n)||i.isEqual(he.min())?Y.resolve(null):this.gs.getDocuments(e,r).next(a=>{const s=this.bs(n,a);return this.Ds(n,s,r,i)?Y.resolve(null):(Us()<=we.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hs(n)),this.vs(e,s,n,L6(i,gu)).next(o=>o))})}bs(e,n){let r=new Pt(tO(e));return n.forEach((i,a)=>{_m(e,a)&&(r=r.add(a))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ws(e,n,r){return Us()<=we.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Hs(n)),this.gs.getDocumentsMatchingQuery(e,n,ga.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="LocalStore",y5=3e8;class v5{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new it(ge),this.Ms=new As(a=>cw(a),uw),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s5(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function x5(t,e,n,r){return new v5(t,e,n,r)}async function EO(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=Se();for(const c of i){s.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of a){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:s,addedBatchIds:o}))})})}function b5(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Os.newChangeBuffer({trackRemovals:!0});return function(o,l,c,h){const d=c.batch,p=d.keys();let m=Y.resolve();return p.forEach(y=>{m=m.next(()=>h.getEntry(l,y)).next(w=>{const g=c.docVersions.get(y);De(g!==null,48541),w.version.compareTo(g)<0&&(d.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),h.addEntry(w)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Se();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function PO(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function w5(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const o=[];e.targetChanges.forEach((h,d)=>{const p=i.get(d);if(!p)return;o.push(n.hi.removeMatchingKeys(a,h.removedDocuments,d).next(()=>n.hi.addMatchingKeys(a,h.addedDocuments,d)));let m=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(Ut.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(d,m),function(w,g,x){return w.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=y5?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,h)&&o.push(n.hi.updateTargetData(a,m))});let l=mi(),c=Se();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))}),o.push(_5(a,s,e.documentUpdates).next(h=>{l=h.Ls,c=h.ks})),!r.isEqual(he.min())){const h=n.hi.getLastRemoteSnapshotVersion(a).next(d=>n.hi.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(h)}return Y.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(n.Fs=i,a))}function _5(t,e,n){let r=Se(),i=Se();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=mi();return n.forEach((o,l)=>{const c=a.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):re(bw,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ls:s,ks:i}})}function S5(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=sw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function E5(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(a=>a?(i=a,Y.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new qi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function v0(t,e,n){const r=pe(t),i=r.Fs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!bl(s))throw s;re(bw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function aP(t,e,n){const r=pe(t);let i=he.min(),a=Se();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,h){const d=pe(l),p=d.Ms.get(h);return p!==void 0?Y.resolve(d.Fs.get(p)):d.hi.getTargetData(c,h)}(r,s,Cr(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:he.min(),n?a:Se())).next(o=>(P5(r,dB(e),o),{documents:o,qs:a})))}function P5(t,e,n){let r=t.xs.get(e)||he.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.xs.set(e,r)}class sP{constructor(){this.activeTargetIds=yB()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A5{constructor(){this.Fo=new sP,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new sP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="ConnectivityMonitor";class lP{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){re(oP,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){re(oP,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh=null;function x0(){return yh===null?yh=function(){return 268435456+Math.round(2147483648*Math.random())}():yh++,"0x"+yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="RestConnection",N5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class M5{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Cf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const s=x0(),o=this.Go(e,n.toUriEncodedString());re(Sy,`Sending RPC '${e}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,a);const{host:c}=new URL(o),h=gl(c);return this.jo(e,o,l,r,h).then(d=>(re(Sy,`Received RPC '${e}' ${s}: `,d),d),d=>{throw ma(Sy,`RPC '${e}' ${s} failed with error: `,d,"url: ",o,"request:",r),d})}Jo(e,n,r,i,a,s){return this.Wo(e,n,r,i,a)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Go(e,n){const r=N5[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class j5 extends M5{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,a){const s=x0();return new Promise((o,l)=>{const c=new NC;c.setWithCredentials(!0),c.listenOnce(MC.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Kh.NO_ERROR:const d=c.getResponseJson();re(Xt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Kh.TIMEOUT:re(Xt,`RPC '${e}' ${s} timed out`),l(new se(X.DEADLINE_EXCEEDED,"Request time out"));break;case Kh.HTTP_ERROR:const p=c.getStatus();if(re(Xt,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const w=function(x){const v=x.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(v)>=0?v:X.UNKNOWN}(y.status);l(new se(w,y.message))}else l(new se(X.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new se(X.UNAVAILABLE,"Connection failed."));break;default:ue(9055,{c_:e,streamId:s,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{re(Xt,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);re(Xt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",h,r,15)})}P_(e,n,r){const i=x0(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=CC(),o=jC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=a.join("");re(Xt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=s.createWebChannel(h,l);this.T_(d);let p=!1,m=!1;const y=new I5({Ho:g=>{m?re(Xt,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(p||(re(Xt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),re(Xt,`RPC '${e}' stream ${i} sending:`,g),d.send(g))},Yo:()=>d.close()}),w=(g,x,v)=>{g.listen(x,_=>{try{v(_)}catch(A){setTimeout(()=>{throw A},0)}})};return w(d,wc.EventType.OPEN,()=>{m||(re(Xt,`RPC '${e}' stream ${i} transport opened.`),y.s_())}),w(d,wc.EventType.CLOSE,()=>{m||(m=!0,re(Xt,`RPC '${e}' stream ${i} transport closed`),y.__(),this.I_(d))}),w(d,wc.EventType.ERROR,g=>{m||(m=!0,ma(Xt,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),y.__(new se(X.UNAVAILABLE,"The operation could not be completed")))}),w(d,wc.EventType.MESSAGE,g=>{var x;if(!m){const v=g.data[0];De(!!v,16349);const _=v,A=(_==null?void 0:_.error)||((x=_[0])===null||x===void 0?void 0:x.error);if(A){re(Xt,`RPC '${e}' stream ${i} received error:`,A);const P=A.status;let E=function(M){const I=ft[M];if(I!==void 0)return hO(I)}(P),S=A.message;E===void 0&&(E=X.INTERNAL,S="Unknown error status: "+P+" with message "+A.message),m=!0,y.__(new se(E,S)),d.close()}else re(Xt,`RPC '${e}' stream ${i} received:`,v),y.a_(v)}}),w(o,IC.STAT_EVENT,g=>{g.stat===o0.PROXY?re(Xt,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===o0.NOPROXY&&re(Xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.o_()},0),y}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Ey(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t){return new kB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="PersistentStream";class TO{constructor(e,n,r,i,a,s,o,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new AO(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(pi(n.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new se(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return re(cP,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(re(cP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class C5 extends TO{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=LB(this.serializer,e),r=function(a){if(!("targetChange"in a))return he.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?he.min():s.readTime?Or(s.readTime):he.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=y0(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=h0(l)?{documents:BB(a,l)}:{query:UB(a,l).Vt},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=mO(a,s.resumeToken);const c=p0(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(he.min())>0){o.readTime=Lf(a,s.snapshotVersion.toTimestamp());const c=p0(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=zB(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=y0(this.serializer),n.removeTarget=e,this.k_(n)}}class O5 extends TO{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return De(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){De(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=VB(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=y0(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>FB(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{}class k5 extends D5{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new se(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Wo(e,m0(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new se(X.UNKNOWN,a.toString())})}Jo(e,n,r,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Jo(e,m0(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(X.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class R5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(pi(n),this._a=!1):re("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="RemoteStore";class $5{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{Ts(this)&&(re(gs,"Restarting streams for network reachability change."),await async function(l){const c=pe(l);c.Ia.add(4),await gd(c),c.Aa.set("Unknown"),c.Ia.delete(4),await Tm(c)}(this))})}),this.Aa=new R5(r,i)}}async function Tm(t){if(Ts(t))for(const e of t.da)await e(!0)}async function gd(t){for(const e of t.da)await e(!1)}function NO(t,e){const n=pe(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Ew(n)?Sw(n):wl(n).x_()&&_w(n,e))}function ww(t,e){const n=pe(t),r=wl(n);n.Ta.delete(e),r.x_()&&MO(n,e),n.Ta.size===0&&(r.x_()?r.B_():Ts(n)&&n.Aa.set("Unknown"))}function _w(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wl(t).H_(e)}function MO(t,e){t.Ra.$e(e),wl(t).Y_(e)}function Sw(t){t.Ra=new jB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),wl(t).start(),t.Aa.aa()}function Ew(t){return Ts(t)&&!wl(t).M_()&&t.Ta.size>0}function Ts(t){return pe(t).Ia.size===0}function IO(t){t.Ra=void 0}async function L5(t){t.Aa.set("Online")}async function F5(t){t.Ta.forEach((e,n)=>{_w(t,e)})}async function V5(t,e){IO(t),Ew(t)?(t.Aa.la(e),Sw(t)):t.Aa.set("Unknown")}async function B5(t,e,n){if(t.Aa.set("Online"),e instanceof pO&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ta.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ta.delete(o),i.Ra.removeTarget(o))}(t,e)}catch(r){re(gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vf(t,r)}else if(e instanceof Xh?t.Ra.Ye(e):e instanceof fO?t.Ra.it(e):t.Ra.et(e),!n.isEqual(he.min()))try{const r=await PO(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.Ra.Pt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=a.Ta.get(c);h&&a.Ta.set(c,h.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const h=a.Ta.get(l);if(!h)return;a.Ta.set(l,h.withResumeToken(Ut.EMPTY_BYTE_STRING,h.snapshotVersion)),MO(a,l);const d=new qi(h.target,l,c,h.sequenceNumber);_w(a,d)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){re(gs,"Failed to raise snapshot:",r),await Vf(t,r)}}async function Vf(t,e,n){if(!bl(e))throw e;t.Ia.add(1),await gd(t),t.Aa.set("Offline"),n||(n=()=>PO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re(gs,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Tm(t)})}function jO(t,e){return e().catch(n=>Vf(t,n,e))}async function Nm(t){const e=pe(t),n=ba(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:sw;for(;U5(e);)try{const i=await S5(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,H5(e,i)}catch(i){await Vf(e,i)}CO(e)&&OO(e)}function U5(t){return Ts(t)&&t.Pa.length<10}function H5(t,e){t.Pa.push(e);const n=ba(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function CO(t){return Ts(t)&&!ba(t).M_()&&t.Pa.length>0}function OO(t){ba(t).start()}async function z5(t){ba(t).na()}async function W5(t){const e=ba(t);for(const n of t.Pa)e.X_(n.mutations)}async function K5(t,e,n){const r=t.Pa.shift(),i=pw.from(r,e,n);await jO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Nm(t)}async function G5(t,e){e&&ba(t).Z_&&await async function(r,i){if(function(s){return MB(s)&&s!==X.ABORTED}(i.code)){const a=r.Pa.shift();ba(r).N_(),await jO(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Nm(r)}}(t,e),CO(t)&&OO(t)}async function uP(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),re(gs,"RemoteStore received new credentials");const r=Ts(n);n.Ia.add(3),await gd(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Tm(n)}async function q5(t,e){const n=pe(t);e?(n.Ia.delete(2),await Tm(n)):e||(n.Ia.add(2),await gd(n),n.Aa.set("Unknown"))}function wl(t){return t.Va||(t.Va=function(n,r,i){const a=pe(n);return a.ia(),new C5(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:L5.bind(null,t),e_:F5.bind(null,t),n_:V5.bind(null,t),J_:B5.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Ew(t)?Sw(t):t.Aa.set("Unknown")):(await t.Va.stop(),IO(t))})),t.Va}function ba(t){return t.ma||(t.ma=function(n,r,i){const a=pe(n);return a.ia(),new O5(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:z5.bind(null,t),n_:G5.bind(null,t),ea:W5.bind(null,t),ta:K5.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Nm(t)):(await t.ma.stop(),t.Pa.length>0&&(re(gs,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new Pw(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Aw(t,e){if(pi("AsyncQueue",`${e}: ${t}`),bl(t))return new se(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=_c(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.fa=new it(oe.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):ue(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vo{constructor(e,n,r,i,a,s,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Vo(e,n,vo.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class X5{constructor(){this.queries=hP(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=pe(n),a=i.queries;i.queries=hP(),a.forEach((s,o)=>{for(const l of o.wa)l.onError(r)})})(this,new se(X.ABORTED,"Firestore shutting down"))}}function hP(){return new As(t=>eO(t),wm)}async function Q5(t,e){const n=pe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.ba()&&(r=2):(a=new Y5,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await n.onListen(i,!0);break;case 1:a.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=Aw(s,`Initialization of query '${Hs(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.wa.push(e),e.va(n.onlineState),a.ya&&e.Ca(a.ya)&&Tw(n)}async function J5(t,e){const n=pe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.wa.indexOf(e);s>=0&&(a.wa.splice(s,1),a.wa.length===0?i=e.ba()?0:1:!a.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Z5(t,e){const n=pe(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.wa)o.Ca(i)&&(r=!0);s.ya=i}}r&&Tw(n)}function eU(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const a of i.wa)a.onError(n);r.queries.delete(e)}function Tw(t){t.Da.forEach(e=>{e.next()})}var b0,fP;(fP=b0||(b0={})).Fa="default",fP.Cache="cache";class tU{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==b0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.key=e}}class kO{constructor(e){this.key=e}}class nU{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Se(),this.mutatedKeys=Se(),this.Xa=tO(e),this.eu=new vo(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new dP,i=n?n.eu:this.eu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const p=i.get(h),m=_m(this.query,d)?d:null,y=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let g=!1;p&&m?p.data.isEqual(m.data)?y!==w&&(r.track({type:3,doc:m}),g=!0):this.iu(p,m)||(r.track({type:2,doc:m}),g=!0,(l&&this.Xa(m,l)>0||c&&this.Xa(m,c)<0)&&(o=!0)):!p&&m?(r.track({type:0,doc:m}),g=!0):p&&!m&&(r.track({type:1,doc:p}),g=!0,(l||c)&&(o=!0)),g&&(m?(s=s.add(m),a=w?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:o,mutatedKeys:a}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const s=e.ru.pa();s.sort((h,d)=>function(m,y){const w=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue(20277,{At:g})}};return w(m)-w(y)}(h.type,d.type)||this.Xa(h.doc,d.doc)),this.su(r),i=i!=null&&i;const o=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,c=l!==this.Ya;return this.Ya=l,s.length!==0||c?{snapshot:new Vo(this.query,e.eu,a,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new dP,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Se(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new kO(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new DO(r))}),n}uu(e){this.Ha=e.qs,this.Za=Se();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Vo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Nw="SyncEngine";class rU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class iU{constructor(e){this.key=e,this.lu=!1}}class aU{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new As(o=>eO(o),wm),this.Tu=new Map,this.Iu=new Set,this.du=new it(oe.comparator),this.Eu=new Map,this.Au=new yw,this.Ru={},this.Vu=new Map,this.mu=Fo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function sU(t,e,n=!0){const r=BO(t);let i;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await RO(r,e,n,!0),i}async function oU(t,e){const n=BO(t);await RO(n,e,!0,!1)}async function RO(t,e,n,r){const i=await E5(t.localStore,Cr(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await lU(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&NO(t.remoteStore,i),o}async function lU(t,e,n,r,i){t.gu=(d,p,m)=>async function(w,g,x,v){let _=g.view.nu(x);_.Ds&&(_=await aP(w.localStore,g.query,!1).then(({documents:S})=>g.view.nu(S,_)));const A=v&&v.targetChanges.get(g.targetId),P=v&&v.targetMismatches.get(g.targetId)!=null,E=g.view.applyChanges(_,w.isPrimaryClient,A,P);return mP(w,g.targetId,E._u),E.snapshot}(t,d,p,m);const a=await aP(t.localStore,e,!0),s=new nU(e,a.qs),o=s.nu(a.documents),l=md.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,l);mP(t,n,c._u);const h=new rU(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function cU(t,e,n){const r=pe(t),i=r.Pu.get(e),a=r.Tu.get(i.targetId);if(a.length>1)return r.Tu.set(i.targetId,a.filter(s=>!wm(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await v0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ww(r.remoteStore,i.targetId),w0(r,i.targetId)}).catch(xl)):(w0(r,i.targetId),await v0(r.localStore,i.targetId,!0))}async function uU(t,e){const n=pe(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ww(n.remoteStore,r.targetId))}async function dU(t,e,n){const r=vU(t);try{const i=await function(s,o){const l=pe(s),c=Ye.now(),h=o.reduce((m,y)=>m.add(y.key),Se());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=mi(),w=Se();return l.Os.getEntries(m,h).next(g=>{y=g,y.forEach((x,v)=>{v.isValidDocument()||(w=w.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(g=>{d=g;const x=[];for(const v of o){const _=EB(v,d.get(v.key).overlayedDocument);_!=null&&x.push(new Aa(v.key,_,GC(_.value.mapValue),yr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,x,o)}).next(g=>{p=g;const x=g.applyToLocalDocumentSet(d,w);return l.documentOverlayCache.saveOverlays(m,g.batchId,x)})}).then(()=>({batchId:p.batchId,changes:rO(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let c=s.Ru[s.currentUser.toKey()];c||(c=new it(ge)),c=c.insert(o,l),s.Ru[s.currentUser.toKey()]=c}(r,i.batchId,n),await yd(r,i.changes),await Nm(r.remoteStore)}catch(i){const a=Aw(i,"Failed to persist write");n.reject(a)}}async function $O(t,e){const n=pe(t);try{const r=await w5(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Eu.get(a);s&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?De(s.lu,14607):i.removedDocuments.size>0&&(De(s.lu,42227),s.lu=!1))}),await yd(n,r,e)}catch(r){await xl(r)}}function pP(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=pe(s);l.onlineState=o;let c=!1;l.queries.forEach((h,d)=>{for(const p of d.wa)p.va(o)&&(c=!0)}),c&&Tw(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hU(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),a=i&&i.key;if(a){let s=new it(oe.comparator);s=s.insert(a,en.newNoDocument(a,he.min()));const o=Se().add(a),l=new Pm(he.min(),new Map,new it(ge),s,o);await $O(r,l),r.du=r.du.remove(a),r.Eu.delete(e),Mw(r)}else await v0(r.localStore,e,!1).then(()=>w0(r,e,n)).catch(xl)}async function fU(t,e){const n=pe(t),r=e.batch.batchId;try{const i=await b5(n.localStore,e);FO(n,r,null),LO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yd(n,i)}catch(i){await xl(i)}}async function pU(t,e,n){const r=pe(t);try{const i=await function(s,o){const l=pe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,o).next(d=>(De(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);FO(r,e,n),LO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yd(r,i)}catch(i){await xl(i)}}function LO(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function FO(t,e,n){const r=pe(t);let i=r.Ru[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function w0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||VO(t,r)})}function VO(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ww(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Mw(t))}function mP(t,e,n){for(const r of n)r instanceof DO?(t.Au.addReference(r.key,e),mU(t,r)):r instanceof kO?(re(Nw,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||VO(t,r.key)):ue(19791,{yu:r})}function mU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(re(Nw,"New document in limbo: "+n),t.Iu.add(r),Mw(t))}function Mw(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new oe(qe.fromString(e)),r=t.mu.next();t.Eu.set(r,new iU(n)),t.du=t.du.insert(n,r),NO(t.remoteStore,new qi(Cr(dw(n.path)),r,"TargetPurposeLimboResolution",ym.ue))}}async function yd(t,e,n){const r=pe(t),i=[],a=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((o,l)=>{s.push(r.gu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=xw.Es(l.targetId,c);a.push(d)}}))}),await Promise.all(s),r.hu.J_(i),await async function(l,c){const h=pe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Y.forEach(c,p=>Y.forEach(p.Is,m=>h.persistence.referenceDelegate.addReference(d,p.targetId,m)).next(()=>Y.forEach(p.ds,m=>h.persistence.referenceDelegate.removeReference(d,p.targetId,m)))))}catch(d){if(!bl(d))throw d;re(bw,"Failed to update sequence numbers: "+d)}for(const d of c){const p=d.targetId;if(!d.fromCache){const m=h.Fs.get(p),y=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(y);h.Fs=h.Fs.insert(p,w)}}}(r.localStore,a))}async function gU(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){re(Nw,"User change. New user:",e.toKey());const r=await EO(n.localStore,e);n.currentUser=e,function(a,s){a.Vu.forEach(o=>{o.forEach(l=>{l.reject(new se(X.CANCELLED,s))})}),a.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yd(n,r.Bs)}}function yU(t,e){const n=pe(t),r=n.Eu.get(e);if(r&&r.lu)return Se().add(r.key);{let i=Se();const a=n.Tu.get(e);if(!a)return i;for(const s of a){const o=n.Pu.get(s);i=i.unionWith(o.view.tu)}return i}}function BO(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$O.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hU.bind(null,e),e.hu.J_=Z5.bind(null,e.eventManager),e.hu.pu=eU.bind(null,e.eventManager),e}function vU(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pU.bind(null,e),e}class Bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Am(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return x5(this.persistence,new g5,e.initialUser,this.serializer)}Du(e){return new SO(vw.Vi,this.serializer)}bu(e){return new A5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bf.provider={build:()=>new Bf};class xU extends Bf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){De(this.persistence.referenceDelegate instanceof Ff,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new t5(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new SO(r=>Ff.Vi(r,n),this.serializer)}}class _0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gU.bind(null,this.syncEngine),await q5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new X5}()}createDatastore(e){const n=Am(e.databaseInfo.databaseId),r=function(a){return new j5(a)}(e.databaseInfo);return function(a,s,o,l){return new k5(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new $5(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>pP(this.syncEngine,n,0),function(){return lP.C()?new lP:new T5}())}createSyncEngine(e,n){return function(i,a,s,o,l,c,h){const d=new aU(i,a,s,o,l,c);return h&&(d.fu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=pe(i);re(gs,"RemoteStore shutting down."),a.Ia.add(5),await gd(a),a.Ea.shutdown(),a.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_0.provider={build:()=>new _0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="FirestoreClient";class wU{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Jt.UNAUTHENTICATED,this.clientId=iw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{re(wa,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(re(wa,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Aw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Py(t,e){t.asyncQueue.verifyOperationInProgress(),re(wa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await EO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{ma("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{re("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ma("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function gP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _U(t);re(wa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>uP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>uP(e.remoteStore,i)),t._onlineComponents=e}async function _U(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re(wa,"Using user provided OfflineComponentProvider");try{await Py(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ma("Error using user provided cache. Falling back to memory cache: "+n),await Py(t,new Bf)}}else re(wa,"Using default OfflineComponentProvider"),await Py(t,new xU(void 0));return t._offlineComponents}async function UO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re(wa,"Using user provided OnlineComponentProvider"),await gP(t,t._uninitializedComponentsProvider._online)):(re(wa,"Using default OnlineComponentProvider"),await gP(t,new _0))),t._onlineComponents}function SU(t){return UO(t).then(e=>e.syncEngine)}async function yP(t){const e=await UO(t),n=e.eventManager;return n.onListen=sU.bind(null,e.syncEngine),n.onUnlisten=cU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uU.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO="firestore.googleapis.com",xP=!0;class bP{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zO,this.ssl=xP}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:xP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_O;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZB)throw new se(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new N6;switch(r.type){case"firstParty":return new C6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=vP.get(n);r&&(re("ComponentProvider","Removing Datastore"),vP.delete(n),r.terminate())}(this),Promise.resolve()}}function EU(t,e,n,r={}){var i;t=ai(t,Mm);const a=gl(e),s=t._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;a&&(xC(`https://${l}`),bC("Firestore",!0)),s.host!==zO&&s.host!==l&&ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:a,emulatorOptions:r});if(!fs(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=Jt.MOCK_USER;else{h=tV(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new se(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Jt(p)}t._authCredentials=new M6(new DC(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Im(this.firestore,e,this._query)}}class yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(fd(n,yt._jsonSchema))return new yt(e,r||null,new oe(qe.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:gt("string",yt._jsonSchemaVersion),referencePath:gt("string")};class ua extends Im{constructor(e,n,r){super(e,n,dw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new oe(e))}withConverter(e){return new ua(this.firestore,e,this._path)}}function PU(t,e,...n){if(t=an(t),RC("collection","path",e),t instanceof Mm){const r=qe.fromString(e,...n);return OE(r),new ua(t,null,r)}{if(!(t instanceof yt||t instanceof ua))throw new se(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return OE(r),new ua(t.firestore,null,r)}}function Ay(t,e,...n){if(t=an(t),arguments.length===1&&(e=iw.newId()),RC("doc","path",e),t instanceof Mm){const r=qe.fromString(e,...n);return CE(r),new yt(t,null,new oe(r))}{if(!(t instanceof yt||t instanceof ua))throw new se(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return CE(r),new yt(t.firestore,t instanceof ua?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="AsyncQueue";class _P{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new AO(this,"async_queue_retry"),this.oc=()=>{const r=Ey();r&&re(wP,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Ey();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Ey();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new rs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!bl(e))throw e;re(wP,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,pi("INTERNAL UNHANDLED ERROR: ",SP(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=Pw.createAndSchedule(this,e,n,r,a=>this.lc(a));return this.ec.push(i),i}ac(){this.tc&&ue(47125,{hc:SP(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function SP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Bo extends Mm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _P,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _P(e),this._firestoreClient=void 0,await e}}}function AU(t,e){const n=typeof t=="object"?t:EC(),r=typeof t=="string"?t:Cf,i=nw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=ZF("firestore");a&&EU(i,...a)}return i}function WO(t){if(t._terminated)throw new se(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||TU(t),t._firestoreClient}function TU(t){var e,n,r;const i=t._freezeSettings(),a=function(o,l,c,h){return new q6(o,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,HO(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new wU(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Ut.fromBase64String(e))}catch(n){throw new se(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fd(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:gt("string",zn._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Dr._jsonSchemaVersion}}static fromJSON(e){if(fd(e,Dr._jsonSchema))return new Dr(e.latitude,e.longitude)}}Dr._jsonSchemaVersion="firestore/geoPoint/1.0",Dr._jsonSchema={type:gt("string",Dr._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fd(e,kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new kr(e.vectorValues);throw new se(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kr._jsonSchemaVersion="firestore/vectorValue/1.0",kr._jsonSchema={type:gt("string",kr._jsonSchemaVersion),vectorValues:gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=/^__.*__$/;class MU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Aa(e,this.data,this.fieldMask,n,this.fieldTransforms):new pd(e,this.data,n,this.fieldTransforms)}}class KO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Aa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function GO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue(40011,{Ec:t})}}class jw{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new jw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Uf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(GO(this.Ec)&&NU.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class IU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Am(e)}Dc(e,n,r,i=!1){return new jw({Ec:e,methodName:n,bc:r,path:Lt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qO(t){const e=t._freezeSettings(),n=Am(t._databaseId);return new IU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jU(t,e,n,r,i,a={}){const s=t.Dc(a.merge||a.mergeFields?2:0,e,n,i);Cw("Data must be an object, but it was:",s,r);const o=YO(r,s);let l,c;if(a.merge)l=new jn(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const d of a.mergeFields){const p=S0(e,d,n);if(!s.contains(p))throw new se(X.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);QO(h,p)||h.push(p)}l=new jn(h),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new MU(new mn(o),l,c)}class Cm extends Iw{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cm}}function CU(t,e,n,r){const i=t.Dc(1,e,n);Cw("Data must be an object, but it was:",i,r);const a=[],s=mn.empty();Pa(r,(l,c)=>{const h=Ow(e,l,n);c=an(c);const d=i.gc(h);if(c instanceof Cm)a.push(h);else{const p=Om(c,d);p!=null&&(a.push(h),s.set(h,p))}});const o=new jn(a);return new KO(s,o,i.fieldTransforms)}function OU(t,e,n,r,i,a){const s=t.Dc(1,e,n),o=[S0(e,r,n)],l=[i];if(a.length%2!=0)throw new se(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)o.push(S0(e,a[p])),l.push(a[p+1]);const c=[],h=mn.empty();for(let p=o.length-1;p>=0;--p)if(!QO(c,o[p])){const m=o[p];let y=l[p];y=an(y);const w=s.gc(m);if(y instanceof Cm)c.push(m);else{const g=Om(y,w);g!=null&&(c.push(m),h.set(m,g))}}const d=new jn(c);return new KO(h,d,s.fieldTransforms)}function Om(t,e){if(XO(t=an(t)))return Cw("Unsupported field value:",e,t),YO(t,e);if(t instanceof Iw)return function(r,i){if(!GO(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=Om(o,i.yc(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=an(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ye.fromDate(r);return{timestampValue:Lf(i.serializer,a)}}if(r instanceof Ye){const a=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lf(i.serializer,a)}}if(r instanceof Dr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:mO(i.serializer,r._byteString)};if(r instanceof yt){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kr)return function(s,o){return{mapValue:{fields:{[WC]:{stringValue:KC},[Of]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.wc("VectorValues must only contain numeric values.");return hw(o.serializer,c)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${aw(r)}`)}(t,e)}function YO(t,e){const n={};return FC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(t,(r,i)=>{const a=Om(i,e.Vc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function XO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof Dr||t instanceof zn||t instanceof yt||t instanceof Iw||t instanceof kr)}function Cw(t,e,n){if(!XO(n)||!$C(n)){const r=aw(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function S0(t,e,n){if((e=an(e))instanceof jm)return e._internalPath;if(typeof e=="string")return Ow(t,e);throw Uf("Field path arguments must be of type string or ",t,!1,void 0,n)}const DU=new RegExp("[~\\*/\\[\\]]");function Ow(t,e,n){if(e.search(DU)>=0)throw Uf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jm(...e.split("."))._internalPath}catch{throw Uf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Uf(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new se(X.INVALID_ARGUMENT,o+t+l)}function QO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ZO("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kU extends JO{data(){return super.data()}}function ZO(t,e){return typeof e=="string"?Ow(t,e):e instanceof jm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $U{convertValue(e,n="none"){switch(xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Pa(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Of].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ct(s.doubleValue));return new kr(a)}convertGeoPoint(e){return new Dr(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const n=ya(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);De(wO(r),9688,{name:e});const i=new vu(r.get(1),r.get(3)),a=new oe(r.popFirst(5));return i.isEqual(n)||pi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ec{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class is extends JO{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ZO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=is._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}is._jsonSchemaVersion="firestore/documentSnapshot/1.0",is._jsonSchema={type:gt("string",is._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class Qh extends is{data(e={}){return super.data(e)}}class xo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ec(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qh(this._firestore,this._userDataWriter,r.key,r,new Ec(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new Qh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ec(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new Qh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ec(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),h=s.indexOf(o.doc.key)),{type:FU(o.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=iw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function FU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue(61501,{type:t})}}xo._jsonSchemaVersion="firestore/querySnapshot/1.0",xo._jsonSchema={type:gt("string",xo._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class eD extends $U{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function VU(t,e,n){t=ai(t,yt);const r=ai(t.firestore,Bo),i=LU(t.converter,e);return Dw(r,[jU(qO(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,yr.none())])}function BU(t,e,n,...r){t=ai(t,yt);const i=ai(t.firestore,Bo),a=qO(i);let s;return s=typeof(e=an(e))=="string"||e instanceof jm?OU(a,"updateDoc",t._key,e,n,r):CU(a,"updateDoc",t._key,e),Dw(i,[s.toMutation(t._key,yr.exists(!0))])}function UU(t){return Dw(ai(t.firestore,Bo),[new fw(t._key,yr.none())])}function HU(t,...e){var n,r,i;t=an(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||EP(e[s])||(a=e[s++]);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(EP(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,h;if(t instanceof yt)c=ai(t.firestore,Bo),h=dw(t._key.path),l={next:d=>{e[s]&&e[s](zU(c,t,d))},error:e[s+1],complete:e[s+2]};else{const d=ai(t,Im);c=ai(d.firestore,Bo),h=d._query;const p=new eD(c);l={next:m=>{e[s]&&e[s](new xo(c,p,d,m))},error:e[s+1],complete:e[s+2]},RU(t._query)}return function(p,m,y,w){const g=new bU(w),x=new tU(m,g,y);return p.asyncQueue.enqueueAndForget(async()=>Q5(await yP(p),x)),()=>{g.Ou(),p.asyncQueue.enqueueAndForget(async()=>J5(await yP(p),x))}}(WO(c),h,o,l)}function Dw(t,e){return function(r,i){const a=new rs;return r.asyncQueue.enqueueAndForget(async()=>dU(await SU(r),i,a)),a.promise}(WO(t),e)}function zU(t,e,n){const r=n.docs.get(e._key),i=new eD(t);return new is(t,i,e._key,r,new Ec(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){vl=i})(yl),ko(new ps("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new Bo(new I6(r.getProvider("auth-internal")),new O6(s,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new se(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(c.options.projectId,h)}(s,i),s);return a=Object.assign({useFetchStreams:n},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),la(TE,NE,e),la(TE,NE,"esm2017")})();var WU="firebase",KU="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */la(WU,KU,"app");function kw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GU=tD,nD=new dd("auth","Firebase",tD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf=new ew("@firebase/auth");function qU(t,...e){Hf.logLevel<=we.WARN&&Hf.warn(`Auth (${yl}): ${t}`,...e)}function Jh(t,...e){Hf.logLevel<=we.ERROR&&Hf.error(`Auth (${yl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t,...e){throw Rw(t,...e)}function Rr(t,...e){return Rw(t,...e)}function rD(t,e,n){const r=Object.assign(Object.assign({},GU()),{[e]:n});return new dd("auth","Firebase",r).create(e,{appName:t.name})}function si(t){return rD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nD.create(t,...e)}function ce(t,e,...n){if(!t)throw Rw(e,...n)}function ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jh(e),new Error(e)}function gi(t,e){t||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YU(){return PP()==="http:"||PP()==="https:"}function PP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YU()||oV()||"connection"in navigator)?navigator.onLine:!0}function QU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.shortDelay=e,this.longDelay=n,gi(n>e,"Short delay should be less than long delay!"),this.isMobile=iV()||lV()}get(){return XU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t,e){gi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],e9=new vd(3e4,6e4);function Pi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ai(t,e,n,r,i={}){return aD(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=hd(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},a);return sV()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&gl(t.emulatorConfig.host)&&(c.credentials="include"),iD.fetch()(await sD(t,t.config.apiHost,n,o),c)})}async function aD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},JU),e);try{const i=new n9(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw vh(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw vh(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw vh(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw vh(t,"user-disabled",s);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw rD(t,h,c);br(t,h)}}catch(i){if(i instanceof Ei)throw i;br(t,"network-request-failed",{message:String(i)})}}async function xd(t,e,n,r,i={}){const a=await Ai(t,e,n,r,i);return"mfaPendingCredential"in a&&br(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function sD(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?$w(t.config,i):`${t.config.apiScheme}://${i}`;return ZU.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function t9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class n9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),e9.get())})}}function vh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rr(t,e,r);return i.customData._tokenResponse=n,i}function AP(t){return t!==void 0&&t.enterprise!==void 0}class r9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return t9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function i9(t,e){return Ai(t,"GET","/v2/recaptchaConfig",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a9(t,e){return Ai(t,"POST","/v1/accounts:delete",e)}async function zf(t,e){return Ai(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function s9(t,e=!1){const n=an(t),r=await n.getIdToken(e),i=Lw(r);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Uc(Ty(i.auth_time)),issuedAtTime:Uc(Ty(i.iat)),expirationTime:Uc(Ty(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ty(t){return Number(t)*1e3}function Lw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{const i=mC(n);return i?JSON.parse(i):(Jh("Failed to decode base64 JWT payload"),null)}catch(i){return Jh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function TP(t){const e=Lw(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ei&&o9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function o9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uc(this.lastLoginAt),this.creationTime=Uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await _u(t,zf(n,{idToken:r}));ce(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?oD(a.providerUserInfo):[],o=u9(t.providerData,s),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(o!=null&&o.length),h=l?c:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new P0(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function c9(t){const e=an(t);await Wf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function u9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oD(t){return t.map(e=>{var{providerId:n}=e,r=kw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d9(t,e){const n=await aD(t,{},async()=>{const r=hd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await sD(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&gl(t.emulatorConfig.host)&&(l.credentials="include"),iD.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function h9(t,e){return Ai(t,"POST","/v2/accounts:revokeToken",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=TP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await d9(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new bo;return r&&(ce(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(ce(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=kw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new l9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new P0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await _u(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return s9(this,e)}reload(){return c9(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(si(this.auth));const e=await this.getIdToken();return await _u(this,a9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,s,o,l,c,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,y=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(o=n.tenantId)!==null&&o!==void 0?o:void 0,g=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:_,emailVerified:A,isAnonymous:P,providerData:E,stsTokenManager:S}=n;ce(_&&S,e,"internal-error");const T=bo.fromJSON(this.name,S);ce(typeof _=="string",e,"internal-error"),ki(d,e.name),ki(p,e.name),ce(typeof A=="boolean",e,"internal-error"),ce(typeof P=="boolean",e,"internal-error"),ki(m,e.name),ki(y,e.name),ki(w,e.name),ki(g,e.name),ki(x,e.name),ki(v,e.name);const M=new fr({uid:_,auth:e,email:p,emailVerified:A,displayName:d,isAnonymous:P,photoURL:y,phoneNumber:m,tenantId:w,stsTokenManager:T,createdAt:x,lastLoginAt:v});return E&&Array.isArray(E)&&(M.providerData=E.map(I=>Object.assign({},I))),g&&(M._redirectEventId=g),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new bo;i.updateFromServerResponse(n);const a=new fr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wf(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ce(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?oD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new bo;o.updateFromIdToken(r);const l=new fr({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new P0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=new Map;function ti(t){gi(t instanceof Function,"Expected a class definition");let e=NP.get(t);return e?(gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,NP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lD.type="NONE";const MP=lD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t,e,n){return`firebase:${t}:${e}:${n}`}class wo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Zh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Zh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zf(this.auth,{idToken:e}).catch(()=>{});return n?fr._fromGetAccountInfoResponse(this.auth,n,e):null}return fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wo(ti(MP),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||ti(MP);const s=Zh(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const h=await c._get(s);if(h){let d;if(typeof h=="string"){const p=await zf(e,{idToken:h}).catch(()=>{});if(!p)break;d=await fr._fromGetAccountInfoResponse(e,p,h)}else d=fr._fromJSON(e,h);c!==a&&(o=d),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new wo(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new wo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pD(e))return"Blackberry";if(mD(e))return"Webos";if(uD(e))return"Safari";if((e.includes("chrome/")||dD(e))&&!e.includes("edge/"))return"Chrome";if(fD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cD(t=rn()){return/firefox\//i.test(t)}function uD(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dD(t=rn()){return/crios\//i.test(t)}function hD(t=rn()){return/iemobile/i.test(t)}function fD(t=rn()){return/android/i.test(t)}function pD(t=rn()){return/blackberry/i.test(t)}function mD(t=rn()){return/webos/i.test(t)}function Fw(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function f9(t=rn()){var e;return Fw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function p9(){return cV()&&document.documentMode===10}function gD(t=rn()){return Fw(t)||fD(t)||mD(t)||pD(t)||/windows phone/i.test(t)||hD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t,e=[]){let n;switch(t){case"Browser":n=IP(rn());break;case"Worker":n=`${IP(rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g9(t,e={}){return Ai(t,"GET","/v2/passwordPolicy",Pi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=6;class v9{constructor(e){var n,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:y9,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,s,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jP(this),this.idTokenSubscription=new jP(this),this.beforeStateQueue=new m9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ti(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await wo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zf(this,{idToken:e}),r=await fr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Hn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(si(this));const n=e?an(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await g9(this),n=new v9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new dd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await h9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ti(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ta(t){return an(t)}class jP{constructor(e){this.auth=e,this.observer=null,this.addObserver=yV(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b9(t){Dm=t}function vD(t){return Dm.loadJS(t)}function w9(){return Dm.recaptchaEnterpriseScript}function _9(){return Dm.gapiScript}function S9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class E9{constructor(){this.enterprise=new P9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class P9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const A9="recaptcha-enterprise",xD="NO_RECAPTCHA";class T9{constructor(e){this.type=A9,this.auth=Ta(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{i9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new r9(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;AP(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{s(c)}).catch(()=>{s(xD)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new E9().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&AP(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=w9();l.length!==0&&(l+=o),vD(l).then(()=>{i(o,a,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function CP(t,e,n,r=!1,i=!1){const a=new T9(t);let s;if(i)s=xD;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const o=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Kf(t,e,n,r,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await CP(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await CP(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t,e){const n=nw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(fs(a,e??{}))return i;br(i,"already-initialized")}return n.initialize({options:e})}function M9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ti);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function I9(t,e,n){const r=Ta(t);ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=bD(e),{host:s,port:o}=j9(e),l=o===null?"":`:${o}`,c={url:`${a}//${s}${l}/`},h=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ce(fs(c,r.config.emulator)&&fs(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,gl(s)?(xC(`${a}//${s}${l}`),bC("Auth",!0)):C9()}function bD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function j9(t){const e=bD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:OP(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:OP(s)}}}function OP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function C9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,n){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}async function O9(t,e){return Ai(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D9(t,e){return xd(t,"POST","/v1/accounts:signInWithPassword",Pi(t,e))}async function k9(t,e){return Ai(t,"POST","/v1/accounts:sendOobCode",Pi(t,e))}async function R9(t,e){return k9(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $9(t,e){return xd(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,e))}async function L9(t,e){return xd(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends Vw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Su(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Su(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kf(e,n,"signInWithPassword",D9);case"emailLink":return $9(e,{email:this._email,oobCode:this._password});default:br(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kf(e,r,"signUpPassword",O9);case"emailLink":return L9(e,{idToken:n,email:this._email,oobCode:this._password});default:br(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(t,e){return xd(t,"POST","/v1/accounts:signInWithIdp",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9="http://localhost";class ys extends Vw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=kw(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new ys(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_o(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:F9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function B9(t){const e=xc(bc(t)).link,n=e?xc(bc(e)).deep_link_id:null,r=xc(bc(t)).deep_link_id;return(r?xc(bc(r)).link:null)||r||n||e||t}class Bw{constructor(e){var n,r,i,a,s,o;const l=xc(bc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,d=V9((i=l.mode)!==null&&i!==void 0?i:null);ce(c&&h&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=h,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=l.lang)!==null&&s!==void 0?s:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=B9(e);try{return new Bw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.providerId=_l.PROVIDER_ID}static credential(e,n){return Su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bw.parseLink(n);return ce(r,"argument-error"),Su._fromEmailAndCode(e,r.code,r.tenantId)}}_l.PROVIDER_ID="password";_l.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_l.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends wD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends bd{constructor(){super("facebook.com")}static credential(e){return ys._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends bd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ys._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ui.credential(n,r)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends bd{constructor(){super("github.com")}static credential(e){return ys._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends bd{constructor(){super("twitter.com")}static credential(e,n){return ys._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zi.credential(n,r)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U9(t,e){return xd(t,"POST","/v1/accounts:signUp",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await fr._fromIdTokenResponse(e,r,i),s=DP(r);return new vs({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=DP(r);return new vs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function DP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends Ei{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gf.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Gf(e,n,r,i)}}function _D(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Gf._fromErrorAndOperation(t,a,e,r):a})}async function H9(t,e,n=!1){const r=await _u(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z9(t,e,n=!1){const{auth:r}=t;if(Hn(r.app))return Promise.reject(si(r));const i="reauthenticate";try{const a=await _u(t,_D(r,i,e,t),n);ce(a.idToken,r,"internal-error");const s=Lw(a.idToken);ce(s,r,"internal-error");const{sub:o}=s;return ce(t.uid===o,r,"user-mismatch"),vs._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&br(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(t,e,n=!1){if(Hn(t.app))return Promise.reject(si(t));const r="signIn",i=await _D(t,r,e),a=await vs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function W9(t,e){return SD(Ta(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(t){const e=Ta(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function K9(t,e,n){const r=Ta(t);await Kf(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",R9)}async function G9(t,e,n){if(Hn(t.app))return Promise.reject(si(t));const r=Ta(t),s=await Kf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",U9).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&ED(t),l}),o=await vs._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function q9(t,e,n){return Hn(t.app)?Promise.reject(si(t)):W9(an(t),_l.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ED(t),r})}function Y9(t,e,n,r){return an(t).onIdTokenChanged(e,n,r)}function X9(t,e,n){return an(t).beforeAuthStateChanged(e,n)}const qf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qf,"1"),this.storage.removeItem(qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=1e3,J9=10;class AD extends PD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);p9()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,J9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Q9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AD.type="LOCAL";const Z9=AD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD extends PD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TD.type="SESSION";const ND=TD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new km(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async c=>c(n.origin,a)),l=await eH(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}km.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const c=Uw("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(p.data.response);break;default:clearTimeout(h),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return window}function nH(t){$r().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function rH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function aH(){return MD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="firebaseLocalStorageDb",sH=1,Yf="firebaseLocalStorage",jD="fbase_key";class wd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rm(t,e){return t.transaction([Yf],e?"readwrite":"readonly").objectStore(Yf)}function oH(){const t=indexedDB.deleteDatabase(ID);return new wd(t).toPromise()}function A0(){const t=indexedDB.open(ID,sH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yf,{keyPath:jD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yf)?e(r):(r.close(),await oH(),e(await A0()))})})}async function kP(t,e,n){const r=Rm(t,!0).put({[jD]:e,value:n});return new wd(r).toPromise()}async function lH(t,e){const n=Rm(t,!1).get(e),r=await new wd(n).toPromise();return r===void 0?null:r.value}function RP(t,e){const n=Rm(t,!0).delete(e);return new wd(n).toPromise()}const cH=800,uH=3;class CD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await A0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=km._getInstance(aH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rH(),!this.activeServiceWorker)return;this.sender=new tH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await A0();return await kP(e,qf,"1"),await RP(e,qf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>RP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Rm(i,!1).getAll();return new wd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CD.type="LOCAL";const dH=CD;new vd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hH(t,e){return e?ti(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw extends Vw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fH(t){return SD(t.auth,new Hw(t),t.bypassAuthState)}function pH(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),z9(n,new Hw(t),t.bypassAuthState)}async function mH(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),H9(n,new Hw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fH;case"linkViaPopup":case"linkViaRedirect":return mH;case"reauthViaPopup":case"reauthViaRedirect":return pH;default:br(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH=new vd(2e3,1e4);class so extends OD{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const e=Uw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gH.get())};e()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yH="pendingRedirect",ef=new Map;class vH extends OD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ef.get(this.auth._key());if(!e){try{const r=await xH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ef.set(this.auth._key(),e)}return this.bypassAuthState||ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xH(t,e){const n=_H(e),r=wH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function bH(t,e){ef.set(t._key(),e)}function wH(t){return ti(t._redirectPersistence)}function _H(t){return Zh(yH,t.config.apiKey,t.name)}async function SH(t,e,n=!1){if(Hn(t.app))return Promise.reject(si(t));const r=Ta(t),i=hH(r,e),s=await new vH(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH=10*60*1e3;class PH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!DD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EH&&this.cachedEventUids.clear(),this.cachedEventUids.has($P(e))}saveEventToCache(e){this.cachedEventUids.add($P(e)),this.lastProcessedEventTime=Date.now()}}function $P(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TH(t,e={}){return Ai(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MH=/^https?/;async function IH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TH(t);for(const n of e)try{if(jH(n))return}catch{}br(t,"unauthorized-domain")}function jH(t){const e=E0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!MH.test(n))return!1;if(NH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH=new vd(3e4,6e4);function LP(){const t=$r().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function OH(t){return new Promise((e,n)=>{var r,i,a;function s(){LP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LP(),n(Rr(t,"network-request-failed"))},timeout:CH.get()})}if(!((i=(r=$r().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=$r().gapi)===null||a===void 0)&&a.load)s();else{const o=S9("iframefcb");return $r()[o]=()=>{gapi.load?s():n(Rr(t,"network-request-failed"))},vD(`${_9()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw tf=null,e})}let tf=null;function DH(t){return tf=tf||OH(t),tf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kH=new vd(5e3,15e3),RH="__/auth/iframe",$H="emulator/auth/iframe",LH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VH(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$w(e,$H):`https://${t.config.authDomain}/${RH}`,r={apiKey:e.apiKey,appName:t.name,v:yl},i=FH.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${hd(r).slice(1)}`}async function BH(t){const e=await DH(t),n=$r().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:VH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LH,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Rr(t,"network-request-failed"),o=$r().setTimeout(()=>{a(s)},kH.get());function l(){$r().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HH=500,zH=600,WH="_blank",KH="http://localhost";class FP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GH(t,e,n,r=HH,i=zH){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},UH),{width:r.toString(),height:i.toString(),top:a,left:s}),c=rn().toLowerCase();n&&(o=dD(c)?WH:n),cD(c)&&(e=e||KH,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[m,y])=>`${p}${m}=${y},`,"");if(f9(c)&&o!=="_self")return qH(e||"",o),new FP(null);const d=window.open(e||"",o,h);ce(d,t,"popup-blocked");try{d.focus()}catch{}return new FP(d)}function qH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH="__/auth/handler",XH="emulator/auth/handler",QH=encodeURIComponent("fac");async function VP(t,e,n,r,i,a){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yl,eventId:i};if(e instanceof wD){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",gV(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))s[h]=d}if(e instanceof bd){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await t._getAppCheckToken(),c=l?`#${QH}=${encodeURIComponent(l)}`:"";return`${JH(t)}?${hd(o).slice(1)}${c}`}function JH({config:t}){return t.emulator?$w(t,XH):`https://${t.authDomain}/${YH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="webStorageSupport";class ZH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ND,this._completeRedirectFn=SH,this._overrideRedirectResult=bH}async _openPopup(e,n,r,i){var a;gi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await VP(e,n,r,E0(),i);return GH(e,s,Uw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await VP(e,n,r,E0(),i);return nH(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(gi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BH(e),r=new PH(e);return n.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ny,{type:Ny},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Ny];s!==void 0&&n(!!s),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gD()||uD()||Fw()}}const e8=ZH;var BP="@firebase/auth",UP="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r8(t){ko(new ps("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;ce(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yD(t)},c=new x9(r,i,a,l);return M9(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ko(new ps("auth-internal",e=>{const n=Ta(e.getProvider("auth").getImmediate());return(r=>new t8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),la(BP,UP,n8(t)),la(BP,UP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8=5*60,a8=vC("authIdTokenMaxAge")||i8;let HP=null;const s8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>a8)return;const i=n==null?void 0:n.token;HP!==i&&(HP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function o8(t=EC()){const e=nw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=N9(t,{popupRedirectResolver:e8,persistence:[dH,Z9,ND]}),r=vC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=s8(a.toString());X9(n,s,()=>s(n.currentUser)),Y9(n,o=>s(o))}}const i=gC("auth");return i&&I9(n,`http://${i}`),n}function l8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}b9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Rr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",l8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r8("Browser");const kD={apiKey:"AIzaSyD_DM7_H_aiRFiEm5X8orSGOvZ9zCUi5_M",authDomain:"prognosis-care.firebaseapp.com",projectId:"prognosis-care",storageBucket:"prognosis-care.firebasestorage.app",messagingSenderId:"1062095523080",appId:"1:1062095523080:web:bd45faf69104b1d35370bd"},c8=["apiKey","authDomain","projectId","appId"],RD=c8.filter(t=>!kD[t]),oo=RD.length===0,$D=oo?"":`Missing Firebase env keys: ${RD.join(", ")}`;let Ua=null,Yr=null;if(oo){const t=SC(kD);Ua=o8(t),Yr=AU(t)}else console.warn(`[Auth] Firebase not configured. Falling back to local mock auth. ${$D}`);const LD=Rc,T0=LD;function FD(t){return t.toLowerCase().replace(/&/g,"and").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}const ur=HF;function u8(t){return LD.find(e=>FD(e)===t)}const zw=(t=900)=>new Promise(e=>setTimeout(e,t));async function d8(t){return await zw(1100),{...t,bookingId:`BK-${Date.now().toString().slice(-8)}`,status:"scheduled"}}async function h8(t){return await zw(1500),Math.random()<.2?{ok:!1,error:"Payment authorization failed. Please retry with another method."}:{ok:!0,paymentId:`PAY-${Date.now().toString().slice(-9)}`,invoiceId:`INV-${Math.floor(1e5+Math.random()*9e5)}`,paidAt:new Date().toISOString(),...t}}async function f8({bookingId:t,fileName:e}){return await zw(1200),{bookingId:t,fileName:e,reportId:`REP-${Date.now().toString().slice(-8)}`,uploadedAt:new Date().toISOString(),status:"Available"}}const p8="AIzaSyCjC_ZPirlziz7Im9K00lLtaODQQAQhAMQ",m8="gemini-2.0-flash",g8=`https://generativelanguage.googleapis.com/v1beta/models/${m8}:generateContent?key=${p8}`;function y8(t){return`You are a medical AI triage assistant for Prognosis Care, a healthcare platform in India.

A patient describes the following symptoms:
"${t}"

First determine whether this input is actually health/symptom related.

Based on the symptoms, provide:
1. A short medical triage summary (1-3 sentences).
2. A list of recommended diagnostic tests ONLY if medically needed.

IMPORTANT: Respond ONLY with valid JSON in the exact format below  no markdown, no backticks, no extra text:
{
  "isHealthRelated": true,
  "summary": "Your 2-3 sentence medical summary here.",
  "tests": [
    {
      "id": "test-unique-id",
      "name": "Test Name",
      "reason": "Why this test is recommended for the given symptoms.",
      "priority": "high | medium | low",
      "cost": 1200
    }
  ]
}

Rules:
- If input is NOT health-related (for example: coding, math, random chat, jokes), return:
  - isHealthRelated: false
  - summary: "Please describe your health symptoms (for example: fever, cough, chest pain) so I can help."
  - tests: []
- For isolated mild back pain/body pain/headache without red-flag symptoms, do not suggest blood tests/CRP/advanced panels by default.
- For mild isolated symptoms (for example only "headache" with no red flags), keep tests minimal or empty.
- Use realistic Indian hospital test costs in INR (5005000 range) only when tests are needed.
- Prioritise tests that are clearly medically relevant.
- Do NOT diagnose; only provide triage guidance.
- Respond with pure JSON only.`}function v8(t){const e=(t||"").toLowerCase().trim();return!e||new Set(["health","healthy","symptom","symptoms","medical","doctor","help","hi","hello"]).has(e)||!["pain","headache","fever","cough","cold","vomit","nausea","dizziness","breath","chest","bp","blood pressure","sugar","diabetes","fatigue","weakness","infection","injury","swelling","rash","stomach","diarrhea","constipation","anxiety","depression","symptom"].some(s=>e.includes(s))?!1:e.split(/\s+/).filter(Boolean).length>=2||e.includes("pain")}function x8(t){const e=(t||"").toLowerCase().trim();if(!e)return!1;const n=["back pain","lower back pain","body pain","muscle pain","neck pain","headache","mild pain","soreness"],r=["severe","unbearable","chest pain","shortness of breath","breathing issue","fainting","numbness","weakness in leg","paralysis","injury","trauma","accident","fall","fever","weight loss","blood in urine","loss of bladder control","loss of bowel control","night sweats","persistent vomiting"],i=n.some(s=>e.includes(s)),a=r.some(s=>e.includes(s));return i&&!a}function b8(t){let e=t.trim();e.startsWith("```")&&(e=e.replace(/^```(?:json)?\n?/,"").replace(/\n?```$/,""));try{const n=JSON.parse(e);if(n.summary&&Array.isArray(n.tests))return{isHealthRelated:n.isHealthRelated!==!1,summary:n.summary,tests:n.tests}}catch{const n=e.match(/\{[\s\S]*\}/);if(n)try{const r=JSON.parse(n[0]);if(r.summary&&Array.isArray(r.tests))return{isHealthRelated:r.isHealthRelated!==!1,summary:r.summary,tests:r.tests}}catch{}}return{isHealthRelated:!0,summary:t.slice(0,300),tests:[]}}async function w8(t){var i,a,s,o,l;const e=await fetch(g8,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:y8(t)}]}],generationConfig:{temperature:.4,maxOutputTokens:1024}})});if(!e.ok){const c=await e.text();throw console.error("Gemini API error:",e.status,c),new Error(`Gemini API request failed (${e.status})`)}const n=await e.json(),r=(l=(o=(s=(a=(i=n==null?void 0:n.candidates)==null?void 0:i[0])==null?void 0:a.content)==null?void 0:s.parts)==null?void 0:o[0])==null?void 0:l.text;if(!r)throw new Error("Empty response from Gemini API.");return b8(r)}const _8="http://localhost:8000";async function S8(t){try{const e=await fetch(`${_8}/predict`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symptoms:t})});if(!e.ok)throw new Error(`Backend error: ${e.statusText}`);const n=await e.json();return{summary:n.summary||`Based on symptoms: ${t}`,tests:n.recommended_tests||[],disease:n.disease,specialty:n.specialty}}catch(e){throw console.warn("Backend prediction failed:",e),e}}const VD=k.createContext(null),N0="pc_patient_profile",Ww="pc_appointments",BD="pc_medical_records",Kw="pc_doctors",Gw="pc_departments",UD="pc_doctors_data_version",HD="2026-02-14-image-refresh-v1",zD="pc_appointments_data_version",WD="2026-02-15-empty-v1",zP={id:"PAT-1001",name:"",selectedHospitalId:"",dob:"",bloodGroup:"",gender:"",emergencyContact:"",lastCheckupDate:"",riskLevel:"low",bp:""};function E8(){try{const t=localStorage.getItem(N0);return t?JSON.parse(t):null}catch{return null}}function $m(t){try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch{return[]}}function KD(t){try{return localStorage.getItem(t)}catch{return null}}function Hc(t,e){try{localStorage.setItem(t,e)}catch{}}function WP(t){return new Promise(e=>{if(!t){e("");return}const n=new FileReader;n.onload=()=>e(typeof n.result=="string"?n.result:""),n.onerror=()=>e(""),n.readAsDataURL(t)})}function P8(t){if(!(t!=null&&t.includes("/")))return"low";const[e,n]=t.split("/"),r=Number(e),i=Number(n);return Number.isNaN(r)||Number.isNaN(i)?"low":r>=140||i>=90?"high":r>=130||i>=85?"medium":"low"}const Ka=[{id:"hosp-2",name:"Fortis Hospital",locations:["Main Tower","Diagnostics Wing"],address:"88 Health Avenue, Metro City",description:"Contracted tertiary partner hospital with advanced specialty care and diagnostics.",specialties:["Pulmonology","Endocrinology","Oncology","Cardiology"],specialistUnits:["Pulmonary Critical Care Unit","Advanced Cardiac Services","Comprehensive Oncology Team","Neurology & Stroke Unit"],facilities:["24/7 Emergency Response","Advanced Imaging Suite","Integrated ICU Support","Multispeciality OPD"],accreditation:"NABH Accredited",rating:4.8,emergencySupport:"24/7 Emergency & ICU",insuranceAvailable:!0,serviceFee:199,taxRate:.12},{id:"hosp-1",name:"CityCare Multi-Speciality Hospital",locations:["Downtown Center","North Campus","East Wing Diagnostics"],address:"12 Heartline Ave, MedCity",description:"Contracted multi-speciality center with integrated diagnostics and specialist OPDs.",specialties:["General Medicine","Cardiology","Neurology","Pathology"],specialistUnits:["Cardiac Unit","Neuro Unit","Comprehensive Diagnostics"],facilities:["MRI & CT","Operation Theatres","Cath Lab","Advanced Lab"],accreditation:"NABH Accredited",rating:4.7,emergencySupport:"24/7 Emergency & ICU",insuranceAvailable:!0,serviceFee:199,taxRate:.12},{id:"hosp-3",name:"Max Hospital",locations:["Central Campus","Specialty Block"],address:"44 Clinical Street, Health District",description:"Contracted high-volume specialty hospital for critical and chronic care pathways.",specialties:["Oncology","Pulmonology","Endocrinology","ENT"],specialistUnits:["Oncology Daycare","Pulmonary Rehab","Cardiac Risk Clinic"],facilities:["Advanced OT","Daycare Suites","Comprehensive Lab Services"],accreditation:"NABH Accredited",rating:4.6,emergencySupport:"24/7 Emergency",insuranceAvailable:!0,serviceFee:219,taxRate:.12}],rr=E8(),KP=$m(Ww),A8=$m(BD),GP=$m(Kw),qP=$m(Gw),T8=KD(UD),M0=T8!==HD,N8=KD(zD),GD=N8!==WD;M0&&(Hc(Kw,JSON.stringify(ur)),Hc(Gw,JSON.stringify(T0)),Hc(UD,HD));GD&&(Hc(Ww,JSON.stringify([])),Hc(zD,WD));const M8=GD?[]:KP.length?KP:[],I8={patient:rr?{...zP,...rr}:zP,profileCompleted:!!(rr!=null&&rr.name&&(rr!=null&&rr.dob)),patientSymptoms:"",recommendedTests:[],recommendationSummary:"",doctors:M0?ur:GP.length?GP:ur,departments:M0?T0:qP.length?qP:T0,selectedHospital:Ka.find(t=>t.id===(rr==null?void 0:rr.selectedHospitalId))||Ka[0],draftBooking:null,latestBooking:null,appointments:M8,medicalRecords:A8,paymentHistory:[],reports:[],notifications:[]};function j8(t,e,n,r){const i=t.map(l=>{const c=Math.round(l.cost*n),h=r?Math.round(l.cost*.8):l.cost;return{name:l.name,basePrice:l.cost,discountedPrice:h,serviceFee:e,tax:c,total:h+e+c}}),a=i.reduce((l,c)=>l+c.discountedPrice,0),s=i.reduce((l,c)=>l+c.serviceFee,0),o=i.reduce((l,c)=>l+c.tax,0);return{rows:i,subtotal:a,fees:s,taxes:o,total:a+s+o}}function C8(t,{location:e,slot:n,insuranceEnabled:r}){const i=j8(t.recommendedTests,t.selectedHospital.serviceFee,t.selectedHospital.taxRate,r);return{tests:t.recommendedTests,hospital:t.selectedHospital,location:e,slot:n,insuranceEnabled:r,bill:i}}function O8({children:t}){const[e,n]=k.useState(I8),[r,i]=k.useState({recommendations:!1,booking:!1,appointment:!1,payment:!1,reportUpload:!1}),[a,s]=k.useState("");k.useEffect(()=>{if(!Yr)return;const F=HU(PU(Yr,"appointments"),U=>{const R=U.docs.map(V=>({id:V.id,...V.data()}));n(V=>({...V,appointments:R}))},U=>{console.error("Firestore sync error:",U)});return()=>F()},[]);const o=F=>{const U=P8(F.bp),R=Ka.find($=>$.id===F.selectedHospitalId)||Ka[0],V={...e.patient,...F,riskLevel:U,selectedHospitalId:R.id};localStorage.setItem(N0,JSON.stringify(V)),n($=>({...$,patient:V,selectedHospital:R,profileCompleted:!0}))},l=F=>{const U=Ka.find(R=>R.id===F)||Ka[0];n(R=>{const V={...R.patient,selectedHospitalId:U.id};return localStorage.setItem(N0,JSON.stringify(V)),{...R,patient:V,selectedHospital:U}})},c=F=>{n(U=>({...U,notifications:[{id:Date.now(),message:F},...U.notifications].slice(0,5)}))},h=F=>{localStorage.setItem(Kw,JSON.stringify(F))},d=F=>{localStorage.setItem(Gw,JSON.stringify(F))},p=F=>{localStorage.setItem(Ww,JSON.stringify(F))},m=F=>{localStorage.setItem(BD,JSON.stringify(F))},y=async({file:F,recordType:U,notes:R,appointmentId:V,doctorName:$})=>{const K=await WP(F),q={id:`MR-${Date.now().toString().slice(-8)}`,fileName:(F==null?void 0:F.name)||"record",mimeType:(F==null?void 0:F.type)||"application/octet-stream",previewUrl:K,recordType:U,notes:R||"",linkedAppointmentId:V||null,linkedDoctorName:$||"",uploadDate:new Date().toISOString(),source:"user"};return n(ee=>{const me=[q,...ee.medicalRecords];return m(me),{...ee,medicalRecords:me}}),q},w=(F,U,R)=>{const V={id:`doctor-${Date.now().toString().slice(-8)}`,fullName:F.fullName,gender:F.gender,department:F.department,specialization:F.specialization,experienceYears:Number(F.experienceYears),educationShort:F.educationShort,educationHistory:[{degree:"MBBS",institution:F.mbbsInstitution,year:F.mbbsYear},{degree:F.advancedDegree,institution:F.advancedInstitution,year:F.advancedYear}],consultationFee:Number(F.consultationFee),languages:F.languages.split(",").map($=>$.trim()).filter(Boolean),profileImage:F.profileImage,availabilityStatus:"Available",weeklyAvailability:F.weeklyAvailability,availableTimeSlots:F.availableTimeSlots,professionalBio:F.professionalBio,workTimeline:[{period:"Current",role:`Consultant, ${R}`}],hospitalAffiliation:R,hospitalId:U,certifications:["Medical Council Registered"],publications:["Clinical profile available on request"],patientReviews:[]};return n($=>{const K=[V,...$.doctors];return h(K),{...$,doctors:K}}),c(`Doctor ${V.fullName} added successfully.`),V},g=(F,U)=>{n(R=>{const V=R.doctors.map($=>$.id===F?{...$,...U}:$);return h(V),{...R,doctors:V}})},x=F=>{n(U=>{const R=U.doctors.filter(V=>V.id!==F);return h(R),{...U,doctors:R}})},v=F=>{const U=F.trim();U&&n(R=>{if(R.departments.includes(U))return R;const V=[...R.departments,U];return d(V),{...R,departments:V}})},_=(F,U)=>{const R=U.trim();R&&n(V=>{const $=V.departments.map(q=>q===F?R:q),K=V.doctors.map(q=>q.department===F?{...q,department:R}:q);return d($),h(K),{...V,departments:$,doctors:K}})},A=F=>{n(U=>{const R=U.departments.filter(V=>V!==F);return d(R),{...U,departments:R}})},P=F=>{n(U=>{const R=U.medicalRecords.filter(V=>V.id!==F);return m(R),{...U,medicalRecords:R}})},E=async({doctor:F,department:U,date:R,time:V,reason:$,file:K,recordType:q})=>{i(Ne=>({...Ne,appointment:!0}));const ee=`APT-${Date.now().toString().slice(-8)}`,me=await WP(K),be={id:ee,patient_id:e.patient.id,doctor_id:F.id,hospital_id:F.hospitalId||"hosp-1",doctorId:F.id,doctorName:F.fullName,department:U,date:R,time:V,reason:$,consultationFee:F.consultationFee,status:"Upcoming",createdAt:new Date().toISOString(),uploadedMedicalFile:K?{fileName:K.name,mimeType:K.type,previewUrl:me}:null};if(Yr)try{await VU(Ay(Yr,"appointments",be.id),be)}catch(Ne){console.error("Error adding appointment to DB:",Ne)}else n(Ne=>{const ht=[be,...Ne.appointments];return p(ht),{...Ne,appointments:ht}});return K&&await y({file:K,recordType:q||"Appointment Attachment",notes:$,appointmentId:be.id,doctorName:F.fullName}),c(`Appointment booked with ${F.fullName}.`),i(Ne=>({...Ne,appointment:!1})),be},S=F=>{Yr?UU(Ay(Yr,"appointments",F)).catch(console.error):n(U=>{const R=U.appointments.filter(V=>V.id!==F);return p(R),{...U,appointments:R}}),c("Appointment cancelled.")},T=(F,U)=>{Yr?BU(Ay(Yr,"appointments",F),{status:U}).catch(console.error):n(R=>{const V=R.appointments.map($=>$.id===F?{...$,status:U}:$);return p(V),{...R,appointments:V}}),c(`Appointment marked as ${U}.`)},M=async F=>{const U=F==null?void 0:F.trim();if(!U){n(V=>({...V,patientSymptoms:"",recommendedTests:[],recommendationSummary:""}));return}if(!v8(U)){n(V=>({...V,patientSymptoms:U,recommendedTests:[],recommendationSummary:"Please describe your health symptoms (for example: fever, cough, chest pain) so I can help."}));return}if(x8(U)){n(V=>({...V,patientSymptoms:U,recommendedTests:[],recommendationSummary:"This sounds like a mild symptom pattern. Start with rest, hydration, posture correction, light stretching, and a simple pain-relief approach if suitable for you. If symptoms worsen, persist beyond a few days, or any red-flag signs appear, consult a doctor promptly."}));return}i(V=>({...V,recommendations:!0}));let R;try{R=await w8(U),(R==null?void 0:R.isHealthRelated)===!1&&(R={summary:"Please describe your health symptoms (for example: fever, cough, chest pain) so I can help.",tests:[]})}catch(V){console.warn("Gemini failed, trying local backend:",V);try{const $=await S8(U);R={summary:$.summary,tests:($.tests||[]).map(K=>({...K,priority:K.priority||"medium"}))}}catch($){console.warn("Local backend also failed:",$),R={summary:"Unable to generate recommendations right now. Please try again in a moment.",tests:[]}}}n(V=>({...V,patientSymptoms:U,recommendedTests:R.tests,recommendationSummary:R.summary})),i(V=>({...V,recommendations:!1}))},I=({location:F,slot:U,insuranceEnabled:R})=>{const V=C8(e,{location:F,slot:U,insuranceEnabled:R});return n($=>({...$,draftBooking:V})),V},O=async F=>{const U=F||e.draftBooking;if(!U)return null;i(V=>({...V,booking:!0}));const R=await d8({patient:e.patient,...U,createdAt:new Date().toISOString(),paymentStatus:"pending"});return n(V=>({...V,latestBooking:R})),i(V=>({...V,booking:!1})),R},j=async({method:F,details:U})=>{if(!e.latestBooking)return{ok:!1,error:"Booking missing."};i(V=>({...V,payment:!0})),s("");const R=await h8({bookingId:e.latestBooking.bookingId,amount:e.latestBooking.bill.total,method:F,details:U});return R.ok?(n(V=>{const $={...V.latestBooking,paymentStatus:"paid",payment:R};return{...V,latestBooking:$,paymentHistory:[{id:R.paymentId,invoiceId:R.invoiceId,amount:R.amount,method:R.method,date:R.paidAt,bookingId:R.bookingId},...V.paymentHistory]}}),c("Your lab test is scheduled. Payment confirmed."),i(V=>({...V,payment:!1})),R):(s(R.error),i(V=>({...V,payment:!1})),R)},C=()=>{n(F=>F.latestBooking?{...F,latestBooking:{...F.latestBooking,status:"completed"}}:F),c("Your hospital marked the test as completed.")},L=async F=>{if(!e.latestBooking)return null;i(R=>({...R,reportUpload:!0}));const U=await f8({bookingId:e.latestBooking.bookingId,fileName:F});return n(R=>{const V=[{id:U.reportId,fileName:U.fileName,mimeType:"application/pdf",previewUrl:"",recordType:"Lab Report",notes:R.latestBooking.tests.map($=>$.name).join(", "),linkedAppointmentId:null,linkedDoctorName:"",uploadDate:U.uploadedAt,source:"hospital"},...R.medicalRecords];return m(V),{...R,reports:[{...U,hospitalName:R.latestBooking.hospital.name,testNames:R.latestBooking.tests.map($=>$.name)},...R.reports],medicalRecords:V,latestBooking:{...R.latestBooking,reportStatus:"Available"}}}),i(R=>({...R,reportUpload:!1})),c("New lab report is now available in Medical Records."),U},B=k.useMemo(()=>({state:e,hospitals:Ka,loading:r,paymentError:a,updatePatientProfile:o,setPatientSelectedHospital:l,addDoctor:w,updateDoctor:g,removeDoctor:x,addDepartment:v,editDepartment:_,deleteDepartment:A,addAppointment:E,cancelAppointment:S,updateAppointmentStatus:T,addMedicalRecord:y,deleteMedicalRecord:P,pushNotification:c,loadRecommendations:M,saveDraftBooking:I,confirmBooking:O,payForBooking:j,markTestCompleted:C,uploadReport:L}),[e,r,a]);return u.jsx(VD.Provider,{value:B,children:t})}function At(){const t=k.useContext(VD);if(!t)throw new Error("useApp must be used inside AppProvider");return t}function D8(){var l;const t=wn(),{state:e,hospitals:n,updatePatientProfile:r}=At(),[i,a]=k.useState({name:e.patient.name||"",selectedHospitalId:e.patient.selectedHospitalId||((l=n[0])==null?void 0:l.id)||"",dob:e.patient.dob||"",bloodGroup:e.patient.bloodGroup||"",gender:e.patient.gender||"",emergencyContact:e.patient.emergencyContact||"",lastCheckupDate:e.patient.lastCheckupDate||"",bp:e.patient.bp||""}),s=(c,h)=>{a(d=>({...d,[c]:h}))},o=c=>{c.preventDefault(),r(i),t("/dashboard")};return u.jsx("div",{className:"page-shell",children:u.jsxs("section",{className:"card mx-auto w-full max-w-3xl",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Welcome Setup"}),u.jsx("h2",{className:"mt-1 text-2xl font-bold",children:"Complete your patient details"}),u.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Fill these details once. They will be saved and used automatically in your dashboard."})]}),u.jsxs("form",{className:"grid gap-4 sm:grid-cols-2",onSubmit:o,children:[u.jsxs("label",{className:"text-sm text-slate-700 sm:col-span-2",children:["Full Name",u.jsx("input",{className:"input mt-1",value:i.name,onChange:c=>s("name",c.target.value),required:!0})]}),u.jsxs("label",{className:"text-sm text-slate-700 sm:col-span-2",children:["Select Contract Hospital",u.jsx("select",{className:"input mt-1",value:i.selectedHospitalId,onChange:c=>s("selectedHospitalId",c.target.value),required:!0,children:n.map(c=>u.jsx("option",{value:c.id,children:c.name},c.id))})]}),u.jsxs("label",{className:"text-sm text-slate-700",children:["Date of Birth",u.jsx("input",{type:"date",className:"input mt-1",value:i.dob,onChange:c=>s("dob",c.target.value),required:!0})]}),u.jsxs("label",{className:"text-sm text-slate-700",children:["Blood Group",u.jsxs("select",{className:"input mt-1",value:i.bloodGroup,onChange:c=>s("bloodGroup",c.target.value),required:!0,children:[u.jsx("option",{value:"",children:"Select"}),u.jsx("option",{value:"A+",children:"A+"}),u.jsx("option",{value:"A-",children:"A-"}),u.jsx("option",{value:"B+",children:"B+"}),u.jsx("option",{value:"B-",children:"B-"}),u.jsx("option",{value:"AB+",children:"AB+"}),u.jsx("option",{value:"AB-",children:"AB-"}),u.jsx("option",{value:"O+",children:"O+"}),u.jsx("option",{value:"O-",children:"O-"})]})]}),u.jsxs("label",{className:"text-sm text-slate-700",children:["Gender",u.jsxs("select",{className:"input mt-1",value:i.gender,onChange:c=>s("gender",c.target.value),required:!0,children:[u.jsx("option",{value:"",children:"Select"}),u.jsx("option",{value:"Male",children:"Male"}),u.jsx("option",{value:"Female",children:"Female"}),u.jsx("option",{value:"Other",children:"Other"})]})]}),u.jsxs("label",{className:"text-sm text-slate-700",children:["Last Checkup Date",u.jsx("input",{type:"date",className:"input mt-1",value:i.lastCheckupDate,onChange:c=>s("lastCheckupDate",c.target.value),required:!0})]}),u.jsxs("label",{className:"text-sm text-slate-700",children:["Emergency Contact",u.jsx("input",{className:"input mt-1",value:i.emergencyContact,onChange:c=>s("emergencyContact",c.target.value),required:!0})]}),u.jsxs("label",{className:"text-sm text-slate-700",children:["Blood Pressure (e.g. 120/80)",u.jsx("input",{className:"input mt-1",value:i.bp,onChange:c=>s("bp",c.target.value),required:!0})]}),u.jsx("div",{className:"sm:col-span-2",children:u.jsx("button",{type:"submit",className:"btn-primary w-full",children:"Save Details & Continue"})})]})]})})}const qD="pc_hospital_requests",I0="pc_hospital_accounts",j0="pc_platform_logs",Pc=["Fortis Hospital","CityCare Multi-Speciality Hospital","Max Hospital"],YP=[{id:"hosp-1",hospitalName:"CityCare Multi-Speciality Hospital",registrationNumber:"MH-REG-1024",address:"12 Heartline Ave",city:"Mumbai",state:"Maharashtra",contactEmail:"admin@citycarehospital.com",phone:"+91 90000 11111",adminName:"Rahul Mehta",adminRole:"Operations Manager",password:"Hospital@123",status:"Active",approvedAt:"2026-01-10T10:00:00.000Z"}];function Lm(t,e=[]){try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch{return e}}function Fm(t,e){localStorage.setItem(t,JSON.stringify(e))}function Eu(){return Lm(qD,[])}function YD(t){Fm(qD,t)}function Uo(){const t=Lm(I0,[]),n=t.some(r=>{var i;return((i=r.contactEmail)==null?void 0:i.trim().toLowerCase())===YP[0].contactEmail})?t:[...t,...YP];return Fm(I0,n),n}function XD(t){Fm(I0,t)}function zc(t,e="system"){const n=Lm(j0,[]),r={id:`LOG-${Date.now().toString().slice(-8)}`,action:t,actor:e,createdAt:new Date().toISOString()},i=[r,...n].slice(0,100);return Fm(j0,i),r}function XP(){return Lm(j0,[])}function k8(t){var h,d;const e=Eu(),n=(h=t.contactEmail)==null?void 0:h.trim().toLowerCase(),r=(d=t.hospitalName)==null?void 0:d.trim();if(!Pc.includes(r))return{ok:!1,error:"Please select a valid hospital from the approved list."};const i=e.some(p=>{var m;return((m=p.contactEmail)==null?void 0:m.trim().toLowerCase())===n}),a=Uo(),s=a.some(p=>{var m;return((m=p.contactEmail)==null?void 0:m.trim().toLowerCase())===n}),o=a.some(p=>p.hospitalName===r&&p.status==="Active"),l=e.some(p=>p.hospitalName===r&&p.status==="Pending Approval");if(o)return{ok:!1,error:"This hospital already has an active admin."};if(l)return{ok:!1,error:"A signup request for this hospital is already pending approval."};if(i||s)return{ok:!1,error:"This admin email is already registered or pending approval."};const c={id:`REQ-${Date.now().toString().slice(-8)}`,...t,hospitalName:r,contactEmail:n,status:"Pending Approval",submittedAt:new Date().toISOString(),reviewNote:""};return YD([c,...e]),zc(`New hospital signup request: ${t.hospitalName}`,t.adminName),{ok:!0,request:c}}function R8(t,e,n=""){const r=Eu(),i=r.find(s=>s.id===t);if(!i)return{ok:!1,error:"Request not found."};const a=r.map(s=>s.id===t?{...s,status:e==="approve"?"Approved":e==="reject"?"Rejected":"More Info Requested",reviewNote:n,reviewedAt:new Date().toISOString()}:s);if(YD(a),e==="approve"){const s=Uo();if(!s.some(l=>l.contactEmail===i.contactEmail)){const l={id:`HOSP-${Date.now().toString().slice(-8)}`,hospitalName:i.hospitalName,registrationNumber:i.registrationNumber,address:i.address,city:i.city,state:i.state,contactEmail:i.contactEmail,phone:i.phone,adminName:i.adminName,adminRole:i.adminRole,password:i.password,licenseFileName:i.licenseFileName,status:"Active",approvedAt:new Date().toISOString()};XD([l,...s])}zc(`Hospital approved: ${i.hospitalName}`,"super-admin")}return e==="reject"&&zc(`Hospital rejected: ${i.hospitalName}`,"super-admin"),e==="more-info"&&zc(`More info requested: ${i.hospitalName}`,"super-admin"),{ok:!0}}function $8(t,e){const r=Uo().map(i=>i.id===t?{...i,status:e}:i);return XD(r),zc(`Hospital status updated (${e}): ${t}`,"super-admin"),r}const My={email:"oompathania@gmail.com",password:"abcd123",name:"Platform Owner"},L8=[{email:"dr.vikram@fortis.com",password:"Password123!",name:"Dr. Vikram Malhotra",doctorName:"Dr. Vikram Malhotra",department:"Cardiology",hospitalName:"Fortis Hospital",hospitalId:"hosp-2",role:"doctor",doctorId:"hosp-2-cardiology-1"},{email:"dr.arjun@fortis.com",password:"Password123!",name:"Dr. Arjun Mehta",doctorName:"Dr. Arjun Mehta",department:"Pulmonology",hospitalName:"Fortis Hospital",hospitalId:"hosp-2",role:"doctor",doctorId:"hosp-2-pulmonology-1"},{email:"dr.amit@citycare.com",password:"Password123!",name:"Dr. Amit Verma",doctorName:"Dr. Amit Verma",department:"General Medicine",hospitalName:"CityCare Multi-Speciality Hospital",hospitalId:"hosp-1",role:"doctor",doctorId:"hosp-1-general-medicine-1"},{email:"dr.rajat@citycare.com",password:"Password123!",name:"Dr. Rajat Khanna",doctorName:"Dr. Rajat Khanna",department:"Neurology",hospitalName:"CityCare Multi-Speciality Hospital",hospitalId:"hosp-1",role:"doctor",doctorId:"hosp-1-neurology-1"},{email:"dr.rajiv@max.com",password:"Password123!",name:"Dr. Rajiv Kapoor",doctorName:"Dr. Rajiv Kapoor",department:"Oncology",hospitalName:"Max Hospital",hospitalId:"hosp-3",role:"doctor",doctorId:"hosp-3-oncology-1"},{email:"dr.mohit@max.com",password:"Password123!",name:"Dr. Mohit Agarwal",doctorName:"Dr. Mohit Agarwal",department:"Endocrinology",hospitalName:"Max Hospital",hospitalId:"hosp-3",role:"doctor",doctorId:"hosp-3-endocrinology-1"}],QD=k.createContext(null),Yi="pc_auth_session";function qw(){try{return window.sessionStorage}catch{return null}}function Yw(){try{return window.localStorage}catch{return null}}function ic(t){const e=btoa(JSON.stringify({alg:"HS256",typ:"JWT"})),n=btoa(JSON.stringify({...t,iat:Date.now()})),r=btoa("mock-signature");return`${e}.${n}.${r}`}function F8(t){return t==="super-admin"?"/super-admin-dashboard":t==="hospital-admin"?"/doctor-dashboard":t==="doctor"?"/doctor-workspace":"/welcome"}function JD(){try{const t=qw(),e=Yw(),n=t==null?void 0:t.getItem(Yi);if(n)return JSON.parse(n);const r=e==null?void 0:e.getItem(Yi);return r?(t==null||t.setItem(Yi,r),e==null||e.removeItem(Yi),JSON.parse(r)):n?JSON.parse(n):null}catch{return null}}function Ks(t){const e=qw(),n=Yw();e==null||e.setItem(Yi,JSON.stringify(t)),n==null||n.removeItem(Yi)}function V8(){const t=qw(),e=Yw();t==null||t.removeItem(Yi),e==null||e.removeItem(Yi)}function B8(t){const e=JD();if(!e)return null;const n=t(e);return Ks(n),n}function QP(t){return t.length>=8&&/[A-Z]/.test(t)&&/[0-9]/.test(t)&&/[^A-Za-z0-9]/.test(t)}function U8({children:t}){const[e,n]=k.useState(null),[r,i]=k.useState(!0);k.useEffect(()=>{const w=JD();w&&n(w),i(!1)},[]);const a=async(w,g)=>{var _;if(!QP(g))throw new Error("Password must be at least 8 chars and include uppercase, number, and special character.");let x;if(!oo||!Ua)x={uid:`patient-${Date.now()}`,email:w};else try{x=(await G9(Ua,w,g)).user}catch(A){console.warn("[Auth] Firebase signup failed, using mock auth:",A.code),x={uid:`patient-${Date.now()}`,email:w}}const v={id:x.uid,email:x.email,name:((_=x.email)==null?void 0:_.split("@")[0])||"Patient",role:"patient",needsHospitalSelection:!0,token:ic({role:"patient",email:x.email}),loginAt:new Date().toISOString()};return Ks(v),n(v),{user:v}},s=async(w,g)=>{var _;let x;if(!oo||!Ua)x={uid:`patient-${Date.now()}`,email:w};else try{x=(await q9(Ua,w,g)).user}catch(A){console.warn("[Auth] Firebase login failed, using mock auth:",A.code),x={uid:`patient-${Date.now()}`,email:w}}const v={id:x.uid,email:x.email,name:((_=x.email)==null?void 0:_.split("@")[0])||"Patient",role:"patient",needsHospitalSelection:!0,token:ic({role:"patient",email:x.email}),loginAt:new Date().toISOString()};return Ks(v),n(v),{user:v}},o=async(w,g)=>{if(w!==My.email||g!==My.password)throw new Error("Invalid credentials");const x={id:"super-admin-1",email:w,name:My.name,role:"super-admin",token:ic({role:"super-admin",email:w}),loginAt:new Date().toISOString()};return Ks(x),n(x),x},l=async w=>QP(w.password)?k8(w):{ok:!1,error:"Password must be at least 8 chars and include uppercase, number, and special character."},c=async(w,g)=>{const x=w.trim().toLowerCase(),v=Uo().find(P=>{var E;return((E=P.contactEmail)==null?void 0:E.trim().toLowerCase())===x}),_=Eu().find(P=>{var E;return((E=P.contactEmail)==null?void 0:E.trim().toLowerCase())===x});if(!v)throw(_==null?void 0:_.status)==="Pending Approval"?new Error("Your hospital account is pending super admin approval."):(_==null?void 0:_.status)==="Rejected"?new Error(`Hospital registration rejected. ${_.reviewNote||""}`.trim()):(_==null?void 0:_.status)==="More Info Requested"?new Error(`More information required. ${_.reviewNote||""}`.trim()):new Error("Hospital account not found. Please complete hospital signup first.");if(v.password!==g)throw new Error("Invalid email or password.");if(v.status!=="Active")throw new Error(`Account is ${v.status}. Please contact super admin.`);const A={id:v.id,email:v.contactEmail,name:v.adminName,role:"hospital-admin",hospitalId:v.id,hospitalName:v.hospitalName,token:ic({role:"hospital-admin",hospitalId:v.id,email:w}),loginAt:new Date().toISOString()};return Ks(A),n(A),A},h=async(w,g)=>{const x=w.trim().toLowerCase(),v=L8.find(_=>_.email.toLowerCase()===x&&_.password===g);if(v){const _={id:v.doctorId,email:v.email,name:v.name,doctorName:v.doctorName,doctorId:v.doctorId,department:v.department,role:"doctor",hospitalId:v.hospitalId,hospitalName:v.hospitalName,token:ic({role:"doctor",hospitalId:v.hospitalId,email:v.email}),loginAt:new Date().toISOString()};return Ks(_),n(_),_}throw new Error("Invalid doctor credentials.")},d=async()=>{V8(),n(null)},p=()=>{const w=B8(g=>({...g,needsHospitalSelection:!1}));w&&n(w)},m=async w=>{if(!w)throw new Error("Please provide your email.");return!oo||!Ua?{ok:!0}:(await K9(Ua,w),{ok:!0})},y=k.useMemo(()=>({currentUser:e,authLoading:r,isFirebaseConfigured:oo,firebaseConfigError:$D,signup:a,login:s,superAdminLogin:o,hospitalSignup:l,hospitalAdminLogin:c,doctorLogin:h,forgotPassword:m,logout:d,completeHospitalSelection:p,getRoleHomeRoute:F8}),[e,r]);return u.jsx(QD.Provider,{value:y,children:t})}function $n(){const t=k.useContext(QD);if(!t)throw new Error("useAuth must be used inside AuthProvider");return t}function H8({patientName:t}){const{logout:e}=$n(),{state:n}=At();return u.jsxs("section",{className:"card flex flex-wrap items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("img",{src:"https://images.unsplash.com/photo-1633332755192-727a05c4013d?auto=format&fit=crop&w=160&q=80",alt:"Patient profile",className:"h-14 w-14 rounded-full border-2 border-med-100 object-cover"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-med-600",children:"Smart Reception Desk"}),u.jsxs("h1",{className:"text-2xl font-bold",children:["Good Morning, ",t||"Patient"]}),u.jsx("p",{className:"text-sm text-slate-600",children:"How can we assist you today?"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{type:"button",className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 transition hover:bg-slate-50","aria-label":"Notifications",children:[" ",u.jsx("span",{className:"ml-1 font-semibold",children:n.notifications.length})]}),u.jsx("button",{type:"button",className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 transition hover:bg-slate-50","aria-label":"Settings",children:""}),u.jsx("button",{type:"button",className:"btn-secondary",onClick:e,children:"Logout"})]})]})}function z8(t){if(!t)return"--";const e=new Date(t);if(Number.isNaN(e.getTime()))return"--";const n=Date.now()-e.getTime(),r=new Date(n);return Math.abs(r.getUTCFullYear()-1970)}const W8={low:"bg-emerald-100 text-emerald-700",medium:"bg-amber-100 text-amber-700",high:"bg-red-100 text-red-700"};function K8({patient:t}){const e=z8(t.dob),n=t.riskLevel||"low";return u.jsxs("section",{className:"card grid gap-4 lg:grid-cols-3",children:[u.jsxs("div",{className:"lg:col-span-2",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Patient Summary"}),u.jsxs("div",{className:"mt-3 grid gap-3 text-sm sm:grid-cols-2",children:[u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Full Name:"})," ",t.name]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Age:"})," ",e]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Blood Group:"})," ",t.bloodGroup||"--"]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Gender:"})," ",t.gender||"--"]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Emergency Contact:"})," ",t.emergencyContact||"--"]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Last Checkup Date:"})," ",t.lastCheckupDate?new Date(t.lastCheckupDate).toLocaleDateString():"--"]})]})]}),u.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Clinical Risk Indicator"}),u.jsxs("span",{className:`mt-2 inline-flex rounded-full px-3 py-1 text-xs font-semibold uppercase ${W8[n]}`,children:[n," Risk"]}),u.jsx("p",{className:"mt-4 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"AI Status"}),u.jsxs("p",{className:"mt-1 inline-flex items-center gap-1 rounded-full bg-med-100 px-3 py-1 text-xs font-semibold text-med-700",children:[u.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-med-600"})," AI Monitoring Active"]})]})]})}function G8({actions:t}){return u.jsxs("section",{className:"card",children:[u.jsxs("div",{className:"mb-4 flex items-end justify-between",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Quick Actions"}),u.jsx("p",{className:"text-xs text-slate-500",children:"Smart receptionist shortcuts"})]}),u.jsx("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-3",children:t.map(e=>u.jsxs(je,{to:e.to,className:"group rounded-2xl border border-slate-100 bg-white p-4 shadow-sm transition duration-200 hover:-translate-y-0.5 hover:shadow-card",children:[u.jsx("p",{className:"text-2xl",children:e.icon}),u.jsx("h3",{className:"mt-2 text-sm font-semibold text-slate-800",children:e.title}),u.jsx("p",{className:"mt-1 text-xs text-slate-600",children:e.description})]},e.id))})]})}const q8={available:"bg-emerald-100 text-emerald-700",booked:"bg-red-100 text-red-700"};function Y8({doctors:t}){return u.jsxs("section",{className:"card",children:[u.jsxs("div",{className:"mb-4 flex items-end justify-between",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Doctors Available Today"}),u.jsx("p",{className:"text-xs text-slate-500",children:"Slide to view more doctors"})]}),u.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:t.map(e=>u.jsxs("article",{className:"min-w-[260px] rounded-2xl border border-slate-100 p-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("img",{src:e.image,alt:e.name,className:"h-12 w-12 rounded-full object-cover"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold",children:e.name}),u.jsx("p",{className:"text-xs text-slate-600",children:e.department})]})]}),u.jsxs("p",{className:"mt-3 text-xs text-slate-600",children:["Next Slot: ",e.nextSlot]}),u.jsx("span",{className:`mt-2 inline-flex rounded-full px-2.5 py-1 text-xs font-semibold uppercase ${q8[e.status]}`,children:e.status==="available"?"Available":"Fully Booked"}),u.jsx(je,{className:"btn-secondary mt-3 w-full",to:"/appointments",children:"Book Now"})]},e.id))})]})}function ZD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ZD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Te(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ZD(t))&&(r&&(r+=" "),r+=e);return r}var X8=Array.isArray,_n=X8,Q8=typeof Yd=="object"&&Yd&&Yd.Object===Object&&Yd,ek=Q8,J8=ek,Z8=typeof self=="object"&&self&&self.Object===Object&&self,e7=J8||Z8||Function("return this")(),Hr=e7,t7=Hr,n7=t7.Symbol,_d=n7,JP=_d,tk=Object.prototype,r7=tk.hasOwnProperty,i7=tk.toString,ac=JP?JP.toStringTag:void 0;function a7(t){var e=r7.call(t,ac),n=t[ac];try{t[ac]=void 0;var r=!0}catch{}var i=i7.call(t);return r&&(e?t[ac]=n:delete t[ac]),i}var s7=a7,o7=Object.prototype,l7=o7.toString;function c7(t){return l7.call(t)}var u7=c7,ZP=_d,d7=s7,h7=u7,f7="[object Null]",p7="[object Undefined]",eA=ZP?ZP.toStringTag:void 0;function m7(t){return t==null?t===void 0?p7:f7:eA&&eA in Object(t)?d7(t):h7(t)}var Ti=m7;function g7(t){return t!=null&&typeof t=="object"}var Ni=g7,y7=Ti,v7=Ni,x7="[object Symbol]";function b7(t){return typeof t=="symbol"||v7(t)&&y7(t)==x7}var Sl=b7,w7=_n,_7=Sl,S7=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,E7=/^\w*$/;function P7(t,e){if(w7(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||_7(t)?!0:E7.test(t)||!S7.test(t)||e!=null&&t in Object(e)}var Xw=P7;function A7(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Na=A7;const El=He(Na);var T7=Ti,N7=Na,M7="[object AsyncFunction]",I7="[object Function]",j7="[object GeneratorFunction]",C7="[object Proxy]";function O7(t){if(!N7(t))return!1;var e=T7(t);return e==I7||e==j7||e==M7||e==C7}var Qw=O7;const _e=He(Qw);var D7=Hr,k7=D7["__core-js_shared__"],R7=k7,Iy=R7,tA=function(){var t=/[^.]+$/.exec(Iy&&Iy.keys&&Iy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function $7(t){return!!tA&&tA in t}var L7=$7,F7=Function.prototype,V7=F7.toString;function B7(t){if(t!=null){try{return V7.call(t)}catch{}try{return t+""}catch{}}return""}var nk=B7,U7=Qw,H7=L7,z7=Na,W7=nk,K7=/[\\^$.*+?()[\]{}|]/g,G7=/^\[object .+?Constructor\]$/,q7=Function.prototype,Y7=Object.prototype,X7=q7.toString,Q7=Y7.hasOwnProperty,J7=RegExp("^"+X7.call(Q7).replace(K7,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Z7(t){if(!z7(t)||H7(t))return!1;var e=U7(t)?J7:G7;return e.test(W7(t))}var ez=Z7;function tz(t,e){return t==null?void 0:t[e]}var nz=tz,rz=ez,iz=nz;function az(t,e){var n=iz(t,e);return rz(n)?n:void 0}var Ns=az,sz=Ns,oz=sz(Object,"create"),Vm=oz,nA=Vm;function lz(){this.__data__=nA?nA(null):{},this.size=0}var cz=lz;function uz(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var dz=uz,hz=Vm,fz="__lodash_hash_undefined__",pz=Object.prototype,mz=pz.hasOwnProperty;function gz(t){var e=this.__data__;if(hz){var n=e[t];return n===fz?void 0:n}return mz.call(e,t)?e[t]:void 0}var yz=gz,vz=Vm,xz=Object.prototype,bz=xz.hasOwnProperty;function wz(t){var e=this.__data__;return vz?e[t]!==void 0:bz.call(e,t)}var _z=wz,Sz=Vm,Ez="__lodash_hash_undefined__";function Pz(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Sz&&e===void 0?Ez:e,this}var Az=Pz,Tz=cz,Nz=dz,Mz=yz,Iz=_z,jz=Az;function Pl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Pl.prototype.clear=Tz;Pl.prototype.delete=Nz;Pl.prototype.get=Mz;Pl.prototype.has=Iz;Pl.prototype.set=jz;var Cz=Pl;function Oz(){this.__data__=[],this.size=0}var Dz=Oz;function kz(t,e){return t===e||t!==t&&e!==e}var Jw=kz,Rz=Jw;function $z(t,e){for(var n=t.length;n--;)if(Rz(t[n][0],e))return n;return-1}var Bm=$z,Lz=Bm,Fz=Array.prototype,Vz=Fz.splice;function Bz(t){var e=this.__data__,n=Lz(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Vz.call(e,n,1),--this.size,!0}var Uz=Bz,Hz=Bm;function zz(t){var e=this.__data__,n=Hz(e,t);return n<0?void 0:e[n][1]}var Wz=zz,Kz=Bm;function Gz(t){return Kz(this.__data__,t)>-1}var qz=Gz,Yz=Bm;function Xz(t,e){var n=this.__data__,r=Yz(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Qz=Xz,Jz=Dz,Zz=Uz,eW=Wz,tW=qz,nW=Qz;function Al(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Al.prototype.clear=Jz;Al.prototype.delete=Zz;Al.prototype.get=eW;Al.prototype.has=tW;Al.prototype.set=nW;var Um=Al,rW=Ns,iW=Hr,aW=rW(iW,"Map"),Zw=aW,rA=Cz,sW=Um,oW=Zw;function lW(){this.size=0,this.__data__={hash:new rA,map:new(oW||sW),string:new rA}}var cW=lW;function uW(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var dW=uW,hW=dW;function fW(t,e){var n=t.__data__;return hW(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Hm=fW,pW=Hm;function mW(t){var e=pW(this,t).delete(t);return this.size-=e?1:0,e}var gW=mW,yW=Hm;function vW(t){return yW(this,t).get(t)}var xW=vW,bW=Hm;function wW(t){return bW(this,t).has(t)}var _W=wW,SW=Hm;function EW(t,e){var n=SW(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var PW=EW,AW=cW,TW=gW,NW=xW,MW=_W,IW=PW;function Tl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Tl.prototype.clear=AW;Tl.prototype.delete=TW;Tl.prototype.get=NW;Tl.prototype.has=MW;Tl.prototype.set=IW;var e_=Tl,rk=e_,jW="Expected a function";function t_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(jW);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(t_.Cache||rk),n}t_.Cache=rk;var ik=t_;const CW=He(ik);var OW=ik,DW=500;function kW(t){var e=OW(t,function(r){return n.size===DW&&n.clear(),r}),n=e.cache;return e}var RW=kW,$W=RW,LW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,FW=/\\(\\)?/g,VW=$W(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(LW,function(n,r,i,a){e.push(i?a.replace(FW,"$1"):r||n)}),e}),BW=VW;function UW(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var n_=UW,iA=_d,HW=n_,zW=_n,WW=Sl,aA=iA?iA.prototype:void 0,sA=aA?aA.toString:void 0;function ak(t){if(typeof t=="string")return t;if(zW(t))return HW(t,ak)+"";if(WW(t))return sA?sA.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var KW=ak,GW=KW;function qW(t){return t==null?"":GW(t)}var sk=qW,YW=_n,XW=Xw,QW=BW,JW=sk;function ZW(t,e){return YW(t)?t:XW(t,e)?[t]:QW(JW(t))}var ok=ZW,eK=Sl;function tK(t){if(typeof t=="string"||eK(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var zm=tK,nK=ok,rK=zm;function iK(t,e){e=nK(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[rK(e[n++])];return n&&n==r?t:void 0}var r_=iK,aK=r_;function sK(t,e,n){var r=t==null?void 0:aK(t,e);return r===void 0?n:r}var lk=sK;const qn=He(lk);function oK(t){return t==null}var lK=oK;const ve=He(lK);var cK=Ti,uK=_n,dK=Ni,hK="[object String]";function fK(t){return typeof t=="string"||!uK(t)&&dK(t)&&cK(t)==hK}var pK=fK;const xs=He(pK);var ck={exports:{}},Re={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_=Symbol.for("react.element"),a_=Symbol.for("react.portal"),Wm=Symbol.for("react.fragment"),Km=Symbol.for("react.strict_mode"),Gm=Symbol.for("react.profiler"),qm=Symbol.for("react.provider"),Ym=Symbol.for("react.context"),mK=Symbol.for("react.server_context"),Xm=Symbol.for("react.forward_ref"),Qm=Symbol.for("react.suspense"),Jm=Symbol.for("react.suspense_list"),Zm=Symbol.for("react.memo"),eg=Symbol.for("react.lazy"),gK=Symbol.for("react.offscreen"),uk;uk=Symbol.for("react.module.reference");function Zn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case i_:switch(t=t.type,t){case Wm:case Gm:case Km:case Qm:case Jm:return t;default:switch(t=t&&t.$$typeof,t){case mK:case Ym:case Xm:case eg:case Zm:case qm:return t;default:return e}}case a_:return e}}}Re.ContextConsumer=Ym;Re.ContextProvider=qm;Re.Element=i_;Re.ForwardRef=Xm;Re.Fragment=Wm;Re.Lazy=eg;Re.Memo=Zm;Re.Portal=a_;Re.Profiler=Gm;Re.StrictMode=Km;Re.Suspense=Qm;Re.SuspenseList=Jm;Re.isAsyncMode=function(){return!1};Re.isConcurrentMode=function(){return!1};Re.isContextConsumer=function(t){return Zn(t)===Ym};Re.isContextProvider=function(t){return Zn(t)===qm};Re.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===i_};Re.isForwardRef=function(t){return Zn(t)===Xm};Re.isFragment=function(t){return Zn(t)===Wm};Re.isLazy=function(t){return Zn(t)===eg};Re.isMemo=function(t){return Zn(t)===Zm};Re.isPortal=function(t){return Zn(t)===a_};Re.isProfiler=function(t){return Zn(t)===Gm};Re.isStrictMode=function(t){return Zn(t)===Km};Re.isSuspense=function(t){return Zn(t)===Qm};Re.isSuspenseList=function(t){return Zn(t)===Jm};Re.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Wm||t===Gm||t===Km||t===Qm||t===Jm||t===gK||typeof t=="object"&&t!==null&&(t.$$typeof===eg||t.$$typeof===Zm||t.$$typeof===qm||t.$$typeof===Ym||t.$$typeof===Xm||t.$$typeof===uk||t.getModuleId!==void 0)};Re.typeOf=Zn;ck.exports=Re;var yK=ck.exports,vK=Ti,xK=Ni,bK="[object Number]";function wK(t){return typeof t=="number"||xK(t)&&vK(t)==bK}var dk=wK;const _K=He(dk);var SK=dk;function EK(t){return SK(t)&&t!=+t}var PK=EK;const Sd=He(PK);var pr=function(e){return e===0?0:e>0?1:-1},Qa=function(e){return xs(e)&&e.indexOf("%")===e.length-1},te=function(e){return _K(e)&&!Sd(e)},AK=function(e){return ve(e)},Et=function(e){return te(e)||xs(e)},TK=0,Ed=function(e){var n=++TK;return"".concat(e||"").concat(n)},bs=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!te(e)&&!xs(e))return r;var a;if(Qa(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Sd(a)&&(a=r),i&&a>n&&(a=n),a},Gs=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},NK=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},dr=function(e,n){return te(e)&&te(n)?function(r){return e+r*(n-e)}:function(){return n}};function Xf(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):qn(r,e))===n})}var MK=function(e,n){return te(e)&&te(n)?e-n:xs(e)&&xs(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function So(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function C0(t){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C0(t)}var IK=["viewBox","children"],jK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],oA=["points","pathLength"],jy={svg:IK,polygon:oA,polyline:oA},s_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Qf=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(k.isValidElement(e)&&(r=e.props),!El(r))return null;var i={};return Object.keys(r).forEach(function(a){s_.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},CK=function(e,n,r){return function(i){return e(n,r,i),null}},Jf=function(e,n,r){if(!El(e)||C0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];s_.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=CK(s,n,r))}),i},OK=["children"],DK=["children"];function lA(t,e){if(t==null)return{};var n=kK(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function O0(t){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O0(t)}var cA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},oi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},uA=null,Cy=null,o_=function t(e){if(e===uA&&Array.isArray(Cy))return Cy;var n=[];return k.Children.forEach(e,function(r){ve(r)||(yK.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Cy=n,uA=e,n};function Yn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return oi(i)}):r=[oi(e)],o_(t).forEach(function(i){var a=qn(i,"type.displayName")||qn(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Nn(t,e){var n=Yn(t,e);return n&&n[0]}var dA=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!te(r)||r<=0||!te(i)||i<=0)},RK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],$K=function(e){return e&&e.type&&xs(e.type)&&RK.indexOf(e.type)>=0},LK=function(e){return e&&O0(e)==="object"&&"clipDot"in e},FK=function(e,n,r,i){var a,s=(a=jy==null?void 0:jy[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!_e(e)&&(i&&s.includes(n)||jK.includes(n))||r&&s_.includes(n)},Pe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(k.isValidElement(e)&&(i=e.props),!El(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;FK((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},D0=function t(e,n){if(e===n)return!0;var r=k.Children.count(e);if(r!==k.Children.count(n))return!1;if(r===0)return!0;if(r===1)return hA(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!hA(a,s))return!1}return!0},hA=function(e,n){if(ve(e)&&ve(n))return!0;if(!ve(e)&&!ve(n)){var r=e.props||{},i=r.children,a=lA(r,OK),s=n.props||{},o=s.children,l=lA(s,DK);return i&&o?So(a,l)&&D0(i,o):!i&&!o?So(a,l):!1}return!1},fA=function(e,n){var r=[],i={};return o_(e).forEach(function(a,s){if($K(a))r.push(a);else if(a){var o=oi(a.type),l=n[o]||{},c=l.handler,h=l.once;if(c&&(!h||!i[o])){var d=c(a,o,s);r.push(d),i[o]=!0}}}),r},VK=function(e){var n=e&&e.type;return n&&cA[n]?cA[n]:null},BK=function(e,n){return o_(n).indexOf(e)},UK=["children","width","height","viewBox","className","style","title","desc"];function k0(){return k0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k0.apply(this,arguments)}function HK(t,e){if(t==null)return{};var n=zK(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function R0(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=HK(t,UK),h=i||{width:n,height:r,x:0,y:0},d=Te("recharts-surface",a);return H.createElement("svg",k0({},Pe(c,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),H.createElement("title",null,o),H.createElement("desc",null,l),e)}var WK=["children","className"];function $0(){return $0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$0.apply(this,arguments)}function KK(t,e){if(t==null)return{};var n=GK(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var dt=H.forwardRef(function(t,e){var n=t.children,r=t.className,i=KK(t,WK),a=Te("recharts-layer",r);return H.createElement("g",$0({className:a},Pe(i,!0),{ref:e}),n)}),as=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function qK(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var YK=qK,XK=YK;function QK(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:XK(t,e,n)}var JK=QK,ZK="\\ud800-\\udfff",eG="\\u0300-\\u036f",tG="\\ufe20-\\ufe2f",nG="\\u20d0-\\u20ff",rG=eG+tG+nG,iG="\\ufe0e\\ufe0f",aG="\\u200d",sG=RegExp("["+aG+ZK+rG+iG+"]");function oG(t){return sG.test(t)}var hk=oG;function lG(t){return t.split("")}var cG=lG,fk="\\ud800-\\udfff",uG="\\u0300-\\u036f",dG="\\ufe20-\\ufe2f",hG="\\u20d0-\\u20ff",fG=uG+dG+hG,pG="\\ufe0e\\ufe0f",mG="["+fk+"]",L0="["+fG+"]",F0="\\ud83c[\\udffb-\\udfff]",gG="(?:"+L0+"|"+F0+")",pk="[^"+fk+"]",mk="(?:\\ud83c[\\udde6-\\uddff]){2}",gk="[\\ud800-\\udbff][\\udc00-\\udfff]",yG="\\u200d",yk=gG+"?",vk="["+pG+"]?",vG="(?:"+yG+"(?:"+[pk,mk,gk].join("|")+")"+vk+yk+")*",xG=vk+yk+vG,bG="(?:"+[pk+L0+"?",L0,mk,gk,mG].join("|")+")",wG=RegExp(F0+"(?="+F0+")|"+bG+xG,"g");function _G(t){return t.match(wG)||[]}var SG=_G,EG=cG,PG=hk,AG=SG;function TG(t){return PG(t)?AG(t):EG(t)}var NG=TG,MG=JK,IG=hk,jG=NG,CG=sk;function OG(t){return function(e){e=CG(e);var n=IG(e)?jG(e):void 0,r=n?n[0]:e.charAt(0),i=n?MG(n,1).join(""):e.slice(1);return r[t]()+i}}var DG=OG,kG=DG,RG=kG("toUpperCase"),$G=RG;const tg=He($G);function Be(t){return function(){return t}}const xk=Math.cos,Zf=Math.sin,wr=Math.sqrt,ep=Math.PI,ng=2*ep,V0=Math.PI,B0=2*V0,Ha=1e-6,LG=B0-Ha;function bk(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function FG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return bk;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class VG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?bk:FG(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,c=i-n,h=s-e,d=o-n,p=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Ha)if(!(Math.abs(d*l-c*h)>Ha)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-s,y=i-o,w=l*l+c*c,g=m*m+y*y,x=Math.sqrt(w),v=Math.sqrt(p),_=a*Math.tan((V0-Math.acos((w+p-g)/(2*x*v)))/2),A=_/v,P=_/x;Math.abs(A-1)>Ha&&this._append`L${e+A*h},${n+A*d}`,this._append`A${a},${a},0,0,${+(d*m>h*y)},${this._x1=e+P*l},${this._y1=n+P*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,h=n+l,d=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>Ha||Math.abs(this._y1-h)>Ha)&&this._append`L${c},${h}`,r&&(p<0&&(p=p%B0+B0),p>LG?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=h}`:p>Ha&&this._append`A${r},${r},0,${+(p>=V0)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function l_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new VG(e)}function c_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function wk(t){this._context=t}wk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function rg(t){return new wk(t)}function _k(t){return t[0]}function Sk(t){return t[1]}function Ek(t,e){var n=Be(!0),r=null,i=rg,a=null,s=l_(o);t=typeof t=="function"?t:t===void 0?_k:Be(t),e=typeof e=="function"?e:e===void 0?Sk:Be(e);function o(l){var c,h=(l=c_(l)).length,d,p=!1,m;for(r==null&&(a=i(m=s())),c=0;c<=h;++c)!(c<h&&n(d=l[c],c,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(d,c,l),+e(d,c,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Be(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Be(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Be(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function xh(t,e,n){var r=null,i=Be(!0),a=null,s=rg,o=null,l=l_(c);t=typeof t=="function"?t:t===void 0?_k:Be(+t),e=typeof e=="function"?e:Be(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Sk:Be(+n);function c(d){var p,m,y,w=(d=c_(d)).length,g,x=!1,v,_=new Array(w),A=new Array(w);for(a==null&&(o=s(v=l())),p=0;p<=w;++p){if(!(p<w&&i(g=d[p],p,d))===x)if(x=!x)m=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),y=p-1;y>=m;--y)o.point(_[y],A[y]);o.lineEnd(),o.areaEnd()}x&&(_[p]=+t(g,p,d),A[p]=+e(g,p,d),o.point(r?+r(g,p,d):_[p],n?+n(g,p,d):A[p]))}if(v)return o=null,v+""||null}function h(){return Ek().defined(i).curve(s).context(a)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Be(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Be(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Be(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Be(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Be(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Be(+d),c):n},c.lineX0=c.lineY0=function(){return h().x(t).y(e)},c.lineY1=function(){return h().x(t).y(n)},c.lineX1=function(){return h().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Be(!!d),c):i},c.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),c):s},c.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),c):a},c}class Pk{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function BG(t){return new Pk(t,!0)}function UG(t){return new Pk(t,!1)}const u_={draw(t,e){const n=wr(e/ep);t.moveTo(n,0),t.arc(0,0,n,0,ng)}},HG={draw(t,e){const n=wr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Ak=wr(1/3),zG=Ak*2,WG={draw(t,e){const n=wr(e/zG),r=n*Ak;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},KG={draw(t,e){const n=wr(e),r=-n/2;t.rect(r,r,n,n)}},GG=.8908130915292852,Tk=Zf(ep/10)/Zf(7*ep/10),qG=Zf(ng/10)*Tk,YG=-xk(ng/10)*Tk,XG={draw(t,e){const n=wr(e*GG),r=qG*n,i=YG*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=ng*a/5,o=xk(s),l=Zf(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},Oy=wr(3),QG={draw(t,e){const n=-wr(e/(Oy*3));t.moveTo(0,n*2),t.lineTo(-Oy*n,-n),t.lineTo(Oy*n,-n),t.closePath()}},Ln=-.5,Fn=wr(3)/2,U0=1/wr(12),JG=(U0/2+1)*3,ZG={draw(t,e){const n=wr(e/JG),r=n/2,i=n*U0,a=r,s=n*U0+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(Ln*r-Fn*i,Fn*r+Ln*i),t.lineTo(Ln*a-Fn*s,Fn*a+Ln*s),t.lineTo(Ln*o-Fn*l,Fn*o+Ln*l),t.lineTo(Ln*r+Fn*i,Ln*i-Fn*r),t.lineTo(Ln*a+Fn*s,Ln*s-Fn*a),t.lineTo(Ln*o+Fn*l,Ln*l-Fn*o),t.closePath()}};function eq(t,e){let n=null,r=l_(i);t=typeof t=="function"?t:Be(t||u_),e=typeof e=="function"?e:Be(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Be(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Be(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function tp(){}function np(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Nk(t){this._context=t}Nk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:np(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:np(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tq(t){return new Nk(t)}function Mk(t){this._context=t}Mk.prototype={areaStart:tp,areaEnd:tp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:np(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nq(t){return new Mk(t)}function Ik(t){this._context=t}Ik.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:np(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rq(t){return new Ik(t)}function jk(t){this._context=t}jk.prototype={areaStart:tp,areaEnd:tp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function iq(t){return new jk(t)}function pA(t){return t<0?-1:1}function mA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(pA(a)+pA(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function gA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Dy(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function rp(t){this._context=t}rp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Dy(this,this._t0,gA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Dy(this,gA(this,n=mA(this,t,e)),n);break;default:Dy(this,this._t0,n=mA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Ck(t){this._context=new Ok(t)}(Ck.prototype=Object.create(rp.prototype)).point=function(t,e){rp.prototype.point.call(this,e,t)};function Ok(t){this._context=t}Ok.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function aq(t){return new rp(t)}function sq(t){return new Ck(t)}function Dk(t){this._context=t}Dk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=yA(t),i=yA(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function yA(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function oq(t){return new Dk(t)}function ig(t,e){this._context=t,this._t=e}ig.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function lq(t){return new ig(t,.5)}function cq(t){return new ig(t,0)}function uq(t){return new ig(t,1)}function Ho(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function H0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function dq(t,e){return t[e]}function hq(t){const e=[];return e.key=t,e}function fq(){var t=Be([]),e=H0,n=Ho,r=dq;function i(a){var s=Array.from(t.apply(this,arguments),hq),o,l=s.length,c=-1,h;for(const d of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(d,s[o].key,c,a)]).data=d;for(o=0,h=c_(e(s));o<l;++o)s[h[o]].index=o;return n(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Be(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Be(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?H0:typeof a=="function"?a:Be(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Ho,i):n},i}function pq(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Ho(t,e)}}function mq(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Ho(t,e)}}function gq(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var h=t[e[o]],d=h[r][1]||0,p=h[r-1][1]||0,m=(d-p)/2,y=0;y<o;++y){var w=t[e[y]],g=w[r][1]||0,x=w[r-1][1]||0;m+=g-x}l+=d,c+=m*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Ho(t,e)}}function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}var yq=["type","size","sizeType"];function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z0.apply(this,arguments)}function vA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vA(Object(n),!0).forEach(function(r){vq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vq(t,e,n){return e=xq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xq(t){var e=bq(t,"string");return Pu(e)=="symbol"?e:e+""}function bq(t,e){if(Pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wq(t,e){if(t==null)return{};var n=_q(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _q(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kk={symbolCircle:u_,symbolCross:HG,symbolDiamond:WG,symbolSquare:KG,symbolStar:XG,symbolTriangle:QG,symbolWye:ZG},Sq=Math.PI/180,Eq=function(e){var n="symbol".concat(tg(e));return kk[n]||u_},Pq=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Sq;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Aq=function(e,n){kk["symbol".concat(tg(e))]=n},d_=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=wq(e,yq),c=xA(xA({},l),{},{type:r,size:a,sizeType:o}),h=function(){var g=Eq(r),x=eq().type(g).size(Pq(a,o,r));return x()},d=c.className,p=c.cx,m=c.cy,y=Pe(c,!0);return p===+p&&m===+m&&a===+a?H.createElement("path",z0({},y,{className:Te("recharts-symbols",d),transform:"translate(".concat(p,", ").concat(m,")"),d:h()})):null};d_.registerSymbol=Aq;function zo(t){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zo(t)}function W0(){return W0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W0.apply(this,arguments)}function bA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bA(Object(n),!0).forEach(function(r){Au(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$k(r.key),r)}}function Iq(t,e,n){return e&&Mq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jq(t,e,n){return e=ip(e),Cq(t,Rk()?Reflect.construct(e,n||[],ip(t).constructor):e.apply(t,n))}function Cq(t,e){if(e&&(zo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oq(t)}function Oq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rk=function(){return!!t})()}function ip(t){return ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ip(t)}function Dq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K0(t,e)}function K0(t,e){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K0(t,e)}function Au(t,e,n){return e=$k(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $k(t){var e=kq(t,"string");return zo(e)=="symbol"?e:e+""}function kq(t,e){if(zo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vn=32,h_=function(t){function e(){return Nq(this,e),jq(this,e,arguments)}return Dq(e,t),Iq(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Vn/2,s=Vn/6,o=Vn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Vn,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Vn,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return H.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Vn/8,"h").concat(Vn,"v").concat(Vn*3/4,"h").concat(-Vn,"z"),className:"recharts-legend-icon"});if(H.isValidElement(r.legendIcon)){var c=Tq({},r);return delete c.legendIcon,H.cloneElement(r.legendIcon,c)}return H.createElement(d_,{fill:l,cx:a,cy:a,size:Vn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,h={x:0,y:0,width:Vn,height:Vn},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,y){var w=m.formatter||l,g=Te(Au(Au({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=_e(m.value)?null:m.value;as(!_e(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=m.inactive?c:m.color;return H.createElement("li",W0({className:g,style:d,key:"legend-item-".concat(y)},Jf(r.props,m,y)),H.createElement(R0,{width:s,height:s,viewBox:h,style:p},r.renderIcon(m)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},w?w(x,m,y):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(k.PureComponent);Au(h_,"displayName","Legend");Au(h_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Rq=Um;function $q(){this.__data__=new Rq,this.size=0}var Lq=$q;function Fq(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Vq=Fq;function Bq(t){return this.__data__.get(t)}var Uq=Bq;function Hq(t){return this.__data__.has(t)}var zq=Hq,Wq=Um,Kq=Zw,Gq=e_,qq=200;function Yq(t,e){var n=this.__data__;if(n instanceof Wq){var r=n.__data__;if(!Kq||r.length<qq-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Gq(r)}return n.set(t,e),this.size=n.size,this}var Xq=Yq,Qq=Um,Jq=Lq,Zq=Vq,eY=Uq,tY=zq,nY=Xq;function Nl(t){var e=this.__data__=new Qq(t);this.size=e.size}Nl.prototype.clear=Jq;Nl.prototype.delete=Zq;Nl.prototype.get=eY;Nl.prototype.has=tY;Nl.prototype.set=nY;var Lk=Nl,rY="__lodash_hash_undefined__";function iY(t){return this.__data__.set(t,rY),this}var aY=iY;function sY(t){return this.__data__.has(t)}var oY=sY,lY=e_,cY=aY,uY=oY;function ap(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new lY;++e<n;)this.add(t[e])}ap.prototype.add=ap.prototype.push=cY;ap.prototype.has=uY;var Fk=ap;function dY(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Vk=dY;function hY(t,e){return t.has(e)}var Bk=hY,fY=Fk,pY=Vk,mY=Bk,gY=1,yY=2;function vY(t,e,n,r,i,a){var s=n&gY,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),h=a.get(e);if(c&&h)return c==e&&h==t;var d=-1,p=!0,m=n&yY?new fY:void 0;for(a.set(t,e),a.set(e,t);++d<o;){var y=t[d],w=e[d];if(r)var g=s?r(w,y,d,e,t,a):r(y,w,d,t,e,a);if(g!==void 0){if(g)continue;p=!1;break}if(m){if(!pY(e,function(x,v){if(!mY(m,v)&&(y===x||i(y,x,n,r,a)))return m.push(v)})){p=!1;break}}else if(!(y===w||i(y,w,n,r,a))){p=!1;break}}return a.delete(t),a.delete(e),p}var Uk=vY,xY=Hr,bY=xY.Uint8Array,wY=bY;function _Y(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var SY=_Y;function EY(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var f_=EY,wA=_d,_A=wY,PY=Jw,AY=Uk,TY=SY,NY=f_,MY=1,IY=2,jY="[object Boolean]",CY="[object Date]",OY="[object Error]",DY="[object Map]",kY="[object Number]",RY="[object RegExp]",$Y="[object Set]",LY="[object String]",FY="[object Symbol]",VY="[object ArrayBuffer]",BY="[object DataView]",SA=wA?wA.prototype:void 0,ky=SA?SA.valueOf:void 0;function UY(t,e,n,r,i,a,s){switch(n){case BY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case VY:return!(t.byteLength!=e.byteLength||!a(new _A(t),new _A(e)));case jY:case CY:case kY:return PY(+t,+e);case OY:return t.name==e.name&&t.message==e.message;case RY:case LY:return t==e+"";case DY:var o=TY;case $Y:var l=r&MY;if(o||(o=NY),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=IY,s.set(t,e);var h=AY(o(t),o(e),r,i,a,s);return s.delete(t),h;case FY:if(ky)return ky.call(t)==ky.call(e)}return!1}var HY=UY;function zY(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Hk=zY,WY=Hk,KY=_n;function GY(t,e,n){var r=e(t);return KY(t)?r:WY(r,n(t))}var qY=GY;function YY(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var XY=YY;function QY(){return[]}var JY=QY,ZY=XY,eX=JY,tX=Object.prototype,nX=tX.propertyIsEnumerable,EA=Object.getOwnPropertySymbols,rX=EA?function(t){return t==null?[]:(t=Object(t),ZY(EA(t),function(e){return nX.call(t,e)}))}:eX,iX=rX;function aX(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var sX=aX,oX=Ti,lX=Ni,cX="[object Arguments]";function uX(t){return lX(t)&&oX(t)==cX}var dX=uX,PA=dX,hX=Ni,zk=Object.prototype,fX=zk.hasOwnProperty,pX=zk.propertyIsEnumerable,mX=PA(function(){return arguments}())?PA:function(t){return hX(t)&&fX.call(t,"callee")&&!pX.call(t,"callee")},p_=mX,sp={exports:{}};function gX(){return!1}var yX=gX;sp.exports;(function(t,e){var n=Hr,r=yX,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(sp,sp.exports);var Wk=sp.exports,vX=9007199254740991,xX=/^(?:0|[1-9]\d*)$/;function bX(t,e){var n=typeof t;return e=e??vX,!!e&&(n=="number"||n!="symbol"&&xX.test(t))&&t>-1&&t%1==0&&t<e}var m_=bX,wX=9007199254740991;function _X(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=wX}var g_=_X,SX=Ti,EX=g_,PX=Ni,AX="[object Arguments]",TX="[object Array]",NX="[object Boolean]",MX="[object Date]",IX="[object Error]",jX="[object Function]",CX="[object Map]",OX="[object Number]",DX="[object Object]",kX="[object RegExp]",RX="[object Set]",$X="[object String]",LX="[object WeakMap]",FX="[object ArrayBuffer]",VX="[object DataView]",BX="[object Float32Array]",UX="[object Float64Array]",HX="[object Int8Array]",zX="[object Int16Array]",WX="[object Int32Array]",KX="[object Uint8Array]",GX="[object Uint8ClampedArray]",qX="[object Uint16Array]",YX="[object Uint32Array]",Ke={};Ke[BX]=Ke[UX]=Ke[HX]=Ke[zX]=Ke[WX]=Ke[KX]=Ke[GX]=Ke[qX]=Ke[YX]=!0;Ke[AX]=Ke[TX]=Ke[FX]=Ke[NX]=Ke[VX]=Ke[MX]=Ke[IX]=Ke[jX]=Ke[CX]=Ke[OX]=Ke[DX]=Ke[kX]=Ke[RX]=Ke[$X]=Ke[LX]=!1;function XX(t){return PX(t)&&EX(t.length)&&!!Ke[SX(t)]}var QX=XX;function JX(t){return function(e){return t(e)}}var Kk=JX,op={exports:{}};op.exports;(function(t,e){var n=ek,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(op,op.exports);var ZX=op.exports,eQ=QX,tQ=Kk,AA=ZX,TA=AA&&AA.isTypedArray,nQ=TA?tQ(TA):eQ,Gk=nQ,rQ=sX,iQ=p_,aQ=_n,sQ=Wk,oQ=m_,lQ=Gk,cQ=Object.prototype,uQ=cQ.hasOwnProperty;function dQ(t,e){var n=aQ(t),r=!n&&iQ(t),i=!n&&!r&&sQ(t),a=!n&&!r&&!i&&lQ(t),s=n||r||i||a,o=s?rQ(t.length,String):[],l=o.length;for(var c in t)(e||uQ.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||oQ(c,l)))&&o.push(c);return o}var hQ=dQ,fQ=Object.prototype;function pQ(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||fQ;return t===n}var mQ=pQ;function gQ(t,e){return function(n){return t(e(n))}}var qk=gQ,yQ=qk,vQ=yQ(Object.keys,Object),xQ=vQ,bQ=mQ,wQ=xQ,_Q=Object.prototype,SQ=_Q.hasOwnProperty;function EQ(t){if(!bQ(t))return wQ(t);var e=[];for(var n in Object(t))SQ.call(t,n)&&n!="constructor"&&e.push(n);return e}var PQ=EQ,AQ=Qw,TQ=g_;function NQ(t){return t!=null&&TQ(t.length)&&!AQ(t)}var ag=NQ,MQ=hQ,IQ=PQ,jQ=ag;function CQ(t){return jQ(t)?MQ(t):IQ(t)}var y_=CQ,OQ=qY,DQ=iX,kQ=y_;function RQ(t){return OQ(t,kQ,DQ)}var $Q=RQ,NA=$Q,LQ=1,FQ=Object.prototype,VQ=FQ.hasOwnProperty;function BQ(t,e,n,r,i,a){var s=n&LQ,o=NA(t),l=o.length,c=NA(e),h=c.length;if(l!=h&&!s)return!1;for(var d=l;d--;){var p=o[d];if(!(s?p in e:VQ.call(e,p)))return!1}var m=a.get(t),y=a.get(e);if(m&&y)return m==e&&y==t;var w=!0;a.set(t,e),a.set(e,t);for(var g=s;++d<l;){p=o[d];var x=t[p],v=e[p];if(r)var _=s?r(v,x,p,e,t,a):r(x,v,p,t,e,a);if(!(_===void 0?x===v||i(x,v,n,r,a):_)){w=!1;break}g||(g=p=="constructor")}if(w&&!g){var A=t.constructor,P=e.constructor;A!=P&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof P=="function"&&P instanceof P)&&(w=!1)}return a.delete(t),a.delete(e),w}var UQ=BQ,HQ=Ns,zQ=Hr,WQ=HQ(zQ,"DataView"),KQ=WQ,GQ=Ns,qQ=Hr,YQ=GQ(qQ,"Promise"),XQ=YQ,QQ=Ns,JQ=Hr,ZQ=QQ(JQ,"Set"),Yk=ZQ,eJ=Ns,tJ=Hr,nJ=eJ(tJ,"WeakMap"),rJ=nJ,G0=KQ,q0=Zw,Y0=XQ,X0=Yk,Q0=rJ,Xk=Ti,Ml=nk,MA="[object Map]",iJ="[object Object]",IA="[object Promise]",jA="[object Set]",CA="[object WeakMap]",OA="[object DataView]",aJ=Ml(G0),sJ=Ml(q0),oJ=Ml(Y0),lJ=Ml(X0),cJ=Ml(Q0),za=Xk;(G0&&za(new G0(new ArrayBuffer(1)))!=OA||q0&&za(new q0)!=MA||Y0&&za(Y0.resolve())!=IA||X0&&za(new X0)!=jA||Q0&&za(new Q0)!=CA)&&(za=function(t){var e=Xk(t),n=e==iJ?t.constructor:void 0,r=n?Ml(n):"";if(r)switch(r){case aJ:return OA;case sJ:return MA;case oJ:return IA;case lJ:return jA;case cJ:return CA}return e});var uJ=za,Ry=Lk,dJ=Uk,hJ=HY,fJ=UQ,DA=uJ,kA=_n,RA=Wk,pJ=Gk,mJ=1,$A="[object Arguments]",LA="[object Array]",bh="[object Object]",gJ=Object.prototype,FA=gJ.hasOwnProperty;function yJ(t,e,n,r,i,a){var s=kA(t),o=kA(e),l=s?LA:DA(t),c=o?LA:DA(e);l=l==$A?bh:l,c=c==$A?bh:c;var h=l==bh,d=c==bh,p=l==c;if(p&&RA(t)){if(!RA(e))return!1;s=!0,h=!1}if(p&&!h)return a||(a=new Ry),s||pJ(t)?dJ(t,e,n,r,i,a):hJ(t,e,l,n,r,i,a);if(!(n&mJ)){var m=h&&FA.call(t,"__wrapped__"),y=d&&FA.call(e,"__wrapped__");if(m||y){var w=m?t.value():t,g=y?e.value():e;return a||(a=new Ry),i(w,g,n,r,a)}}return p?(a||(a=new Ry),fJ(t,e,n,r,i,a)):!1}var vJ=yJ,xJ=vJ,VA=Ni;function Qk(t,e,n,r,i){return t===e?!0:t==null||e==null||!VA(t)&&!VA(e)?t!==t&&e!==e:xJ(t,e,n,r,Qk,i)}var v_=Qk,bJ=Lk,wJ=v_,_J=1,SJ=2;function EJ(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],c=t[l],h=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var d=new bJ;if(r)var p=r(c,h,l,t,e,d);if(!(p===void 0?wJ(h,c,_J|SJ,r,d):p))return!1}}return!0}var PJ=EJ,AJ=Na;function TJ(t){return t===t&&!AJ(t)}var Jk=TJ,NJ=Jk,MJ=y_;function IJ(t){for(var e=MJ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,NJ(i)]}return e}var jJ=IJ;function CJ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Zk=CJ,OJ=PJ,DJ=jJ,kJ=Zk;function RJ(t){var e=DJ(t);return e.length==1&&e[0][2]?kJ(e[0][0],e[0][1]):function(n){return n===t||OJ(n,t,e)}}var $J=RJ;function LJ(t,e){return t!=null&&e in Object(t)}var FJ=LJ,VJ=ok,BJ=p_,UJ=_n,HJ=m_,zJ=g_,WJ=zm;function KJ(t,e,n){e=VJ(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=WJ(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&zJ(i)&&HJ(s,i)&&(UJ(t)||BJ(t)))}var GJ=KJ,qJ=FJ,YJ=GJ;function XJ(t,e){return t!=null&&YJ(t,e,qJ)}var QJ=XJ,JJ=v_,ZJ=lk,eZ=QJ,tZ=Xw,nZ=Jk,rZ=Zk,iZ=zm,aZ=1,sZ=2;function oZ(t,e){return tZ(t)&&nZ(e)?rZ(iZ(t),e):function(n){var r=ZJ(n,t);return r===void 0&&r===e?eZ(n,t):JJ(e,r,aZ|sZ)}}var lZ=oZ;function cZ(t){return t}var Il=cZ;function uZ(t){return function(e){return e==null?void 0:e[t]}}var dZ=uZ,hZ=r_;function fZ(t){return function(e){return hZ(e,t)}}var pZ=fZ,mZ=dZ,gZ=pZ,yZ=Xw,vZ=zm;function xZ(t){return yZ(t)?mZ(vZ(t)):gZ(t)}var bZ=xZ,wZ=$J,_Z=lZ,SZ=Il,EZ=_n,PZ=bZ;function AZ(t){return typeof t=="function"?t:t==null?SZ:typeof t=="object"?EZ(t)?_Z(t[0],t[1]):wZ(t):PZ(t)}var jl=AZ;function TZ(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var NZ=TZ;function MZ(t){return t!==t}var IZ=MZ;function jZ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var CZ=jZ,OZ=NZ,DZ=IZ,kZ=CZ;function RZ(t,e,n){return e===e?kZ(t,e,n):OZ(t,DZ,n)}var $Z=RZ,LZ=$Z;function FZ(t,e){var n=t==null?0:t.length;return!!n&&LZ(t,e,0)>-1}var VZ=FZ;function BZ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var UZ=BZ;function HZ(){}var zZ=HZ,$y=Yk,WZ=zZ,KZ=f_,GZ=1/0,qZ=$y&&1/KZ(new $y([,-0]))[1]==GZ?function(t){return new $y(t)}:WZ,YZ=qZ,XZ=Fk,QZ=VZ,JZ=UZ,ZZ=Bk,eee=YZ,tee=f_,nee=200;function ree(t,e,n){var r=-1,i=QZ,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=JZ;else if(a>=nee){var c=e?null:eee(t);if(c)return tee(c);s=!1,i=ZZ,l=new XZ}else l=e?[]:o;e:for(;++r<a;){var h=t[r],d=e?e(h):h;if(h=n||h!==0?h:0,s&&d===d){for(var p=l.length;p--;)if(l[p]===d)continue e;e&&l.push(d),o.push(h)}else i(l,d,n)||(l!==o&&l.push(d),o.push(h))}return o}var iee=ree,aee=jl,see=iee;function oee(t,e){return t&&t.length?see(t,aee(e)):[]}var lee=oee;const BA=He(lee);function e2(t,e,n){return e===!0?BA(t,n):_e(e)?BA(t,e):t}function Wo(t){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo(t)}var cee=["ref"];function UA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UA(Object(n),!0).forEach(function(r){sg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n2(r.key),r)}}function dee(t,e,n){return e&&HA(t.prototype,e),n&&HA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hee(t,e,n){return e=lp(e),fee(t,t2()?Reflect.construct(e,n||[],lp(t).constructor):e.apply(t,n))}function fee(t,e){if(e&&(Wo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pee(t)}function pee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t2=function(){return!!t})()}function lp(t){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lp(t)}function mee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J0(t,e)}function J0(t,e){return J0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J0(t,e)}function sg(t,e,n){return e=n2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n2(t){var e=gee(t,"string");return Wo(e)=="symbol"?e:e+""}function gee(t,e){if(Wo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yee(t,e){if(t==null)return{};var n=vee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xee(t){return t.value}function bee(t,e){if(H.isValidElement(t))return H.cloneElement(t,e);if(typeof t=="function")return H.createElement(t,e);e.ref;var n=yee(e,cee);return H.createElement(h_,n)}var zA=1,Eo=function(t){function e(){var n;uee(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=hee(this,e,[].concat(i)),sg(n,"lastBoundingBox",{width:-1,height:-1}),n}return mee(e,t),dee(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>zA||Math.abs(i.height-this.lastBoundingBox.height)>zA)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?qr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,h=i.chartHeight,d,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();d={left:((c||0)-m.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var y=this.getBBoxSnapshot();p={top:((h||0)-y.height)/2}}else p=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return qr(qr({},d),p)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,h=i.payload,d=qr(qr({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return H.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){r.wrapperNode=m}},bee(a,qr(qr({},this.props),{},{payload:e2(h,c,xee)})))}}],[{key:"getWithHeight",value:function(r,i){var a=qr(qr({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&te(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(k.PureComponent);sg(Eo,"displayName","Legend");sg(Eo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var WA=_d,wee=p_,_ee=_n,KA=WA?WA.isConcatSpreadable:void 0;function See(t){return _ee(t)||wee(t)||!!(KA&&t&&t[KA])}var Eee=See,Pee=Hk,Aee=Eee;function r2(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=Aee),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?r2(o,e-1,n,r,i):Pee(i,o):r||(i[i.length]=o)}return i}var i2=r2;function Tee(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var Nee=Tee,Mee=Nee,Iee=Mee(),jee=Iee,Cee=jee,Oee=y_;function Dee(t,e){return t&&Cee(t,e,Oee)}var a2=Dee,kee=ag;function Ree(t,e){return function(n,r){if(n==null)return n;if(!kee(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var $ee=Ree,Lee=a2,Fee=$ee,Vee=Fee(Lee),x_=Vee,Bee=x_,Uee=ag;function Hee(t,e){var n=-1,r=Uee(t)?Array(t.length):[];return Bee(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var s2=Hee;function zee(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Wee=zee,GA=Sl;function Kee(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=GA(t),s=e!==void 0,o=e===null,l=e===e,c=GA(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var Gee=Kee,qee=Gee;function Yee(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=qee(i[r],a[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var Xee=Yee,Ly=n_,Qee=r_,Jee=jl,Zee=s2,ete=Wee,tte=Kk,nte=Xee,rte=Il,ite=_n;function ate(t,e,n){e.length?e=Ly(e,function(a){return ite(a)?function(s){return Qee(s,a.length===1?a[0]:a)}:a}):e=[rte];var r=-1;e=Ly(e,tte(Jee));var i=Zee(t,function(a,s,o){var l=Ly(e,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return ete(i,function(a,s){return nte(a,s,n)})}var ste=ate;function ote(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var lte=ote,cte=lte,qA=Math.max;function ute(t,e,n){return e=qA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=qA(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),cte(t,this,o)}}var dte=ute;function hte(t){return function(){return t}}var fte=hte,pte=Ns,mte=function(){try{var t=pte(Object,"defineProperty");return t({},"",{}),t}catch{}}(),o2=mte,gte=fte,YA=o2,yte=Il,vte=YA?function(t,e){return YA(t,"toString",{configurable:!0,enumerable:!1,value:gte(e),writable:!0})}:yte,xte=vte,bte=800,wte=16,_te=Date.now;function Ste(t){var e=0,n=0;return function(){var r=_te(),i=wte-(r-n);if(n=r,i>0){if(++e>=bte)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Ete=Ste,Pte=xte,Ate=Ete,Tte=Ate(Pte),Nte=Tte,Mte=Il,Ite=dte,jte=Nte;function Cte(t,e){return jte(Ite(t,e,Mte),t+"")}var Ote=Cte,Dte=Jw,kte=ag,Rte=m_,$te=Na;function Lte(t,e,n){if(!$te(n))return!1;var r=typeof e;return(r=="number"?kte(n)&&Rte(e,n.length):r=="string"&&e in n)?Dte(n[e],t):!1}var og=Lte,Fte=i2,Vte=ste,Bte=Ote,XA=og,Ute=Bte(function(t,e){if(t==null)return[];var n=e.length;return n>1&&XA(t,e[0],e[1])?e=[]:n>2&&XA(e[0],e[1],e[2])&&(e=[e[0]]),Vte(t,Fte(e,1),[])}),Hte=Ute;const b_=He(Hte);function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function Z0(){return Z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z0.apply(this,arguments)}function zte(t,e){return qte(t)||Gte(t,e)||Kte(t,e)||Wte()}function Wte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kte(t,e){if(t){if(typeof t=="string")return QA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QA(t,e)}}function QA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function qte(t){if(Array.isArray(t))return t}function JA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JA(Object(n),!0).forEach(function(r){Yte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yte(t,e,n){return e=Xte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xte(t){var e=Qte(t,"string");return Tu(e)=="symbol"?e:e+""}function Qte(t,e){if(Tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jte(t){return Array.isArray(t)&&Et(t[0])&&Et(t[1])?t.join(" ~ "):t}var Zte=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,h=e.payload,d=e.formatter,p=e.itemSorter,m=e.wrapperClassName,y=e.labelClassName,w=e.label,g=e.labelFormatter,x=e.accessibilityLayer,v=x===void 0?!1:x,_=function(){if(h&&h.length){var j={padding:0,margin:0},C=(p?b_(h,p):h).map(function(L,B){if(L.type==="none")return null;var F=Fy({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},o),U=L.formatter||d||Jte,R=L.value,V=L.name,$=R,K=V;if(U&&$!=null&&K!=null){var q=U(R,V,L,B,h);if(Array.isArray(q)){var ee=zte(q,2);$=ee[0],K=ee[1]}else $=q}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:F},Et(K)?H.createElement("span",{className:"recharts-tooltip-item-name"},K):null,Et(K)?H.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,H.createElement("span",{className:"recharts-tooltip-item-value"},$),H.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:j},C)}return null},A=Fy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),P=Fy({margin:0},c),E=!ve(w),S=E?w:"",T=Te("recharts-default-tooltip",m),M=Te("recharts-tooltip-label",y);E&&g&&h!==void 0&&h!==null&&(S=g(w,h));var I=v?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",Z0({className:T,style:A},I),H.createElement("p",{className:M,style:P},H.isValidElement(S)?S:"".concat(S)),_())};function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function wh(t,e,n){return e=ene(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ene(t){var e=tne(t,"string");return Nu(e)=="symbol"?e:e+""}function tne(t,e){if(Nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sc="recharts-tooltip-wrapper",nne={visibility:"hidden"};function rne(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Te(sc,wh(wh(wh(wh({},"".concat(sc,"-right"),te(n)&&e&&te(e.x)&&n>=e.x),"".concat(sc,"-left"),te(n)&&e&&te(e.x)&&n<e.x),"".concat(sc,"-bottom"),te(r)&&e&&te(e.y)&&r>=e.y),"".concat(sc,"-top"),te(r)&&e&&te(e.y)&&r<e.y))}function ZA(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&te(a[r]))return a[r];var h=n[r]-o-i,d=n[r]+i;if(e[r])return s[r]?h:d;if(s[r]){var p=h,m=l[r];return p<m?Math.max(d,l[r]):Math.max(h,l[r])}var y=d+o,w=l[r]+c;return y>w?Math.max(h,l[r]):Math.max(d,l[r])}function ine(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function ane(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,h,d;return s.height>0&&s.width>0&&n?(h=ZA({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=ZA({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=ine({translateX:h,translateY:d,useTranslate3d:o})):c=nne,{cssProperties:c,cssClasses:rne({translateX:h,translateY:d,coordinate:n})}}function Ko(t){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ko(t)}function eT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eT(Object(n),!0).forEach(function(r){tx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function one(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c2(r.key),r)}}function lne(t,e,n){return e&&one(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cne(t,e,n){return e=cp(e),une(t,l2()?Reflect.construct(e,n||[],cp(t).constructor):e.apply(t,n))}function une(t,e){if(e&&(Ko(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dne(t)}function dne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l2=function(){return!!t})()}function cp(t){return cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cp(t)}function hne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ex(t,e)}function ex(t,e){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ex(t,e)}function tx(t,e,n){return e=c2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c2(t){var e=fne(t,"string");return Ko(e)=="symbol"?e:e+""}function fne(t,e){if(Ko(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ko(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nT=1,pne=function(t){function e(){var n;sne(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=cne(this,e,[].concat(i)),tx(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),tx(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&c!==void 0?c:0}})}}),n}return hne(e,t),lne(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>nT||Math.abs(r.height-this.state.lastBoundingBox.height)>nT)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,h=i.coordinate,d=i.hasPayload,p=i.isAnimationActive,m=i.offset,y=i.position,w=i.reverseDirection,g=i.useTranslate3d,x=i.viewBox,v=i.wrapperStyle,_=ane({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:m,position:y,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:x}),A=_.cssClasses,P=_.cssProperties,E=tT(tT({transition:p&&a?"transform ".concat(o,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},v);return H.createElement("div",{tabIndex:-1,className:A,style:E,ref:function(T){r.wrapperNode=T}},c)}}])}(k.PureComponent),mne=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Cl={isSsr:mne()};function Go(t){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Go(t)}function rT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rT(Object(n),!0).forEach(function(r){w_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d2(r.key),r)}}function vne(t,e,n){return e&&yne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xne(t,e,n){return e=up(e),bne(t,u2()?Reflect.construct(e,n||[],up(t).constructor):e.apply(t,n))}function bne(t,e){if(e&&(Go(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wne(t)}function wne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u2=function(){return!!t})()}function up(t){return up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},up(t)}function _ne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nx(t,e)}function nx(t,e){return nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nx(t,e)}function w_(t,e,n){return e=d2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d2(t){var e=Sne(t,"string");return Go(e)=="symbol"?e:e+""}function Sne(t,e){if(Go(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Go(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ene(t){return t.dataKey}function Pne(t,e){return H.isValidElement(t)?H.cloneElement(t,e):typeof t=="function"?H.createElement(t,e):H.createElement(Zte,e)}var Tr=function(t){function e(){return gne(this,e),xne(this,e,arguments)}return _ne(e,t),vne(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,h=i.coordinate,d=i.filterNull,p=i.isAnimationActive,m=i.offset,y=i.payload,w=i.payloadUniqBy,g=i.position,x=i.reverseDirection,v=i.useTranslate3d,_=i.viewBox,A=i.wrapperStyle,P=y??[];d&&P.length&&(P=e2(y.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),w,Ene));var E=P.length>0;return H.createElement(pne,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:p,active:a,coordinate:h,hasPayload:E,offset:m,position:g,reverseDirection:x,useTranslate3d:v,viewBox:_,wrapperStyle:A},Pne(c,iT(iT({},this.props),{},{payload:P})))}}])}(k.PureComponent);w_(Tr,"displayName","Tooltip");w_(Tr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Cl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ane=Hr,Tne=function(){return Ane.Date.now()},Nne=Tne,Mne=/\s/;function Ine(t){for(var e=t.length;e--&&Mne.test(t.charAt(e)););return e}var jne=Ine,Cne=jne,One=/^\s+/;function Dne(t){return t&&t.slice(0,Cne(t)+1).replace(One,"")}var kne=Dne,Rne=kne,aT=Na,$ne=Sl,sT=NaN,Lne=/^[-+]0x[0-9a-f]+$/i,Fne=/^0b[01]+$/i,Vne=/^0o[0-7]+$/i,Bne=parseInt;function Une(t){if(typeof t=="number")return t;if($ne(t))return sT;if(aT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=aT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Rne(t);var n=Fne.test(t);return n||Vne.test(t)?Bne(t.slice(2),n?2:8):Lne.test(t)?sT:+t}var h2=Une,Hne=Na,Vy=Nne,oT=h2,zne="Expected a function",Wne=Math.max,Kne=Math.min;function Gne(t,e,n){var r,i,a,s,o,l,c=0,h=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(zne);e=oT(e)||0,Hne(n)&&(h=!!n.leading,d="maxWait"in n,a=d?Wne(oT(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p);function m(E){var S=r,T=i;return r=i=void 0,c=E,s=t.apply(T,S),s}function y(E){return c=E,o=setTimeout(x,e),h?m(E):s}function w(E){var S=E-l,T=E-c,M=e-S;return d?Kne(M,a-T):M}function g(E){var S=E-l,T=E-c;return l===void 0||S>=e||S<0||d&&T>=a}function x(){var E=Vy();if(g(E))return v(E);o=setTimeout(x,w(E))}function v(E){return o=void 0,p&&r?m(E):(r=i=void 0,s)}function _(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function A(){return o===void 0?s:v(Vy())}function P(){var E=Vy(),S=g(E);if(r=arguments,i=this,l=E,S){if(o===void 0)return y(l);if(d)return clearTimeout(o),o=setTimeout(x,e),m(l)}return o===void 0&&(o=setTimeout(x,e)),s}return P.cancel=_,P.flush=A,P}var qne=Gne,Yne=qne,Xne=Na,Qne="Expected a function";function Jne(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Qne);return Xne(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Yne(t,e,{leading:r,maxWait:e,trailing:i})}var Zne=Jne;const f2=He(Zne);function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function lT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _h(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lT(Object(n),!0).forEach(function(r){ere(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ere(t,e,n){return e=tre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tre(t){var e=nre(t,"string");return Mu(e)=="symbol"?e:e+""}function nre(t,e){if(Mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rre(t,e){return ore(t)||sre(t,e)||are(t,e)||ire()}function ire(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function are(t,e){if(t){if(typeof t=="string")return cT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cT(t,e)}}function cT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function ore(t){if(Array.isArray(t))return t}var lre=k.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,h=c===void 0?0:c,d=t.minHeight,p=t.maxHeight,m=t.children,y=t.debounce,w=y===void 0?0:y,g=t.id,x=t.className,v=t.onResize,_=t.style,A=_===void 0?{}:_,P=k.useRef(null),E=k.useRef();E.current=v,k.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var S=k.useState({containerWidth:i.width,containerHeight:i.height}),T=rre(S,2),M=T[0],I=T[1],O=k.useCallback(function(C,L){I(function(B){var F=Math.round(C),U=Math.round(L);return B.containerWidth===F&&B.containerHeight===U?B:{containerWidth:F,containerHeight:U}})},[]);k.useEffect(function(){var C=function(V){var $,K=V[0].contentRect,q=K.width,ee=K.height;O(q,ee),($=E.current)===null||$===void 0||$.call(E,q,ee)};w>0&&(C=f2(C,w,{trailing:!0,leading:!1}));var L=new ResizeObserver(C),B=P.current.getBoundingClientRect(),F=B.width,U=B.height;return O(F,U),L.observe(P.current),function(){L.disconnect()}},[O,w]);var j=k.useMemo(function(){var C=M.containerWidth,L=M.containerHeight;if(C<0||L<0)return null;as(Qa(s)||Qa(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),as(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=Qa(s)?C:s,F=Qa(l)?L:l;n&&n>0&&(B?F=B/n:F&&(B=F*n),p&&F>p&&(F=p)),as(B>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,F,s,l,h,d,n);var U=!Array.isArray(m)&&oi(m.type).endsWith("Chart");return H.Children.map(m,function(R){return H.isValidElement(R)?k.cloneElement(R,_h({width:B,height:F},U?{style:_h({height:"100%",width:"100%",maxHeight:F,maxWidth:B},R.props.style)}:{})):R})},[n,m,l,p,d,h,M,s]);return H.createElement("div",{id:g?"".concat(g):void 0,className:Te("recharts-responsive-container",x),style:_h(_h({},A),{},{width:s,height:l,minWidth:h,minHeight:d,maxHeight:p}),ref:P},j)}),p2=function(e){return null};p2.displayName="Cell";function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function uT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uT(Object(n),!0).forEach(function(r){cre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cre(t,e,n){return e=ure(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ure(t){var e=dre(t,"string");return Iu(e)=="symbol"?e:e+""}function dre(t,e){if(Iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fs={widthCache:{},cacheCount:0},hre=2e3,fre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dT="recharts_measurement_span";function pre(t){var e=rx({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Wc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Cl.isSsr)return{width:0,height:0};var r=pre(n),i=JSON.stringify({text:e,copyStyle:r});if(Fs.widthCache[i])return Fs.widthCache[i];try{var a=document.getElementById(dT);a||(a=document.createElement("span"),a.setAttribute("id",dT),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=rx(rx({},fre),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Fs.widthCache[i]=l,++Fs.cacheCount>hre&&(Fs.cacheCount=0,Fs.widthCache={}),l}catch{return{width:0,height:0}}},mre=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function dp(t,e){return xre(t)||vre(t,e)||yre(t,e)||gre()}function gre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yre(t,e){if(t){if(typeof t=="string")return hT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hT(t,e)}}function hT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function xre(t){if(Array.isArray(t))return t}function bre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_re(r.key),r)}}function wre(t,e,n){return e&&fT(t.prototype,e),n&&fT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _re(t){var e=Sre(t,"string");return ju(e)=="symbol"?e:e+""}function Sre(t,e){if(ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ere=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Pre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,m2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Are=Object.keys(m2),lo="NaN";function Tre(t,e){return t*m2[e]}var Sh=function(){function t(e,n){bre(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Ere.test(n)&&(this.num=NaN,this.unit=""),Are.includes(n)&&(this.num=Tre(e,n),this.unit="px")}return wre(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Pre.exec(n))!==null&&r!==void 0?r:[],a=dp(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function g2(t){if(t.includes(lo))return lo;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=pT.exec(e))!==null&&n!==void 0?n:[],i=dp(r,4),a=i[1],s=i[2],o=i[3],l=Sh.parse(a??""),c=Sh.parse(o??""),h=s==="*"?l.multiply(c):l.divide(c);if(h.isNaN())return lo;e=e.replace(pT,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,p=(d=mT.exec(e))!==null&&d!==void 0?d:[],m=dp(p,4),y=m[1],w=m[2],g=m[3],x=Sh.parse(y??""),v=Sh.parse(g??""),_=w==="+"?x.add(v):x.subtract(v);if(_.isNaN())return lo;e=e.replace(mT,_.toString())}return e}var gT=/\(([^()]*)\)/;function Nre(t){for(var e=t;e.includes("(");){var n=gT.exec(e),r=dp(n,2),i=r[1];e=e.replace(gT,g2(i))}return e}function Mre(t){var e=t.replace(/\s+/g,"");return e=Nre(e),e=g2(e),e}function Ire(t){try{return Mre(t)}catch{return lo}}function By(t){var e=Ire(t.slice(5,-1));return e===lo?"":e}var jre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Cre=["dx","dy","angle","className","breakAll"];function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ix.apply(this,arguments)}function yT(t,e){if(t==null)return{};var n=Ore(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ore(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vT(t,e){return $re(t)||Rre(t,e)||kre(t,e)||Dre()}function Dre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kre(t,e){if(t){if(typeof t=="string")return xT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xT(t,e)}}function xT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function $re(t){if(Array.isArray(t))return t}var y2=/[ \f\n\r\t\v\u2028\u2029]+/,v2=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];ve(n)||(r?a=n.toString().split(""):a=n.toString().split(y2));var s=a.map(function(l){return{word:l,width:Wc(l,i).width}}),o=r?0:Wc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Lre=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,h=te(s),d=o,p=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(F,U){var R=U.word,V=U.width,$=F[F.length-1];if($&&(i==null||a||$.width+V+r<Number(i)))$.words.push(R),$.width+=V+r;else{var K={words:[R],width:V};F.push(K)}return F},[])},m=p(n),y=function(B){return B.reduce(function(F,U){return F.width>U.width?F:U})};if(!h)return m;for(var w="",g=function(B){var F=d.slice(0,B),U=v2({breakAll:c,style:l,children:F+w}).wordsWithComputedWidth,R=p(U),V=R.length>s||y(R).width>Number(i);return[V,R]},x=0,v=d.length-1,_=0,A;x<=v&&_<=d.length-1;){var P=Math.floor((x+v)/2),E=P-1,S=g(E),T=vT(S,2),M=T[0],I=T[1],O=g(P),j=vT(O,1),C=j[0];if(!M&&!C&&(x=P+1),M&&C&&(v=P-1),!M&&C){A=I;break}_++}return A||m},bT=function(e){var n=ve(e)?[]:e.toString().split(y2);return[{words:n}]},Fre=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!Cl.isSsr){var l,c,h=v2({breakAll:s,children:i,style:a});if(h){var d=h.wordsWithComputedWidth,p=h.spaceWidth;l=d,c=p}else return bT(i);return Lre({breakAll:s,children:i,maxLines:o,style:a},l,c,n,r)}return bT(i)},wT="#808080",hp=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,h=e.scaleToFit,d=h===void 0?!1:h,p=e.textAnchor,m=p===void 0?"start":p,y=e.verticalAnchor,w=y===void 0?"end":y,g=e.fill,x=g===void 0?wT:g,v=yT(e,jre),_=k.useMemo(function(){return Fre({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),A=v.dx,P=v.dy,E=v.angle,S=v.className,T=v.breakAll,M=yT(v,Cre);if(!Et(r)||!Et(a))return null;var I=r+(te(A)?A:0),O=a+(te(P)?P:0),j;switch(w){case"start":j=By("calc(".concat(c,")"));break;case"middle":j=By("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:j=By("calc(".concat(_.length-1," * -").concat(o,")"));break}var C=[];if(d){var L=_[0].width,B=v.width;C.push("scale(".concat((te(B)?B/L:1)/L,")"))}return E&&C.push("rotate(".concat(E,", ").concat(I,", ").concat(O,")")),C.length&&(M.transform=C.join(" ")),H.createElement("text",ix({},Pe(M,!0),{x:I,y:O,className:Te("recharts-text",S),textAnchor:m,fill:x.includes("url")?wT:x}),_.map(function(F,U){var R=F.words.join(T?"":" ");return H.createElement("tspan",{x:I,dy:U===0?j:o,key:"".concat(R,"-").concat(U)},R)}))};function da(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Vre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function __(t){let e,n,r;t.length!==2?(e=da,n=(o,l)=>da(t(o),l),r=(o,l)=>t(o)-l):(e=t===da||t===Vre?t:Bre,n=t,r=t);function i(o,l,c=0,h=o.length){if(c<h){if(e(l,l)!==0)return h;do{const d=c+h>>>1;n(o[d],l)<0?c=d+1:h=d}while(c<h)}return c}function a(o,l,c=0,h=o.length){if(c<h){if(e(l,l)!==0)return h;do{const d=c+h>>>1;n(o[d],l)<=0?c=d+1:h=d}while(c<h)}return c}function s(o,l,c=0,h=o.length){const d=i(o,l,c,h-1);return d>c&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function Bre(){return 0}function x2(t){return t===null?NaN:+t}function*Ure(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Hre=__(da),Pd=Hre.right;__(x2).center;class _T extends Map{constructor(e,n=Kre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ST(this,e))}has(e){return super.has(ST(this,e))}set(e,n){return super.set(zre(this,e),n)}delete(e){return super.delete(Wre(this,e))}}function ST({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function zre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Wre({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Kre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Gre(t=da){if(t===da)return b2;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function b2(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const qre=Math.sqrt(50),Yre=Math.sqrt(10),Xre=Math.sqrt(2);function fp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=qre?10:a>=Yre?5:a>=Xre?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?fp(t,e,n*2):[o,l,c]}function ax(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?fp(e,t,n):fp(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function sx(t,e,n){return e=+e,t=+t,n=+n,fp(t,e,n)[2]}function ox(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?sx(e,t,n):sx(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ET(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function PT(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function w2(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?b2:Gre(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,h=Math.log(l),d=.5*Math.exp(2*h/3),p=.5*Math.sqrt(h*d*(l-d)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(e-c*d/l+p)),y=Math.min(r,Math.floor(e+(l-c)*d/l+p));w2(t,e,m,y,i)}const a=t[e];let s=n,o=r;for(oc(t,n,e),i(t[r],a)>0&&oc(t,n,r);s<o;){for(oc(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?oc(t,n,o):(++o,oc(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function oc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Qre(t,e,n){if(t=Float64Array.from(Ure(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return PT(t);if(e>=1)return ET(t);var r,i=(r-1)*e,a=Math.floor(i),s=ET(w2(t,a).subarray(0,a+1)),o=PT(t.subarray(a+1));return s+(o-s)*(i-a)}}function Jre(t,e,n=x2){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function Zre(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function er(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Mi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const lx=Symbol("implicit");function S_(){var t=new _T,e=[],n=[],r=lx;function i(a){let s=t.get(a);if(s===void 0){if(r!==lx)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new _T;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return S_(e,n).unknown(r)},er.apply(i,arguments),i}function Cu(){var t=S_().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,c=0,h=.5;delete t.unknown;function d(){var p=e().length,m=i<r,y=m?i:r,w=m?r:i;a=(w-y)/Math.max(1,p-l+c*2),o&&(a=Math.floor(a)),y+=(w-y-a*(p-l))*h,s=a*(1-l),o&&(y=Math.round(y),s=Math.round(s));var g=Zre(p).map(function(x){return y+a*x});return n(m?g.reverse():g)}return t.domain=function(p){return arguments.length?(e(p),d()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(p){return arguments.length?(o=!!p,d()):o},t.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),d()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},t.paddingOuter=function(p){return arguments.length?(c=+p,d()):c},t.align=function(p){return arguments.length?(h=Math.max(0,Math.min(1,p)),d()):h},t.copy=function(){return Cu(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(h)},er.apply(d(),arguments)}function _2(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return _2(e())},t}function Kc(){return _2(Cu.apply(null,arguments).paddingInner(1))}function E_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function S2(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ad(){}var Ou=.7,pp=1/Ou,Po="\\s*([+-]?\\d+)\\s*",Du="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eie=/^#([0-9a-f]{3,8})$/,tie=new RegExp(`^rgb\\(${Po},${Po},${Po}\\)$`),nie=new RegExp(`^rgb\\(${Lr},${Lr},${Lr}\\)$`),rie=new RegExp(`^rgba\\(${Po},${Po},${Po},${Du}\\)$`),iie=new RegExp(`^rgba\\(${Lr},${Lr},${Lr},${Du}\\)$`),aie=new RegExp(`^hsl\\(${Du},${Lr},${Lr}\\)$`),sie=new RegExp(`^hsla\\(${Du},${Lr},${Lr},${Du}\\)$`),AT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};E_(Ad,ku,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:TT,formatHex:TT,formatHex8:oie,formatHsl:lie,formatRgb:NT,toString:NT});function TT(){return this.rgb().formatHex()}function oie(){return this.rgb().formatHex8()}function lie(){return E2(this).formatHsl()}function NT(){return this.rgb().formatRgb()}function ku(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=eie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?MT(e):n===3?new yn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Eh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Eh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=tie.exec(t))?new yn(e[1],e[2],e[3],1):(e=nie.exec(t))?new yn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=rie.exec(t))?Eh(e[1],e[2],e[3],e[4]):(e=iie.exec(t))?Eh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=aie.exec(t))?CT(e[1],e[2]/100,e[3]/100,1):(e=sie.exec(t))?CT(e[1],e[2]/100,e[3]/100,e[4]):AT.hasOwnProperty(t)?MT(AT[t]):t==="transparent"?new yn(NaN,NaN,NaN,0):null}function MT(t){return new yn(t>>16&255,t>>8&255,t&255,1)}function Eh(t,e,n,r){return r<=0&&(t=e=n=NaN),new yn(t,e,n,r)}function cie(t){return t instanceof Ad||(t=ku(t)),t?(t=t.rgb(),new yn(t.r,t.g,t.b,t.opacity)):new yn}function cx(t,e,n,r){return arguments.length===1?cie(t):new yn(t,e,n,r??1)}function yn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}E_(yn,cx,S2(Ad,{brighter(t){return t=t==null?pp:Math.pow(pp,t),new yn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ou:Math.pow(Ou,t),new yn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yn(ss(this.r),ss(this.g),ss(this.b),mp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:IT,formatHex:IT,formatHex8:uie,formatRgb:jT,toString:jT}));function IT(){return`#${Ja(this.r)}${Ja(this.g)}${Ja(this.b)}`}function uie(){return`#${Ja(this.r)}${Ja(this.g)}${Ja(this.b)}${Ja((isNaN(this.opacity)?1:this.opacity)*255)}`}function jT(){const t=mp(this.opacity);return`${t===1?"rgb(":"rgba("}${ss(this.r)}, ${ss(this.g)}, ${ss(this.b)}${t===1?")":`, ${t})`}`}function mp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ss(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ja(t){return t=ss(t),(t<16?"0":"")+t.toString(16)}function CT(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new hr(t,e,n,r)}function E2(t){if(t instanceof hr)return new hr(t.h,t.s,t.l,t.opacity);if(t instanceof Ad||(t=ku(t)),!t)return new hr;if(t instanceof hr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new hr(s,o,l,t.opacity)}function die(t,e,n,r){return arguments.length===1?E2(t):new hr(t,e,n,r??1)}function hr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}E_(hr,die,S2(Ad,{brighter(t){return t=t==null?pp:Math.pow(pp,t),new hr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ou:Math.pow(Ou,t),new hr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new yn(Uy(t>=240?t-240:t+120,i,r),Uy(t,i,r),Uy(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new hr(OT(this.h),Ph(this.s),Ph(this.l),mp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=mp(this.opacity);return`${t===1?"hsl(":"hsla("}${OT(this.h)}, ${Ph(this.s)*100}%, ${Ph(this.l)*100}%${t===1?")":`, ${t})`}`}}));function OT(t){return t=(t||0)%360,t<0?t+360:t}function Ph(t){return Math.max(0,Math.min(1,t||0))}function Uy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const P_=t=>()=>t;function hie(t,e){return function(n){return t+n*e}}function fie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function pie(t){return(t=+t)==1?P2:function(e,n){return n-e?fie(e,n,t):P_(isNaN(e)?n:e)}}function P2(t,e){var n=e-t;return n?hie(t,n):P_(isNaN(t)?e:t)}const DT=function t(e){var n=pie(e);function r(i,a){var s=n((i=cx(i)).r,(a=cx(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=P2(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=o(h),i.b=l(h),i.opacity=c(h),i+""}}return r.gamma=t,r}(1);function mie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function gie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Ol(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function vie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function gp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function xie(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ol(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var ux=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hy=new RegExp(ux.source,"g");function bie(t){return function(){return t}}function wie(t){return function(e){return t(e)+""}}function _ie(t,e){var n=ux.lastIndex=Hy.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=ux.exec(t))&&(i=Hy.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:gp(r,i)})),n=Hy.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?wie(l[0].x):bie(e):(e=l.length,function(c){for(var h=0,d;h<e;++h)o[(d=l[h]).i]=d.x(c);return o.join("")})}function Ol(t,e){var n=typeof e,r;return e==null||n==="boolean"?P_(e):(n==="number"?gp:n==="string"?(r=ku(e))?(e=r,DT):_ie:e instanceof ku?DT:e instanceof Date?vie:gie(e)?mie:Array.isArray(e)?yie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?xie:gp)(t,e)}function A_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Sie(t,e){e===void 0&&(e=t,t=Ol);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Eie(t){return function(){return t}}function yp(t){return+t}var kT=[0,1];function cn(t){return t}function dx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Eie(isNaN(e)?NaN:.5)}function Pie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Aie(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=dx(i,r),a=n(s,a)):(r=dx(r,i),a=n(a,s)),function(o){return a(r(o))}}function Tie(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=dx(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=Pd(t,o,1,r)-1;return a[l](i[l](o))}}function Td(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function lg(){var t=kT,e=kT,n=Ol,r,i,a,s=cn,o,l,c;function h(){var p=Math.min(t.length,e.length);return s!==cn&&(s=Pie(t[0],t[p-1])),o=p>2?Tie:Aie,l=c=null,d}function d(p){return p==null||isNaN(p=+p)?a:(l||(l=o(t.map(r),e,n)))(r(s(p)))}return d.invert=function(p){return s(i((c||(c=o(e,t.map(r),gp)))(p)))},d.domain=function(p){return arguments.length?(t=Array.from(p,yp),h()):t.slice()},d.range=function(p){return arguments.length?(e=Array.from(p),h()):e.slice()},d.rangeRound=function(p){return e=Array.from(p),n=A_,h()},d.clamp=function(p){return arguments.length?(s=p?!0:cn,h()):s!==cn},d.interpolate=function(p){return arguments.length?(n=p,h()):n},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,m){return r=p,i=m,h()}}function T_(){return lg()(cn,cn)}function Nie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function vp(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function qo(t){return t=vp(Math.abs(t)),t?t[1]:NaN}function Mie(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Iie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var jie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ru(t){if(!(e=jie.exec(t)))throw new Error("invalid format: "+t);var e;return new N_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ru.prototype=N_.prototype;function N_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}N_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Cie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var xp;function Oie(t,e){var n=vp(t,e);if(!n)return xp=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(xp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+vp(t,Math.max(0,e+a-1))[0]}function RT(t,e){var n=vp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const $T={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Nie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>RT(t*100,e),r:RT,s:Oie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function LT(t){return t}var FT=Array.prototype.map,VT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Die(t){var e=t.grouping===void 0||t.thousands===void 0?LT:Mie(FT.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?LT:Iie(FT.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d,p){d=Ru(d);var m=d.fill,y=d.align,w=d.sign,g=d.symbol,x=d.zero,v=d.width,_=d.comma,A=d.precision,P=d.trim,E=d.type;E==="n"?(_=!0,E="g"):$T[E]||(A===void 0&&(A=12),P=!0,E="g"),(x||m==="0"&&y==="=")&&(x=!0,m="0",y="=");var S=(p&&p.prefix!==void 0?p.prefix:"")+(g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():""),T=(g==="$"?r:/[%p]/.test(E)?s:"")+(p&&p.suffix!==void 0?p.suffix:""),M=$T[E],I=/[defgprs%]/.test(E);A=A===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function O(j){var C=S,L=T,B,F,U;if(E==="c")L=M(j)+L,j="";else{j=+j;var R=j<0||1/j<0;if(j=isNaN(j)?l:M(Math.abs(j),A),P&&(j=Cie(j)),R&&+j==0&&w!=="+"&&(R=!1),C=(R?w==="("?w:o:w==="-"||w==="("?"":w)+C,L=(E==="s"&&!isNaN(j)&&xp!==void 0?VT[8+xp/3]:"")+L+(R&&w==="("?")":""),I){for(B=-1,F=j.length;++B<F;)if(U=j.charCodeAt(B),48>U||U>57){L=(U===46?i+j.slice(B+1):j.slice(B))+L,j=j.slice(0,B);break}}}_&&!x&&(j=e(j,1/0));var V=C.length+j.length+L.length,$=V<v?new Array(v-V+1).join(m):"";switch(_&&x&&(j=e($+j,$.length?v-L.length:1/0),$=""),y){case"<":j=C+j+L+$;break;case"=":j=C+$+j+L;break;case"^":j=$.slice(0,V=$.length>>1)+C+j+L+$.slice(V);break;default:j=$+C+j+L;break}return a(j)}return O.toString=function(){return d+""},O}function h(d,p){var m=Math.max(-8,Math.min(8,Math.floor(qo(p)/3)))*3,y=Math.pow(10,-m),w=c((d=Ru(d),d.type="f",d),{suffix:VT[8+m/3]});return function(g){return w(y*g)}}return{format:c,formatPrefix:h}}var Ah,M_,A2;kie({thousands:",",grouping:[3],currency:["$",""]});function kie(t){return Ah=Die(t),M_=Ah.format,A2=Ah.formatPrefix,Ah}function Rie(t){return Math.max(0,-qo(Math.abs(t)))}function $ie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qo(e)/3)))*3-qo(Math.abs(t)))}function Lie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qo(e)-qo(t))+1}function T2(t,e,n,r){var i=ox(t,e,n),a;switch(r=Ru(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=$ie(i,s))&&(r.precision=a),A2(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Lie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Rie(i))&&(r.precision=a-(r.type==="%")*2);break}}return M_(r)}function Ma(t){var e=t.domain;return t.ticks=function(n){var r=e();return ax(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return T2(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,h=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);h-- >0;){if(c=sx(s,o,n),c===l)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function bp(){var t=T_();return t.copy=function(){return Td(t,bp())},er.apply(t,arguments),Ma(t)}function N2(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,yp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return N2(t).unknown(e)},t=arguments.length?Array.from(t,yp):[0,1],Ma(n)}function M2(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function BT(t){return Math.log(t)}function UT(t){return Math.exp(t)}function Fie(t){return-Math.log(-t)}function Vie(t){return-Math.exp(-t)}function Bie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Uie(t){return t===10?Bie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Hie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function HT(t){return(e,n)=>-t(-e,n)}function I_(t){const e=t(BT,UT),n=e.domain;let r=10,i,a;function s(){return i=Hie(r),a=Uie(r),n()[0]<0?(i=HT(i),a=HT(a),t(Fie,Vie)):t(BT,UT),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let c=l[0],h=l[l.length-1];const d=h<c;d&&([c,h]=[h,c]);let p=i(c),m=i(h),y,w;const g=o==null?10:+o;let x=[];if(!(r%1)&&m-p<g){if(p=Math.floor(p),m=Math.ceil(m),c>0){for(;p<=m;++p)for(y=1;y<r;++y)if(w=p<0?y/a(-p):y*a(p),!(w<c)){if(w>h)break;x.push(w)}}else for(;p<=m;++p)for(y=r-1;y>=1;--y)if(w=p>0?y/a(-p):y*a(p),!(w<c)){if(w>h)break;x.push(w)}x.length*2<g&&(x=ax(c,h,g))}else x=ax(p,m,Math.min(m-p,g)).map(a);return d?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ru(l)).precision==null&&(l.trim=!0),l=M_(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return h=>{let d=h/a(Math.round(i(h)));return d*r<r-.5&&(d*=r),d<=c?l(h):""}},e.nice=()=>n(M2(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function I2(){const t=I_(lg()).domain([1,10]);return t.copy=()=>Td(t,I2()).base(t.base()),er.apply(t,arguments),t}function zT(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function WT(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function j_(t){var e=1,n=t(zT(e),WT(e));return n.constant=function(r){return arguments.length?t(zT(e=+r),WT(e)):e},Ma(n)}function j2(){var t=j_(lg());return t.copy=function(){return Td(t,j2()).constant(t.constant())},er.apply(t,arguments)}function KT(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function zie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Wie(t){return t<0?-t*t:t*t}function C_(t){var e=t(cn,cn),n=1;function r(){return n===1?t(cn,cn):n===.5?t(zie,Wie):t(KT(n),KT(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ma(e)}function O_(){var t=C_(lg());return t.copy=function(){return Td(t,O_()).exponent(t.exponent())},er.apply(t,arguments),t}function Kie(){return O_.apply(null,arguments).exponent(.5)}function GT(t){return Math.sign(t)*t*t}function Gie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function C2(){var t=T_(),e=[0,1],n=!1,r;function i(a){var s=Gie(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(GT(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,yp)).map(GT)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return C2(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},er.apply(i,arguments),Ma(i)}function O2(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=Jre(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Pd(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(da),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return O2().domain(t).range(e).unknown(r)},er.apply(a,arguments)}function D2(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Pd(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return D2().domain([t,e]).range(i).unknown(a)},er.apply(Ma(s),arguments)}function k2(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Pd(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return k2().domain(t).range(e).unknown(n)},er.apply(i,arguments)}const zy=new Date,Wy=new Date;function Tt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>Tt(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(zy.setTime(+a),Wy.setTime(+s),t(zy),t(Wy),Math.floor(n(zy,Wy))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const wp=Tt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);wp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Tt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):wp);wp.range;const ni=1e3,Kn=ni*60,ri=Kn*60,yi=ri*24,D_=yi*7,qT=yi*30,Ky=yi*365,Za=Tt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ni)},(t,e)=>(e-t)/ni,t=>t.getUTCSeconds());Za.range;const k_=Tt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ni)},(t,e)=>{t.setTime(+t+e*Kn)},(t,e)=>(e-t)/Kn,t=>t.getMinutes());k_.range;const R_=Tt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Kn)},(t,e)=>(e-t)/Kn,t=>t.getUTCMinutes());R_.range;const $_=Tt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ni-t.getMinutes()*Kn)},(t,e)=>{t.setTime(+t+e*ri)},(t,e)=>(e-t)/ri,t=>t.getHours());$_.range;const L_=Tt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ri)},(t,e)=>(e-t)/ri,t=>t.getUTCHours());L_.range;const Nd=Tt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Kn)/yi,t=>t.getDate()-1);Nd.range;const cg=Tt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/yi,t=>t.getUTCDate()-1);cg.range;const R2=Tt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/yi,t=>Math.floor(t/yi));R2.range;function Ms(t){return Tt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Kn)/D_)}const ug=Ms(0),_p=Ms(1),qie=Ms(2),Yie=Ms(3),Yo=Ms(4),Xie=Ms(5),Qie=Ms(6);ug.range;_p.range;qie.range;Yie.range;Yo.range;Xie.range;Qie.range;function Is(t){return Tt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/D_)}const dg=Is(0),Sp=Is(1),Jie=Is(2),Zie=Is(3),Xo=Is(4),eae=Is(5),tae=Is(6);dg.range;Sp.range;Jie.range;Zie.range;Xo.range;eae.range;tae.range;const F_=Tt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());F_.range;const V_=Tt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());V_.range;const vi=Tt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());vi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});vi.range;const xi=Tt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());xi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});xi.range;function $2(t,e,n,r,i,a){const s=[[Za,1,ni],[Za,5,5*ni],[Za,15,15*ni],[Za,30,30*ni],[a,1,Kn],[a,5,5*Kn],[a,15,15*Kn],[a,30,30*Kn],[i,1,ri],[i,3,3*ri],[i,6,6*ri],[i,12,12*ri],[r,1,yi],[r,2,2*yi],[n,1,D_],[e,1,qT],[e,3,3*qT],[t,1,Ky]];function o(c,h,d){const p=h<c;p&&([c,h]=[h,c]);const m=d&&typeof d.range=="function"?d:l(c,h,d),y=m?m.range(c,+h+1):[];return p?y.reverse():y}function l(c,h,d){const p=Math.abs(h-c)/d,m=__(([,,g])=>g).right(s,p);if(m===s.length)return t.every(ox(c/Ky,h/Ky,d));if(m===0)return wp.every(Math.max(ox(c,h,d),1));const[y,w]=s[p/s[m-1][2]<s[m][2]/p?m-1:m];return y.every(w)}return[o,l]}const[nae,rae]=$2(xi,V_,dg,R2,L_,R_),[iae,aae]=$2(vi,F_,ug,Nd,$_,k_);function Gy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function lc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function sae(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=cc(i),h=uc(i),d=cc(a),p=uc(a),m=cc(s),y=uc(s),w=cc(o),g=uc(o),x=cc(l),v=uc(l),_={a:U,A:R,b:V,B:$,c:null,d:eN,e:eN,f:Mae,g:Fae,G:Bae,H:Aae,I:Tae,j:Nae,L:L2,m:Iae,M:jae,p:K,q,Q:rN,s:iN,S:Cae,u:Oae,U:Dae,V:kae,w:Rae,W:$ae,x:null,X:null,y:Lae,Y:Vae,Z:Uae,"%":nN},A={a:ee,A:me,b:be,B:Ne,c:null,d:tN,e:tN,f:Kae,g:nse,G:ise,H:Hae,I:zae,j:Wae,L:V2,m:Gae,M:qae,p:ht,q:Ht,Q:rN,s:iN,S:Yae,u:Xae,U:Qae,V:Jae,w:Zae,W:ese,x:null,X:null,y:tse,Y:rse,Z:ase,"%":nN},P={a:I,A:O,b:j,B:C,c:L,d:JT,e:JT,f:_ae,g:QT,G:XT,H:ZT,I:ZT,j:vae,L:wae,m:yae,M:xae,p:M,q:gae,Q:Eae,s:Pae,S:bae,u:dae,U:hae,V:fae,w:uae,W:pae,x:B,X:F,y:QT,Y:XT,Z:mae,"%":Sae};_.x=E(n,_),_.X=E(r,_),_.c=E(e,_),A.x=E(n,A),A.X=E(r,A),A.c=E(e,A);function E(ne,de){return function(fe){var Q=[],Ve=-1,ye=0,Ze=ne.length,at,zt,_r;for(fe instanceof Date||(fe=new Date(+fe));++Ve<Ze;)ne.charCodeAt(Ve)===37&&(Q.push(ne.slice(ye,Ve)),(zt=YT[at=ne.charAt(++Ve)])!=null?at=ne.charAt(++Ve):zt=at==="e"?" ":"0",(_r=de[at])&&(at=_r(fe,zt)),Q.push(at),ye=Ve+1);return Q.push(ne.slice(ye,Ve)),Q.join("")}}function S(ne,de){return function(fe){var Q=lc(1900,void 0,1),Ve=T(Q,ne,fe+="",0),ye,Ze;if(Ve!=fe.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(de&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(ye=qy(lc(Q.y,0,1)),Ze=ye.getUTCDay(),ye=Ze>4||Ze===0?Sp.ceil(ye):Sp(ye),ye=cg.offset(ye,(Q.V-1)*7),Q.y=ye.getUTCFullYear(),Q.m=ye.getUTCMonth(),Q.d=ye.getUTCDate()+(Q.w+6)%7):(ye=Gy(lc(Q.y,0,1)),Ze=ye.getDay(),ye=Ze>4||Ze===0?_p.ceil(ye):_p(ye),ye=Nd.offset(ye,(Q.V-1)*7),Q.y=ye.getFullYear(),Q.m=ye.getMonth(),Q.d=ye.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),Ze="Z"in Q?qy(lc(Q.y,0,1)).getUTCDay():Gy(lc(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(Ze+5)%7:Q.w+Q.U*7-(Ze+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,qy(Q)):Gy(Q)}}function T(ne,de,fe,Q){for(var Ve=0,ye=de.length,Ze=fe.length,at,zt;Ve<ye;){if(Q>=Ze)return-1;if(at=de.charCodeAt(Ve++),at===37){if(at=de.charAt(Ve++),zt=P[at in YT?de.charAt(Ve++):at],!zt||(Q=zt(ne,fe,Q))<0)return-1}else if(at!=fe.charCodeAt(Q++))return-1}return Q}function M(ne,de,fe){var Q=c.exec(de.slice(fe));return Q?(ne.p=h.get(Q[0].toLowerCase()),fe+Q[0].length):-1}function I(ne,de,fe){var Q=m.exec(de.slice(fe));return Q?(ne.w=y.get(Q[0].toLowerCase()),fe+Q[0].length):-1}function O(ne,de,fe){var Q=d.exec(de.slice(fe));return Q?(ne.w=p.get(Q[0].toLowerCase()),fe+Q[0].length):-1}function j(ne,de,fe){var Q=x.exec(de.slice(fe));return Q?(ne.m=v.get(Q[0].toLowerCase()),fe+Q[0].length):-1}function C(ne,de,fe){var Q=w.exec(de.slice(fe));return Q?(ne.m=g.get(Q[0].toLowerCase()),fe+Q[0].length):-1}function L(ne,de,fe){return T(ne,e,de,fe)}function B(ne,de,fe){return T(ne,n,de,fe)}function F(ne,de,fe){return T(ne,r,de,fe)}function U(ne){return s[ne.getDay()]}function R(ne){return a[ne.getDay()]}function V(ne){return l[ne.getMonth()]}function $(ne){return o[ne.getMonth()]}function K(ne){return i[+(ne.getHours()>=12)]}function q(ne){return 1+~~(ne.getMonth()/3)}function ee(ne){return s[ne.getUTCDay()]}function me(ne){return a[ne.getUTCDay()]}function be(ne){return l[ne.getUTCMonth()]}function Ne(ne){return o[ne.getUTCMonth()]}function ht(ne){return i[+(ne.getUTCHours()>=12)]}function Ht(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var de=E(ne+="",_);return de.toString=function(){return ne},de},parse:function(ne){var de=S(ne+="",!1);return de.toString=function(){return ne},de},utcFormat:function(ne){var de=E(ne+="",A);return de.toString=function(){return ne},de},utcParse:function(ne){var de=S(ne+="",!0);return de.toString=function(){return ne},de}}}var YT={"-":"",_:" ",0:"0"},Ot=/^\s*\d+/,oae=/^%/,lae=/[\\^$*+?|[\]().{}]/g;function Ie(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function cae(t){return t.replace(lae,"\\$&")}function cc(t){return new RegExp("^(?:"+t.map(cae).join("|")+")","i")}function uc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function uae(t,e,n){var r=Ot.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function dae(t,e,n){var r=Ot.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function hae(t,e,n){var r=Ot.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function fae(t,e,n){var r=Ot.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function pae(t,e,n){var r=Ot.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function XT(t,e,n){var r=Ot.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function QT(t,e,n){var r=Ot.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function mae(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function gae(t,e,n){var r=Ot.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function yae(t,e,n){var r=Ot.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function JT(t,e,n){var r=Ot.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function vae(t,e,n){var r=Ot.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ZT(t,e,n){var r=Ot.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function xae(t,e,n){var r=Ot.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function bae(t,e,n){var r=Ot.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function wae(t,e,n){var r=Ot.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function _ae(t,e,n){var r=Ot.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Sae(t,e,n){var r=oae.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Eae(t,e,n){var r=Ot.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Pae(t,e,n){var r=Ot.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function eN(t,e){return Ie(t.getDate(),e,2)}function Aae(t,e){return Ie(t.getHours(),e,2)}function Tae(t,e){return Ie(t.getHours()%12||12,e,2)}function Nae(t,e){return Ie(1+Nd.count(vi(t),t),e,3)}function L2(t,e){return Ie(t.getMilliseconds(),e,3)}function Mae(t,e){return L2(t,e)+"000"}function Iae(t,e){return Ie(t.getMonth()+1,e,2)}function jae(t,e){return Ie(t.getMinutes(),e,2)}function Cae(t,e){return Ie(t.getSeconds(),e,2)}function Oae(t){var e=t.getDay();return e===0?7:e}function Dae(t,e){return Ie(ug.count(vi(t)-1,t),e,2)}function F2(t){var e=t.getDay();return e>=4||e===0?Yo(t):Yo.ceil(t)}function kae(t,e){return t=F2(t),Ie(Yo.count(vi(t),t)+(vi(t).getDay()===4),e,2)}function Rae(t){return t.getDay()}function $ae(t,e){return Ie(_p.count(vi(t)-1,t),e,2)}function Lae(t,e){return Ie(t.getFullYear()%100,e,2)}function Fae(t,e){return t=F2(t),Ie(t.getFullYear()%100,e,2)}function Vae(t,e){return Ie(t.getFullYear()%1e4,e,4)}function Bae(t,e){var n=t.getDay();return t=n>=4||n===0?Yo(t):Yo.ceil(t),Ie(t.getFullYear()%1e4,e,4)}function Uae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ie(e/60|0,"0",2)+Ie(e%60,"0",2)}function tN(t,e){return Ie(t.getUTCDate(),e,2)}function Hae(t,e){return Ie(t.getUTCHours(),e,2)}function zae(t,e){return Ie(t.getUTCHours()%12||12,e,2)}function Wae(t,e){return Ie(1+cg.count(xi(t),t),e,3)}function V2(t,e){return Ie(t.getUTCMilliseconds(),e,3)}function Kae(t,e){return V2(t,e)+"000"}function Gae(t,e){return Ie(t.getUTCMonth()+1,e,2)}function qae(t,e){return Ie(t.getUTCMinutes(),e,2)}function Yae(t,e){return Ie(t.getUTCSeconds(),e,2)}function Xae(t){var e=t.getUTCDay();return e===0?7:e}function Qae(t,e){return Ie(dg.count(xi(t)-1,t),e,2)}function B2(t){var e=t.getUTCDay();return e>=4||e===0?Xo(t):Xo.ceil(t)}function Jae(t,e){return t=B2(t),Ie(Xo.count(xi(t),t)+(xi(t).getUTCDay()===4),e,2)}function Zae(t){return t.getUTCDay()}function ese(t,e){return Ie(Sp.count(xi(t)-1,t),e,2)}function tse(t,e){return Ie(t.getUTCFullYear()%100,e,2)}function nse(t,e){return t=B2(t),Ie(t.getUTCFullYear()%100,e,2)}function rse(t,e){return Ie(t.getUTCFullYear()%1e4,e,4)}function ise(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Xo(t):Xo.ceil(t),Ie(t.getUTCFullYear()%1e4,e,4)}function ase(){return"+0000"}function nN(){return"%"}function rN(t){return+t}function iN(t){return Math.floor(+t/1e3)}var Vs,U2,H2;sse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sse(t){return Vs=sae(t),U2=Vs.format,Vs.parse,H2=Vs.utcFormat,Vs.utcParse,Vs}function ose(t){return new Date(t)}function lse(t){return t instanceof Date?+t:+new Date(+t)}function B_(t,e,n,r,i,a,s,o,l,c){var h=T_(),d=h.invert,p=h.domain,m=c(".%L"),y=c(":%S"),w=c("%I:%M"),g=c("%I %p"),x=c("%a %d"),v=c("%b %d"),_=c("%B"),A=c("%Y");function P(E){return(l(E)<E?m:o(E)<E?y:s(E)<E?w:a(E)<E?g:r(E)<E?i(E)<E?x:v:n(E)<E?_:A)(E)}return h.invert=function(E){return new Date(d(E))},h.domain=function(E){return arguments.length?p(Array.from(E,lse)):p().map(ose)},h.ticks=function(E){var S=p();return t(S[0],S[S.length-1],E??10)},h.tickFormat=function(E,S){return S==null?P:c(S)},h.nice=function(E){var S=p();return(!E||typeof E.range!="function")&&(E=e(S[0],S[S.length-1],E??10)),E?p(M2(S,E)):h},h.copy=function(){return Td(h,B_(t,e,n,r,i,a,s,o,l,c))},h}function cse(){return er.apply(B_(iae,aae,vi,F_,ug,Nd,$_,k_,Za,U2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function use(){return er.apply(B_(nae,rae,xi,V_,dg,cg,L_,R_,Za,H2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hg(){var t=0,e=1,n,r,i,a,s=cn,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(a(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(s=d,c):s};function h(d){return function(p){var m,y;return arguments.length?([m,y]=p,s=d(m,y),c):[s(0),s(1)]}}return c.range=h(Ol),c.rangeRound=h(A_),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function Ia(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function z2(){var t=Ma(hg()(cn));return t.copy=function(){return Ia(t,z2())},Mi.apply(t,arguments)}function W2(){var t=I_(hg()).domain([1,10]);return t.copy=function(){return Ia(t,W2()).base(t.base())},Mi.apply(t,arguments)}function K2(){var t=j_(hg());return t.copy=function(){return Ia(t,K2()).constant(t.constant())},Mi.apply(t,arguments)}function U_(){var t=C_(hg());return t.copy=function(){return Ia(t,U_()).exponent(t.exponent())},Mi.apply(t,arguments)}function dse(){return U_.apply(null,arguments).exponent(.5)}function G2(){var t=[],e=cn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Pd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(da),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Qre(t,a/r))},n.copy=function(){return G2(e).domain(t)},Mi.apply(n,arguments)}function fg(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,c=cn,h,d=!1,p;function m(w){return isNaN(w=+w)?p:(w=.5+((w=+h(w))-a)*(r*w<r*a?o:l),c(d?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([t,e,n]=w,i=h(t=+t),a=h(e=+e),s=h(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(w){return arguments.length?(d=!!w,m):d},m.interpolator=function(w){return arguments.length?(c=w,m):c};function y(w){return function(g){var x,v,_;return arguments.length?([x,v,_]=g,c=Sie(w,[x,v,_]),m):[c(0),c(.5),c(1)]}}return m.range=y(Ol),m.rangeRound=y(A_),m.unknown=function(w){return arguments.length?(p=w,m):p},function(w){return h=w,i=w(t),a=w(e),s=w(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function q2(){var t=Ma(fg()(cn));return t.copy=function(){return Ia(t,q2())},Mi.apply(t,arguments)}function Y2(){var t=I_(fg()).domain([.1,1,10]);return t.copy=function(){return Ia(t,Y2()).base(t.base())},Mi.apply(t,arguments)}function X2(){var t=j_(fg());return t.copy=function(){return Ia(t,X2()).constant(t.constant())},Mi.apply(t,arguments)}function H_(){var t=C_(fg());return t.copy=function(){return Ia(t,H_()).exponent(t.exponent())},Mi.apply(t,arguments)}function hse(){return H_.apply(null,arguments).exponent(.5)}const aN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cu,scaleDiverging:q2,scaleDivergingLog:Y2,scaleDivergingPow:H_,scaleDivergingSqrt:hse,scaleDivergingSymlog:X2,scaleIdentity:N2,scaleImplicit:lx,scaleLinear:bp,scaleLog:I2,scaleOrdinal:S_,scalePoint:Kc,scalePow:O_,scaleQuantile:O2,scaleQuantize:D2,scaleRadial:C2,scaleSequential:z2,scaleSequentialLog:W2,scaleSequentialPow:U_,scaleSequentialQuantile:G2,scaleSequentialSqrt:dse,scaleSequentialSymlog:K2,scaleSqrt:Kie,scaleSymlog:j2,scaleThreshold:k2,scaleTime:cse,scaleUtc:use,tickFormat:T2},Symbol.toStringTag,{value:"Module"}));var fse=Sl;function pse(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!fse(s):n(s,o)))var o=s,l=a}return l}var Q2=pse;function mse(t,e){return t>e}var gse=mse,yse=Q2,vse=gse,xse=Il;function bse(t){return t&&t.length?yse(t,xse,vse):void 0}var wse=bse;const pg=He(wse);function _se(t,e){return t<e}var Sse=_se,Ese=Q2,Pse=Sse,Ase=Il;function Tse(t){return t&&t.length?Ese(t,Ase,Pse):void 0}var Nse=Tse;const mg=He(Nse);var Mse=n_,Ise=jl,jse=s2,Cse=_n;function Ose(t,e){var n=Cse(t)?Mse:jse;return n(t,Ise(e))}var Dse=Ose,kse=i2,Rse=Dse;function $se(t,e){return kse(Rse(t,e),1)}var Lse=$se;const Fse=He(Lse);var Vse=v_;function Bse(t,e){return Vse(t,e)}var Use=Bse;const gg=He(Use);var Dl=1e9,Hse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},W_,Je=!0,Jn="[DecimalError] ",os=Jn+"Invalid argument: ",z_=Jn+"Exponent out of range: ",kl=Math.floor,Wa=Math.pow,zse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mn,It=1e7,Ge=7,J2=9007199254740991,Ep=kl(J2/Ge),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ge;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return li(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return Fe(li(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return vt(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Mn))throw Error(Jn+"NaN");if(n.s<1)throw Error(Jn+(n.s?"NaN":"-Infinity"));return n.eq(Mn)?new r(0):(Je=!1,e=li($u(n,a),$u(t,a),a),Je=!0,Fe(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tR(e,t):Z2(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Jn+"NaN");return n.s?(Je=!1,e=li(n,t,0,1).times(t),Je=!0,n.minus(e)):Fe(new r(n),i)};ae.naturalExponential=ae.exp=function(){return eR(this)};ae.naturalLogarithm=ae.ln=function(){return $u(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Z2(e,t):tR(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(os+t);if(e=vt(i)+1,r=i.d.length-1,n=r*Ge+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Jn+"NaN")}for(t=vt(o),Je=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Mr(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=kl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(li(o,a,s+2)).times(.5),Mr(a.d).slice(0,s)===(e=Mr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Fe(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Je=!0,Fe(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,a,s,o,l,c,h=this,d=h.constructor,p=h.d,m=(t=new d(t)).d;if(!h.s||!t.s)return new d(0);for(t.s*=h.s,n=h.e+t.e,l=p.length,c=m.length,l<c&&(a=p,p=m,m=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+m[r]*p[i-r-1]+e,a[i--]=o%It|0,e=o/It|0;a[i]=(a[i]+e)%It|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Je?Fe(t,d.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ur(t,0,Dl),e===void 0?e=r.rounding:Ur(e,0,8),Fe(n,t+vt(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ws(r,!0):(Ur(t,0,Dl),e===void 0?e=i.rounding:Ur(e,0,8),r=Fe(new i(r),t+1,e),n=ws(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?ws(i):(Ur(t,0,Dl),e===void 0?e=a.rounding:Ur(e,0,8),r=Fe(new a(i),t+vt(i)+1,e),n=ws(r.abs(),!1,t+vt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return Fe(new e(t),vt(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,c=12,h=+(t=new l(t));if(!t.s)return new l(Mn);if(o=new l(o),!o.s){if(t.s<1)throw Error(Jn+"Infinity");return o}if(o.eq(Mn))return o;if(r=l.precision,t.eq(Mn))return Fe(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=h<0?-h:h)<=J2){for(i=new l(Mn),e=Math.ceil(r/Ge+4),Je=!1;n%2&&(i=i.times(o),oN(i.d,e)),n=kl(n/2),n!==0;)o=o.times(o),oN(o.d,e);return Je=!0,t.s<0?new l(Mn).div(i):Fe(i,r)}}else if(a<0)throw Error(Jn+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Je=!1,i=t.times($u(o,r+c)),Je=!0,i=eR(i),i.s=a,i};ae.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=vt(i),r=ws(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ur(t,1,Dl),e===void 0?e=a.rounding:Ur(e,0,8),i=Fe(new a(i),t,e),n=vt(i),r=ws(i,t<=n||n<=a.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ur(t,1,Dl),e===void 0?e=r.rounding:Ur(e,0,8)),Fe(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=vt(t),n=t.constructor;return ws(t,e<=n.toExpNeg||e>=n.toExpPos)};function Z2(t,e){var n,r,i,a,s,o,l,c,h=t.constructor,d=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Je?Fe(e,d):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(d/Ge),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/It|0,l[a]%=It;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Je?Fe(e,d):e}function Ur(t,e,n){if(t!==~~t||t<e||t>n)throw Error(os+t)}function Mr(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Ge-r.length,n&&(a+=Li(n)),a+=r;s=t[e],r=s+"",n=Ge-r.length,n&&(a+=Li(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var li=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%It|0,s=a/It|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*It+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,h,d,p,m,y,w,g,x,v,_,A,P,E,S,T,M=r.constructor,I=r.s==i.s?1:-1,O=r.d,j=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(Jn+"Division by zero");for(l=r.e-i.e,S=j.length,P=O.length,m=new M(I),y=m.d=[],c=0;j[c]==(O[c]||0);)++c;if(j[c]>(O[c]||0)&&--l,a==null?v=a=M.precision:s?v=a+(vt(r)-vt(i))+1:v=a,v<0)return new M(0);if(v=v/Ge+2|0,c=0,S==1)for(h=0,j=j[0],v++;(c<P||h)&&v--;c++)_=h*It+(O[c]||0),y[c]=_/j|0,h=_%j|0;else{for(h=It/(j[0]+1)|0,h>1&&(j=t(j,h),O=t(O,h),S=j.length,P=O.length),A=S,w=O.slice(0,S),g=w.length;g<S;)w[g++]=0;T=j.slice(),T.unshift(0),E=j[0],j[1]>=It/2&&++E;do h=0,o=e(j,w,S,g),o<0?(x=w[0],S!=g&&(x=x*It+(w[1]||0)),h=x/E|0,h>1?(h>=It&&(h=It-1),d=t(j,h),p=d.length,g=w.length,o=e(d,w,p,g),o==1&&(h--,n(d,S<p?T:j,p))):(h==0&&(o=h=1),d=j.slice()),p=d.length,p<g&&d.unshift(0),n(w,d,g),o==-1&&(g=w.length,o=e(j,w,S,g),o<1&&(h++,n(w,S<g?T:j,g))),g=w.length):o===0&&(h++,w=[0]),y[c++]=h,o&&w[0]?w[g++]=O[A]||0:(w=[O[A]],g=1);while((A++<P||w[0]!==void 0)&&v--)}return y[0]||y.shift(),m.e=l,Fe(m,s?a+vt(m)+1:a)}}();function eR(t,e){var n,r,i,a,s,o,l=0,c=0,h=t.constructor,d=h.precision;if(vt(t)>16)throw Error(z_+vt(t));if(!t.s)return new h(Mn);for(Je=!1,o=d,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(Wa(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new h(Mn),h.precision=o;;){if(i=Fe(i.times(t),o),n=n.times(++l),s=a.plus(li(i,n,o)),Mr(s.d).slice(0,o)===Mr(a.d).slice(0,o)){for(;c--;)a=Fe(a.times(a),o);return h.precision=d,e==null?(Je=!0,Fe(a,d)):a}a=s}}function vt(t){for(var e=t.e*Ge,n=t.d[0];n>=10;n/=10)e++;return e}function Yy(t,e,n){if(e>t.LN10.sd())throw Je=!0,n&&(t.precision=n),Error(Jn+"LN10 precision limit exceeded");return Fe(new t(t.LN10),e)}function Li(t){for(var e="";t--;)e+="0";return e}function $u(t,e){var n,r,i,a,s,o,l,c,h,d=1,p=10,m=t,y=m.d,w=m.constructor,g=w.precision;if(m.s<1)throw Error(Jn+(m.s?"NaN":"-Infinity"));if(m.eq(Mn))return new w(0);if(e==null?(Je=!1,c=g):c=e,m.eq(10))return e==null&&(Je=!0),Yy(w,c);if(c+=p,w.precision=c,n=Mr(y),r=n.charAt(0),a=vt(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Mr(m.d),r=n.charAt(0),d++;a=vt(m),r>1?(m=new w("0."+n),a++):m=new w(r+"."+n.slice(1))}else return l=Yy(w,c+2,g).times(a+""),m=$u(new w(r+"."+n.slice(1)),c-p).plus(l),w.precision=g,e==null?(Je=!0,Fe(m,g)):m;for(o=s=m=li(m.minus(Mn),m.plus(Mn),c),h=Fe(m.times(m),c),i=3;;){if(s=Fe(s.times(h),c),l=o.plus(li(s,new w(i),c)),Mr(l.d).slice(0,c)===Mr(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(Yy(w,c+2,g).times(a+""))),o=li(o,new w(d),c),w.precision=g,e==null?(Je=!0,Fe(o,g)):o;o=l,i+=2}}function sN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=kl(n/Ge),t.d=[],r=(n+1)%Ge,n<0&&(r+=Ge),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ge;r<i;)t.d.push(+e.slice(r,r+=Ge));e=e.slice(r),r=Ge-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Je&&(t.e>Ep||t.e<-Ep))throw Error(z_+n)}else t.s=0,t.e=0,t.d=[0];return t}function Fe(t,e,n){var r,i,a,s,o,l,c,h,d=t.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Ge,i=e,c=d[h=0];else{if(h=Math.ceil((r+1)/Ge),a=d.length,h>=a)return t;for(c=a=d[h],s=1;a>=10;a/=10)s++;r%=Ge,i=r-Ge+s}if(n!==void 0&&(a=Wa(10,s-i-1),o=c/a%10|0,l=e<0||d[h+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Wa(10,s-i):0:d[h-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=vt(t),d.length=1,e=e-a-1,d[0]=Wa(10,(Ge-e%Ge)%Ge),t.e=kl(-e/Ge)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=h,a=1,h--):(d.length=h+1,a=Wa(10,Ge-r),d[h]=i>0?(c/Wa(10,s-i)%Wa(10,i)|0)*a:0),l)for(;;)if(h==0){(d[0]+=a)==It&&(d[0]=1,++t.e);break}else{if(d[h]+=a,d[h]!=It)break;d[h--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(Je&&(t.e>Ep||t.e<-Ep))throw Error(z_+vt(t));return t}function tR(t,e){var n,r,i,a,s,o,l,c,h,d,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Je?Fe(e,m):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(h=s<0,h?(n=l,s=-s,o=d.length):(n=d,r=c,o=l.length),i=Math.max(Math.ceil(m/Ge),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,h=i<o,h&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){h=l[i]<d[i];break}s=0}for(h&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=It-1;--l[a],l[i]+=It}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Je?Fe(e,m):e):new p(0)}function ws(t,e,n){var r,i=vt(t),a=Mr(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Li(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Li(-i-1)+a,n&&(r=n-s)>0&&(a+=Li(r))):i>=s?(a+=Li(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Li(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Li(r))),t.s<0?"-"+a:a}function oN(t,e){if(t.length>e)return t.length=e,!0}function nR(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(os+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return sN(s,a.toString())}else if(typeof a!="string")throw Error(os+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,zse.test(a))sN(s,a);else throw Error(os+a)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=nR,i.config=i.set=Wse,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Wse(t){if(!t||typeof t!="object")throw Error(Jn+"Object expected");var e,n,r,i=["precision",1,Dl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(kl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(os+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(os+n+": "+r);return this}var W_=nR(Hse);Mn=new W_(1);const $e=W_;function Kse(t){return Xse(t)||Yse(t)||qse(t)||Gse()}function Gse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qse(t,e){if(t){if(typeof t=="string")return hx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hx(t,e)}}function Yse(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Xse(t){if(Array.isArray(t))return hx(t)}function hx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qse=function(e){return e},rR={},iR=function(e){return e===rR},lN=function(e){return function n(){return arguments.length===0||arguments.length===1&&iR(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Jse=function t(e,n){return e===1?n:lN(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==rR}).length;return s>=e?n.apply(void 0,i):t(e-s,lN(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var h=i.map(function(d){return iR(d)?l.shift():d});return n.apply(void 0,Kse(h).concat(l))}))})},yg=function(e){return Jse(e.length,e)},fx=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Zse=yg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),eoe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Qse;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},px=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},aR=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function toe(t){var e;return t===0?e=1:e=Math.floor(new $e(t).abs().log(10).toNumber())+1,e}function noe(t,e,n){for(var r=new $e(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var roe=yg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),ioe=yg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),aoe=yg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const vg={rangeStep:noe,getDigitCount:toe,interpolateNumber:roe,uninterpolateNumber:ioe,uninterpolateTruncation:aoe};function mx(t){return loe(t)||ooe(t)||sR(t)||soe()}function soe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ooe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function loe(t){if(Array.isArray(t))return gx(t)}function Lu(t,e){return doe(t)||uoe(t,e)||sR(t,e)||coe()}function coe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sR(t,e){if(t){if(typeof t=="string")return gx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gx(t,e)}}function gx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uoe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function doe(t){if(Array.isArray(t))return t}function oR(t){var e=Lu(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function lR(t,e,n){if(t.lte(0))return new $e(0);var r=vg.getDigitCount(t.toNumber()),i=new $e(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new $e(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new $e(Math.ceil(l))}function hoe(t,e,n){var r=1,i=new $e(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new $e(10).pow(vg.getDigitCount(t)-1),i=new $e(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new $e(Math.floor(t)))}else t===0?i=new $e(Math.floor((e-1)/2)):n||(i=new $e(Math.floor(t)));var s=Math.floor((e-1)/2),o=eoe(Zse(function(l){return i.add(new $e(l-s).mul(r)).toNumber()}),fx);return o(0,e)}function cR(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new $e(0),tickMin:new $e(0),tickMax:new $e(0)};var a=lR(new $e(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new $e(0):(s=new $e(t).add(e).div(2),s=s.sub(new $e(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new $e(e).sub(s).div(a).toNumber()),c=o+l+1;return c>n?cR(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:a,tickMin:s.sub(new $e(o).mul(a)),tickMax:s.add(new $e(l).mul(a))})}function foe(t){var e=Lu(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=oR([n,r]),l=Lu(o,2),c=l[0],h=l[1];if(c===-1/0||h===1/0){var d=h===1/0?[c].concat(mx(fx(0,i-1).map(function(){return 1/0}))):[].concat(mx(fx(0,i-1).map(function(){return-1/0})),[h]);return n>r?px(d):d}if(c===h)return hoe(c,i,a);var p=cR(c,h,s,a),m=p.step,y=p.tickMin,w=p.tickMax,g=vg.rangeStep(y,w.add(new $e(.1).mul(m)),m);return n>r?px(g):g}function poe(t,e){var n=Lu(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=oR([r,i]),o=Lu(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var h=Math.max(e,2),d=lR(new $e(c).sub(l).div(h-1),a,0),p=[].concat(mx(vg.rangeStep(new $e(l),new $e(c).sub(new $e(.99).mul(d)),d)),[c]);return r>i?px(p):p}var moe=aR(foe),goe=aR(poe),yoe="Invariant failed";function _s(t,e){throw new Error(yoe)}var voe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qo(t){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qo(t)}function Pp(){return Pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pp.apply(this,arguments)}function xoe(t,e){return Soe(t)||_oe(t,e)||woe(t,e)||boe()}function boe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function woe(t,e){if(t){if(typeof t=="string")return cN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cN(t,e)}}function cN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _oe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Soe(t){if(Array.isArray(t))return t}function Eoe(t,e){if(t==null)return{};var n=Poe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Poe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Aoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Toe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hR(r.key),r)}}function Noe(t,e,n){return e&&Toe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Moe(t,e,n){return e=Ap(e),Ioe(t,uR()?Reflect.construct(e,n||[],Ap(t).constructor):e.apply(t,n))}function Ioe(t,e){if(e&&(Qo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return joe(t)}function joe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uR=function(){return!!t})()}function Ap(t){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ap(t)}function Coe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yx(t,e)}function yx(t,e){return yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yx(t,e)}function dR(t,e,n){return e=hR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hR(t){var e=Ooe(t,"string");return Qo(e)=="symbol"?e:e+""}function Ooe(t,e){if(Qo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Md=function(t){function e(){return Aoe(this,e),Moe(this,e,arguments)}return Coe(e,t),Noe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,h=r.xAxis,d=r.yAxis,p=Eoe(r,voe),m=Pe(p,!1);this.props.direction==="x"&&h.type!=="number"&&_s();var y=l.map(function(w){var g=c(w,o),x=g.x,v=g.y,_=g.value,A=g.errorVal;if(!A)return null;var P=[],E,S;if(Array.isArray(A)){var T=xoe(A,2);E=T[0],S=T[1]}else E=S=A;if(a==="vertical"){var M=h.scale,I=v+i,O=I+s,j=I-s,C=M(_-E),L=M(_+S);P.push({x1:L,y1:O,x2:L,y2:j}),P.push({x1:C,y1:I,x2:L,y2:I}),P.push({x1:C,y1:O,x2:C,y2:j})}else if(a==="horizontal"){var B=d.scale,F=x+i,U=F-s,R=F+s,V=B(_-E),$=B(_+S);P.push({x1:U,y1:$,x2:R,y2:$}),P.push({x1:F,y1:V,x2:F,y2:$}),P.push({x1:U,y1:V,x2:R,y2:V})}return H.createElement(dt,Pp({className:"recharts-errorBar",key:"bar-".concat(P.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},m),P.map(function(K){return H.createElement("line",Pp({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return H.createElement(dt,{className:"recharts-errorBars"},y)}}])}(H.Component);dR(Md,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});dR(Md,"displayName","ErrorBar");function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function uN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uN(Object(n),!0).forEach(function(r){Doe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Doe(t,e,n){return e=koe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function koe(t){var e=Roe(t,"string");return Fu(e)=="symbol"?e:e+""}function Roe(t,e){if(Fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fR=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Nn(n,Eo);if(!s)return null;var o=Eo.defaultProps,l=o!==void 0?$a($a({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(r||[]).reduce(function(h,d){var p=d.item,m=d.props,y=m.sectors||m.data||[];return h.concat(y.map(function(w){return{type:s.props.iconType||p.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):c=(r||[]).map(function(h){var d=h.item,p=d.type.defaultProps,m=p!==void 0?$a($a({},p),d.props):{},y=m.dataKey,w=m.name,g=m.legendType,x=m.hide;return{inactive:x,dataKey:y,type:l.iconType||g||"square",color:K_(d),value:w||y,payload:m}}),$a($a($a({},l),Eo.getWithHeight(s,i)),{},{payload:c,item:s})};function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function dN(t){return Voe(t)||Foe(t)||Loe(t)||$oe()}function $oe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Loe(t,e){if(t){if(typeof t=="string")return vx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vx(t,e)}}function Foe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Voe(t){if(Array.isArray(t))return vx(t)}function vx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(n),!0).forEach(function(r){Ao(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ao(t,e,n){return e=Boe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Boe(t){var e=Uoe(t,"string");return Vu(e)=="symbol"?e:e+""}function Uoe(t,e){if(Vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dn(t,e,n){return ve(t)||ve(e)?n:Et(e)?qn(t,e,n):_e(e)?e(t):n}function Gc(t,e,n,r){var i=Fse(t,function(o){return Dn(o,e)});if(n==="number"){var a=i.filter(function(o){return te(o)||parseFloat(o)});return a.length?[mg(a),pg(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!ve(o)}):i;return s.map(function(o){return Et(o)||o instanceof Date?o:""})}var Hoe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var h=c>0?i[c-1].coordinate:i[o-1].coordinate,d=i[c].coordinate,p=c>=o-1?i[0].coordinate:i[c+1].coordinate,m=void 0;if(pr(d-h)!==pr(p-d)){var y=[];if(pr(p-d)===pr(l[1]-l[0])){m=p;var w=d+l[1]-l[0];y[0]=Math.min(w,(w+h)/2),y[1]=Math.max(w,(w+h)/2)}else{m=h;var g=p+l[1]-l[0];y[0]=Math.min(d,(g+d)/2),y[1]=Math.max(d,(g+d)/2)}var x=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>x[0]&&e<=x[1]||e>=y[0]&&e<=y[1]){s=i[c].index;break}}else{var v=Math.min(h,p),_=Math.max(h,p);if(e>(v+d)/2&&e<=(_+d)/2){s=i[c].index;break}}}else for(var A=0;A<o;A++)if(A===0&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<o-1&&e>(r[A].coordinate+r[A-1].coordinate)/2&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A===o-1&&e>(r[A].coordinate+r[A-1].coordinate)/2){s=r[A].index;break}return s},K_=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?lt(lt({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},zoe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var h=a[o[l]].stackGroups,d=Object.keys(h),p=0,m=d.length;p<m;p++){var y=h[d[p]],w=y.items,g=y.cateAxisId,x=w.filter(function(S){return oi(S.type).indexOf("Bar")>=0});if(x&&x.length){var v=x[0].type.defaultProps,_=v!==void 0?lt(lt({},v),x[0].props):x[0].props,A=_.barSize,P=_[g];s[P]||(s[P]=[]);var E=ve(A)?n:A;s[P].push({item:x[0],stackList:x.slice(1),barSize:ve(E)?void 0:bs(E,r,0)})}}return s},Woe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=bs(n,i,0,!0),h,d=[];if(s[0].barSize===+s[0].barSize){var p=!1,m=i/l,y=s.reduce(function(A,P){return A+P.barSize||0},0);y+=(l-1)*c,y>=i&&(y-=(l-1)*c,c=0),y>=i&&m>0&&(p=!0,m*=.9,y=l*m);var w=(i-y)/2>>0,g={offset:w-c,size:0};h=s.reduce(function(A,P){var E={item:P.item,position:{offset:g.offset+g.size+c,size:p?m:P.barSize}},S=[].concat(dN(A),[E]);return g=S[S.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(T){S.push({item:T,position:g})}),S},d)}else{var x=bs(r,i,0,!0);i-2*x-(l-1)*c<=0&&(c=0);var v=(i-2*x-(l-1)*c)/l;v>1&&(v>>=0);var _=o===+o?Math.min(v,o):v;h=s.reduce(function(A,P,E){var S=[].concat(dN(A),[{item:P.item,position:{offset:x+(v+c)*E+(v-_)/2,size:_}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(T){S.push({item:T,position:S[S.length-1].position})}),S},d)}return h},Koe=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),c=fR({children:a,legendWidth:l});if(c){var h=i||{},d=h.width,p=h.height,m=c.align,y=c.verticalAlign,w=c.layout;if((w==="vertical"||w==="horizontal"&&y==="middle")&&m!=="center"&&te(e[m]))return lt(lt({},e),{},Ao({},m,e[m]+(d||0)));if((w==="horizontal"||w==="vertical"&&m==="center")&&y!=="middle"&&te(e[y]))return lt(lt({},e),{},Ao({},y,e[y]+(p||0)))}return e},Goe=function(e,n,r){return ve(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},pR=function(e,n,r,i,a){var s=n.props.children,o=Yn(s,Md).filter(function(c){return Goe(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,h){var d=Dn(h,r);if(ve(d))return c;var p=Array.isArray(d)?[mg(d),pg(d)]:[d,d],m=l.reduce(function(y,w){var g=Dn(h,w,0),x=p[0]-Math.abs(Array.isArray(g)?g[0]:g),v=p[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(x,y[0]),Math.max(v,y[1])]},[1/0,-1/0]);return[Math.min(m[0],c[0]),Math.max(m[1],c[1])]},[1/0,-1/0])}return null},qoe=function(e,n,r,i,a){var s=n.map(function(o){return pR(e,o,r,a,i)}).filter(function(o){return!ve(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},mR=function(e,n,r,i,a){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&pR(e,l,c,i)||Gc(e,c,r,a)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var h=0,d=c.length;h<d;h++)o[c[h]]||(o[c[h]]=!0,l.push(c[h]));return l},[])},gR=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},es=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?pr(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(d){var p=a?a.indexOf(d):d;return{coordinate:i(p)+c,value:d,offset:c}});return h.filter(function(d){return!Sd(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,p){return{coordinate:i(d)+c,value:d,index:p,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,p){return{coordinate:i(d)+c,value:a?a[d]:d,index:p,offset:c}})},Xy=new WeakMap,Th=function(e,n){if(typeof n!="function")return e;Xy.has(e)||Xy.set(e,new WeakMap);var r=Xy.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Yoe=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Cu(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:bp(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Kc(),realScaleType:"point"}:a==="category"?{scale:Cu(),realScaleType:"band"}:{scale:bp(),realScaleType:"linear"};if(xs(i)){var l="scale".concat(tg(i));return{scale:(aN[l]||Kc)(),realScaleType:aN[l]?l:"point"}}return _e(i)?{scale:i}:{scale:Kc(),realScaleType:"point"}},fN=1e-4,Xoe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-fN,s=Math.max(i[0],i[1])+fN,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},Qoe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Joe=function(e,n){if(!n||n.length!==2||!te(n[0])||!te(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!te(e[0])||e[0]<r)&&(a[0]=r),(!te(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Zoe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=Sd(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},ele=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=Sd(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},tle={sign:Zoe,expand:pq,none:Ho,silhouette:mq,wiggle:gq,positive:ele},nle=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=tle[r],s=fq().keys(i).value(function(o,l){return+Dn(o,l,0)}).order(H0).offset(a);return s(e)},rle=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},c=o.reduce(function(d,p){var m,y=(m=p.type)!==null&&m!==void 0&&m.defaultProps?lt(lt({},p.type.defaultProps),p.props):p.props,w=y.stackId,g=y.hide;if(g)return d;var x=y[r],v=d[x]||{hasStack:!1,stackGroups:{}};if(Et(w)){var _=v.stackGroups[w]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(p),v.hasStack=!0,v.stackGroups[w]=_}else v.stackGroups[Ed("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return lt(lt({},d),{},Ao({},x,v))},l),h={};return Object.keys(c).reduce(function(d,p){var m=c[p];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(w,g){var x=m.stackGroups[g];return lt(lt({},w),{},Ao({},g,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:nle(e,x.items,a)}))},y)}return lt(lt({},d),{},Ao({},p,m))},h)},ile=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var h=moe(c,a,o);return e.domain([mg(h),pg(h)]),{niceTicks:h}}if(a&&i==="number"){var d=e.domain(),p=goe(d,a,o);return{niceTicks:p}}return null};function pN(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ve(i[e.dataKey])){var o=Xf(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Dn(i,ve(s)?e.dataKey:s);return ve(l)?null:e.scale(l)}var mN=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=Dn(s,n.dataKey,n.domain[o]);return ve(l)?null:n.scale(l)-a/2+i},ale=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},sle=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?lt(lt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Et(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},ole=function(e){return e.reduce(function(n,r){return[mg(r.concat([n[0]]).filter(te)),pg(r.concat([n[1]]).filter(te))]},[1/0,-1/0])},yR=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,h){var d=ole(h.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},gN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xx=function(e,n,r){if(_e(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(te(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(gN.test(e[0])){var a=+gN.exec(e[0])[1];i[0]=n[0]-a}else _e(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(te(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(yN.test(e[1])){var s=+yN.exec(e[1])[1];i[1]=n[1]+s}else _e(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Tp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=b_(n,function(d){return d.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],h=a[o-1];s=Math.min((c.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},vN=function(e,n,r){return!e||!e.length||gg(e,qn(r,"type.defaultProps.domain"))?n:e},vR=function(e,n){var r=e.type.defaultProps?lt(lt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,h=r.hide;return lt(lt({},Pe(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:K_(e),value:Dn(n,i),type:l,payload:n,chartType:c,hide:h})};function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function xN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xN(Object(n),!0).forEach(function(r){lle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lle(t,e,n){return e=cle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cle(t){var e=ule(t,"string");return Bu(e)=="symbol"?e:e+""}function ule(t,e){if(Bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Np=Math.PI/180,dle=function(e){return e*180/Math.PI},Ft=function(e,n,r,i){return{x:e+Math.cos(-Np*i)*r,y:n+Math.sin(-Np*i)*r}},hle=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},fle=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=hle({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:dle(c),angleInRadian:c}},ple=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},mle=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},wN=function(e,n){var r=e.x,i=e.y,a=fle({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var h=ple(n),d=h.startAngle,p=h.endAngle,m=o,y;if(d<=p){for(;m>p;)m-=360;for(;m<d;)m+=360;y=m>=d&&m<=p}else{for(;m>d;)m-=360;for(;m<p;)m+=360;y=m>=p&&m<=d}return y?bN(bN({},n),{},{radius:s,angle:mle(m,n)}):null};function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}var gle=["offset"];function yle(t){return wle(t)||ble(t)||xle(t)||vle()}function vle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xle(t,e){if(t){if(typeof t=="string")return bx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bx(t,e)}}function ble(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wle(t){if(Array.isArray(t))return bx(t)}function bx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _le(t,e){if(t==null)return{};var n=Sle(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(n),!0).forEach(function(r){Ele(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ele(t,e,n){return e=Ple(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ple(t){var e=Ale(t,"string");return Uu(e)=="symbol"?e:e+""}function Ale(t,e){if(Uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hu.apply(this,arguments)}var Tle=function(e){var n=e.value,r=e.formatter,i=ve(e.children)?n:e.children;return _e(r)?r(i):i},Nle=function(e,n){var r=pr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Mle=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,h=l.cy,d=l.innerRadius,p=l.outerRadius,m=l.startAngle,y=l.endAngle,w=l.clockWise,g=(d+p)/2,x=Nle(m,y),v=x>=0?1:-1,_,A;i==="insideStart"?(_=m+v*s,A=w):i==="insideEnd"?(_=y-v*s,A=!w):i==="end"&&(_=y+v*s,A=w),A=x<=0?A:!A;var P=Ft(c,h,g,_),E=Ft(c,h,g,_+(A?1:-1)*359),S="M".concat(P.x,",").concat(P.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(A?0:1,`,
    `).concat(E.x,",").concat(E.y),T=ve(e.id)?Ed("recharts-radial-line-"):e.id;return H.createElement("text",Hu({},r,{dominantBaseline:"central",className:Te("recharts-radial-bar-label",o)}),H.createElement("defs",null,H.createElement("path",{id:T,d:S})),H.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Ile=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,h=a.startAngle,d=a.endAngle,p=(h+d)/2;if(i==="outside"){var m=Ft(s,o,c+r,p),y=m.x,w=m.y;return{x:y,y:w,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,x=Ft(s,o,g,p),v=x.x,_=x.y;return{x:v,y:_,textAnchor:"middle",verticalAnchor:"middle"}},jle=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,c=s.width,h=s.height,d=h>=0?1:-1,p=d*i,m=d>0?"end":"start",y=d>0?"start":"end",w=c>=0?1:-1,g=w*i,x=w>0?"end":"start",v=w>0?"start":"end";if(a==="top"){var _={x:o+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:m};return bt(bt({},_),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var A={x:o+c/2,y:l+h+p,textAnchor:"middle",verticalAnchor:y};return bt(bt({},A),r?{height:Math.max(r.y+r.height-(l+h),0),width:c}:{})}if(a==="left"){var P={x:o-g,y:l+h/2,textAnchor:x,verticalAnchor:"middle"};return bt(bt({},P),r?{width:Math.max(P.x-r.x,0),height:h}:{})}if(a==="right"){var E={x:o+c+g,y:l+h/2,textAnchor:v,verticalAnchor:"middle"};return bt(bt({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:h}:{})}var S=r?{width:c,height:h}:{};return a==="insideLeft"?bt({x:o+g,y:l+h/2,textAnchor:v,verticalAnchor:"middle"},S):a==="insideRight"?bt({x:o+c-g,y:l+h/2,textAnchor:x,verticalAnchor:"middle"},S):a==="insideTop"?bt({x:o+c/2,y:l+p,textAnchor:"middle",verticalAnchor:y},S):a==="insideBottom"?bt({x:o+c/2,y:l+h-p,textAnchor:"middle",verticalAnchor:m},S):a==="insideTopLeft"?bt({x:o+g,y:l+p,textAnchor:v,verticalAnchor:y},S):a==="insideTopRight"?bt({x:o+c-g,y:l+p,textAnchor:x,verticalAnchor:y},S):a==="insideBottomLeft"?bt({x:o+g,y:l+h-p,textAnchor:v,verticalAnchor:m},S):a==="insideBottomRight"?bt({x:o+c-g,y:l+h-p,textAnchor:x,verticalAnchor:m},S):El(a)&&(te(a.x)||Qa(a.x))&&(te(a.y)||Qa(a.y))?bt({x:o+bs(a.x,c),y:l+bs(a.y,h),textAnchor:"end",verticalAnchor:"end"},S):bt({x:o+c/2,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Cle=function(e){return"cx"in e&&te(e.cx)};function tn(t){var e=t.offset,n=e===void 0?5:e,r=_le(t,gle),i=bt({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,h=i.className,d=h===void 0?"":h,p=i.textBreakAll;if(!a||ve(o)&&ve(l)&&!k.isValidElement(c)&&!_e(c))return null;if(k.isValidElement(c))return k.cloneElement(c,i);var m;if(_e(c)){if(m=k.createElement(c,i),k.isValidElement(m))return m}else m=Tle(i);var y=Cle(a),w=Pe(i,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Mle(i,m,w);var g=y?Ile(i):jle(i);return H.createElement(hp,Hu({className:Te("recharts-label",d)},w,g,{breakAll:p}),m)}tn.displayName="Label";var xR=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,h=e.outerRadius,d=e.x,p=e.y,m=e.top,y=e.left,w=e.width,g=e.height,x=e.clockWise,v=e.labelViewBox;if(v)return v;if(te(w)&&te(g)){if(te(d)&&te(p))return{x:d,y:p,width:w,height:g};if(te(m)&&te(y))return{x:m,y,width:w,height:g}}return te(d)&&te(p)?{x:d,y:p,width:0,height:0}:te(n)&&te(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:h||l||o||0,clockWise:x}:e.viewBox?e.viewBox:{}},Ole=function(e,n){return e?e===!0?H.createElement(tn,{key:"label-implicit",viewBox:n}):Et(e)?H.createElement(tn,{key:"label-implicit",viewBox:n,value:e}):k.isValidElement(e)?e.type===tn?k.cloneElement(e,{key:"label-implicit",viewBox:n}):H.createElement(tn,{key:"label-implicit",content:e,viewBox:n}):_e(e)?H.createElement(tn,{key:"label-implicit",content:e,viewBox:n}):El(e)?H.createElement(tn,Hu({viewBox:n},e,{key:"label-implicit"})):null:null},Dle=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=xR(e),s=Yn(i,tn).map(function(l,c){return k.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return s;var o=Ole(e.label,n||a);return[o].concat(yle(s))};tn.parseViewBox=xR;tn.renderCallByParent=Dle;function kle(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Rle=kle;const $le=He(Rle);function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}var Lle=["valueAccessor"],Fle=["data","dataKey","clockWise","id","textBreakAll"];function Vle(t){return zle(t)||Hle(t)||Ule(t)||Ble()}function Ble(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ule(t,e){if(t){if(typeof t=="string")return wx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wx(t,e)}}function Hle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zle(t){if(Array.isArray(t))return wx(t)}function wx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mp(){return Mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mp.apply(this,arguments)}function SN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SN(Object(n),!0).forEach(function(r){Wle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wle(t,e,n){return e=Kle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kle(t){var e=Gle(t,"string");return zu(e)=="symbol"?e:e+""}function Gle(t,e){if(zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PN(t,e){if(t==null)return{};var n=qle(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Yle=function(e){return Array.isArray(e.value)?$le(e.value):e.value};function ha(t){var e=t.valueAccessor,n=e===void 0?Yle:e,r=PN(t,Lle),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,c=PN(r,Fle);return!i||!i.length?null:H.createElement(dt,{className:"recharts-label-list"},i.map(function(h,d){var p=ve(a)?n(h,d):Dn(h&&h.payload,a),m=ve(o)?{}:{id:"".concat(o,"-").concat(d)};return H.createElement(tn,Mp({},Pe(h,!0),c,m,{parentViewBox:h.parentViewBox,value:p,textBreakAll:l,viewBox:tn.parseViewBox(ve(s)?h:EN(EN({},h),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}ha.displayName="LabelList";function Xle(t,e){return t?t===!0?H.createElement(ha,{key:"labelList-implicit",data:e}):H.isValidElement(t)||_e(t)?H.createElement(ha,{key:"labelList-implicit",data:e,content:t}):El(t)?H.createElement(ha,Mp({data:e},t,{key:"labelList-implicit"})):null:null}function Qle(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Yn(r,ha).map(function(s,o){return k.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=Xle(t.label,e);return[a].concat(Vle(i))}ha.renderCallByParent=Qle;function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function _x(){return _x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_x.apply(this,arguments)}function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){Jle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jle(t,e,n){return e=Zle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zle(t){var e=ece(t,"string");return Wu(e)=="symbol"?e:e+""}function ece(t,e){if(Wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tce=function(e,n){var r=pr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Nh=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,h=l*(o?1:-1)+i,d=Math.asin(l/h)/Np,p=c?a:a+s*d,m=Ft(n,r,h,p),y=Ft(n,r,i,p),w=c?a-s*d:a,g=Ft(n,r,h*Math.cos(d*Np),w);return{center:m,circleTangency:y,lineTangency:g,theta:d}},bR=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=tce(s,o),c=s+l,h=Ft(n,r,a,s),d=Ft(n,r,a,c),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var m=Ft(n,r,i,s),y=Ft(n,r,i,c);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},nce=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,h=e.endAngle,d=pr(h-c),p=Nh({cx:n,cy:r,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),m=p.circleTangency,y=p.lineTangency,w=p.theta,g=Nh({cx:n,cy:r,radius:a,angle:h,sign:-d,cornerRadius:s,cornerIsExternal:l}),x=g.circleTangency,v=g.lineTangency,_=g.theta,A=l?Math.abs(c-h):Math.abs(c-h)-w-_;if(A<0)return o?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):bR({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:h});var P="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(A>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var E=Nh({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),S=E.circleTangency,T=E.lineTangency,M=E.theta,I=Nh({cx:n,cy:r,radius:i,angle:h,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),O=I.circleTangency,j=I.lineTangency,C=I.theta,L=l?Math.abs(c-h):Math.abs(c-h)-M-C;if(L<0&&s===0)return"".concat(P,"L").concat(n,",").concat(r,"Z");P+="L".concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(d>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,"Z")}else P+="L".concat(n,",").concat(r,"Z");return P},rce={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wR=function(e){var n=TN(TN({},rce),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,h=n.startAngle,d=n.endAngle,p=n.className;if(s<a||h===d)return null;var m=Te("recharts-sector",p),y=s-a,w=bs(o,y,0,!0),g;return w>0&&Math.abs(h-d)<360?g=nce({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(w,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:h,endAngle:d}):g=bR({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:d}),H.createElement("path",_x({},Pe(n,!0),{className:m,d:g,role:"img"}))};function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function Sx(){return Sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sx.apply(this,arguments)}function NN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(n),!0).forEach(function(r){ice(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ice(t,e,n){return e=ace(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ace(t){var e=sce(t,"string");return Ku(e)=="symbol"?e:e+""}function sce(t,e){if(Ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IN={curveBasisClosed:nq,curveBasisOpen:rq,curveBasis:tq,curveBumpX:BG,curveBumpY:UG,curveLinearClosed:iq,curveLinear:rg,curveMonotoneX:aq,curveMonotoneY:sq,curveNatural:oq,curveStep:lq,curveStepAfter:uq,curveStepBefore:cq},Mh=function(e){return e.x===+e.x&&e.y===+e.y},dc=function(e){return e.x},hc=function(e){return e.y},oce=function(e,n){if(_e(e))return e;var r="curve".concat(tg(e));return(r==="curveMonotone"||r==="curveBump")&&n?IN["".concat(r).concat(n==="vertical"?"Y":"X")]:IN[r]||rg},lce=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,h=oce(r,o),d=c?a.filter(function(w){return Mh(w)}):a,p;if(Array.isArray(s)){var m=c?s.filter(function(w){return Mh(w)}):s,y=d.map(function(w,g){return MN(MN({},w),{},{base:m[g]})});return o==="vertical"?p=xh().y(hc).x1(dc).x0(function(w){return w.base.x}):p=xh().x(dc).y1(hc).y0(function(w){return w.base.y}),p.defined(Mh).curve(h),p(y)}return o==="vertical"&&te(s)?p=xh().y(hc).x1(dc).x0(s):te(s)?p=xh().x(dc).y1(hc).y0(s):p=Ek().x(dc).y(hc),p.defined(Mh).curve(h),p(d)},Ex=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?lce(e):i;return k.createElement("path",Sx({},Pe(e,!1),Qf(e),{className:Te("recharts-curve",n),d:s,ref:a}))},_R={exports:{}},cce="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",uce=cce,dce=uce;function SR(){}function ER(){}ER.resetWarningCache=SR;var hce=function(){function t(r,i,a,s,o,l){if(l!==dce){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ER,resetWarningCache:SR};return n.PropTypes=n,n};_R.exports=hce();var fce=_R.exports;const Ce=He(fce),{getOwnPropertyNames:pce,getOwnPropertySymbols:mce}=Object,{hasOwnProperty:gce}=Object.prototype;function Qy(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Ih(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);const l=t(n,r,i);return a.delete(n),a.delete(r),l}}function yce(t){return t!=null?t[Symbol.toStringTag]:void 0}function jN(t){return pce(t).concat(mce(t))}const vce=Object.hasOwn||((t,e)=>gce.call(t,e));function js(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const xce="__v",bce="__o",wce="_owner",{getOwnPropertyDescriptor:CN,keys:ON}=Object;function _ce(t,e){return t.byteLength===e.byteLength&&Ip(new Uint8Array(t),new Uint8Array(e))}function Sce(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Ece(t,e){return t.byteLength===e.byteLength&&Ip(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Pce(t,e){return js(t.getTime(),e.getTime())}function Ace(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Tce(t,e){return t===e}function DN(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,o,l=0;for(;(s=a.next())&&!s.done;){const c=e.entries();let h=!1,d=0;for(;(o=c.next())&&!o.done;){if(i[d]){d++;continue}const p=s.value,m=o.value;if(n.equals(p[0],m[0],l,d,t,e,n)&&n.equals(p[1],m[1],p[0],m[0],t,e,n)){h=i[d]=!0;break}d++}if(!h)return!1;l++}return!0}const Nce=js;function Mce(t,e,n){const r=ON(t);let i=r.length;if(ON(e).length!==i)return!1;for(;i-- >0;)if(!PR(t,e,n,r[i]))return!1;return!0}function fc(t,e,n){const r=jN(t);let i=r.length;if(jN(e).length!==i)return!1;let a,s,o;for(;i-- >0;)if(a=r[i],!PR(t,e,n,a)||(s=CN(t,a),o=CN(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function Ice(t,e){return js(t.valueOf(),e.valueOf())}function jce(t,e){return t.source===e.source&&t.flags===e.flags}function kN(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,o;for(;(s=a.next())&&!s.done;){const l=e.values();let c=!1,h=0;for(;(o=l.next())&&!o.done;){if(!i[h]&&n.equals(s.value,o.value,s.value,o.value,t,e,n)){c=i[h]=!0;break}h++}if(!c)return!1}return!0}function Ip(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Cce(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function PR(t,e,n,r){return(r===wce||r===bce||r===xce)&&(t.$$typeof||e.$$typeof)?!0:vce(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Oce="[object ArrayBuffer]",Dce="[object Arguments]",kce="[object Boolean]",Rce="[object DataView]",$ce="[object Date]",Lce="[object Error]",Fce="[object Map]",Vce="[object Number]",Bce="[object Object]",Uce="[object RegExp]",Hce="[object Set]",zce="[object String]",Wce={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Kce="[object URL]",Gce=Object.prototype.toString;function qce({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:h,areSetsEqual:d,areTypedArraysEqual:p,areUrlsEqual:m,unknownTagComparators:y}){return function(g,x,v){if(g===x)return!0;if(g==null||x==null)return!1;const _=typeof g;if(_!==typeof x)return!1;if(_!=="object")return _==="number"?o(g,x,v):_==="function"?a(g,x,v):!1;const A=g.constructor;if(A!==x.constructor)return!1;if(A===Object)return l(g,x,v);if(Array.isArray(g))return e(g,x,v);if(A===Date)return r(g,x,v);if(A===RegExp)return h(g,x,v);if(A===Map)return s(g,x,v);if(A===Set)return d(g,x,v);const P=Gce.call(g);if(P===$ce)return r(g,x,v);if(P===Uce)return h(g,x,v);if(P===Fce)return s(g,x,v);if(P===Hce)return d(g,x,v);if(P===Bce)return typeof g.then!="function"&&typeof x.then!="function"&&l(g,x,v);if(P===Kce)return m(g,x,v);if(P===Lce)return i(g,x,v);if(P===Dce)return l(g,x,v);if(Wce[P])return p(g,x,v);if(P===Oce)return t(g,x,v);if(P===Rce)return n(g,x,v);if(P===kce||P===Vce||P===zce)return c(g,x,v);if(y){let E=y[P];if(!E){const S=yce(g);S&&(E=y[S])}if(E)return E(g,x,v)}return!1}}function Yce({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:_ce,areArraysEqual:n?fc:Sce,areDataViewsEqual:Ece,areDatesEqual:Pce,areErrorsEqual:Ace,areFunctionsEqual:Tce,areMapsEqual:n?Qy(DN,fc):DN,areNumbersEqual:Nce,areObjectsEqual:n?fc:Mce,arePrimitiveWrappersEqual:Ice,areRegExpsEqual:jce,areSetsEqual:n?Qy(kN,fc):kN,areTypedArraysEqual:n?Qy(Ip,fc):Ip,areUrlsEqual:Cce,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Ih(r.areArraysEqual),a=Ih(r.areMapsEqual),s=Ih(r.areObjectsEqual),o=Ih(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:o})}return r}function Xce(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function Qce({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(o,l){const{cache:c=t?new WeakMap:void 0,meta:h}=n();return e(o,l,{cache:c,equals:r,meta:h,strict:i})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(o,l){return e(o,l,a)}}const Jce=ja();ja({strict:!0});ja({circular:!0});ja({circular:!0,strict:!0});ja({createInternalComparator:()=>js});ja({strict:!0,createInternalComparator:()=>js});ja({circular:!0,createInternalComparator:()=>js});ja({circular:!0,createInternalComparator:()=>js,strict:!0});function ja(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=Yce(t),s=qce(a),o=n?n(s):Xce(s);return Qce({circular:e,comparator:s,createState:r,equals:o,strict:i})}function Zce(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function RN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Zce(i)};requestAnimationFrame(r)}function Px(t){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Px(t)}function eue(t){return iue(t)||rue(t)||nue(t)||tue()}function tue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nue(t,e){if(t){if(typeof t=="string")return $N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $N(t,e)}}function $N(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iue(t){if(Array.isArray(t))return t}function aue(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=eue(s),l=o[0],c=o.slice(1);if(typeof l=="number"){RN(i.bind(null,c),l);return}i(l),RN(i.bind(null,c));return}Px(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){AR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AR(t,e,n){return e=sue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sue(t){var e=oue(t,"string");return Gu(e)==="symbol"?e:String(e)}function oue(t,e){if(Gu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lue=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},cue=function(e){return e},uue=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},qc=function(e,n){return Object.keys(n).reduce(function(r,i){return FN(FN({},r),{},AR({},i,e(i,n[i])))},{})},VN=function(e,n,r){return e.map(function(i){return"".concat(uue(i)," ").concat(n,"ms ").concat(r)}).join(",")};function due(t,e){return pue(t)||fue(t,e)||TR(t,e)||hue()}function hue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function pue(t){if(Array.isArray(t))return t}function mue(t){return vue(t)||yue(t)||TR(t)||gue()}function gue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TR(t,e){if(t){if(typeof t=="string")return Ax(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ax(t,e)}}function yue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vue(t){if(Array.isArray(t))return Ax(t)}function Ax(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jp=1e-4,NR=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},MR=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},BN=function(e,n){return function(r){var i=NR(e,n);return MR(i,r)}},xue=function(e,n){return function(r){var i=NR(e,n),a=[].concat(mue(i.map(function(s,o){return s*o}).slice(1)),[0]);return MR(a,r)}},UN=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),h=due(c,4);i=h[0],a=h[1],s=h[2],o=h[3]}}}var d=BN(i,s),p=BN(a,o),m=xue(i,s),y=function(x){return x>1?1:x<0?0:x},w=function(x){for(var v=x>1?1:x,_=v,A=0;A<8;++A){var P=d(_)-v,E=m(_);if(Math.abs(P-v)<jp||E<jp)return p(_);_=y(_-P/E)}return p(_)};return w.isStepper=!1,w},bue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(h,d,p){var m=-(h-d)*r,y=p*a,w=p+(m-y)*o/1e3,g=p*o/1e3+h;return Math.abs(g-d)<jp&&Math.abs(w)<jp?[d,0]:[g,w]};return l.isStepper=!0,l.dt=o,l},wue=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return UN(i);case"spring":return bue();default:if(i.split("(")[0]==="cubic-bezier")return UN(i)}return typeof i=="function"?i:null};function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function HN(t){return Eue(t)||Sue(t)||IR(t)||_ue()}function _ue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eue(t){if(Array.isArray(t))return Nx(t)}function zN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(n),!0).forEach(function(r){Tx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tx(t,e,n){return e=Pue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pue(t){var e=Aue(t,"string");return qu(e)==="symbol"?e:String(e)}function Aue(t,e){if(qu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tue(t,e){return Iue(t)||Mue(t,e)||IR(t,e)||Nue()}function Nue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IR(t,e){if(t){if(typeof t=="string")return Nx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nx(t,e)}}function Nx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Iue(t){if(Array.isArray(t))return t}var Cp=function(e,n,r){return e+(n-e)*r},Mx=function(e){var n=e.from,r=e.to;return n!==r},jue=function t(e,n,r){var i=qc(function(a,s){if(Mx(s)){var o=e(s.from,s.to,s.velocity),l=Tue(o,2),c=l[0],h=l[1];return kt(kt({},s),{},{from:c,velocity:h})}return s},n);return r<1?qc(function(a,s){return Mx(s)?kt(kt({},s),{},{velocity:Cp(s.velocity,i[a].velocity,r),from:Cp(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const Cue=function(t,e,n,r,i){var a=lue(t,e),s=a.reduce(function(g,x){return kt(kt({},g),{},Tx({},x,[t[x],e[x]]))},{}),o=a.reduce(function(g,x){return kt(kt({},g),{},Tx({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,c,h,d=function(){return null},p=function(){return qc(function(x,v){return v.from},o)},m=function(){return!Object.values(o).filter(Mx).length},y=function(x){c||(c=x);var v=x-c,_=v/n.dt;o=jue(n,o,_),i(kt(kt(kt({},t),e),p())),c=x,m()||(l=requestAnimationFrame(d))},w=function(x){h||(h=x);var v=(x-h)/r,_=qc(function(P,E){return Cp.apply(void 0,HN(E).concat([n(v)]))},s);if(i(kt(kt(kt({},t),e),_)),v<1)l=requestAnimationFrame(d);else{var A=qc(function(P,E){return Cp.apply(void 0,HN(E).concat([n(1)]))},s);i(kt(kt(kt({},t),e),A))}};return d=n.isStepper?y:w,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Jo(t){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jo(t)}var Oue=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Due(t,e){if(t==null)return{};var n=kue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kue(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Jy(t){return Fue(t)||Lue(t)||$ue(t)||Rue()}function Rue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ue(t,e){if(t){if(typeof t=="string")return Ix(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ix(t,e)}}function Lue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fue(t){if(Array.isArray(t))return Ix(t)}function Ix(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WN(Object(n),!0).forEach(function(r){Ac(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ac(t,e,n){return e=jR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jR(r.key),r)}}function Uue(t,e,n){return e&&Bue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jR(t){var e=Hue(t,"string");return Jo(e)==="symbol"?e:String(e)}function Hue(t,e){if(Jo(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jo(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jx(t,e)}function jx(t,e){return jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jx(t,e)}function Wue(t){var e=Kue();return function(){var r=Op(t),i;if(e){var a=Op(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Cx(this,i)}}function Cx(t,e){if(e&&(Jo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ox(t)}function Ox(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Op(t)}var bi=function(t){zue(n,t);var e=Wue(n);function n(r,i){var a;Vue(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,h=s.to,d=s.steps,p=s.children,m=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Ox(a)),a.changeStyle=a.changeStyle.bind(Ox(a)),!o||m<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:h}),Cx(a);if(d&&d.length)a.state={style:d[0].style};else if(c){if(typeof p=="function")return a.state={style:c},Cx(a);a.state={style:l?Ac({},l,c):c}}else a.state={style:{}};return a}return Uue(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,h=a.to,d=a.from,p=this.state.style;if(o){if(!s){var m={style:l?Ac({},l,h):h};this.state&&p&&(l&&p[l]!==h||!l&&p!==h)&&this.setState(m);return}if(!(Jce(i.to,h)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=y||c?d:i.to;if(this.state&&p){var g={style:l?Ac({},l,w):w};(l&&p[l]!==w||!l&&p!==w)&&this.setState(g)}this.runAnimation(ir(ir({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,h=i.begin,d=i.onAnimationEnd,p=i.onAnimationStart,m=Cue(s,o,wue(c),l,this.changeStyle),y=function(){a.stopJSAnimation=m()};this.manager.start([p,h,y,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],h=c.style,d=c.duration,p=d===void 0?0:d,m=function(w,g,x){if(x===0)return w;var v=g.duration,_=g.easing,A=_===void 0?"ease":_,P=g.style,E=g.properties,S=g.onAnimationEnd,T=x>0?s[x-1]:g,M=E||Object.keys(P);if(typeof A=="function"||A==="spring")return[].concat(Jy(w),[a.runJSAnimation.bind(a,{from:T.style,to:P,duration:v,easing:A}),v]);var I=VN(M,v,A),O=ir(ir(ir({},T.style),P),{},{transition:I});return[].concat(Jy(w),[O,v,S]).filter(cue)};return this.manager.start([l].concat(Jy(s.reduce(m,[h,Math.max(p,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=aue());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,h=i.onAnimationStart,d=i.onAnimationEnd,p=i.steps,m=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var w=o?Ac({},o,l):l,g=VN(Object.keys(w),s,c);y.start([h,a,ir(ir({},w),{},{transition:g}),s,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Due(i,Oue),c=k.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!o||c===0||s<=0)return a;var d=function(m){var y=m.props,w=y.style,g=w===void 0?{}:w,x=y.className,v=k.cloneElement(m,ir(ir({},l),{},{style:ir(ir({},g),h),className:x}));return v};return c===1?d(k.Children.only(a)):H.createElement("div",null,k.Children.map(a,function(p){return d(p)}))}}]),n}(k.PureComponent);bi.displayName="Animate";bi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};bi.propTypes={from:Ce.oneOfType([Ce.object,Ce.string]),to:Ce.oneOfType([Ce.object,Ce.string]),attributeName:Ce.string,duration:Ce.number,begin:Ce.number,easing:Ce.oneOfType([Ce.string,Ce.func]),steps:Ce.arrayOf(Ce.shape({duration:Ce.number.isRequired,style:Ce.object.isRequired,easing:Ce.oneOfType([Ce.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ce.func]),properties:Ce.arrayOf("string"),onAnimationEnd:Ce.func})),children:Ce.oneOfType([Ce.node,Ce.func]),isActive:Ce.bool,canBegin:Ce.bool,onAnimationEnd:Ce.func,shouldReAnimate:Ce.bool,onAnimationStart:Ce.func,onAnimationReStart:Ce.func};function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function Dp(){return Dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dp.apply(this,arguments)}function Gue(t,e){return Que(t)||Xue(t,e)||Yue(t,e)||que()}function que(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yue(t,e){if(t){if(typeof t=="string")return KN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KN(t,e)}}function KN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Que(t){if(Array.isArray(t))return t}function GN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GN(Object(n),!0).forEach(function(r){Jue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jue(t,e,n){return e=Zue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zue(t){var e=ede(t,"string");return Yu(e)=="symbol"?e:e+""}function ede(t,e){if(Yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YN=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,h;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],p=0,m=4;p<m;p++)d[p]=a[p]>s?s:a[p];h="M".concat(e,",").concat(n+o*d[0]),d[0]>0&&(h+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),h+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(h+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*d[1])),h+="L ".concat(e+r,",").concat(n+i-o*d[2]),d[2]>0&&(h+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),h+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(h+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*d[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);h="M ".concat(e,",").concat(n+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*y,`
            L `).concat(e+r,",").concat(n+i-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*y," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},tde=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),h=Math.max(a,a+o),d=Math.min(s,s+l),p=Math.max(s,s+l);return r>=c&&r<=h&&i>=d&&i<=p}return!1},nde={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},G_=function(e){var n=qN(qN({},nde),e),r=k.useRef(),i=k.useState(-1),a=Gue(i,2),s=a[0],o=a[1];k.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&o(A)}catch{}},[]);var l=n.x,c=n.y,h=n.width,d=n.height,p=n.radius,m=n.className,y=n.animationEasing,w=n.animationDuration,g=n.animationBegin,x=n.isAnimationActive,v=n.isUpdateAnimationActive;if(l!==+l||c!==+c||h!==+h||d!==+d||h===0||d===0)return null;var _=Te("recharts-rectangle",m);return v?H.createElement(bi,{canBegin:s>0,from:{width:h,height:d,x:l,y:c},to:{width:h,height:d,x:l,y:c},duration:w,animationEasing:y,isActive:v},function(A){var P=A.width,E=A.height,S=A.x,T=A.y;return H.createElement(bi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:w,isActive:x,easing:y},H.createElement("path",Dp({},Pe(n,!0),{className:_,d:YN(S,T,P,E,p),ref:r})))}):H.createElement("path",Dp({},Pe(n,!0),{className:_,d:YN(l,c,h,d,p)}))};function Dx(){return Dx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dx.apply(this,arguments)}var q_=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=Te("recharts-dot",a);return n===+n&&r===+r&&i===+i?k.createElement("circle",Dx({},Pe(e,!1),Qf(e),{className:s,cx:n,cy:r,r:i})):null};function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}var rde=["x","y","top","left","width","height","className"];function kx(){return kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kx.apply(this,arguments)}function XN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ide(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(n),!0).forEach(function(r){ade(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ade(t,e,n){return e=sde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sde(t){var e=ode(t,"string");return Xu(e)=="symbol"?e:e+""}function ode(t,e){if(Xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lde(t,e){if(t==null)return{};var n=cde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ude=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},dde=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,h=e.width,d=h===void 0?0:h,p=e.height,m=p===void 0?0:p,y=e.className,w=lde(e,rde),g=ide({x:r,y:a,top:o,left:c,width:d,height:m},w);return!te(r)||!te(a)||!te(d)||!te(m)||!te(o)||!te(c)?null:H.createElement("path",kx({},Pe(g,!0),{className:Te("recharts-cross",y),d:ude(r,a,d,m,o,c)}))},hde=qk,fde=hde(Object.getPrototypeOf,Object),pde=fde,mde=Ti,gde=pde,yde=Ni,vde="[object Object]",xde=Function.prototype,bde=Object.prototype,CR=xde.toString,wde=bde.hasOwnProperty,_de=CR.call(Object);function Sde(t){if(!yde(t)||mde(t)!=vde)return!1;var e=gde(t);if(e===null)return!0;var n=wde.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&CR.call(n)==_de}var Ede=Sde;const Pde=He(Ede);var Ade=Ti,Tde=Ni,Nde="[object Boolean]";function Mde(t){return t===!0||t===!1||Tde(t)&&Ade(t)==Nde}var Ide=Mde;const jde=He(Ide);function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function kp(){return kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kp.apply(this,arguments)}function Cde(t,e){return Rde(t)||kde(t,e)||Dde(t,e)||Ode()}function Ode(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dde(t,e){if(t){if(typeof t=="string")return QN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QN(t,e)}}function QN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Rde(t){if(Array.isArray(t))return t}function JN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(n),!0).forEach(function(r){$de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $de(t,e,n){return e=Lde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lde(t){var e=Fde(t,"string");return Qu(e)=="symbol"?e:e+""}function Fde(t,e){if(Qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eM=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},Vde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bde=function(e){var n=ZN(ZN({},Vde),e),r=k.useRef(),i=k.useState(-1),a=Cde(i,2),s=a[0],o=a[1];k.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&o(_)}catch{}},[]);var l=n.x,c=n.y,h=n.upperWidth,d=n.lowerWidth,p=n.height,m=n.className,y=n.animationEasing,w=n.animationDuration,g=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||c!==+c||h!==+h||d!==+d||p!==+p||h===0&&d===0||p===0)return null;var v=Te("recharts-trapezoid",m);return x?H.createElement(bi,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:h,lowerWidth:d,height:p,x:l,y:c},duration:w,animationEasing:y,isActive:x},function(_){var A=_.upperWidth,P=_.lowerWidth,E=_.height,S=_.x,T=_.y;return H.createElement(bi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:w,easing:y},H.createElement("path",kp({},Pe(n,!0),{className:v,d:eM(S,T,A,P,E),ref:r})))}):H.createElement("g",null,H.createElement("path",kp({},Pe(n,!0),{className:v,d:eM(l,c,h,d,p)})))},Ude=["option","shapeType","propTransformer","activeClassName","isActive"];function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function Hde(t,e){if(t==null)return{};var n=zde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){Wde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wde(t,e,n){return e=Kde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kde(t){var e=Gde(t,"string");return Ju(e)=="symbol"?e:e+""}function Gde(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qde(t,e){return Rp(Rp({},e),t)}function Yde(t,e){return t==="symbols"}function nM(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return H.createElement(G_,n);case"trapezoid":return H.createElement(Bde,n);case"sector":return H.createElement(wR,n);case"symbols":if(Yde(e))return H.createElement(d_,n);break;default:return null}}function Xde(t){return k.isValidElement(t)?t.props:t}function Qde(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?qde:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=Hde(t,Ude),c;if(k.isValidElement(e))c=k.cloneElement(e,Rp(Rp({},l),Xde(e)));else if(_e(e))c=e(l);else if(Pde(e)&&!jde(e)){var h=i(e,l);c=H.createElement(nM,{shapeType:n,elementProps:h})}else{var d=l;c=H.createElement(nM,{shapeType:n,elementProps:d})}return o?H.createElement(dt,{className:s},c):c}function xg(t,e){return e!=null&&"trapezoids"in t.props}function bg(t,e){return e!=null&&"sectors"in t.props}function Zu(t,e){return e!=null&&"points"in t.props}function Jde(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Zde(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function ehe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function the(t,e){var n;return xg(t,e)?n=Jde:bg(t,e)?n=Zde:Zu(t,e)&&(n=ehe),n}function nhe(t,e){var n;return xg(t,e)?n="trapezoids":bg(t,e)?n="sectors":Zu(t,e)&&(n="points"),n}function rhe(t,e){if(xg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(bg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Zu(t,e)?e.payload:{}}function ihe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=nhe(n,e),a=rhe(n,e),s=r.filter(function(l,c){var h=gg(a,l),d=n.props[i].filter(function(y){var w=the(n,e);return w(y,e)}),p=n.props[i].indexOf(d[d.length-1]),m=c===p;return h&&m}),o=r.indexOf(s[s.length-1]);return o}var ahe=Math.ceil,she=Math.max;function ohe(t,e,n,r){for(var i=-1,a=she(ahe((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var lhe=ohe,che=h2,rM=1/0,uhe=17976931348623157e292;function dhe(t){if(!t)return t===0?t:0;if(t=che(t),t===rM||t===-rM){var e=t<0?-1:1;return e*uhe}return t===t?t:0}var hhe=dhe,fhe=lhe,phe=og,Zy=hhe;function mhe(t){return function(e,n,r){return r&&typeof r!="number"&&phe(e,n,r)&&(n=r=void 0),e=Zy(e),n===void 0?(n=e,e=0):n=Zy(n),r=r===void 0?e<n?1:-1:Zy(r),fhe(e,n,r,t)}}var ghe=mhe,yhe=ghe,vhe=yhe(),xhe=vhe;const $p=He(xhe);function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){OR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OR(t,e,n){return e=bhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bhe(t){var e=whe(t,"string");return ed(e)=="symbol"?e:e+""}function whe(t,e){if(ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _he=["Webkit","Moz","O","ms"],She=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=_he.reduce(function(a,s){return aM(aM({},a),{},OR({},s+r,n))},{});return i[e]=n,i};function Zo(t){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zo(t)}function Lp(){return Lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lp.apply(this,arguments)}function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ev(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){Pn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ehe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kR(r.key),r)}}function Phe(t,e,n){return e&&oM(t.prototype,e),n&&oM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ahe(t,e,n){return e=Fp(e),The(t,DR()?Reflect.construct(e,n||[],Fp(t).constructor):e.apply(t,n))}function The(t,e){if(e&&(Zo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nhe(t)}function Nhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DR=function(){return!!t})()}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fp(t)}function Mhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rx(t,e)}function Rx(t,e){return Rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rx(t,e)}function Pn(t,e,n){return e=kR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kR(t){var e=Ihe(t,"string");return Zo(e)=="symbol"?e:e+""}function Ihe(t,e){if(Zo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jhe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Kc().domain($p(0,l)).range([a,a+s-o]),h=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:h}},lM=function(e){return e.changedTouches&&!!e.changedTouches.length},el=function(t){function e(n){var r;return Ehe(this,e),r=Ahe(this,e,[n]),Pn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Pn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Pn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),Pn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Pn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Pn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Pn(r,"handleSlideDragStart",function(i){var a=lM(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Mhe(e,t),Phe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,h=c.length-1,d=Math.min(i,a),p=Math.max(i,a),m=e.getIndexInRange(s,d),y=e.getIndexInRange(s,p);return{startIndex:m-m%l,endIndex:y===h?h:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=Dn(a[r],o,r);return _e(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,h=l.width,d=l.travellerWidth,p=l.startIndex,m=l.endIndex,y=l.onChange,w=r.pageX-a;w>0?w=Math.min(w,c+h-d-o,c+h-d-s):w<0&&(w=Math.max(w,c-s,c-o));var g=this.getIndex({startX:s+w,endX:o+w});(g.startIndex!==p||g.endIndex!==m)&&y&&y(g),this.setState({startX:s+w,endX:o+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=lM(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],h=this.props,d=h.x,p=h.width,m=h.travellerWidth,y=h.onChange,w=h.gap,g=h.data,x={startX:this.state.startX,endX:this.state.endX},v=r.pageX-a;v>0?v=Math.min(v,d+p-m-c):v<0&&(v=Math.max(v,d-c)),x[s]=c+v;var _=this.getIndex(x),A=_.startIndex,P=_.endIndex,E=function(){var T=g.length-1;return s==="startX"&&(o>l?A%w===0:P%w===0)||o<l&&P===T||s==="endX"&&(o>l?P%w===0:A%w===0)||o>l&&P===T};this.setState(Pn(Pn({},s,c+v),"brushMoveStartX",r.pageX),function(){y&&E()&&y(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,h=this.state[i],d=o.indexOf(h);if(d!==-1){var p=d+r;if(!(p===-1||p>=o.length)){var m=o[p];i==="startX"&&m>=c||i==="endX"&&m<=l||this.setState(Pn({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,c=r.stroke;return H.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,c=r.children,h=r.padding,d=k.Children.only(c);return d?H.cloneElement(d,{x:i,y:a,width:s,height:o,margin:h,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,c=l.y,h=l.travellerWidth,d=l.height,p=l.traveller,m=l.ariaLabel,y=l.data,w=l.startIndex,g=l.endIndex,x=Math.max(r,this.props.x),v=ev(ev({},Pe(this.props,!1)),{},{x,y:c,width:h,height:d}),_=m||"Min value: ".concat((a=y[w])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=y[g])===null||s===void 0?void 0:s.name);return H.createElement(dt,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),o.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,v))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,h=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:h,y:s,width:d,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,h=this.state,d=h.startX,p=h.endX,m=5,y={pointerEvents:"none",fill:c};return H.createElement(dt,{className:"recharts-brush-texts"},H.createElement(hp,Lp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,p)-m,y:s+o/2},y),this.getTextOfTick(i)),H.createElement(hp,Lp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,p)+l+m,y:s+o/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,c=r.width,h=r.height,d=r.alwaysShowText,p=this.state,m=p.startX,y=p.endX,w=p.isTextActive,g=p.isSlideMoving,x=p.isTravellerMoving,v=p.isTravellerFocused;if(!i||!i.length||!te(o)||!te(l)||!te(c)||!te(h)||c<=0||h<=0)return null;var _=Te("recharts-brush",a),A=H.Children.count(s)===1,P=She("userSelect","none");return H.createElement(dt,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(w||g||x||v||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,c=Math.floor(a+o/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),H.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return H.isValidElement(r)?a=H.cloneElement(r,i):_e(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,h=r.startIndex,d=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return ev({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?jhe({data:a,width:s,x:o,travellerWidth:l,startIndex:h,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var p=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(k.PureComponent);Pn(el,"displayName","Brush");Pn(el,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Che=x_;function Ohe(t,e){var n;return Che(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var Dhe=Ohe,khe=Vk,Rhe=jl,$he=Dhe,Lhe=_n,Fhe=og;function Vhe(t,e,n){var r=Lhe(t)?khe:$he;return n&&Fhe(t,e,n)&&(e=void 0),r(t,Rhe(e))}var Bhe=Vhe;const Uhe=He(Bhe);var Fr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},cM=o2;function Hhe(t,e,n){e=="__proto__"&&cM?cM(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var zhe=Hhe,Whe=zhe,Khe=a2,Ghe=jl;function qhe(t,e){var n={};return e=Ghe(e),Khe(t,function(r,i,a){Whe(n,i,e(r,i,a))}),n}var Yhe=qhe;const Xhe=He(Yhe);function Qhe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Jhe=Qhe,Zhe=x_;function efe(t,e){var n=!0;return Zhe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var tfe=efe,nfe=Jhe,rfe=tfe,ife=jl,afe=_n,sfe=og;function ofe(t,e,n){var r=afe(t)?nfe:rfe;return n&&sfe(t,e,n)&&(e=void 0),r(t,ife(e))}var lfe=ofe;const cfe=He(lfe);var ufe=["x","y"];function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function $x(){return $x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$x.apply(this,arguments)}function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){dfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dfe(t,e,n){return e=hfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hfe(t){var e=ffe(t,"string");return td(e)=="symbol"?e:e+""}function ffe(t,e){if(td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pfe(t,e){if(t==null)return{};var n=mfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gfe(t,e){var n=t.x,r=t.y,i=pfe(t,ufe),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),h=parseInt(c,10),d="".concat(e.width||i.width),p=parseInt(d,10);return pc(pc(pc(pc(pc({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:h,width:p,name:e.name,radius:e.radius})}function dM(t){return H.createElement(Qde,$x({shapeType:"rectangle",propTransformer:gfe,activeClassName:"recharts-active-bar"},t))}var yfe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=te(r)||AK(r);return a?e(r,i):(a||_s(),n)}},vfe=["value","background"],RR;function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function xfe(t,e){if(t==null)return{};var n=bfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vp(){return Vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vp.apply(this,arguments)}function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){Xi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LR(r.key),r)}}function _fe(t,e,n){return e&&fM(t.prototype,e),n&&fM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sfe(t,e,n){return e=Bp(e),Efe(t,$R()?Reflect.construct(e,n||[],Bp(t).constructor):e.apply(t,n))}function Efe(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pfe(t)}function Pfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $R(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($R=function(){return!!t})()}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bp(t)}function Afe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lx(t,e)}function Lx(t,e){return Lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lx(t,e)}function Xi(t,e,n){return e=LR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LR(t){var e=Tfe(t,"string");return tl(e)=="symbol"?e:e+""}function Tfe(t,e){if(tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Id=function(t){function e(){var n;wfe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Sfe(this,e,[].concat(i)),Xi(n,"state",{isAnimationFinished:!1}),Xi(n,"id",Ed("recharts-bar-")),Xi(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Xi(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return Afe(e,t),_fe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,h=Pe(this.props,!1);return r&&r.map(function(d,p){var m=p===l,y=m?c:s,w=pt(pt(pt({},h),d),{},{isActive:m,option:y,index:p,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return H.createElement(dt,Vp({className:"recharts-bar-rectangle"},Jf(i.props,d,p),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(p)}),H.createElement(dM,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,h=i.animationEasing,d=i.animationId,p=this.state.prevData;return H.createElement(bi,{begin:l,duration:c,isActive:o,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,w=a.map(function(g,x){var v=p&&p[x];if(v){var _=dr(v.x,g.x),A=dr(v.y,g.y),P=dr(v.width,g.width),E=dr(v.height,g.height);return pt(pt({},g),{},{x:_(y),y:A(y),width:P(y),height:E(y)})}if(s==="horizontal"){var S=dr(0,g.height),T=S(y);return pt(pt({},g),{},{y:g.y+g.height-T,height:T})}var M=dr(0,g.width),I=M(y);return pt(pt({},g),{},{width:I})});return H.createElement(dt,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!gg(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=Pe(this.props.background,!1);return a.map(function(c,h){c.value;var d=c.background,p=xfe(c,vfe);if(!d)return null;var m=pt(pt(pt(pt(pt({},p),{},{fill:"#eee"},d),l),Jf(r.props,c,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return H.createElement(dM,Vp({key:"background-bar-".concat(h),option:r.props.background,isActive:h===o},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,h=a.children,d=Yn(h,Md);if(!d)return null;var p=c==="vertical"?s[0].height/2:s[0].width/2,m=function(g,x){var v=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:v,errorVal:Dn(g,x)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement(dt,y,d.map(function(w){return H.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:p,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,c=r.left,h=r.top,d=r.width,p=r.height,m=r.isAnimationActive,y=r.background,w=r.id;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,x=Te("recharts-bar",s),v=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,A=v||_,P=ve(w)?this.id:w;return H.createElement(dt,{className:x},v||_?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(P)},H.createElement("rect",{x:v?c:c-d/2,y:_?h:h-p/2,width:v?d:d*2,height:_?p:p*2}))):null,H.createElement(dt,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(P,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,P),(!m||g)&&ha.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(k.PureComponent);RR=Id;Xi(Id,"displayName","Bar");Xi(Id,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Cl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xi(Id,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,h=t.dataStartIndex,d=t.displayedData,p=t.offset,m=Qoe(r,n);if(!m)return null;var y=e.layout,w=n.type.defaultProps,g=w!==void 0?pt(pt({},w),n.props):n.props,x=g.dataKey,v=g.children,_=g.minPointSize,A=y==="horizontal"?s:a,P=c?A.scale.domain():null,E=ale({numericAxis:A}),S=Yn(v,p2),T=d.map(function(M,I){var O,j,C,L,B,F;c?O=Joe(c[h+I],P):(O=Dn(M,x),Array.isArray(O)||(O=[E,O]));var U=yfe(_,RR.defaultProps.minPointSize)(O[1],I);if(y==="horizontal"){var R,V=[s.scale(O[0]),s.scale(O[1])],$=V[0],K=V[1];j=mN({axis:a,ticks:o,bandSize:i,offset:m.offset,entry:M,index:I}),C=(R=K??$)!==null&&R!==void 0?R:void 0,L=m.size;var q=$-K;if(B=Number.isNaN(q)?0:q,F={x:j,y:s.y,width:L,height:s.height},Math.abs(U)>0&&Math.abs(B)<Math.abs(U)){var ee=pr(B||U)*(Math.abs(U)-Math.abs(B));C-=ee,B+=ee}}else{var me=[a.scale(O[0]),a.scale(O[1])],be=me[0],Ne=me[1];if(j=be,C=mN({axis:s,ticks:l,bandSize:i,offset:m.offset,entry:M,index:I}),L=Ne-be,B=m.size,F={x:a.x,y:C,width:a.width,height:B},Math.abs(U)>0&&Math.abs(L)<Math.abs(U)){var ht=pr(L||U)*(Math.abs(U)-Math.abs(L));L+=ht}}return pt(pt(pt({},M),{},{x:j,y:C,width:L,height:B,value:c?O:O[1],payload:M,background:F},S&&S[I]&&S[I].props),{},{tooltipPayload:[vR(n,M)],tooltipPosition:{x:j+L/2,y:C+B/2}})});return pt({data:T,layout:y},p)});function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function Nfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FR(r.key),r)}}function Mfe(t,e,n){return e&&pM(t.prototype,e),n&&pM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mM(Object(n),!0).forEach(function(r){wg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wg(t,e,n){return e=FR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FR(t){var e=Ife(t,"string");return nd(e)=="symbol"?e:e+""}function Ife(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jfe=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,h=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},p=!!Nn(c,Id);return h.reduce(function(m,y){var w=n[y],g=w.orientation,x=w.domain,v=w.padding,_=v===void 0?{}:v,A=w.mirror,P=w.reversed,E="".concat(g).concat(A?"Mirror":""),S,T,M,I,O;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var j=x[1]-x[0],C=1/0,L=w.categoricalDomain.sort(MK);if(L.forEach(function(me,be){be>0&&(C=Math.min((me||0)-(L[be-1]||0),C))}),Number.isFinite(C)){var B=C/j,F=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(S=B*F/2),w.padding==="no-gap"){var U=bs(e.barCategoryGap,B*F),R=B*F/2;S=R-U-(R-U)/F*U}}}i==="xAxis"?T=[r.left+(_.left||0)+(S||0),r.left+r.width-(_.right||0)-(S||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(S||0),r.top+r.height-(_.bottom||0)-(S||0)]:T=w.range,P&&(T=[T[1],T[0]]);var V=Yoe(w,a,p),$=V.scale,K=V.realScaleType;$.domain(x).range(T),Xoe($);var q=ile($,or(or({},w),{},{realScaleType:K}));i==="xAxis"?(O=g==="top"&&!A||g==="bottom"&&A,M=r.left,I=d[E]-O*w.height):i==="yAxis"&&(O=g==="left"&&!A||g==="right"&&A,M=d[E]-O*w.width,I=r.top);var ee=or(or(or({},w),q),{},{realScaleType:K,x:M,y:I,scale:$,width:i==="xAxis"?r.width:w.width,height:i==="yAxis"?r.height:w.height});return ee.bandSize=Tp(ee,q),!w.hide&&i==="xAxis"?d[E]+=(O?-1:1)*ee.height:w.hide||(d[E]+=(O?-1:1)*ee.width),or(or({},m),{},wg({},y,ee))},{})},VR=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},Cfe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return VR({x:n,y:r},{x:i,y:a})},BR=function(){function t(e){Nfe(this,t),this.scale=e}return Mfe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();wg(BR,"EPS",1e-4);var Y_=function(e){var n=Object.keys(e).reduce(function(r,i){return or(or({},r),{},wg({},i,BR.create(e[i])))},{});return or(or({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return Xhe(i,function(l,c){return n[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return cfe(i,function(a,s){return n[s].isInRange(a)})}})};function Ofe(t){return(t%180+180)%180}var Dfe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Ofe(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},kfe=CW(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),UR=k.createContext(void 0),HR=k.createContext(void 0),zR=k.createContext(void 0),Rfe=k.createContext({}),WR=k.createContext(void 0),KR=k.createContext(0),GR=k.createContext(0),gM=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,h=kfe(a);return H.createElement(UR.Provider,{value:r},H.createElement(HR.Provider,{value:i},H.createElement(Rfe.Provider,{value:a},H.createElement(zR.Provider,{value:h},H.createElement(WR.Provider,{value:s},H.createElement(KR.Provider,{value:c},H.createElement(GR.Provider,{value:l},o)))))))},$fe=function(){return k.useContext(WR)},qR=function(e){var n=k.useContext(UR);n==null&&_s();var r=n[e];return r==null&&_s(),r},YR=function(e){var n=k.useContext(HR);n==null&&_s();var r=n[e];return r==null&&_s(),r},Lfe=function(){var e=k.useContext(zR);return e},XR=function(){return k.useContext(GR)},QR=function(){return k.useContext(KR)};function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function Ffe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZR(r.key),r)}}function Bfe(t,e,n){return e&&Vfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ufe(t,e,n){return e=Up(e),Hfe(t,JR()?Reflect.construct(e,n||[],Up(t).constructor):e.apply(t,n))}function Hfe(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zfe(t)}function zfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JR=function(){return!!t})()}function Up(t){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Up(t)}function Wfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fx(t,e)}function Fx(t,e){return Fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fx(t,e)}function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){X_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X_(t,e,n){return e=ZR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZR(t){var e=Kfe(t,"string");return nl(e)=="symbol"?e:e+""}function Kfe(t,e){if(nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Gfe(t,e){return Qfe(t)||Xfe(t,e)||Yfe(t,e)||qfe()}function qfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yfe(t,e){if(t){if(typeof t=="string")return xM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xM(t,e)}}function xM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Qfe(t){if(Array.isArray(t))return t}function Vx(){return Vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vx.apply(this,arguments)}var Jfe=function(e,n){var r;return H.isValidElement(e)?r=H.cloneElement(e,n):_e(e)?r=e(n):r=H.createElement("line",Vx({},n,{className:"recharts-reference-line-line"})),r},Zfe=function(e,n,r,i,a,s,o,l,c){var h=a.x,d=a.y,p=a.width,m=a.height;if(r){var y=c.y,w=e.y.apply(y,{position:s});if(Fr(c,"discard")&&!e.y.isInRange(w))return null;var g=[{x:h+p,y:w},{x:h,y:w}];return l==="left"?g.reverse():g}if(n){var x=c.x,v=e.x.apply(x,{position:s});if(Fr(c,"discard")&&!e.x.isInRange(v))return null;var _=[{x:v,y:d+m},{x:v,y:d}];return o==="top"?_.reverse():_}if(i){var A=c.segment,P=A.map(function(E){return e.apply(E,{position:s})});return Fr(c,"discard")&&Uhe(P,function(E){return!e.isInRange(E)})?null:P}return null};function epe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=$fe(),h=qR(i),d=YR(a),p=Lfe();if(!c||!p)return null;as(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Y_({x:h.scale,y:d.scale}),y=Et(e),w=Et(n),g=r&&r.length===2,x=Zfe(m,y,w,g,p,t.position,h.orientation,d.orientation,t);if(!x)return null;var v=Gfe(x,2),_=v[0],A=_.x,P=_.y,E=v[1],S=E.x,T=E.y,M=Fr(t,"hidden")?"url(#".concat(c,")"):void 0,I=vM(vM({clipPath:M},Pe(t,!0)),{},{x1:A,y1:P,x2:S,y2:T});return H.createElement(dt,{className:Te("recharts-reference-line",o)},Jfe(s,I),tn.renderCallByParent(t,Cfe({x1:A,y1:P,x2:S,y2:T})))}var Q_=function(t){function e(){return Ffe(this,e),Ufe(this,e,arguments)}return Wfe(e,t),Bfe(e,[{key:"render",value:function(){return H.createElement(epe,this.props)}}])}(H.Component);X_(Q_,"displayName","ReferenceLine");X_(Q_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Bx(){return Bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bx.apply(this,arguments)}function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){_g(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function npe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t$(r.key),r)}}function rpe(t,e,n){return e&&npe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ipe(t,e,n){return e=Hp(e),ape(t,e$()?Reflect.construct(e,n||[],Hp(t).constructor):e.apply(t,n))}function ape(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return spe(t)}function spe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e$=function(){return!!t})()}function Hp(t){return Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hp(t)}function ope(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ux(t,e)}function Ux(t,e){return Ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ux(t,e)}function _g(t,e,n){return e=t$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t$(t){var e=lpe(t,"string");return rl(e)=="symbol"?e:e+""}function lpe(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cpe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=Y_({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return Fr(e,"discard")&&!s.isInRange(o)?null:o},Sg=function(t){function e(){return tpe(this,e),ipe(this,e,arguments)}return ope(e,t),rpe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,c=Et(i),h=Et(a);if(as(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!h)return null;var d=cpe(this.props);if(!d)return null;var p=d.x,m=d.y,y=this.props,w=y.shape,g=y.className,x=Fr(this.props,"hidden")?"url(#".concat(l,")"):void 0,v=wM(wM({clipPath:x},Pe(this.props,!0)),{},{cx:p,cy:m});return H.createElement(dt,{className:Te("recharts-reference-dot",g)},e.renderDot(w,v),tn.renderCallByParent(this.props,{x:p-s,y:m-s,width:2*s,height:2*s}))}}])}(H.Component);_g(Sg,"displayName","ReferenceDot");_g(Sg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_g(Sg,"renderDot",function(t,e){var n;return H.isValidElement(t)?n=H.cloneElement(t,e):_e(t)?n=t(e):n=H.createElement(q_,Bx({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Hx(){return Hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hx.apply(this,arguments)}function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(n),!0).forEach(function(r){Eg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function upe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r$(r.key),r)}}function hpe(t,e,n){return e&&dpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fpe(t,e,n){return e=zp(e),ppe(t,n$()?Reflect.construct(e,n||[],zp(t).constructor):e.apply(t,n))}function ppe(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mpe(t)}function mpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n$=function(){return!!t})()}function zp(t){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zp(t)}function gpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zx(t,e)}function zx(t,e){return zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zx(t,e)}function Eg(t,e,n){return e=r$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r$(t){var e=ype(t,"string");return il(e)=="symbol"?e:e+""}function ype(t,e){if(il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vpe=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,h=a.xAxis,d=a.yAxis;if(!h||!d)return null;var p=Y_({x:h.scale,y:d.scale}),m={x:e?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},y={x:n?p.x.apply(o,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(c,{position:"end"}):p.y.rangeMax};return Fr(a,"discard")&&(!p.isInRange(m)||!p.isInRange(y))?null:VR(m,y)},Pg=function(t){function e(){return upe(this,e),fpe(this,e,arguments)}return gpe(e,t),hpe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,h=r.clipPathId;as(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Et(i),p=Et(a),m=Et(s),y=Et(o),w=this.props.shape;if(!d&&!p&&!m&&!y&&!w)return null;var g=vpe(d,p,m,y,this.props);if(!g&&!w)return null;var x=Fr(this.props,"hidden")?"url(#".concat(h,")"):void 0;return H.createElement(dt,{className:Te("recharts-reference-area",l)},e.renderRect(w,SM(SM({clipPath:x},Pe(this.props,!0)),g)),tn.renderCallByParent(this.props,g))}}])}(H.Component);Eg(Pg,"displayName","ReferenceArea");Eg(Pg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Eg(Pg,"renderRect",function(t,e){var n;return H.isValidElement(t)?n=H.cloneElement(t,e):_e(t)?n=t(e):n=H.createElement(G_,Hx({},e,{className:"recharts-reference-area-rect"})),n});function i$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function xpe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Dfe(r,n)}function bpe(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Wp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function wpe(t,e){return i$(t,e+1)}function _pe(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,c=1,h=s,d=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:i$(r,c)};var w=l,g,x=function(){return g===void 0&&(g=n(y,w)),g},v=y.coordinate,_=l===0||Wp(t,v,x,h,o);_||(l=0,h=s,c+=1),_&&(h=v+t*(x()/2+i),l+=c)},p;c<=a.length;)if(p=d(),p)return p.v;return[]}function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function EM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(n),!0).forEach(function(r){Spe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Spe(t,e,n){return e=Epe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Epe(t){var e=Ppe(t,"string");return rd(e)=="symbol"?e:e+""}function Ppe(t,e){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ape(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(p){var m=a[p],y,w=function(){return y===void 0&&(y=n(m,p)),y};if(p===s-1){var g=t*(m.coordinate+t*w()/2-l);a[p]=m=Qt(Qt({},m),{},{tickCoord:g>0?m.coordinate-g*t:m.coordinate})}else a[p]=m=Qt(Qt({},m),{},{tickCoord:m.coordinate});var x=Wp(t,m.tickCoord,w,o,l);x&&(l=m.tickCoord-t*(w()/2+i),a[p]=Qt(Qt({},m),{},{isShow:!0}))},h=s-1;h>=0;h--)c(h);return a}function Tpe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var h=r[o-1],d=n(h,o-1),p=t*(h.coordinate+t*d/2-c);s[o-1]=h=Qt(Qt({},h),{},{tickCoord:p>0?h.coordinate-p*t:h.coordinate});var m=Wp(t,h.tickCoord,function(){return d},l,c);m&&(c=h.tickCoord-t*(d/2+i),s[o-1]=Qt(Qt({},h),{},{isShow:!0}))}for(var y=a?o-1:o,w=function(v){var _=s[v],A,P=function(){return A===void 0&&(A=n(_,v)),A};if(v===0){var E=t*(_.coordinate-t*P()/2-l);s[v]=_=Qt(Qt({},_),{},{tickCoord:E<0?_.coordinate-E*t:_.coordinate})}else s[v]=_=Qt(Qt({},_),{},{tickCoord:_.coordinate});var S=Wp(t,_.tickCoord,P,l,c);S&&(l=_.tickCoord+t*(P()/2+i),s[v]=Qt(Qt({},_),{},{isShow:!0}))},g=0;g<y;g++)w(g);return s}function Npe(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,h=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(te(l)||Cl.isSsr)return wpe(i,typeof l=="number"&&te(l)?l:0);var p=[],m=o==="top"||o==="bottom"?"width":"height",y=h&&m==="width"?Wc(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(_,A){var P=_e(c)?c(_.value,A):_.value;return m==="width"?xpe(Wc(P,{fontSize:e,letterSpacing:n}),y,d):Wc(P,{fontSize:e,letterSpacing:n})[m]},g=i.length>=2?pr(i[1].coordinate-i[0].coordinate):1,x=bpe(a,g,m);return l==="equidistantPreserveStart"?_pe(g,x,w,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=Tpe(g,x,w,i,s,l==="preserveStartEnd"):p=Ape(g,x,w,i,s),p.filter(function(v){return v.isShow}))}var Mpe=["viewBox"],Ipe=["viewBox"],jpe=["ticks"];function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function co(){return co=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},co.apply(this,arguments)}function PM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PM(Object(n),!0).forEach(function(r){J_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tv(t,e){if(t==null)return{};var n=Cpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ope(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s$(r.key),r)}}function Dpe(t,e,n){return e&&AM(t.prototype,e),n&&AM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kpe(t,e,n){return e=Kp(e),Rpe(t,a$()?Reflect.construct(e,n||[],Kp(t).constructor):e.apply(t,n))}function Rpe(t,e){if(e&&(al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $pe(t)}function $pe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a$=function(){return!!t})()}function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kp(t)}function Lpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wx(t,e)}function Wx(t,e){return Wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wx(t,e)}function J_(t,e,n){return e=s$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s$(t){var e=Fpe(t,"string");return al(e)=="symbol"?e:e+""}function Fpe(t,e){if(al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ag=function(t){function e(n){var r;return Ope(this,e),r=kpe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Lpe(e,t),Dpe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=tv(r,Mpe),o=this.props,l=o.viewBox,c=tv(o,Ipe);return!So(a,l)||!So(s,c)||!So(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,h=i.tickSize,d=i.mirror,p=i.tickMargin,m,y,w,g,x,v,_=d?-1:1,A=r.tickSize||h,P=te(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":m=y=r.coordinate,g=s+ +!d*l,w=g-_*A,v=w-_*p,x=P;break;case"left":w=g=r.coordinate,y=a+ +!d*o,m=y-_*A,x=m-_*p,v=P;break;case"right":w=g=r.coordinate,y=a+ +d*o,m=y+_*A,x=m+_*p,v=P;break;default:m=y=r.coordinate,g=s+ +d*l,w=g+_*A,v=w+_*p,x=P;break}return{line:{x1:m,y1:w,x2:y,y2:g},tick:{x,y:v}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,c=r.mirror,h=r.axisLine,d=xt(xt(xt({},Pe(this.props,!1)),Pe(h,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);d=xt(xt({},d),{},{x1:i,y1:a+p*o,x2:i+s,y2:a+p*o})}else{var m=+(l==="left"&&!c||l==="right"&&c);d=xt(xt({},d),{},{x1:i+m*s,y1:a,x2:i+m*s,y2:a+o})}return H.createElement("line",co({},d,{className:Te("recharts-cartesian-axis-line",qn(h,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,h=o.tick,d=o.tickFormatter,p=o.unit,m=Npe(xt(xt({},this.props),{},{ticks:r}),i,a),y=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),g=Pe(this.props,!1),x=Pe(h,!1),v=xt(xt({},g),{},{fill:"none"},Pe(l,!1)),_=m.map(function(A,P){var E=s.getTickLineCoord(A),S=E.line,T=E.tick,M=xt(xt(xt(xt({textAnchor:y,verticalAnchor:w},g),{},{stroke:"none",fill:c},x),T),{},{index:P,payload:A,visibleTicksCount:m.length,tickFormatter:d});return H.createElement(dt,co({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Jf(s.props,A,P)),l&&H.createElement("line",co({},v,S,{className:Te("recharts-cartesian-axis-tick-line",qn(l,"className"))})),h&&e.renderTickItem(h,M,"".concat(_e(d)?d(A.value,P):A.value).concat(p||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,h=i.hide;if(h)return null;var d=this.props,p=d.ticks,m=tv(d,jpe),y=p;return _e(l)&&(y=p&&p.length>0?l(this.props):l(m)),s<=0||o<=0||!y||!y.length?null:H.createElement(dt,{className:Te("recharts-cartesian-axis",c),ref:function(g){r.layerReference=g}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),tn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,o=Te(i.className,"recharts-cartesian-axis-tick-value");return H.isValidElement(r)?s=H.cloneElement(r,xt(xt({},i),{},{className:o})):_e(r)?s=r(xt(xt({},i),{},{className:o})):s=H.createElement(hp,co({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(k.Component);J_(Ag,"displayName","CartesianAxis");J_(Ag,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Vpe=["type","layout","connectNulls","ref"],Bpe=["key"];function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function TM(t,e){if(t==null)return{};var n=Upe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Upe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}function NM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(n),!0).forEach(function(r){lr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bs(t){return Kpe(t)||Wpe(t)||zpe(t)||Hpe()}function Hpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zpe(t,e){if(t){if(typeof t=="string")return Kx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kx(t,e)}}function Wpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kpe(t){if(Array.isArray(t))return Kx(t)}function Kx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l$(r.key),r)}}function qpe(t,e,n){return e&&MM(t.prototype,e),n&&MM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ype(t,e,n){return e=Gp(e),Xpe(t,o$()?Reflect.construct(e,n||[],Gp(t).constructor):e.apply(t,n))}function Xpe(t,e){if(e&&(sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qpe(t)}function Qpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o$=function(){return!!t})()}function Gp(t){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gp(t)}function Jpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gx(t,e)}function Gx(t,e){return Gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gx(t,e)}function lr(t,e,n){return e=l$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l$(t){var e=Zpe(t,"string");return sl(e)=="symbol"?e:e+""}function Zpe(t,e){if(sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jd=function(t){function e(){var n;Gpe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ype(this,e,[].concat(i)),lr(n,"state",{isAnimationFinished:!0,totalLength:0}),lr(n,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),lr(n,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(x,v){return x+v});if(!c)return n.generateSimpleStrokeDasharray(o,s);for(var h=Math.floor(s/c),d=s%c,p=o-s,m=[],y=0,w=0;y<l.length;w+=l[y],++y)if(w+l[y]>d){m=[].concat(Bs(l.slice(0,y)),[d-w]);break}var g=m.length%2===0?[0,p]:[p];return[].concat(Bs(e.repeat(l,h)),Bs(m),g).map(function(x){return"".concat(x,"px")}).join(", ")}),lr(n,"id",Ed("recharts-line-")),lr(n,"pathRef",function(s){n.mainCurve=s}),lr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),lr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Jpe(e,t),qpe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,c=a.layout,h=a.children,d=Yn(h,Md);if(!d)return null;var p=function(w,g){return{x:w.x,y:w.y,value:w.value,errorVal:Dn(w.payload,g)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement(dt,m,d.map(function(y){return H.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,h=o.dataKey,d=Pe(this.props,!1),p=Pe(l,!0),m=c.map(function(w,g){var x=En(En(En({key:"dot-".concat(g),r:3},d),p),{},{index:g,cx:w.x,cy:w.y,value:w.value,dataKey:h,payload:w.payload,points:c});return e.renderDotItem(l,x)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return H.createElement(dt,Yc({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(r,i,a,s){var o=this.props,l=o.type,c=o.layout,h=o.connectNulls;o.ref;var d=TM(o,Vpe),p=En(En(En({},Pe(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:l,layout:c,connectNulls:h});return H.createElement(Ex,Yc({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,h=s.animationBegin,d=s.animationDuration,p=s.animationEasing,m=s.animationId,y=s.animateNewValues,w=s.width,g=s.height,x=this.state,v=x.prevPoints,_=x.totalLength;return H.createElement(bi,{begin:h,duration:d,isActive:c,easing:p,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var P=A.t;if(v){var E=v.length/o.length,S=o.map(function(j,C){var L=Math.floor(C*E);if(v[L]){var B=v[L],F=dr(B.x,j.x),U=dr(B.y,j.y);return En(En({},j),{},{x:F(P),y:U(P)})}if(y){var R=dr(w*2,j.x),V=dr(g/2,j.y);return En(En({},j),{},{x:R(P),y:V(P)})}return En(En({},j),{},{x:j.x,y:j.y})});return a.renderCurveStatically(S,r,i)}var T=dr(0,_),M=T(P),I;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(j){return parseFloat(j)});I=a.getStrokeDasharray(M,_,O)}else I=a.generateSimpleStrokeDasharray(_,M);return a.renderCurveStatically(o,r,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,c=l.prevPoints,h=l.totalLength;return o&&s&&s.length&&(!c&&h>0||!gg(c,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.xAxis,h=i.yAxis,d=i.top,p=i.left,m=i.width,y=i.height,w=i.isAnimationActive,g=i.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,v=o.length===1,_=Te("recharts-line",l),A=c&&c.allowDataOverflow,P=h&&h.allowDataOverflow,E=A||P,S=ve(g)?this.id:g,T=(r=Pe(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},M=T.r,I=M===void 0?3:M,O=T.strokeWidth,j=O===void 0?2:O,C=LK(s)?s:{},L=C.clipDot,B=L===void 0?!0:L,F=I*2+j;return H.createElement(dt,{className:_},A||P?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(S)},H.createElement("rect",{x:A?p:p-m/2,y:P?d:d-y/2,width:A?m:m*2,height:P?y:y*2})),!B&&H.createElement("clipPath",{id:"clipPath-dots-".concat(S)},H.createElement("rect",{x:p-F/2,y:d-F/2,width:m+F,height:y+F}))):null,!v&&this.renderCurve(E,S),this.renderErrorBar(E,S),(v||s)&&this.renderDots(E,B,S),(!w||x)&&ha.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Bs(r),[0]):r,s=[],o=0;o<i;++o)s=[].concat(Bs(s),Bs(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(H.isValidElement(r))a=H.cloneElement(r,i);else if(_e(r))a=r(i);else{var s=i.key,o=TM(i,Bpe),l=Te("recharts-line-dot",typeof r!="boolean"?r.className:"");a=H.createElement(q_,Yc({key:s},o,{className:l}))}return a}}])}(k.PureComponent);lr(jd,"displayName","Line");lr(jd,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Cl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});lr(jd,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,h=e.layout,d=l.map(function(p,m){var y=Dn(p,s);return h==="horizontal"?{x:pN({axis:n,ticks:i,bandSize:o,entry:p,index:m}),y:ve(y)?null:r.scale(y),value:y,payload:p}:{x:ve(y)?null:n.scale(y),y:pN({axis:r,ticks:a,bandSize:o,entry:p,index:m}),value:y,payload:p}});return En({points:d,layout:h},c)});function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function eme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d$(r.key),r)}}function nme(t,e,n){return e&&tme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rme(t,e,n){return e=qp(e),ime(t,c$()?Reflect.construct(e,n||[],qp(t).constructor):e.apply(t,n))}function ime(t,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ame(t)}function ame(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c$=function(){return!!t})()}function qp(t){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qp(t)}function sme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qx(t,e)}function qx(t,e){return qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qx(t,e)}function u$(t,e,n){return e=d$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d$(t){var e=ome(t,"string");return ol(e)=="symbol"?e:e+""}function ome(t,e){if(ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yx(){return Yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yx.apply(this,arguments)}function lme(t){var e=t.xAxisId,n=XR(),r=QR(),i=qR(e);return i==null?null:k.createElement(Ag,Yx({},i,{className:Te("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return es(s,!0)}}))}var Z_=function(t){function e(){return eme(this,e),rme(this,e,arguments)}return sme(e,t),nme(e,[{key:"render",value:function(){return k.createElement(lme,this.props)}}])}(k.Component);u$(Z_,"displayName","XAxis");u$(Z_,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function cme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ume(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p$(r.key),r)}}function dme(t,e,n){return e&&ume(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hme(t,e,n){return e=Yp(e),fme(t,h$()?Reflect.construct(e,n||[],Yp(t).constructor):e.apply(t,n))}function fme(t,e){if(e&&(ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pme(t)}function pme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h$=function(){return!!t})()}function Yp(t){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yp(t)}function mme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xx(t,e)}function Xx(t,e){return Xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xx(t,e)}function f$(t,e,n){return e=p$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p$(t){var e=gme(t,"string");return ll(e)=="symbol"?e:e+""}function gme(t,e){if(ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qx(){return Qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qx.apply(this,arguments)}var yme=function(e){var n=e.yAxisId,r=XR(),i=QR(),a=YR(n);return a==null?null:k.createElement(Ag,Qx({},a,{className:Te("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return es(o,!0)}}))},e1=function(t){function e(){return cme(this,e),hme(this,e,arguments)}return mme(e,t),dme(e,[{key:"render",value:function(){return k.createElement(yme,this.props)}}])}(k.Component);f$(e1,"displayName","YAxis");f$(e1,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function IM(t){return wme(t)||bme(t)||xme(t)||vme()}function vme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xme(t,e){if(t){if(typeof t=="string")return Jx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jx(t,e)}}function bme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wme(t){if(Array.isArray(t))return Jx(t)}function Jx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zx=function(e,n,r,i,a){var s=Yn(e,Q_),o=Yn(e,Sg),l=[].concat(IM(s),IM(o)),c=Yn(e,Pg),h="".concat(i,"Id"),d=i[0],p=n;if(l.length&&(p=l.reduce(function(w,g){if(g.props[h]===r&&Fr(g.props,"extendDomain")&&te(g.props[d])){var x=g.props[d];return[Math.min(w[0],x),Math.max(w[1],x)]}return w},p)),c.length){var m="".concat(d,"1"),y="".concat(d,"2");p=c.reduce(function(w,g){if(g.props[h]===r&&Fr(g.props,"extendDomain")&&te(g.props[m])&&te(g.props[y])){var x=g.props[m],v=g.props[y];return[Math.min(w[0],x,v),Math.max(w[1],x,v)]}return w},p)}return a&&a.length&&(p=a.reduce(function(w,g){return te(g)?[Math.min(w[0],g),Math.max(w[1],g)]:w},p)),p},m$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function a(l,c,h,d,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,d||l,p),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],h,d;if(this._eventsCount===0)return c;for(d in h=this._events)e.call(h,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},o.prototype.listeners=function(c){var h=n?n+c:c,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,m=d.length,y=new Array(m);p<m;p++)y[p]=d[p].fn;return y},o.prototype.listenerCount=function(c){var h=n?n+c:c,d=this._events[h];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,h,d,p,m,y){var w=n?n+c:c;if(!this._events[w])return!1;var g=this._events[w],x=arguments.length,v,_;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,h),!0;case 3:return g.fn.call(g.context,h,d),!0;case 4:return g.fn.call(g.context,h,d,p),!0;case 5:return g.fn.call(g.context,h,d,p,m),!0;case 6:return g.fn.call(g.context,h,d,p,m,y),!0}for(_=1,v=new Array(x-1);_<x;_++)v[_-1]=arguments[_];g.fn.apply(g.context,v)}else{var A=g.length,P;for(_=0;_<A;_++)switch(g[_].once&&this.removeListener(c,g[_].fn,void 0,!0),x){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,h);break;case 3:g[_].fn.call(g[_].context,h,d);break;case 4:g[_].fn.call(g[_].context,h,d,p);break;default:if(!v)for(P=1,v=new Array(x-1);P<x;P++)v[P-1]=arguments[P];g[_].fn.apply(g[_].context,v)}}return!0},o.prototype.on=function(c,h,d){return a(this,c,h,d,!1)},o.prototype.once=function(c,h,d){return a(this,c,h,d,!0)},o.prototype.removeListener=function(c,h,d,p){var m=n?n+c:c;if(!this._events[m])return this;if(!h)return s(this,m),this;var y=this._events[m];if(y.fn)y.fn===h&&(!p||y.once)&&(!d||y.context===d)&&s(this,m);else{for(var w=0,g=[],x=y.length;w<x;w++)(y[w].fn!==h||p&&!y[w].once||d&&y[w].context!==d)&&g.push(y[w]);g.length?this._events[m]=g.length===1?g[0]:g:s(this,m)}return this},o.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(m$);var _me=m$.exports;const Sme=He(_me);var nv=new Sme,rv="recharts.syncMouseEvents";function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function Eme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g$(r.key),r)}}function Ame(t,e,n){return e&&Pme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iv(t,e,n){return e=g$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g$(t){var e=Tme(t,"string");return id(e)=="symbol"?e:e+""}function Tme(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nme=function(){function t(){Eme(this,t),iv(this,"activeIndex",0),iv(this,"coordinateList",[]),iv(this,"layout","horizontal")}return Ame(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,h=n.offset,d=h===void 0?null:h,p=n.mouseHandlerCallback,m=p===void 0?null:p;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+c,p=s+this.offset.top+o/2+h;this.mouseHandlerCallback({pageX:d,pageY:p})}}}])}();function Mme(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&te(r)&&te(i))return!0}return!1}function Ime(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function y$(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=Ft(e,n,r,i),o=Ft(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function jme(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,h=e.outerRadius,d=e.angle,p=Ft(o,l,c,d),m=Ft(o,l,h,d);r=p.x,i=p.y,a=m.x,s=m.y}else return y$(e);return[{x:r,y:i},{x:a,y:s}]}function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){Cme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cme(t,e,n){return e=Ome(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ome(t){var e=Dme(t,"string");return ad(e)=="symbol"?e:e+""}function Dme(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kme(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,h=t.tooltipAxisBandSize,d=t.layout,p=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!a||!s||p!=="ScatterChart"&&i!=="axis")return null;var y,w=Ex;if(p==="ScatterChart")y=s,w=dde;else if(p==="BarChart")y=Ime(d,s,l,h),w=G_;else if(d==="radial"){var g=y$(s),x=g.cx,v=g.cy,_=g.radius,A=g.startAngle,P=g.endAngle;y={cx:x,cy:v,startAngle:A,endAngle:P,innerRadius:_,outerRadius:_},w=wR}else y={points:jme(d,s,l)},w=Ex;var E=jh(jh(jh(jh({stroke:"#ccc",pointerEvents:"none"},l),y),Pe(m,!1)),{},{payload:o,payloadIndex:c,className:Te("recharts-tooltip-cursor",m.className)});return k.isValidElement(m)?k.cloneElement(m,E):k.createElement(w,E)}var Rme=["item"],$me=["children","className","width","height","style","compact","title","desc"];function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}function uo(){return uo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uo.apply(this,arguments)}function CM(t,e){return Vme(t)||Fme(t,e)||x$(t,e)||Lme()}function Lme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Vme(t){if(Array.isArray(t))return t}function OM(t,e){if(t==null)return{};var n=Bme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ume(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b$(r.key),r)}}function zme(t,e,n){return e&&Hme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wme(t,e,n){return e=Xp(e),Kme(t,v$()?Reflect.construct(e,n||[],Xp(t).constructor):e.apply(t,n))}function Kme(t,e){if(e&&(cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gme(t)}function Gme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v$=function(){return!!t})()}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xp(t)}function qme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eb(t,e)}function eb(t,e){return eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eb(t,e)}function ul(t){return Qme(t)||Xme(t)||x$(t)||Yme()}function Yme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x$(t,e){if(t){if(typeof t=="string")return tb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tb(t,e)}}function Xme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qme(t){if(Array.isArray(t))return tb(t)}function tb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function le(t,e,n){return e=b$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b$(t){var e=Jme(t,"string");return cl(e)=="symbol"?e:e+""}function Jme(t,e){if(cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zme={xAxis:["bottom","top"],yAxis:["left","right"]},ege={width:"100%",height:"100%"},w$={x:0,y:0};function Ch(t){return t}var tge=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},nge=function(e,n,r,i){var a=n.find(function(h){return h&&h.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return G(G(G({},i),Ft(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return G(G(G({},i),Ft(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return w$},Tg=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(ul(o),ul(c)):o},[]);return s.length>0?s:e&&e.length&&te(i)&&te(a)?e.slice(i,a+1):[]};function _$(t){return t==="number"?[0,"auto"]:void 0}var nb=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=Tg(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,c){var h,d=(h=c.props.data)!==null&&h!==void 0?h:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var m=d===void 0?o:d;p=Xf(m,s.dataKey,i)}else p=d&&d[r]||o[r];return p?[].concat(ul(l),[vR(c,p)]):l},[])},kM=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=tge(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,h=Hoe(s,o,c,l);if(h>=0&&c){var d=c[h]&&c[h].value,p=nb(e,n,h,d),m=nge(r,o,h,a);return{activeTooltipIndex:h,activeLabel:d,activePayload:p,activeCoordinate:m}}return null},rge=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,h=e.layout,d=e.children,p=e.stackOffset,m=gR(h,a);return r.reduce(function(y,w){var g,x=w.type.defaultProps!==void 0?G(G({},w.type.defaultProps),w.props):w.props,v=x.type,_=x.dataKey,A=x.allowDataOverflow,P=x.allowDuplicatedCategory,E=x.scale,S=x.ticks,T=x.includeHidden,M=x[s];if(y[M])return y;var I=Tg(e.data,{graphicalItems:i.filter(function(q){var ee,me=s in q.props?q.props[s]:(ee=q.type.defaultProps)===null||ee===void 0?void 0:ee[s];return me===M}),dataStartIndex:l,dataEndIndex:c}),O=I.length,j,C,L;Mme(x.domain,A,v)&&(j=xx(x.domain,null,A),m&&(v==="number"||E!=="auto")&&(L=Gc(I,_,"category")));var B=_$(v);if(!j||j.length===0){var F,U=(F=x.domain)!==null&&F!==void 0?F:B;if(_){if(j=Gc(I,_,v),v==="category"&&m){var R=NK(j);P&&R?(C=j,j=$p(0,O)):P||(j=vN(U,j,w).reduce(function(q,ee){return q.indexOf(ee)>=0?q:[].concat(ul(q),[ee])},[]))}else if(v==="category")P?j=j.filter(function(q){return q!==""&&!ve(q)}):j=vN(U,j,w).reduce(function(q,ee){return q.indexOf(ee)>=0||ee===""||ve(ee)?q:[].concat(ul(q),[ee])},[]);else if(v==="number"){var V=qoe(I,i.filter(function(q){var ee,me,be=s in q.props?q.props[s]:(ee=q.type.defaultProps)===null||ee===void 0?void 0:ee[s],Ne="hide"in q.props?q.props.hide:(me=q.type.defaultProps)===null||me===void 0?void 0:me.hide;return be===M&&(T||!Ne)}),_,a,h);V&&(j=V)}m&&(v==="number"||E!=="auto")&&(L=Gc(I,_,"category"))}else m?j=$p(0,O):o&&o[M]&&o[M].hasStack&&v==="number"?j=p==="expand"?[0,1]:yR(o[M].stackGroups,l,c):j=mR(I,i.filter(function(q){var ee=s in q.props?q.props[s]:q.type.defaultProps[s],me="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return ee===M&&(T||!me)}),v,h,!0);if(v==="number")j=Zx(d,j,M,a,S),U&&(j=xx(U,j,A));else if(v==="category"&&U){var $=U,K=j.every(function(q){return $.indexOf(q)>=0});K&&(j=$)}}return G(G({},y),{},le({},M,G(G({},x),{},{axisType:a,domain:j,categoricalDomain:L,duplicateDomain:C,originalDomain:(g=x.domain)!==null&&g!==void 0?g:B,isCategorical:m,layout:h})))},{})},ige=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,h=e.layout,d=e.children,p=Tg(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),m=p.length,y=gR(h,a),w=-1;return r.reduce(function(g,x){var v=x.type.defaultProps!==void 0?G(G({},x.type.defaultProps),x.props):x.props,_=v[s],A=_$("number");if(!g[_]){w++;var P;return y?P=$p(0,m):o&&o[_]&&o[_].hasStack?(P=yR(o[_].stackGroups,l,c),P=Zx(d,P,_,a)):(P=xx(A,mR(p,r.filter(function(E){var S,T,M=s in E.props?E.props[s]:(S=E.type.defaultProps)===null||S===void 0?void 0:S[s],I="hide"in E.props?E.props.hide:(T=E.type.defaultProps)===null||T===void 0?void 0:T.hide;return M===_&&!I}),"number",h),i.defaultProps.allowDataOverflow),P=Zx(d,P,_,a)),G(G({},g),{},le({},_,G(G({axisType:a},i.defaultProps),{},{hide:!0,orientation:qn(Zme,"".concat(a,".").concat(w%2),null),domain:P,originalDomain:A,isCategorical:y,layout:h})))}return g},{})},age=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,h=e.children,d="".concat(i,"Id"),p=Yn(h,a),m={};return p&&p.length?m=rge(e,{axes:p,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(m=ige(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),m},sge=function(e){var n=Gs(e),r=es(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:b_(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Tp(n,r)}},RM=function(e){var n=e.children,r=e.defaultShowTooltip,i=Nn(n,el),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},oge=function(e){return!e||!e.length?!1:e.some(function(n){var r=oi(n&&n.type);return r&&r.indexOf("Bar")>=0})},$M=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},lge=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,h=r.height,d=r.children,p=r.margin||{},m=Nn(d,el),y=Nn(d,Eo),w=Object.keys(l).reduce(function(P,E){var S=l[E],T=S.orientation;return!S.mirror&&!S.hide?G(G({},P),{},le({},T,P[T]+S.width)):P},{left:p.left||0,right:p.right||0}),g=Object.keys(s).reduce(function(P,E){var S=s[E],T=S.orientation;return!S.mirror&&!S.hide?G(G({},P),{},le({},T,qn(P,"".concat(T))+S.height)):P},{top:p.top||0,bottom:p.bottom||0}),x=G(G({},g),w),v=x.bottom;m&&(x.bottom+=m.props.height||el.defaultProps.height),y&&n&&(x=Koe(x,i,r,n));var _=c-x.left-x.right,A=h-x.top-x.bottom;return G(G({brushBottom:v},x),{},{width:Math.max(_,0),height:Math.max(A,0)})},cge=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},uge=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,h=e.formatAxisMap,d=e.defaultProps,p=function(x,v){var _=v.graphicalItems,A=v.stackGroups,P=v.offset,E=v.updateId,S=v.dataStartIndex,T=v.dataEndIndex,M=x.barSize,I=x.layout,O=x.barGap,j=x.barCategoryGap,C=x.maxBarSize,L=$M(I),B=L.numericAxisName,F=L.cateAxisName,U=oge(_),R=[];return _.forEach(function(V,$){var K=Tg(x.data,{graphicalItems:[V],dataStartIndex:S,dataEndIndex:T}),q=V.type.defaultProps!==void 0?G(G({},V.type.defaultProps),V.props):V.props,ee=q.dataKey,me=q.maxBarSize,be=q["".concat(B,"Id")],Ne=q["".concat(F,"Id")],ht={},Ht=l.reduce(function(Sr,Wr){var Ca=v["".concat(Wr.axisType,"Map")],Cs=q["".concat(Wr.axisType,"Id")];Ca&&Ca[Cs]||Wr.axisType==="zAxis"||_s();var Rl=Ca[Cs];return G(G({},Sr),{},le(le({},Wr.axisType,Rl),"".concat(Wr.axisType,"Ticks"),es(Rl)))},ht),ne=Ht[F],de=Ht["".concat(F,"Ticks")],fe=A&&A[be]&&A[be].hasStack&&sle(V,A[be].stackGroups),Q=oi(V.type).indexOf("Bar")>=0,Ve=Tp(ne,de),ye=[],Ze=U&&zoe({barSize:M,stackGroups:A,totalSize:cge(Ht,F)});if(Q){var at,zt,_r=ve(me)?C:me,zr=(at=(zt=Tp(ne,de,!0))!==null&&zt!==void 0?zt:_r)!==null&&at!==void 0?at:0;ye=Woe({barGap:O,barCategoryGap:j,bandSize:zr!==Ve?zr:Ve,sizeList:Ze[Ne],maxBarSize:_r}),zr!==Ve&&(ye=ye.map(function(Sr){return G(G({},Sr),{},{position:G(G({},Sr.position),{},{offset:Sr.position.offset-zr/2})})}))}var Ii=V&&V.type&&V.type.getComposedData;Ii&&R.push({props:G(G({},Ii(G(G({},Ht),{},{displayedData:K,props:x,dataKey:ee,item:V,bandSize:Ve,barPosition:ye,offset:P,stackedData:fe,layout:I,dataStartIndex:S,dataEndIndex:T}))),{},le(le(le({key:V.key||"item-".concat($)},B,Ht[B]),F,Ht[F]),"animationId",E)),childIndex:BK(V,x.children),item:V})}),R},m=function(x,v){var _=x.props,A=x.dataStartIndex,P=x.dataEndIndex,E=x.updateId;if(!dA({props:_}))return null;var S=_.children,T=_.layout,M=_.stackOffset,I=_.data,O=_.reverseStackOrder,j=$M(T),C=j.numericAxisName,L=j.cateAxisName,B=Yn(S,r),F=rle(I,B,"".concat(C,"Id"),"".concat(L,"Id"),M,O),U=l.reduce(function(q,ee){var me="".concat(ee.axisType,"Map");return G(G({},q),{},le({},me,age(_,G(G({},ee),{},{graphicalItems:B,stackGroups:ee.axisType===C&&F,dataStartIndex:A,dataEndIndex:P}))))},{}),R=lge(G(G({},U),{},{props:_,graphicalItems:B}),v==null?void 0:v.legendBBox);Object.keys(U).forEach(function(q){U[q]=h(_,U[q],R,q.replace("Map",""),n)});var V=U["".concat(L,"Map")],$=sge(V),K=p(_,G(G({},U),{},{dataStartIndex:A,dataEndIndex:P,updateId:E,graphicalItems:B,stackGroups:F,offset:R}));return G(G({formattedGraphicalItems:K,graphicalItems:B,offset:R,stackGroups:F},$),U)},y=function(g){function x(v){var _,A,P;return Ume(this,x),P=Wme(this,x,[v]),le(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),le(P,"accessibilityManager",new Nme),le(P,"handleLegendBBoxUpdate",function(E){if(E){var S=P.state,T=S.dataStartIndex,M=S.dataEndIndex,I=S.updateId;P.setState(G({legendBBox:E},m({props:P.props,dataStartIndex:T,dataEndIndex:M,updateId:I},G(G({},P.state),{},{legendBBox:E}))))}}),le(P,"handleReceiveSyncEvent",function(E,S,T){if(P.props.syncId===E){if(T===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(S)}}),le(P,"handleBrushChange",function(E){var S=E.startIndex,T=E.endIndex;if(S!==P.state.dataStartIndex||T!==P.state.dataEndIndex){var M=P.state.updateId;P.setState(function(){return G({dataStartIndex:S,dataEndIndex:T},m({props:P.props,dataStartIndex:S,dataEndIndex:T,updateId:M},P.state))}),P.triggerSyncEvent({dataStartIndex:S,dataEndIndex:T})}}),le(P,"handleMouseEnter",function(E){var S=P.getMouseInfo(E);if(S){var T=G(G({},S),{},{isTooltipActive:!0});P.setState(T),P.triggerSyncEvent(T);var M=P.props.onMouseEnter;_e(M)&&M(T,E)}}),le(P,"triggeredAfterMouseMove",function(E){var S=P.getMouseInfo(E),T=S?G(G({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(T),P.triggerSyncEvent(T);var M=P.props.onMouseMove;_e(M)&&M(T,E)}),le(P,"handleItemMouseEnter",function(E){P.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),le(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),le(P,"handleMouseMove",function(E){E.persist(),P.throttleTriggeredAfterMouseMove(E)}),le(P,"handleMouseLeave",function(E){P.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};P.setState(S),P.triggerSyncEvent(S);var T=P.props.onMouseLeave;_e(T)&&T(S,E)}),le(P,"handleOuterEvent",function(E){var S=VK(E),T=qn(P.props,"".concat(S));if(S&&_e(T)){var M,I;/.*touch.*/i.test(S)?I=P.getMouseInfo(E.changedTouches[0]):I=P.getMouseInfo(E),T((M=I)!==null&&M!==void 0?M:{},E)}}),le(P,"handleClick",function(E){var S=P.getMouseInfo(E);if(S){var T=G(G({},S),{},{isTooltipActive:!0});P.setState(T),P.triggerSyncEvent(T);var M=P.props.onClick;_e(M)&&M(T,E)}}),le(P,"handleMouseDown",function(E){var S=P.props.onMouseDown;if(_e(S)){var T=P.getMouseInfo(E);S(T,E)}}),le(P,"handleMouseUp",function(E){var S=P.props.onMouseUp;if(_e(S)){var T=P.getMouseInfo(E);S(T,E)}}),le(P,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),le(P,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&P.handleMouseDown(E.changedTouches[0])}),le(P,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&P.handleMouseUp(E.changedTouches[0])}),le(P,"handleDoubleClick",function(E){var S=P.props.onDoubleClick;if(_e(S)){var T=P.getMouseInfo(E);S(T,E)}}),le(P,"handleContextMenu",function(E){var S=P.props.onContextMenu;if(_e(S)){var T=P.getMouseInfo(E);S(T,E)}}),le(P,"triggerSyncEvent",function(E){P.props.syncId!==void 0&&nv.emit(rv,P.props.syncId,E,P.eventEmitterSymbol)}),le(P,"applySyncEvent",function(E){var S=P.props,T=S.layout,M=S.syncMethod,I=P.state.updateId,O=E.dataStartIndex,j=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)P.setState(G({dataStartIndex:O,dataEndIndex:j},m({props:P.props,dataStartIndex:O,dataEndIndex:j,updateId:I},P.state)));else if(E.activeTooltipIndex!==void 0){var C=E.chartX,L=E.chartY,B=E.activeTooltipIndex,F=P.state,U=F.offset,R=F.tooltipTicks;if(!U)return;if(typeof M=="function")B=M(R,E);else if(M==="value"){B=-1;for(var V=0;V<R.length;V++)if(R[V].value===E.activeLabel){B=V;break}}var $=G(G({},U),{},{x:U.left,y:U.top}),K=Math.min(C,$.x+$.width),q=Math.min(L,$.y+$.height),ee=R[B]&&R[B].value,me=nb(P.state,P.props.data,B),be=R[B]?{x:T==="horizontal"?R[B].coordinate:K,y:T==="horizontal"?q:R[B].coordinate}:w$;P.setState(G(G({},E),{},{activeLabel:ee,activeCoordinate:be,activePayload:me,activeTooltipIndex:B}))}else P.setState(E)}),le(P,"renderCursor",function(E){var S,T=P.state,M=T.isTooltipActive,I=T.activeCoordinate,O=T.activePayload,j=T.offset,C=T.activeTooltipIndex,L=T.tooltipAxisBandSize,B=P.getTooltipEventType(),F=(S=E.props.active)!==null&&S!==void 0?S:M,U=P.props.layout,R=E.key||"_recharts-cursor";return H.createElement(kme,{key:R,activeCoordinate:I,activePayload:O,activeTooltipIndex:C,chartName:n,element:E,isActive:F,layout:U,offset:j,tooltipAxisBandSize:L,tooltipEventType:B})}),le(P,"renderPolarAxis",function(E,S,T){var M=qn(E,"type.axisType"),I=qn(P.state,"".concat(M,"Map")),O=E.type.defaultProps,j=O!==void 0?G(G({},O),E.props):E.props,C=I&&I[j["".concat(M,"Id")]];return k.cloneElement(E,G(G({},C),{},{className:Te(M,C.className),key:E.key||"".concat(S,"-").concat(T),ticks:es(C,!0)}))}),le(P,"renderPolarGrid",function(E){var S=E.props,T=S.radialLines,M=S.polarAngles,I=S.polarRadius,O=P.state,j=O.radiusAxisMap,C=O.angleAxisMap,L=Gs(j),B=Gs(C),F=B.cx,U=B.cy,R=B.innerRadius,V=B.outerRadius;return k.cloneElement(E,{polarAngles:Array.isArray(M)?M:es(B,!0).map(function($){return $.coordinate}),polarRadius:Array.isArray(I)?I:es(L,!0).map(function($){return $.coordinate}),cx:F,cy:U,innerRadius:R,outerRadius:V,key:E.key||"polar-grid",radialLines:T})}),le(P,"renderLegend",function(){var E=P.state.formattedGraphicalItems,S=P.props,T=S.children,M=S.width,I=S.height,O=P.props.margin||{},j=M-(O.left||0)-(O.right||0),C=fR({children:T,formattedGraphicalItems:E,legendWidth:j,legendContent:c});if(!C)return null;var L=C.item,B=OM(C,Rme);return k.cloneElement(L,G(G({},B),{},{chartWidth:M,chartHeight:I,margin:O,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),le(P,"renderTooltip",function(){var E,S=P.props,T=S.children,M=S.accessibilityLayer,I=Nn(T,Tr);if(!I)return null;var O=P.state,j=O.isTooltipActive,C=O.activeCoordinate,L=O.activePayload,B=O.activeLabel,F=O.offset,U=(E=I.props.active)!==null&&E!==void 0?E:j;return k.cloneElement(I,{viewBox:G(G({},F),{},{x:F.left,y:F.top}),active:U,label:B,payload:U?L:[],coordinate:C,accessibilityLayer:M})}),le(P,"renderBrush",function(E){var S=P.props,T=S.margin,M=S.data,I=P.state,O=I.offset,j=I.dataStartIndex,C=I.dataEndIndex,L=I.updateId;return k.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Th(P.handleBrushChange,E.props.onChange),data:M,x:te(E.props.x)?E.props.x:O.left,y:te(E.props.y)?E.props.y:O.top+O.height+O.brushBottom-(T.bottom||0),width:te(E.props.width)?E.props.width:O.width,startIndex:j,endIndex:C,updateId:"brush-".concat(L)})}),le(P,"renderReferenceElement",function(E,S,T){if(!E)return null;var M=P,I=M.clipPathId,O=P.state,j=O.xAxisMap,C=O.yAxisMap,L=O.offset,B=E.type.defaultProps||{},F=E.props,U=F.xAxisId,R=U===void 0?B.xAxisId:U,V=F.yAxisId,$=V===void 0?B.yAxisId:V;return k.cloneElement(E,{key:E.key||"".concat(S,"-").concat(T),xAxis:j[R],yAxis:C[$],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:I})}),le(P,"renderActivePoints",function(E){var S=E.item,T=E.activePoint,M=E.basePoint,I=E.childIndex,O=E.isRange,j=[],C=S.props.key,L=S.item.type.defaultProps!==void 0?G(G({},S.item.type.defaultProps),S.item.props):S.item.props,B=L.activeDot,F=L.dataKey,U=G(G({index:I,dataKey:F,cx:T.x,cy:T.y,r:4,fill:K_(S.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Pe(B,!1)),Qf(B));return j.push(x.renderActiveDot(B,U,"".concat(C,"-activePoint-").concat(I))),M?j.push(x.renderActiveDot(B,G(G({},U),{},{cx:M.x,cy:M.y}),"".concat(C,"-basePoint-").concat(I))):O&&j.push(null),j}),le(P,"renderGraphicChild",function(E,S,T){var M=P.filterFormatItem(E,S,T);if(!M)return null;var I=P.getTooltipEventType(),O=P.state,j=O.isTooltipActive,C=O.tooltipAxis,L=O.activeTooltipIndex,B=O.activeLabel,F=P.props.children,U=Nn(F,Tr),R=M.props,V=R.points,$=R.isRange,K=R.baseLine,q=M.item.type.defaultProps!==void 0?G(G({},M.item.type.defaultProps),M.item.props):M.item.props,ee=q.activeDot,me=q.hide,be=q.activeBar,Ne=q.activeShape,ht=!!(!me&&j&&U&&(ee||be||Ne)),Ht={};I!=="axis"&&U&&U.props.trigger==="click"?Ht={onClick:Th(P.handleItemMouseEnter,E.props.onClick)}:I!=="axis"&&(Ht={onMouseLeave:Th(P.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Th(P.handleItemMouseEnter,E.props.onMouseEnter)});var ne=k.cloneElement(E,G(G({},M.props),Ht));function de(Wr){return typeof C.dataKey=="function"?C.dataKey(Wr.payload):null}if(ht)if(L>=0){var fe,Q;if(C.dataKey&&!C.allowDuplicatedCategory){var Ve=typeof C.dataKey=="function"?de:"payload.".concat(C.dataKey.toString());fe=Xf(V,Ve,B),Q=$&&K&&Xf(K,Ve,B)}else fe=V==null?void 0:V[L],Q=$&&K&&K[L];if(Ne||be){var ye=E.props.activeIndex!==void 0?E.props.activeIndex:L;return[k.cloneElement(E,G(G(G({},M.props),Ht),{},{activeIndex:ye})),null,null]}if(!ve(fe))return[ne].concat(ul(P.renderActivePoints({item:M,activePoint:fe,basePoint:Q,childIndex:L,isRange:$})))}else{var Ze,at=(Ze=P.getItemByXY(P.state.activeCoordinate))!==null&&Ze!==void 0?Ze:{graphicalItem:ne},zt=at.graphicalItem,_r=zt.item,zr=_r===void 0?E:_r,Ii=zt.childIndex,Sr=G(G(G({},M.props),Ht),{},{activeIndex:Ii});return[k.cloneElement(zr,Sr),null,null]}return $?[ne,null,null]:[ne,null]}),le(P,"renderCustomized",function(E,S,T){return k.cloneElement(E,G(G({key:"recharts-customized-".concat(T)},P.props),P.state))}),le(P,"renderMap",{CartesianGrid:{handler:Ch,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Ch},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Ch},YAxis:{handler:Ch},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((_=v.id)!==null&&_!==void 0?_:Ed("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=f2(P.triggeredAfterMouseMove,(A=v.throttleDelay)!==null&&A!==void 0?A:1e3/60),P.state={},P}return qme(x,g),zme(x,[{key:"componentDidMount",value:function(){var _,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,A=_.children,P=_.data,E=_.height,S=_.layout,T=Nn(A,Tr);if(T){var M=T.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,O=nb(this.state,P,M,I),j=this.state.tooltipTicks[M].coordinate,C=(this.state.offset.top+E)/2,L=S==="horizontal",B=L?{x:j,y:C}:{y:j,x:C},F=this.state.formattedGraphicalItems.find(function(R){var V=R.item;return V.type.name==="Scatter"});F&&(B=G(G({},B),F.props.points[M].tooltipPosition),O=F.props.points[M].tooltipPayload);var U={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:I,activePayload:O,activeCoordinate:B};this.setState(U),this.renderCursor(T),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var P,E;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(_){D0([Nn(_.children,Tr)],[Nn(this.props.children,Tr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Nn(this.props.children,Tr);if(_&&typeof _.props.shared=="boolean"){var A=_.props.shared?"axis":"item";return o.indexOf(A)>=0?A:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var A=this.container,P=A.getBoundingClientRect(),E=mre(P),S={chartX:Math.round(_.pageX-E.left),chartY:Math.round(_.pageY-E.top)},T=P.width/A.offsetWidth||1,M=this.inRange(S.chartX,S.chartY,T);if(!M)return null;var I=this.state,O=I.xAxisMap,j=I.yAxisMap,C=this.getTooltipEventType(),L=kM(this.state,this.props.data,this.props.layout,M);if(C!=="axis"&&O&&j){var B=Gs(O).scale,F=Gs(j).scale,U=B&&B.invert?B.invert(S.chartX):null,R=F&&F.invert?F.invert(S.chartY):null;return G(G({},S),{},{xValue:U,yValue:R},L)}return L?G(G({},S),L):null}},{key:"inRange",value:function(_,A){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,S=_/P,T=A/P;if(E==="horizontal"||E==="vertical"){var M=this.state.offset,I=S>=M.left&&S<=M.left+M.width&&T>=M.top&&T<=M.top+M.height;return I?{x:S,y:T}:null}var O=this.state,j=O.angleAxisMap,C=O.radiusAxisMap;if(j&&C){var L=Gs(j);return wN({x:S,y:T},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,A=this.getTooltipEventType(),P=Nn(_,Tr),E={};P&&A==="axis"&&(P.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Qf(this.props,this.handleOuterEvent);return G(G({},S),E)}},{key:"addListener",value:function(){nv.on(rv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){nv.removeListener(rv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,A,P){for(var E=this.state.formattedGraphicalItems,S=0,T=E.length;S<T;S++){var M=E[S];if(M.item===_||M.props.key===_.key||A===oi(M.item.type)&&P===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,A=this.state.offset,P=A.left,E=A.top,S=A.height,T=A.width;return H.createElement("defs",null,H.createElement("clipPath",{id:_},H.createElement("rect",{x:P,y:E,height:S,width:T})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(A,P){var E=CM(P,2),S=E[0],T=E[1];return G(G({},A),{},le({},S,T.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(A,P){var E=CM(P,2),S=E[0],T=E[1];return G(G({},A),{},le({},S,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[_])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(_){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[_])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(_){var A=this.state,P=A.formattedGraphicalItems,E=A.activeItem;if(P&&P.length)for(var S=0,T=P.length;S<T;S++){var M=P[S],I=M.props,O=M.item,j=O.type.defaultProps!==void 0?G(G({},O.type.defaultProps),O.props):O.props,C=oi(O.type);if(C==="Bar"){var L=(I.data||[]).find(function(R){return tde(_,R)});if(L)return{graphicalItem:M,payload:L}}else if(C==="RadialBar"){var B=(I.data||[]).find(function(R){return wN(_,R)});if(B)return{graphicalItem:M,payload:B}}else if(xg(M,E)||bg(M,E)||Zu(M,E)){var F=ihe({graphicalItem:M,activeTooltipItem:E,itemData:j.data}),U=j.activeIndex===void 0?F:j.activeIndex;return{graphicalItem:G(G({},M),{},{childIndex:U}),payload:Zu(M,E)?j.data[F]:M.props.data[F]}}}return null}},{key:"render",value:function(){var _=this;if(!dA(this))return null;var A=this.props,P=A.children,E=A.className,S=A.width,T=A.height,M=A.style,I=A.compact,O=A.title,j=A.desc,C=OM(A,$me),L=Pe(C,!1);if(I)return H.createElement(gM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(R0,uo({},L,{width:S,height:T,title:O,desc:j}),this.renderClipPath(),fA(P,this.renderMap)));if(this.props.accessibilityLayer){var B,F;L.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,L.role=(F=this.props.role)!==null&&F!==void 0?F:"application",L.onKeyDown=function(R){_.accessibilityManager.keyboardEvent(R)},L.onFocus=function(){_.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return H.createElement(gM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",uo({className:Te("recharts-wrapper",E),style:G({position:"relative",cursor:"default",width:S,height:T},M)},U,{ref:function(V){_.container=V}}),H.createElement(R0,uo({},L,{width:S,height:T,title:O,desc:j,style:ege}),this.renderClipPath(),fA(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(k.Component);le(y,"displayName",n),le(y,"defaultProps",G({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),le(y,"getDerivedStateFromProps",function(g,x){var v=g.dataKey,_=g.data,A=g.children,P=g.width,E=g.height,S=g.layout,T=g.stackOffset,M=g.margin,I=x.dataStartIndex,O=x.dataEndIndex;if(x.updateId===void 0){var j=RM(g);return G(G(G({},j),{},{updateId:0},m(G(G({props:g},j),{},{updateId:0}),x)),{},{prevDataKey:v,prevData:_,prevWidth:P,prevHeight:E,prevLayout:S,prevStackOffset:T,prevMargin:M,prevChildren:A})}if(v!==x.prevDataKey||_!==x.prevData||P!==x.prevWidth||E!==x.prevHeight||S!==x.prevLayout||T!==x.prevStackOffset||!So(M,x.prevMargin)){var C=RM(g),L={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},B=G(G({},kM(x,_,S)),{},{updateId:x.updateId+1}),F=G(G(G({},C),L),B);return G(G(G({},F),m(G({props:g},F),x)),{},{prevDataKey:v,prevData:_,prevWidth:P,prevHeight:E,prevLayout:S,prevStackOffset:T,prevMargin:M,prevChildren:A})}if(!D0(A,x.prevChildren)){var U,R,V,$,K=Nn(A,el),q=K&&(U=(R=K.props)===null||R===void 0?void 0:R.startIndex)!==null&&U!==void 0?U:I,ee=K&&(V=($=K.props)===null||$===void 0?void 0:$.endIndex)!==null&&V!==void 0?V:O,me=q!==I||ee!==O,be=!ve(_),Ne=be&&!me?x.updateId:x.updateId+1;return G(G({updateId:Ne},m(G(G({props:g},x),{},{updateId:Ne,dataStartIndex:q,dataEndIndex:ee}),x)),{},{prevChildren:A,dataStartIndex:q,dataEndIndex:ee})}return null}),le(y,"renderActiveDot",function(g,x,v){var _;return k.isValidElement(g)?_=k.cloneElement(g,x):_e(g)?_=g(x):_=H.createElement(q_,x),H.createElement(dt,{className:"recharts-active-dot",key:v},_)});var w=k.forwardRef(function(x,v){return H.createElement(y,uo({},x,{ref:v}))});return w.displayName=y.displayName,w},dge=uge({chartName:"LineChart",GraphicalChild:jd,axisComponents:[{axisType:"xAxis",AxisComp:Z_},{axisType:"yAxis",AxisComp:e1}],formatAxisMap:jfe});function hge({insight:t}){var e;return(e=t==null?void 0:t.recentSymptoms)!=null&&e.trim()?u.jsxs("section",{className:"card",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Your AI Health Summary"}),u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.recentSymptoms}),u.jsxs("div",{className:"mt-4 rounded-xl border border-slate-100 p-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"font-semibold text-slate-600",children:"Risk Score"}),u.jsxs("span",{className:"font-semibold text-med-700",children:[t.riskScore,"%"]})]}),u.jsx("div",{className:"mt-2 h-2.5 rounded-full bg-slate-100",children:u.jsx("div",{className:"h-2.5 rounded-full bg-gradient-to-r from-emerald-400 via-amber-400 to-red-500",style:{width:`${t.riskScore}%`}})})]}),u.jsx("div",{className:"mt-4 h-20 w-full rounded-xl bg-slate-50 p-2",children:u.jsx(lre,{children:u.jsxs(dge,{data:t.trend,children:[u.jsx(Tr,{}),u.jsx(jd,{type:"monotone",dataKey:"score",stroke:"#1468d6",strokeWidth:2.5,dot:!1})]})})}),u.jsxs("p",{className:"mt-3 text-sm",children:[u.jsx("span",{className:"font-semibold",children:"Recommended Department:"})," ",t.recommendedDepartment]}),u.jsx("p",{className:"mt-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Pending Test Suggestions"}),t.pendingTests.length?u.jsx("ul",{className:"mt-1 list-disc pl-5 text-sm text-slate-700",children:t.pendingTests.map(n=>u.jsx("li",{children:n},n))}):u.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"No pending test suggestions."}),u.jsx(je,{to:"/triage",className:"btn-primary mt-4 w-full",children:"View Detailed Analysis"})]}):null}const fge={confirmed:"bg-emerald-100 text-emerald-700",scheduled:"bg-blue-100 text-blue-700",pending:"bg-amber-100 text-amber-700",ready:"bg-teal-100 text-teal-700"};function pge({events:t}){return u.jsxs("section",{className:"card",children:[u.jsxs("div",{className:"mb-4 flex items-end justify-between",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Upcoming Events"}),u.jsx("p",{className:"text-xs text-slate-500",children:"Appointments, payments, and reports"})]}),u.jsx("div",{className:"space-y-3",children:t.map(e=>u.jsxs("article",{className:"rounded-2xl border border-slate-100 p-4",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:e.type}),u.jsx("span",{className:`rounded-full px-2.5 py-1 text-xs font-semibold uppercase ${fge[e.status]}`,children:e.status})]}),u.jsx("h3",{className:"mt-1 text-sm font-semibold",children:e.title}),u.jsx("p",{className:"mt-1 text-xs text-slate-600",children:e.date}),u.jsx(je,{to:e.to,className:"btn-secondary mt-3",children:e.action})]},e.id))})]})}function mge(){const[t,e]=k.useState(!1),[n,r]=k.useState("");return u.jsxs("div",{className:"fixed bottom-5 right-5 z-50",children:[t?u.jsxs("section",{className:"mb-3 w-80 rounded-2xl border border-slate-200 bg-white p-4 shadow-card",children:[u.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[u.jsx("h3",{className:"text-sm font-semibold",children:"Ask Reception"}),u.jsx("button",{type:"button",className:"text-xs text-slate-500",onClick:()=>e(!1),children:"Close"})]}),u.jsx("div",{className:"rounded-xl bg-slate-50 p-3 text-xs text-slate-600",children:"Hello! I can help with appointments, billing, and report status."}),u.jsxs("div",{className:"mt-3 flex gap-2",children:[u.jsx("input",{className:"input",placeholder:"Type your message...",value:n,onChange:i=>r(i.target.value)}),u.jsx("button",{type:"button",className:"rounded-xl border border-slate-200 px-3 text-lg","aria-label":"Voice input",children:""})]}),u.jsx("button",{type:"button",className:"btn-primary mt-3 w-full",children:"Send"})]}):null,u.jsx("button",{type:"button",className:"btn-primary rounded-full px-5 py-3 shadow-card",onClick:()=>e(i=>!i),children:"Ask Reception"})]})}const gge=[{id:"ai-assistant",title:"Talk to AI Assistant",description:"Get symptom guidance and triage support instantly.",icon:"",to:"/triage"},{id:"appointment",title:"Book Appointment",description:"Find doctor slots and reserve an OPD consultation.",icon:"",to:"/appointments"},{id:"my-appointments",title:"My Appointments",description:"Track all booked consultations and status updates.",icon:"",to:"/my-appointments"},{id:"lab",title:"Schedule Lab Test",description:"Book diagnostics with transparent billing details.",icon:"",to:"/lab-booking"},{id:"records",title:"View Medical Records",description:"Access reports and download available documents.",icon:"",to:"/medical-records"},{id:"opd",title:"Explore OPD Departments",description:"Browse specialty departments and care pathways.",icon:"",to:"/opd-departments"},{id:"chat-history",title:"Chat History",description:"Review your previous AI and reception conversations.",icon:"",to:"/chat-history"}];ur.slice(0,8).map(t=>({id:t.id,name:t.fullName,department:t.department,image:t.profileImage,nextSlot:t.availableTimeSlots[0]||"Fully booked",status:t.availabilityStatus==="Available"?"available":"booked"}));function yge(t){return t==="high"?82:t==="medium"?58:22}function vge(t){if(!t.length)return 0;const e={high:85,medium:60,low:30},n=t.reduce((r,i)=>r+(e[i.priority]||30),0);return Math.round(n/t.length)}function xge(t){return[{day:"Mon",score:Math.min(100,t+8)},{day:"Tue",score:Math.min(100,t+6)},{day:"Wed",score:Math.min(100,t+4)},{day:"Thu",score:Math.min(100,t+3)},{day:"Fri",score:Math.min(100,t+1)},{day:"Sat",score:t}]}function bge(t){const e=[];return t.latestBooking&&(e.push({id:"evt-lab-booking",type:"Scheduled Lab Test",title:`${t.latestBooking.tests.map(n=>n.name).join(", ")}`,date:new Date(t.latestBooking.slot).toLocaleString(),status:t.latestBooking.paymentStatus==="paid"?"scheduled":"pending",action:"View Booking",to:"/booking-confirmation"}),t.latestBooking.paymentStatus!=="paid"&&e.push({id:"evt-pending-payment",type:"Pending Payment",title:"Complete your test payment to confirm slot",date:"Action required now",status:"pending",action:"Pay Now",to:"/payment"})),t.reports.length&&e.push({id:"evt-report-ready",type:"Report Ready",title:t.reports[0].fileName,date:`Uploaded ${new Date(t.reports[0].uploadedAt).toLocaleString()}`,status:"ready",action:"Download Report",to:"/medical-records"}),e.length||e.push({id:"evt-empty",type:"No Upcoming Events",title:"No appointments, tests, or pending actions yet.",date:"Use quick actions to start",status:"confirmed",action:"Open AI Assistant",to:"/triage"}),e}function wge(){var l;const{state:t}=At(),e=t.patient.selectedHospitalId||((l=t.selectedHospital)==null?void 0:l.id),n=yge(t.patient.riskLevel),r=vge(t.recommendedTests),i=!!(t.patientSymptoms.trim()&&t.recommendationSummary.trim()&&t.recommendedTests.length),a=k.useMemo(()=>({recentSymptoms:t.patientSymptoms,riskScore:r||n,recommendedDepartment:t.recommendedTests.some(c=>c.priority==="high")?"Cardiology OPD":"General Medicine OPD",pendingTests:t.recommendedTests.map(c=>c.name),trend:xge(r||n)}),[r,n,t.patientSymptoms,t.recommendedTests]),s=k.useMemo(()=>bge(t),[t]),o=k.useMemo(()=>t.doctors.filter(c=>c.hospitalId===e).slice(0,8).map(c=>({id:c.id,name:c.fullName,department:c.department,image:c.profileImage,nextSlot:c.availableTimeSlots[0]||"Fully booked",status:c.availabilityStatus==="Available"?"available":"booked"})),[e,t.doctors]);return u.jsxs("div",{className:"page-shell space-y-4 pb-24",children:[u.jsx(H8,{patientName:t.patient.name}),u.jsx(K8,{patient:t.patient}),u.jsxs("section",{className:"grid gap-3 sm:grid-cols-2",children:[u.jsxs("article",{className:"card",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Total Appointments"}),u.jsx("p",{className:"mt-1 text-2xl font-bold text-med-700",children:t.appointments.length})]}),u.jsxs("article",{className:"card",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Total Medical Records"}),u.jsx("p",{className:"mt-1 text-2xl font-bold text-med-700",children:t.medicalRecords.length+t.reports.length})]})]}),u.jsx(G8,{actions:gge}),u.jsx(Y8,{doctors:o}),u.jsx(pge,{events:s}),i?u.jsx(hge,{insight:a}):null,u.jsx(mge,{})]})}function _ge({currentStep:t}){const e=[{id:1,label:"Select Department"},{id:2,label:"Select Doctor"},{id:3,label:"Appointment Details"}];return u.jsx("div",{className:"grid gap-2 sm:grid-cols-3",children:e.map(n=>{const r=n.id===t,i=n.id<t;return u.jsxs("div",{className:`rounded-xl border px-3 py-2 text-sm transition ${r?"border-med-500 bg-med-50 text-med-700":i?"border-emerald-300 bg-emerald-50 text-emerald-700":"border-slate-200 text-slate-500"}`,children:[u.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide",children:["Step ",n.id]}),u.jsx("p",{className:"font-semibold",children:n.label})]},n.id)})})}function S$({doctor:t,showSelectButton:e=!0,selected:n=!1,onSelect:r}){const i=t.gender==="Female"?"https://randomuser.me/api/portraits/women/44.jpg":"https://randomuser.me/api/portraits/men/44.jpg";return u.jsxs("article",{className:"rounded-2xl border border-slate-100 bg-white p-4 shadow-sm transition hover:shadow-card",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("img",{src:t.profileImage,alt:t.fullName,className:"h-16 w-16 rounded-xl object-cover",onError:a=>{a.currentTarget.onerror=null,a.currentTarget.src=i}}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-base font-semibold",children:t.fullName}),u.jsx("p",{className:"text-sm text-slate-600",children:t.specialization}),u.jsx("p",{className:"mt-1 text-xs text-slate-500",children:t.department})]}),u.jsx("span",{className:`rounded-full px-2.5 py-1 text-xs font-semibold ${t.availabilityStatus==="Available"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:t.availabilityStatus})]}),u.jsxs("div",{className:"mt-3 grid gap-1 text-xs text-slate-600 sm:grid-cols-2",children:[u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Experience:"})," ",t.experienceYears," years"]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Education:"})," ",t.educationShort]}),u.jsxs("p",{className:"sm:col-span-2",children:[u.jsx("span",{className:"font-semibold",children:"Languages:"})," ",t.languages.join(", ")]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Consultation Fee:"})," ",t.consultationFee]})]}),u.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[u.jsx(je,{className:"btn-secondary",to:`/doctor/${t.id}`,children:"View Profile"}),e?u.jsx("button",{type:"button",className:`btn-primary ${n?"ring-4 ring-med-100":""}`,onClick:()=>r==null?void 0:r(t),disabled:t.availabilityStatus!=="Available",children:n?"Selected Doctor":"Select Doctor"}):null]})]})}function Sge(){var L;const t=wn(),{state:e,addAppointment:n,loading:r}=At(),[i,a]=k.useState(1),[s,o]=k.useState(""),[l,c]=k.useState(null),[h,d]=k.useState(""),[p,m]=k.useState(""),[y,w]=k.useState(""),[g,x]=k.useState(null),[v,_]=k.useState(0),[A,P]=k.useState(!1),[E,S]=k.useState(null),T=e.patient.selectedHospitalId||((L=e.selectedHospital)==null?void 0:L.id),M=k.useMemo(()=>e.doctors.filter(B=>B.hospitalId===T),[T,e.doctors]),I=k.useMemo(()=>[...new Set(M.map(B=>B.department))],[M]),O=k.useMemo(()=>s?M.filter(B=>B.department===s):M,[s,M]),j=(l==null?void 0:l.availableTimeSlots)||[],C=async()=>{var R;if(!l||!h||!p||!y.trim())return;_(0);let B=0;const F=setInterval(()=>{B+=20,_(Math.min(B,90))},120),U=await n({doctor:l,department:s,date:h,time:p,reason:y,file:g,recordType:"Appointment Attachment"});clearInterval(F),_(100),U&&(S({appointmentId:U.id,department:U.department,doctorName:U.doctorName,date:U.date,slot:U.time,reason:U.reason,attachment:((R=U.uploadedMedicalFile)==null?void 0:R.fileName)||"No attachment"}),setTimeout(()=>t("/my-appointments"),900))};return u.jsxs("div",{className:"page-shell space-y-4",children:[u.jsxs("section",{className:"card space-y-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Appointments"}),u.jsx("h2",{className:"mt-1 text-xl font-semibold",children:"Book Appointment"}),u.jsxs("p",{className:"mt-1 text-sm text-slate-600",children:["Complete the booking in 3 quick steps for ",e.selectedHospital.name,"."]})]}),u.jsx(_ge,{currentStep:i}),i===1?u.jsxs("div",{children:[u.jsx("p",{className:"mb-3 text-sm font-semibold",children:"Step 1: Select Department"}),u.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:I.map(B=>u.jsx("button",{type:"button",onClick:()=>o(B),className:`rounded-xl border px-3 py-2 text-left text-sm transition ${s===B?"border-med-500 bg-med-50 text-med-700":"border-slate-200 text-slate-700 hover:bg-slate-50"}`,children:B},B))}),u.jsx("div",{className:"mt-4 flex justify-end",children:u.jsx("button",{type:"button",className:"btn-primary",onClick:()=>a(2),disabled:!s,children:"Continue to Doctors"})})]}):null,i===2?u.jsxs("div",{children:[u.jsx("p",{className:"mb-3 text-sm font-semibold",children:"Step 2: Select Doctor"}),u.jsx("div",{className:"grid gap-3",children:O.map(B=>u.jsx(S$,{doctor:B,selected:(l==null?void 0:l.id)===B.id,onSelect:c},B.id))}),u.jsxs("div",{className:"mt-4 flex justify-between",children:[u.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>a(1),children:"Back"}),u.jsx("button",{type:"button",className:"btn-primary",onClick:()=>a(3),disabled:!l,children:"Continue to Details"})]})]}):null,i===3?u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-sm font-semibold",children:"Step 3: Appointment Details"}),u.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[u.jsxs("label",{className:"text-sm text-slate-700",children:["Appointment Date",u.jsx("input",{type:"date",className:"input mt-1",value:h,onChange:B=>d(B.target.value)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-700",children:"Available Time Slots"}),u.jsx("div",{className:"mt-1 flex flex-wrap gap-2",children:j.map(B=>u.jsx("button",{type:"button",className:`rounded-lg border px-3 py-1.5 text-xs transition ${p===B?"border-med-500 bg-med-50 text-med-700":"border-slate-200 text-slate-700 hover:bg-slate-50"}`,onClick:()=>m(B),children:B},B))})]}),u.jsxs("label",{className:"text-sm text-slate-700 sm:col-span-2",children:["Reason for Visit",u.jsx("textarea",{className:"input mt-1 min-h-[90px]",value:y,onChange:B=>w(B.target.value),placeholder:"Briefly describe your concern"})]}),u.jsxs("label",{className:"text-sm text-slate-700 sm:col-span-2",children:["Upload Medical Record (PDF/JPG/PNG)",u.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"input mt-1",onChange:B=>{var F;return x(((F=B.target.files)==null?void 0:F[0])||null)}})]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>a(2),children:"Back"}),u.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>P(B=>!B),disabled:!l||!h||!p||!y.trim(),children:A?"Hide Summary":"Review Summary"})]}),A?u.jsxs("article",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 text-sm",children:[u.jsx("p",{className:"font-semibold",children:"Confirmation Summary"}),u.jsxs("p",{className:"mt-2",children:[u.jsx("span",{className:"font-semibold",children:"Doctor:"})," ",l==null?void 0:l.fullName]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Department:"})," ",s]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Date:"})," ",h]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Time:"})," ",p]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Reason:"})," ",y]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"File:"})," ",(g==null?void 0:g.name)||"No file uploaded"]}),r.appointment?u.jsxs("div",{className:"mt-3",children:[u.jsx("div",{className:"h-2 rounded-full bg-slate-200",children:u.jsx("div",{className:"h-2 rounded-full bg-med-600 transition-all",style:{width:`${v}%`}})}),u.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Uploading medical file... ",v,"%"]})]}):null]}):null,u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{type:"button",className:"btn-primary",onClick:C,disabled:r.appointment||!A,children:r.appointment?"Confirming...":"Confirm Appointment"})})]}):null]}),E?u.jsxs("section",{className:"card border border-emerald-200 bg-emerald-50",children:[u.jsx("p",{className:"text-sm font-semibold text-emerald-700",children:" Appointment Confirmed Successfully"}),u.jsxs("div",{className:"mt-3 grid gap-2 text-sm sm:grid-cols-2",children:[u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Appointment ID:"})," ",E.appointmentId]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Doctor:"})," ",E.doctorName]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Department:"})," ",E.department]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Date & Slot:"})," ",E.date,"  ",E.slot]}),u.jsxs("p",{className:"sm:col-span-2",children:[u.jsx("span",{className:"font-semibold",children:"Reason:"})," ",E.reason]}),u.jsxs("p",{className:"sm:col-span-2",children:[u.jsx("span",{className:"font-semibold",children:"Attachment:"})," ",E.attachment]})]})]}):null]})}function Ege(t){const e=new Date(t),n=new Date;return e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()&&e.getDate()===n.getDate()}function Pge(t){if(t.status==="Cancelled")return"Cancelled";const e=new Date(t.date),n=new Date;return e<new Date(n.getFullYear(),n.getMonth(),n.getDate())?"Completed":"Upcoming"}function Age(){const{state:t,cancelAppointment:e}=At(),{currentUser:n}=$n(),r=(n==null?void 0:n.role)==="doctor",i=k.useMemo(()=>{let a=[...t.appointments];return r&&n!=null&&n.doctorId&&(a=a.filter(s=>s.doctor_id===n.doctorId)),a.filter(s=>s.status!=="Cancelled").sort((s,o)=>new Date(o.createdAt).getTime()-new Date(s.createdAt).getTime())},[t.appointments,n,r]);return u.jsxs("div",{className:"page-shell space-y-4",children:[u.jsxs("section",{className:"card",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Appointments"}),u.jsx("h2",{className:"mt-1 text-xl font-semibold",children:"My Appointments"}),u.jsxs("p",{className:"mt-1 text-sm text-slate-600",children:["Total appointments: ",i.length]})]}),i.length?u.jsx("section",{className:"space-y-3",children:i.map(a=>{var l;const s=Pge(a),o=Ege(a.date);return u.jsxs("article",{className:"card",children:[u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold",children:a.id}),u.jsx("p",{className:"text-base font-semibold",children:r?a.patientName||`Patient ID: ${a.patient_id}`:a.doctorName}),u.jsx("p",{className:"text-sm text-slate-600",children:a.department})]}),u.jsxs("div",{className:"flex gap-2",children:[o?u.jsx("span",{className:"rounded-full bg-blue-100 px-2.5 py-1 text-xs font-semibold text-blue-700",children:"Today"}):null,u.jsx("span",{className:`rounded-full px-2.5 py-1 text-xs font-semibold ${s==="Upcoming"?"bg-emerald-100 text-emerald-700":s==="Completed"?"bg-slate-100 text-slate-700":"bg-red-100 text-red-700"}`,children:s})]})]}),u.jsxs("div",{className:"mt-3 grid gap-2 text-sm sm:grid-cols-2",children:[u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Date:"})," ",a.date]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Time:"})," ",a.time]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Consultation Fee:"})," ",a.consultationFee]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Reason:"})," ",a.reason]})]}),a.uploadedMedicalFile?u.jsxs("div",{className:"mt-3 rounded-xl border border-slate-100 bg-slate-50 p-3 text-sm",children:[u.jsx("p",{className:"font-semibold",children:"Uploaded Medical File"}),u.jsx("p",{className:"text-slate-600",children:a.uploadedMedicalFile.fileName}),(l=a.uploadedMedicalFile.mimeType)!=null&&l.startsWith("image/")&&a.uploadedMedicalFile.previewUrl?u.jsx("img",{src:a.uploadedMedicalFile.previewUrl,alt:a.uploadedMedicalFile.fileName,className:"mt-2 h-24 w-24 rounded-lg object-cover"}):u.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Preview available in Medical Records."})]}):null,s!=="Cancelled"?u.jsx("button",{className:"btn-secondary mt-3",type:"button",onClick:()=>e(a.id),children:"Cancel"}):null]},a.id)})}):u.jsx("section",{className:"card",children:u.jsx("p",{className:"text-sm text-slate-500",children:"No appointments booked yet."})})]})}function Tge(){var r;const{state:t}=At(),e=t.patient.selectedHospitalId||((r=t.selectedHospital)==null?void 0:r.id),n=[...new Set(t.doctors.filter(i=>i.hospitalId===e).map(i=>i.department))];return u.jsx("div",{className:"page-shell",children:u.jsxs("section",{className:"card",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"OPD Directory"}),u.jsx("h2",{className:"mt-1 text-xl font-semibold",children:"Explore OPD Departments"}),u.jsx("div",{className:"mt-4 grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:n.map(i=>u.jsx(je,{to:`/opd-departments/${FD(i)}`,className:"rounded-xl border border-slate-100 px-3 py-2 text-sm text-slate-700 transition hover:bg-slate-50",children:i},i))})]})})}function Nge(){var a;const{departmentSlug:t}=oC(),{state:e}=At(),n=u8(t),r=e.patient.selectedHospitalId||((a=e.selectedHospital)==null?void 0:a.id);if(!n)return u.jsx("div",{className:"page-shell",children:u.jsxs("section",{className:"card",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Department not found"}),u.jsx(je,{to:"/opd-departments",className:"btn-secondary mt-4",children:"Back to OPD Directory"})]})});const i=e.doctors.filter(s=>s.department===n&&s.hospitalId===r);return u.jsxs("div",{className:"page-shell space-y-4",children:[u.jsxs("section",{className:"card",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Department Doctors"}),u.jsx("h2",{className:"mt-1 text-xl font-semibold",children:n}),u.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Browse doctors and open full profiles."})]}),u.jsx("section",{className:"grid gap-3",children:i.map(s=>u.jsx(S$,{doctor:s,showSelectButton:!1},s.id))})]})}function Mge(){var a;const{id:t}=oC(),{state:e}=At(),n=e.patient.selectedHospitalId||((a=e.selectedHospital)==null?void 0:a.id),r=e.doctors.find(s=>s.id===t),i=(r==null?void 0:r.gender)==="Female"?"https://randomuser.me/api/portraits/women/44.jpg":"https://randomuser.me/api/portraits/men/44.jpg";return!r||n&&r.hospitalId!==n?u.jsx("div",{className:"page-shell",children:u.jsxs("section",{className:"card",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Doctor Profile Not Found"}),u.jsx(je,{to:"/appointments",className:"btn-secondary mt-4",children:"Back to Appointments"})]})}):u.jsxs("div",{className:"page-shell space-y-4",children:[u.jsx("section",{className:"card",children:u.jsxs("div",{className:"flex flex-wrap items-start gap-4",children:[u.jsx("img",{src:r.profileImage,alt:r.fullName,className:"h-36 w-36 rounded-2xl object-cover",onError:s=>{s.currentTarget.onerror=null,s.currentTarget.src=i}}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Doctor Profile"}),u.jsx("h2",{className:"text-2xl font-bold",children:r.fullName}),u.jsxs("p",{className:"text-sm text-slate-600",children:[r.department,"  ",r.specialization]}),u.jsxs("p",{className:"mt-1 text-sm text-slate-600",children:[r.experienceYears," years experience  ",r.consultationFee," consultation"]}),u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:r.professionalBio}),u.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Hospital Affiliation: ",r.hospitalAffiliation]}),u.jsx(je,{to:"/appointments",className:"btn-primary mt-3",children:"Book Appointment"})]})]})}),u.jsxs("section",{className:"grid gap-4 lg:grid-cols-2",children:[u.jsxs("article",{className:"card",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Education History"}),u.jsx("ul",{className:"mt-3 space-y-2 text-sm",children:r.educationHistory.map(s=>u.jsxs("li",{className:"rounded-xl border border-slate-100 p-3",children:[u.jsx("p",{className:"font-semibold",children:s.degree}),u.jsx("p",{className:"text-slate-600",children:s.institution}),u.jsx("p",{className:"text-xs text-slate-500",children:s.year})]},`${s.degree}-${s.year}`))})]}),u.jsxs("article",{className:"card",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Work Experience Timeline"}),u.jsx("ul",{className:"mt-3 space-y-2 text-sm",children:r.workTimeline.map(s=>u.jsxs("li",{className:"rounded-xl border border-slate-100 p-3",children:[u.jsx("p",{className:"font-semibold",children:s.period}),u.jsx("p",{className:"text-slate-600",children:s.role})]},`${s.period}-${s.role}`))})]}),u.jsxs("article",{className:"card",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Certifications"}),u.jsx("ul",{className:"mt-3 list-disc space-y-1 pl-5 text-sm text-slate-700",children:r.certifications.map(s=>u.jsx("li",{children:s},s))})]}),u.jsxs("article",{className:"card",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Research & Publications"}),u.jsx("ul",{className:"mt-3 list-disc space-y-1 pl-5 text-sm text-slate-700",children:r.publications.map(s=>u.jsx("li",{children:s},s))})]})]}),u.jsxs("section",{className:"card",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Weekly Availability"}),u.jsxs("div",{className:"mt-3 rounded-xl border border-slate-100 bg-slate-50 p-3",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Available Time Slots"}),u.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:(r.availableTimeSlots.length?r.availableTimeSlots:["Fully booked"]).map(s=>u.jsx("span",{className:"rounded-full border border-slate-200 px-3 py-1 text-xs text-slate-700",children:s},s))})]}),u.jsx("div",{className:"mt-3 grid gap-2 sm:grid-cols-2 lg:grid-cols-4",children:Object.entries(r.weeklyAvailability).map(([s,o])=>u.jsxs("div",{className:"rounded-xl border border-slate-100 p-3 text-sm",children:[u.jsx("p",{className:"font-semibold",children:s}),u.jsx("p",{className:"text-slate-600",children:o})]},s))})]}),u.jsxs("section",{className:"card",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Patient Reviews"}),u.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:r.patientReviews.map(s=>u.jsxs("article",{className:"rounded-xl border border-slate-100 p-3",children:[u.jsx("p",{className:"text-sm font-semibold",children:s.reviewer}),u.jsx("p",{className:"text-xs text-amber-600",children:"".repeat(s.rating)}),u.jsx("p",{className:"mt-1 text-sm text-slate-600",children:s.comment})]},`${s.reviewer}-${s.comment}`))})]})]})}function Ige(t){return(t==null?void 0:t.toLowerCase())==="high"?"bg-red-100 text-red-700":(t==null?void 0:t.toLowerCase())==="medium"?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"}function jge({appointments:t,patientMap:e,onViewDetails:n,onComplete:r,onCancel:i,ongoingId:a,nextId:s}){return t.length?u.jsx("div",{className:"space-y-3",children:t.map(o=>{var d;const l=e[o.patient_id],c=o.id===a,h=o.id===s;return u.jsxs("article",{className:`rounded-2xl border p-4 shadow-sm transition ${c?"border-med-500 bg-med-50":h?"border-blue-300 bg-blue-50":"border-slate-200 bg-white"}`,children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold text-slate-900",children:o.time}),u.jsx("p",{className:"text-xs text-slate-500",children:c?"Current ongoing appointment":h?"Next appointment":"Scheduled"})]}),u.jsxs("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${Ige(o.riskLevel)}`,children:[o.riskLevel," Risk"]})]}),u.jsxs("div",{className:"mt-3 grid gap-2 text-sm sm:grid-cols-2",children:[u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Patient:"})," ",(l==null?void 0:l.fullName)||"Unknown"]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Age:"})," ",(l==null?void 0:l.age)||"-"," yrs"]}),u.jsxs("p",{className:"sm:col-span-2",children:[u.jsx("span",{className:"font-semibold",children:"Reason:"})," ",o.reason]})]}),u.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[((l==null?void 0:l.uploadedFiles)||[]).map(p=>u.jsx("a",{href:p.fileUrl,target:"_blank",rel:"noreferrer",className:"rounded-lg border border-slate-200 bg-slate-50 px-2 py-1 text-xs text-slate-700",children:p.name},p.name)),(d=l==null?void 0:l.uploadedFiles)!=null&&d.length?null:u.jsx("p",{className:"text-xs text-slate-500",children:"No uploaded files"})]}),u.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[u.jsx("button",{className:"btn-secondary",onClick:()=>n(o.patient_id),children:"View Full Details"}),u.jsx("button",{className:"btn-primary",onClick:()=>r(o.id),children:"Mark as Completed"}),u.jsx("button",{className:"btn-secondary",onClick:()=>i(o.id),children:"Cancel"})]})]},o.id)})}):u.jsx("p",{className:"text-sm text-slate-500",children:"No appointments for today."})}const E$="pc_doctor_dashboard_data",Cge="Doctor@123";ur.slice(0,6).map((t,e)=>({doctorId:t.id,email:`doctor${e+1}@prognosiscare.com`,password:Cge}));function Oge(){try{const t=localStorage.getItem(E$);return t?JSON.parse(t):null}catch{return null}}function P$(t){localStorage.setItem(E$,JSON.stringify(t))}function Dge(){const t=new Date,e=t.toISOString().slice(0,10),n=new Date(t.getTime()+24*60*60*1e3).toISOString().slice(0,10);new Date(t.getTime()+2*24*60*60*1e3).toISOString().slice(0,10);const r="hosp-2-cardiology-1",i="hosp-2-pulmonology-1",a="hosp-1-general-medicine-1",s=ur.find(y=>y.id===r)||ur[0],o=ur.find(y=>y.id===i)||ur[1],l=ur.find(y=>y.id===a)||ur[2],c=[{id:"PT-3001",doctor_id:s.id,fullName:"Aarav Singh",age:38,gender:"Male",bloodGroup:"B+",phone:"+91 98111 22334",email:"aarav.singh@gmail.com",allergies:["Penicillin"],chronicConditions:["Hypertension"],aiSummary:"Elevated BP trends over 3 months. Lifestyle and medication adherence needed.",medicalHistory:["Hypertension (3 years)","Mild sleep apnea"],uploadedFiles:[{name:"bp-trend-report.pdf",mimeType:"application/pdf",fileUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"}]},{id:"PT-3002",doctor_id:s.id,fullName:"Meera Patil",age:29,gender:"Female",bloodGroup:"O+",phone:"+91 98999 22110",email:"meera.patil@gmail.com",allergies:["None"],chronicConditions:["Hypothyroidism"],aiSummary:"Symptoms suggest thyroid dosage re-evaluation and vitamin profile check.",medicalHistory:["Hypothyroidism"],uploadedFiles:[{name:"thyroid-panel.png",mimeType:"image/png",fileUrl:"https://images.unsplash.com/photo-1581595219315-a187dd40c322?auto=format&fit=crop&w=800&q=80"}]},{id:"PT-3003",doctor_id:o.id,fullName:"Rohan Nair",age:47,gender:"Male",bloodGroup:"A+",phone:"+91 90000 44556",email:"rohan.nair@gmail.com",allergies:["None"],chronicConditions:["Asthma"],aiSummary:"Recurring asthma episodes. Bronchoscopy recommended.",medicalHistory:["Asthma (5 years)"],uploadedFiles:[]},{id:"PT-3004",doctor_id:l.id,fullName:"Suresh Kumar",age:55,gender:"Male",bloodGroup:"AB+",phone:"+91 90000 77889",email:"suresh.kumar@gmail.com",allergies:["Dust"],chronicConditions:["Diabetes"],aiSummary:"Blood sugar levels fluctuating. Diet review needed.",medicalHistory:["Diabetes Type 2"],uploadedFiles:[]}],h=[{id:"DAPT-9001",doctor_id:s.id,patient_id:"PT-3001",date:e,time:"09:30 AM",reason:"High blood pressure follow-up",riskLevel:"High",department:s.department,status:"Upcoming",consultationFee:s.consultationFee,patientName:"Aarav Singh",createdAt:new Date().toISOString()},{id:"DAPT-9002",doctor_id:s.id,patient_id:"PT-3002",date:e,time:"11:15 AM",reason:"Fatigue and thyroid review",riskLevel:"Medium",department:s.department,status:"Upcoming",consultationFee:s.consultationFee,patientName:"Meera Patil",createdAt:new Date().toISOString()},{id:"DAPT-9003",doctor_id:s.id,patient_id:"PT-3002",date:n,time:"02:00 PM",reason:"Medication adjustment review",riskLevel:"Low",department:s.department,status:"Upcoming",consultationFee:s.consultationFee,patientName:"Meera Patil",createdAt:new Date().toISOString()},{id:"DAPT-9004",doctor_id:o.id,patient_id:"PT-3003",date:e,time:"10:45 AM",reason:"Breathing difficulty",riskLevel:"Medium",department:o.department,status:"Upcoming",consultationFee:o.consultationFee,patientName:"Rohan Nair",createdAt:new Date().toISOString()},{id:"DAPT-9005",doctor_id:l.id,patient_id:"PT-3004",date:e,time:"04:00 PM",reason:"General checkup",riskLevel:"Low",department:l.department,status:"Upcoming",consultationFee:l.consultationFee,patientName:"Suresh Kumar",createdAt:new Date().toISOString()}],d=[{id:"DLAB-7001",doctor_id:s.id,patient_id:"PT-3001",testType:"CBC + Lipid Profile",uploadedDate:e,fileName:"lab-report-cbc.pdf",fileUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",status:"Pending",remarks:""},{id:"DLAB-7002",doctor_id:s.id,patient_id:"PT-3002",testType:"TSH & T3/T4 Panel",uploadedDate:n,fileName:"thyroid-lab-report.pdf",fileUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",status:"Pending",remarks:""},{id:"DLAB-7003",doctor_id:o.id,patient_id:"PT-3003",testType:"Spirometry Report",uploadedDate:e,fileName:"spirometry.pdf",fileUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",status:"Pending",remarks:""},{id:"DLAB-7004",doctor_id:l.id,patient_id:"PT-3004",testType:"HbA1c Report",uploadedDate:e,fileName:"hba1c-report.pdf",fileUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",status:"Pending",remarks:""}];return{patients:c,appointments:h,reports:d,prescriptions:[],doctorProfiles:{}}}function Cd(){const t=Oge();if(t)return t;const e=Dge();return P$(e),e}function t1(t){const n={...Cd(),...t};return P$(n),n}function kge(t){const e=Cd();return{patients:e.patients.filter(n=>n.doctor_id===t),appointments:e.appointments.filter(n=>n.doctor_id===t),reports:e.reports.filter(n=>n.doctor_id===t),prescriptions:e.prescriptions.filter(n=>n.doctor_id===t),doctorProfiles:e.doctorProfiles}}function Rge(t,e){const n=Cd(),r={...n.doctorProfiles,[t]:{...n.doctorProfiles[t]||{},...e}};return t1({doctorProfiles:r}),r[t]}function LM(t,e){const r=Cd().appointments.map(i=>i.id===t?{...i,...e}:i);t1({appointments:r})}function FM(t,e){const r=Cd().reports.map(i=>i.id===t?{...i,...e}:i);t1({reports:r})}function La(t){const e=t.match(/(\d{1,2}):(\d{2})\s?(AM|PM)/i);if(!e)return 0;let n=Number(e[1]);const r=Number(e[2]),i=e[3].toUpperCase();return i==="PM"&&n<12&&(n+=12),i==="AM"&&n===12&&(n=0),n*60+r}function $ge(t){return t==="Completed"?"bg-emerald-100 text-emerald-700":t==="Cancelled"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}function Lge(){const{currentUser:t,logout:e}=$n(),{state:n,updateDoctor:r,updateAppointmentStatus:i,cancelAppointment:a,pushNotification:s}=At(),o=wn(),[l,c]=k.useState(!0),[h,d]=k.useState(""),p=n.doctors.find($=>$.id===(t==null?void 0:t.doctorId)),m=k.useMemo(()=>kge(t==null?void 0:t.doctorId),[t==null?void 0:t.doctorId]),y=k.useMemo(()=>[...n.appointments.filter(K=>K.doctorId===(t==null?void 0:t.doctorId)||K.doctor_id===(t==null?void 0:t.doctorId)),...m.appointments].filter((K,q,ee)=>ee.findIndex(me=>me.id===K.id)===q),[n.appointments,t==null?void 0:t.doctorId,m.appointments]),w=k.useMemo(()=>Object.fromEntries(m.patients.map(K=>[K.id,K])),[m.patients]),g=new Date().toISOString().slice(0,10),x=y.filter($=>$.date===g).sort(($,K)=>La($.time)-La(K.time)),v=y.filter($=>$.date>g||$.date===g&&La($.time)>=La(new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}))).sort(($,K)=>`${$.date} ${$.time}`.localeCompare(`${K.date} ${K.time}`)),_=La(new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})),A=x.find($=>Math.abs(La($.time)-_)<=30),P=x.find($=>La($.time)>_),E=m.reports.filter($=>$.status==="Pending"),S=y.filter($=>$.status==="Completed").length,T=(p==null?void 0:p.consultationFee)||0,M=x.filter($=>$.status==="Completed").length*T,I=y.filter($=>$.status==="Completed").length*T,O=k.useMemo(()=>{var $;return{fee:(p==null?void 0:p.consultationFee)||0,languages:((p==null?void 0:p.languages)||[]).join(", "),bio:(p==null?void 0:p.professionalBio)||"",photo:(p==null?void 0:p.profileImage)||"",availability:(($=p==null?void 0:p.weeklyAvailability)==null?void 0:$.Monday)||"9:00 AM - 5:00 PM"}},[p]),[j,C]=k.useState(O),L=$=>{d($),s($),setTimeout(()=>d(""),2500)},B=$=>{LM($,{status:"Completed"}),n.appointments.find(q=>q.id===$)&&i($,"Completed"),L("Appointment marked as completed.")},F=$=>{LM($,{status:"Cancelled"}),n.appointments.find(q=>q.id===$)&&a($),L("Appointment cancelled.")},U=()=>{const $={consultationFee:Number(j.fee),languages:j.languages.split(",").map(K=>K.trim()).filter(Boolean),professionalBio:j.bio,profileImage:j.photo,weeklyAvailability:{...(p==null?void 0:p.weeklyAvailability)||{},Monday:j.availability}};r(p.id,$),Rge(p.id,$),L("Doctor profile updated successfully.")},R=$=>{FM($,{status:"Approved"}),L("Report approved.")},V=$=>{const K=window.prompt("Add diagnosis remarks:","");K&&(FM($,{remarks:K}),L("Remarks added."))};return p?u.jsxs("div",{className:"page-shell space-y-4",children:[h?u.jsx("p",{className:"rounded-xl bg-emerald-50 p-3 text-sm text-emerald-700",children:h}):null,u.jsx("section",{className:"card",children:u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("img",{src:p.profileImage,alt:p.fullName,className:"h-16 w-16 rounded-full object-cover"}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold",children:p.fullName}),u.jsx("p",{className:"text-sm text-slate-600",children:p.specialization}),u.jsxs("p",{className:"text-xs text-slate-500",children:[p.hospitalAffiliation,"  ",p.experienceYears," years experience"]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{className:`rounded-xl px-3 py-2 text-sm font-semibold ${l?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-700"}`,onClick:()=>c($=>!$),children:l?"Online":"Offline"}),u.jsx("button",{className:"btn-secondary",onClick:e,children:"Logout"})]})]})}),u.jsxs("section",{className:"grid gap-4 lg:grid-cols-[2fr,1fr]",children:[u.jsxs("article",{className:"card",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Today's Appointments"}),u.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Timeline view of your schedule."}),u.jsx("div",{className:"mt-4",children:u.jsx(jge,{appointments:x,patientMap:w,ongoingId:A==null?void 0:A.id,nextId:P==null?void 0:P.id,onViewDetails:$=>o(`/doctor/patient/${$}`),onComplete:B,onCancel:F})})]}),u.jsxs("article",{className:"card space-y-3",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Earnings Summary"}),u.jsxs("p",{className:"text-sm text-slate-600",children:["Today's earnings: ",M]}),u.jsxs("p",{className:"text-sm text-slate-600",children:["Monthly earnings: ",I]}),u.jsxs("p",{className:"text-sm text-slate-600",children:["Total consultations: ",S]}),u.jsxs("p",{className:"text-sm text-slate-600",children:["Consultation fee: ",T]})]})]}),u.jsxs("section",{className:"grid gap-4 lg:grid-cols-[2fr,1fr]",children:[u.jsxs("article",{className:"card",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Upcoming Schedule"}),u.jsxs("div",{className:"mt-3 space-y-2",children:[v.map($=>{var K;return u.jsxs("article",{className:"rounded-xl border border-slate-200 p-3",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm font-semibold",children:[$.date,"  ",$.time]}),u.jsxs("p",{className:"text-sm text-slate-600",children:[(K=w[$.patient_id])==null?void 0:K.fullName,"  ",$.department]})]}),u.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${$ge($.status)}`,children:$.status})]}),u.jsx("button",{className:"btn-secondary mt-2",onClick:()=>o(`/doctor/patient/${$.patient_id}`),children:"Quick View"})]},$.id)}),v.length?null:u.jsx("p",{className:"text-sm text-slate-500",children:"No upcoming schedule."})]})]}),u.jsxs("article",{className:"card",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Calendar"}),u.jsxs("div",{className:"mt-3 space-y-2 text-sm text-slate-600",children:[[...new Set(v.map($=>$.date))].slice(0,6).map($=>u.jsx("p",{className:"rounded-lg bg-slate-100 px-3 py-2",children:$},$)),v.length?null:u.jsx("p",{children:"No upcoming dates."})]})]})]}),u.jsxs("section",{className:"card",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Pending Lab Reports"}),u.jsxs("div",{className:"mt-3 space-y-2",children:[E.map($=>{var K;return u.jsx("article",{className:"rounded-xl border border-slate-200 p-3",children:u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold",children:(K=w[$.patient_id])==null?void 0:K.fullName}),u.jsxs("p",{className:"text-sm text-slate-600",children:[$.testType,"  Uploaded ",$.uploadedDate]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("a",{href:$.fileUrl,target:"_blank",rel:"noreferrer",className:"btn-secondary",children:"Download"}),u.jsx("button",{className:"btn-secondary",onClick:()=>V($.id),children:"Add Remarks"}),u.jsx("button",{className:"btn-primary",onClick:()=>R($.id),children:"Approve"})]})]})},$.id)}),E.length?null:u.jsx("p",{className:"text-sm text-slate-500",children:"No pending lab reports."})]})]}),u.jsxs("section",{className:"card",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Profile Management"}),u.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:[u.jsx("input",{className:"input",placeholder:"Availability schedule",value:j.availability,onChange:$=>C(K=>({...K,availability:$.target.value}))}),u.jsx("input",{className:"input",type:"number",placeholder:"Consultation fee",value:j.fee,onChange:$=>C(K=>({...K,fee:$.target.value}))}),u.jsx("input",{className:"input",placeholder:"Languages",value:j.languages,onChange:$=>C(K=>({...K,languages:$.target.value}))}),u.jsx("input",{className:"input",placeholder:"Profile photo URL",value:j.photo,onChange:$=>C(K=>({...K,photo:$.target.value}))}),u.jsx("textarea",{className:"input sm:col-span-2",rows:3,placeholder:"Short bio",value:j.bio,onChange:$=>C(K=>({...K,bio:$.target.value}))})]}),u.jsx("button",{className:"btn-primary mt-3",onClick:U,children:"Save Profile"})]})]}):u.jsx("div",{className:"page-shell",children:u.jsx("section",{className:"card text-sm text-slate-600",children:"Doctor profile not found. Please contact administrator."})})}const Fge=[{id:1,source:"AI Assistant",text:"Recommended ECG and lipid profile based on symptom pattern.",date:"2026-02-12 09:45 AM"},{id:2,source:"Reception Bot",text:"Your lab booking is confirmed for 20 Feb, 10:30 AM.",date:"2026-02-13 04:10 PM"}];function Vge(){return u.jsx("div",{className:"page-shell",children:u.jsxs("section",{className:"card",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Conversation Log"}),u.jsx("h2",{className:"mt-1 text-xl font-semibold",children:"Chat History"}),u.jsx("div",{className:"mt-4 space-y-3",children:Fge.map(t=>u.jsxs("article",{className:"rounded-xl border border-slate-100 p-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[u.jsx("span",{children:t.source}),u.jsx("span",{children:t.date})]}),u.jsx("p",{className:"mt-2 text-sm text-slate-700",children:t.text})]},t.id))})]})})}const VM={low:"bg-teal-100 text-teal-700",medium:"bg-amber-100 text-amber-700",high:"bg-red-100 text-red-700"};function Bge({level:t}){return u.jsxs("span",{className:`rounded-full px-2.5 py-1 text-xs font-semibold uppercase ${VM[t]||VM.low}`,children:[t," priority"]})}function An(t){return`${t.toLocaleString("en-IN")}`}function A$({bill:t,title:e="Billing Breakdown"}){return t?u.jsxs("section",{className:"card",children:[u.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold",children:e}),u.jsx("p",{className:"text-sm text-slate-500",children:"Transparent itemized estimate"})]}),u.jsx("div",{className:"space-y-3",children:t.rows.map(n=>u.jsxs("div",{className:"rounded-xl border border-slate-100 p-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("p",{className:"font-medium",children:n.name}),u.jsx("p",{className:"font-semibold",children:An(n.total)})]}),u.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-1 text-xs text-slate-600 sm:grid-cols-4",children:[u.jsxs("p",{children:["Price: ",An(n.basePrice)]}),u.jsxs("p",{children:["After Insurance: ",An(n.discountedPrice)]}),u.jsxs("p",{children:["Service Fee: ",An(n.serviceFee)]}),u.jsxs("p",{children:["Tax: ",An(n.tax)]})]})]},n.name))}),u.jsxs("div",{className:"mt-4 rounded-xl bg-slate-50 p-4 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Subtotal"}),u.jsx("span",{children:An(t.subtotal)})]}),u.jsxs("div",{className:"mt-1 flex justify-between",children:[u.jsx("span",{children:"Service Fees"}),u.jsx("span",{children:An(t.fees)})]}),u.jsxs("div",{className:"mt-1 flex justify-between",children:[u.jsx("span",{children:"Taxes"}),u.jsx("span",{children:An(t.taxes)})]}),u.jsxs("div",{className:"mt-3 flex justify-between border-t border-slate-200 pt-3 text-base font-bold text-med-700",children:[u.jsx("span",{children:"Total Payable"}),u.jsx("span",{children:An(t.total)})]})]})]}):null}function Uge({tests:t=[],summary:e,onProceed:n}){const r=wn(),i=t.reduce((s,o)=>s+o.cost,0),a=()=>{n==null||n(),r("/lab-booking")};return t.length?u.jsxs("section",{className:"card",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Recommended Tests"}),u.jsx("p",{className:"mt-1 text-sm text-slate-600",children:e})]}),u.jsxs("div",{className:"rounded-xl bg-med-50 px-4 py-2 text-right",children:[u.jsx("p",{className:"text-xs uppercase tracking-wide text-med-700",children:"Estimated Bill"}),u.jsx("p",{className:"text-lg font-bold text-med-700",children:An(i)})]})]}),u.jsx("div",{className:"mt-4 grid gap-3",children:t.map(s=>u.jsx("article",{className:"rounded-xl border border-slate-100 p-4",children:u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold",children:s.name}),u.jsx("p",{className:"mt-1 text-sm text-slate-600",children:s.reason})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Bge,{level:s.priority}),u.jsx("p",{className:"text-sm font-semibold text-slate-700",children:An(s.cost)})]})]})},s.id))}),u.jsx("div",{className:"mt-5 flex justify-end",children:u.jsx("button",{type:"button",className:"btn-primary",onClick:a,children:"Proceed to Book Test"})})]}):u.jsxs("section",{className:"card",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Recommended Tests"}),u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:e||"No tests are needed right now based on the symptoms provided. If symptoms worsen or continue, consult a doctor."})]})}function Hge(){const{state:t,loading:e,loadRecommendations:n}=At(),[r,i]=k.useState(t.patientSymptoms||""),[a,s]=k.useState(""),[o,l]=k.useState(!1),[c,h]=k.useState(!0),[d,p]=k.useState(""),m=k.useRef(null);k.useEffect(()=>{const g=window.SpeechRecognition||window.webkitSpeechRecognition;if(!g){h(!1);return}const x=new g;return x.continuous=!0,x.interimResults=!0,x.lang="en-IN",x.onresult=v=>{let _="",A="";for(let P=v.resultIndex;P<v.results.length;P++){const E=v.results[P][0].transcript;v.results[P].isFinal?_+=E+" ":A+=E}_&&i(P=>P?P+" "+_.trim():_.trim()),p(A)},x.onerror=v=>{console.error("Speech recognition error:",v.error),v.error==="not-allowed"?s("Microphone access denied. Please allow microphone permission."):v.error==="network"?s("Voice recognition requires an internet connection. Please type your symptoms."):v.error==="no-speech"||s(`Voice recognition error: ${v.error}. Please type your symptoms.`),l(!1),p("")},x.onend=()=>{l(!1),p("")},m.current=x,()=>{x.abort()}},[]);const y=k.useCallback(()=>{m.current&&(o?m.current.stop():(s(""),p(""),m.current.start(),l(!0)))},[o]),w=async()=>{var g;if(o&&((g=m.current)==null||g.stop()),!r.trim()){s("Please enter symptoms before running AI analysis.");return}s(""),await n(r)};return u.jsxs("div",{className:"page-shell space-y-4",children:[u.jsxs("section",{className:"card",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"AI Symptom Analysis"}),u.jsx("h2",{className:"mt-1 text-2xl font-bold",children:"Medical Assistant Recommendation Engine"}),u.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Enter your symptoms or ",u.jsx("strong",{children:"tap the mic"})," to speak them aloud."]}),u.jsxs("label",{className:"mt-4 block text-sm font-medium text-slate-700",children:["Symptoms / Concerns",u.jsxs("div",{className:"relative mt-2",children:[u.jsx("textarea",{className:"input min-h-[110px] pr-14",placeholder:"Example: chest discomfort for 2 days, dizziness, high BP readings...",value:r+(d?" "+d:""),onChange:g=>{i(g.target.value),p("")}}),c&&u.jsx("button",{type:"button",onClick:y,title:o?"Stop listening":"Start voice input",className:`absolute right-2 top-2 flex h-10 w-10 items-center justify-center rounded-full transition-all duration-200 ${o?"bg-red-500 text-white shadow-lg shadow-red-200 animate-pulse":"bg-med-100 text-med-700 hover:bg-med-200"}`,children:o?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("rect",{x:"5",y:"5",width:"10",height:"10",rx:"1"})}):u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M7 4a3 3 0 016 0v4a3 3 0 01-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z",clipRule:"evenodd"})})})]})]}),o&&u.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-red-600 font-medium animate-pulse",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),"Listening speak your symptoms"]}),!c&&u.jsx("p",{className:"mt-2 text-xs text-amber-600",children:" Voice input is not supported in this browser. Please type your symptoms instead."}),a?u.jsx("p",{className:"mt-2 text-sm text-red-600",children:a}):null,u.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[u.jsx("button",{type:"button",className:"btn-primary",onClick:w,disabled:e.recommendations,children:e.recommendations?"Analyzing Symptoms...":"Analyze Symptoms"}),c&&u.jsx("button",{type:"button",onClick:y,className:`flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-semibold transition-all duration-200 ${o?"bg-red-100 text-red-700 hover:bg-red-200":"bg-med-50 text-med-700 border border-med-300 hover:bg-med-100"}`,children:o?" Stop Recording":" Voice Input"})]})]}),e.recommendations?u.jsx("section",{className:"card text-center",children:u.jsx("p",{className:"text-sm text-slate-600",children:"Analyzing symptoms and building test recommendations..."})}):u.jsx(Uge,{tests:t.recommendedTests,summary:t.recommendationSummary})]})}const Oh=[{id:"test-cbc",name:"Blood Test (CBC)",cost:750},{id:"test-lipid",name:"Lipid Profile",cost:1400},{id:"test-thyroid",name:"Thyroid Profile",cost:1100},{id:"test-ecg",name:"ECG",cost:1200},{id:"test-xray",name:"Chest X-Ray",cost:950},{id:"test-lft",name:"Liver Function Test",cost:1300}];function zge(){const t=wn(),{state:e,loading:n,confirmBooking:r,addMedicalRecord:i}=At(),[a,s]=k.useState(e.selectedHospital.locations[0]),[o,l]=k.useState("2026-02-20T10:30"),[c,h]=k.useState(Oh[0].id),[d,p]=k.useState(null),m=Oh.find(g=>g.id===c)||Oh[0],y=k.useMemo(()=>{const g=e.selectedHospital.serviceFee,x=e.selectedHospital.taxRate,v=[m].map(E=>{const S=Math.round(E.cost*x);return{name:E.name,basePrice:E.cost,discountedPrice:E.cost,serviceFee:g,tax:S,total:E.cost+g+S}}),_=v.reduce((E,S)=>E+S.discountedPrice,0),A=v.reduce((E,S)=>E+S.serviceFee,0),P=v.reduce((E,S)=>E+S.tax,0);return{rows:v,subtotal:_,fees:A,taxes:P,total:_+A+P}},[m,e.selectedHospital.serviceFee,e.selectedHospital.taxRate]),w=async()=>{const g={tests:[m],hospital:e.selectedHospital,location:a,slot:o,insuranceEnabled:!1,prescriptionName:(d==null?void 0:d.name)||null,bill:y};await r(g),d&&await i({file:d,recordType:"Prescription",notes:`Prescription uploaded for ${m.name}`}),t("/payment")};return u.jsxs("div",{className:"page-shell grid gap-4 lg:grid-cols-5",children:[u.jsxs("section",{className:"card space-y-4 lg:col-span-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-med-600",children:"Hospital Booking"}),u.jsx("h2",{className:"text-xl font-semibold",children:e.selectedHospital.name}),u.jsx("p",{className:"text-sm text-slate-600",children:e.selectedHospital.address}),u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:e.selectedHospital.description}),u.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[u.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-medium text-slate-700",children:e.selectedHospital.accreditation}),u.jsxs("span",{className:"rounded-full bg-emerald-100 px-3 py-1 text-xs font-medium text-emerald-700",children:[" ",e.selectedHospital.rating," Rating"]}),u.jsx("span",{className:"rounded-full bg-med-100 px-3 py-1 text-xs font-medium text-med-700",children:e.selectedHospital.emergencySupport})]}),u.jsx("p",{className:"mt-3 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Specialties"}),u.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:e.selectedHospital.specialties.map(g=>u.jsx("span",{className:"rounded-full border border-slate-200 px-3 py-1 text-xs text-slate-700",children:g},g))}),u.jsx("p",{className:"mt-3 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Specialist Units"}),u.jsx("ul",{className:"mt-2 list-disc space-y-1 pl-5 text-xs text-slate-700",children:(e.selectedHospital.specialistUnits||[]).map(g=>u.jsx("li",{children:g},g))}),u.jsx("p",{className:"mt-3 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Key Facilities"}),u.jsx("ul",{className:"mt-2 list-disc space-y-1 pl-5 text-xs text-slate-700",children:(e.selectedHospital.facilities||[]).map(g=>u.jsx("li",{children:g},g))})]}),u.jsxs("div",{children:[u.jsx("p",{className:"mb-2 text-sm font-medium",children:"Select Lab Test"}),u.jsx("select",{className:"input",value:c,onChange:g=>h(g.target.value),children:Oh.map(g=>u.jsxs("option",{value:g.id,children:[g.name,"  ",g.cost]},g.id))})]}),u.jsxs("label",{className:"block text-sm font-medium text-slate-700",children:["Upload Prescription (optional)",u.jsx("input",{className:"input mt-2",type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:g=>{var x;return p(((x=g.target.files)==null?void 0:x[0])||null)}})]}),u.jsxs("div",{children:[u.jsx("p",{className:"mb-2 text-sm font-medium",children:"Choose Hospital Location"}),u.jsx("select",{className:"input",value:a,onChange:g=>s(g.target.value),children:e.selectedHospital.locations.map(g=>u.jsx("option",{children:g},g))})]}),u.jsxs("label",{className:"block text-sm font-medium text-slate-700",children:["Preferred Date & Time Slot",u.jsx("input",{className:"input mt-2",type:"datetime-local",value:o,onChange:g=>l(g.target.value)})]}),d?u.jsxs("p",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:["Attached prescription: ",d.name]}):null,u.jsxs("div",{className:"flex gap-2 pt-2",children:[u.jsx("button",{className:"btn-primary flex-1",onClick:w,disabled:n.booking,children:n.booking?"Reserving Slot...":"Confirm & Pay"}),u.jsx("button",{className:"btn-secondary",onClick:()=>t("/triage"),children:"Cancel"})]})]}),u.jsxs("div",{className:"lg:col-span-3",children:[u.jsx(A$,{bill:y,title:"Itemized Bill"}),u.jsxs("section",{className:"card mt-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Cost Breakdown"}),u.jsxs("div",{className:"mt-3 space-y-1 text-sm text-slate-700",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Test Fee"}),u.jsxs("span",{children:["",m.cost]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Service Charge"}),u.jsxs("span",{children:["",y.fees]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Tax"}),u.jsxs("span",{children:["",y.taxes]})]}),u.jsxs("div",{className:"flex justify-between border-t border-slate-200 pt-2 text-base font-semibold text-med-700",children:[u.jsx("span",{children:"Total"}),u.jsxs("span",{children:["",y.total]})]})]})]})]})]})}function Wge({onSubmit:t,loading:e}){const[n,r]=k.useState("card"),[i,a]=k.useState({cardNumber:"4242 4242 4242 4242",expiry:"12/29",cvv:"123",upi:"patient@upi",netBanking:"HDFC"}),s=o=>{o.preventDefault(),t({method:n,details:i})};return u.jsxs("form",{className:"card space-y-4",onSubmit:s,children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Secure Payment"}),u.jsx("span",{className:"rounded-full bg-emerald-100 px-3 py-1 text-xs font-semibold text-emerald-700",children:" PCI Mock Secure"})]}),u.jsx("div",{className:"grid gap-2 sm:grid-cols-3",children:["card","upi","net-banking"].map(o=>u.jsx("button",{type:"button",onClick:()=>r(o),className:`rounded-xl border px-3 py-2 text-sm font-medium ${n===o?"border-med-500 bg-med-50 text-med-700":"border-slate-200 text-slate-600"}`,children:o==="card"?"Card":o==="upi"?"UPI":"Net Banking"},o))}),n==="card"&&u.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[u.jsxs("label",{className:"text-sm text-slate-600 sm:col-span-2",children:["Card Number",u.jsx("input",{className:"input mt-1",value:i.cardNumber,onChange:o=>a(l=>({...l,cardNumber:o.target.value})),required:!0})]}),u.jsxs("label",{className:"text-sm text-slate-600",children:["Expiry Date",u.jsx("input",{className:"input mt-1",value:i.expiry,onChange:o=>a(l=>({...l,expiry:o.target.value})),required:!0})]}),u.jsxs("label",{className:"text-sm text-slate-600",children:["CVV",u.jsx("input",{className:"input mt-1",value:i.cvv,onChange:o=>a(l=>({...l,cvv:o.target.value})),required:!0})]})]}),n==="upi"&&u.jsxs("label",{className:"text-sm text-slate-600",children:["UPI ID",u.jsx("input",{className:"input mt-1",value:i.upi,onChange:o=>a(l=>({...l,upi:o.target.value})),required:!0})]}),n==="net-banking"&&u.jsxs("label",{className:"text-sm text-slate-600",children:["Bank Name",u.jsx("input",{className:"input mt-1",value:i.netBanking,onChange:o=>a(l=>({...l,netBanking:o.target.value})),required:!0})]}),u.jsx("button",{className:"btn-primary w-full",type:"submit",disabled:e,children:e?"Processing Payment...":"Pay Securely"})]})}function Kge(){const t=wn(),{state:e,loading:n,paymentError:r,payForBooking:i}=At(),[a,s]=k.useState(!1),o=e.latestBooking;if(!o)return u.jsx("div",{className:"page-shell",children:u.jsxs("section",{className:"card",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"No Booking Available"}),u.jsx("button",{className:"btn-primary mt-4",onClick:()=>t("/lab-booking"),children:"Back to Lab Booking"})]})});const l=async c=>{(await i(c)).ok&&(s(!0),setTimeout(()=>t("/booking-confirmation"),1300))};return u.jsxs("div",{className:"page-shell grid gap-4 lg:grid-cols-5",children:[u.jsxs("div",{className:"space-y-4 lg:col-span-3",children:[u.jsx(Wge,{onSubmit:l,loading:n.payment}),r&&u.jsxs("section",{className:"rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:[u.jsx("p",{className:"font-semibold",children:"Payment Failed"}),u.jsx("p",{className:"mt-1",children:r}),u.jsx("button",{className:"btn-secondary mt-3",children:"Retry Payment"})]}),a&&u.jsxs("section",{className:"card text-center",children:[u.jsxs("div",{className:"relative mx-auto h-16 w-16 rounded-full bg-emerald-100",children:[u.jsx("div",{className:"absolute inset-0 rounded-full border border-emerald-300 animate-pulseRing"}),u.jsx("p",{className:"pt-5 text-2xl text-emerald-700",children:""})]}),u.jsx("p",{className:"mt-3 font-semibold text-emerald-700",children:"Payment Successful"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Generating invoice and redirecting to booking confirmation..."})]})]}),u.jsxs("div",{className:"space-y-4 lg:col-span-2",children:[u.jsxs("section",{className:"card",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Order Summary"}),u.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Booking ID: ",o.bookingId]}),u.jsx("ul",{className:"mt-3 space-y-2 text-sm",children:o.tests.map(c=>u.jsxs("li",{className:"flex justify-between",children:[u.jsx("span",{children:c.name}),u.jsx("span",{children:An(c.cost)})]},c.id))}),u.jsxs("div",{className:"mt-4 rounded-xl bg-med-50 p-3",children:[u.jsx("p",{className:"text-xs uppercase tracking-wide text-med-700",children:"Total Amount"}),u.jsx("p",{className:"text-xl font-bold text-med-700",children:An(o.bill.total)})]})]}),u.jsx(A$,{bill:o.bill,title:"Final Billing Details"})]})]})}function Gge(){const{state:t}=At(),e=t.latestBooking;if(!e||e.paymentStatus!=="paid")return u.jsx("div",{className:"page-shell",children:u.jsxs("section",{className:"card",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"No Paid Booking Found"}),u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Complete payment to access booking confirmation."})]})});const n=new Date(e.slot).toLocaleString();return u.jsx("div",{className:"page-shell",children:u.jsxs("section",{className:"card animate-fadeIn",children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-emerald-600",children:"Booking Confirmed"}),u.jsx("h2",{className:"mt-1 text-2xl font-bold",children:"Your Lab Test Is Scheduled"}),u.jsxs("div",{className:"mt-4 grid gap-3 rounded-xl border border-slate-200 p-4 text-sm sm:grid-cols-2",children:[u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Booking ID:"})," ",e.bookingId]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Invoice ID:"})," ",e.payment.invoiceId]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Hospital:"})," ",e.hospital.name]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Address:"})," ",e.hospital.address]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Scheduled:"})," ",n]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Payment Status:"})," Paid"]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("p",{className:"mb-2 text-sm font-semibold",children:"Test Details"}),u.jsx("ul",{className:"space-y-1 text-sm text-slate-700",children:e.tests.map(r=>u.jsxs("li",{children:[" ",r.name]},r.id))})]}),u.jsxs("div",{className:"mt-6 flex flex-wrap gap-2",children:[u.jsx("button",{className:"btn-primary",children:"Download Invoice"}),u.jsx("button",{className:"btn-secondary",children:"Add to Calendar"})]})]})})}function qge(){const{state:t,addMedicalRecord:e,deleteMedicalRecord:n}=At(),[r,i]=k.useState("Prescription"),[a,s]=k.useState(""),[o,l]=k.useState(null),c=k.useMemo(()=>{const d=t.reports.map(m=>{var y;return{id:m.reportId,fileName:m.fileName,recordType:"Lab Report",uploadDate:m.uploadedAt,notes:((y=m.testNames)==null?void 0:y.join(", "))||"",source:"hospital",linkedAppointmentId:null,linkedDoctorName:"",previewUrl:"",mimeType:"application/pdf"}});return[...t.medicalRecords,...d].sort((m,y)=>new Date(y.uploadDate).getTime()-new Date(m.uploadDate).getTime())},[t.medicalRecords,t.reports]),h=async()=>{o&&(await e({file:o,recordType:r,notes:a}),l(null),s(""),i("Prescription"))};return u.jsxs("div",{className:"page-shell space-y-4",children:[u.jsxs("section",{className:"card",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Medical Records"}),u.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"All lab reports and diagnostic documents are listed below."})]}),u.jsxs("section",{className:"card",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Upload New Record"}),u.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:[u.jsxs("label",{className:"text-sm text-slate-700 sm:col-span-2",children:["Upload File",u.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"input mt-1",onChange:d=>{var p;return l(((p=d.target.files)==null?void 0:p[0])||null)}})]}),u.jsxs("label",{className:"text-sm text-slate-700",children:["Record Type",u.jsxs("select",{className:"input mt-1",value:r,onChange:d=>i(d.target.value),children:[u.jsx("option",{children:"Prescription"}),u.jsx("option",{children:"Lab Report"}),u.jsx("option",{children:"Discharge Summary"}),u.jsx("option",{children:"Imaging"}),u.jsx("option",{children:"Doctor Note"})]})]}),u.jsxs("label",{className:"text-sm text-slate-700",children:["Notes",u.jsx("input",{className:"input mt-1",value:a,onChange:d=>s(d.target.value)})]})]}),u.jsx("button",{type:"button",className:"btn-primary mt-3",onClick:h,disabled:!o,children:"Save Record"})]}),u.jsxs("section",{className:"card",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Records List"}),c.length?u.jsx("div",{className:"mt-3 space-y-3",children:c.map(d=>u.jsxs("article",{className:"rounded-xl border border-slate-100 p-4",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold",children:d.fileName}),u.jsx("p",{className:"text-sm text-slate-600",children:d.recordType}),u.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded: ",new Date(d.uploadDate).toLocaleString()]}),d.notes?u.jsxs("p",{className:"text-xs text-slate-500",children:["Notes: ",d.notes]}):null]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("a",{className:"btn-secondary",href:d.previewUrl||"#",download:d.fileName,onClick:p=>{d.previewUrl||p.preventDefault()},children:"Download"}),d.source==="user"?u.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>n(d.id),children:"Delete"}):null]})]}),d.linkedDoctorName?u.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Linked appointment: ",d.linkedDoctorName]}):null]},d.id))}):u.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"No records available yet."})]}),u.jsxs("section",{className:"card",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Records Timeline"}),u.jsx("div",{className:"mt-3 space-y-3 border-l-2 border-slate-200 pl-4",children:c.map(d=>u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute -left-[1.35rem] top-1 h-2.5 w-2.5 rounded-full bg-med-600"}),u.jsxs("p",{className:"text-sm font-semibold",children:[d.recordType,": ",d.fileName]}),u.jsx("p",{className:"text-xs text-slate-500",children:new Date(d.uploadDate).toLocaleString()})]},`timeline-${d.id}`))})]})]})}function Yge(){const{state:t,loading:e,markTestCompleted:n,uploadReport:r}=At(),[i,a]=k.useState("cardiac-panel-report.pdf"),s=t.latestBooking;return u.jsxs("div",{className:"page-shell space-y-4",children:[u.jsxs("section",{className:"card",children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-med-600",children:"Hospital Admin View"}),u.jsx("h2",{className:"text-xl font-semibold",children:"Lab Booking Operations Panel"})]}),s?u.jsxs("section",{className:"card space-y-4",children:[u.jsxs("div",{className:"grid gap-3 rounded-xl border border-slate-100 p-4 text-sm sm:grid-cols-2",children:[u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Booking ID:"})," ",s.bookingId]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Patient:"})," ",s.patient.name]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Payment:"})," ",s.paymentStatus]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold",children:"Schedule:"})," ",new Date(s.slot).toLocaleString()]}),u.jsxs("p",{className:"sm:col-span-2",children:[u.jsx("span",{className:"font-semibold",children:"Tests:"})," ",s.tests.map(o=>o.name).join(", ")]})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:u.jsx("button",{className:"btn-primary",onClick:n,children:"Mark Test as Completed"})}),u.jsxs("div",{className:"rounded-xl border border-slate-200 p-4",children:[u.jsx("h3",{className:"font-semibold",children:"Upload Test Report (PDF Simulation)"}),u.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[u.jsx("input",{className:"input max-w-sm",value:i,onChange:o=>a(o.target.value)}),u.jsx("button",{className:"btn-primary",onClick:()=>r(i),disabled:e.reportUpload,children:e.reportUpload?"Uploading...":"Upload Report"})]})]})]}):u.jsx("section",{className:"card",children:u.jsx("p",{className:"text-sm text-slate-500",children:"No incoming bookings yet."})})]})}const Xge=["application/pdf","image/jpeg","image/png"];function Qge(){const{hospitalSignup:t}=$n(),[e,n]=k.useState({hospitalName:Pc[0],adminName:"",contactEmail:"",phone:"",registrationNumber:"",address:"",city:"",state:"",adminRole:"Hospital Admin",password:"",confirmPassword:""}),[r,i]=k.useState(null),[a,s]=k.useState(!1),[o,l]=k.useState(!1),[c,h]=k.useState(!1),[d,p]=k.useState(""),[m,y]=k.useState({type:"",message:""}),w=(E,S)=>{y({type:E,message:S}),setTimeout(()=>y({type:"",message:""}),3500)},g=E=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E),x=E=>E.length>=8&&/[A-Z]/.test(E)&&/[0-9]/.test(E)&&/[^A-Za-z0-9]/.test(E),v=E=>new Promise((S,T)=>{const M=new FileReader;M.onload=()=>S(M.result),M.onerror=()=>T(new Error("Unable to read file.")),M.readAsDataURL(E)}),_=E=>{var T;p("");const S=((T=E.target.files)==null?void 0:T[0])||null;if(!S){i(null);return}if(!Xge.includes(S.type)){p("Only PDF, JPG, or PNG files are allowed."),E.target.value="";return}if(S.size>5*1024*1024){p("File size must be 5MB or less."),E.target.value="";return}i(S)},A=()=>Pc.includes(e.hospitalName)?g(e.contactEmail)?r?x(e.password)?e.password!==e.confirmPassword?"Passwords do not match.":"":"Password must include 8+ chars, uppercase, number, and special character.":"Please upload a hospital license.":"Please enter a valid work email.":"Please select a valid hospital.",P=async E=>{E.preventDefault(),p("");const S=A();if(S){p(S);return}h(!0);try{const T=await v(r),M=await t({...e,licenseFileName:r.name,licenseFileType:r.type,licenseFileSize:r.size,licenseFileDataUrl:T});if(!M.ok){p(M.error||"Unable to submit hospital registration request."),h(!1);return}w("success","Registration submitted. Status: Pending Approval."),n({hospitalName:Pc[0],adminName:"",contactEmail:"",phone:"",registrationNumber:"",address:"",city:"",state:"",adminRole:"Hospital Admin",password:"",confirmPassword:""}),i(null)}catch{p("Unable to process your file. Please try another file.")}finally{h(!1)}};return u.jsx("div",{className:"auth-shell",children:u.jsxs("div",{className:"auth-split",children:[u.jsxs("aside",{className:"auth-brand-panel animate-fadeIn",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.24em] text-blue-100",children:"Hospital Onboarding"}),u.jsx("h1",{className:"mt-3 text-4xl font-bold leading-tight",children:"Secure Admin Registration"}),u.jsx("p",{className:"mt-4 max-w-md text-blue-100/90",children:"Submit your hospital admin request. Access will be enabled only after super admin approval."})]}),u.jsxs("ul",{className:"rounded-2xl border border-white/30 bg-white/10 p-4 text-sm text-blue-50 shadow-lg",children:[u.jsx("li",{children:" Restricted hospital list"}),u.jsx("li",{children:" License validation (PDF/JPG/PNG, max 5MB)"}),u.jsx("li",{children:" Duplicate admin prevention"})]})]}),u.jsx("section",{className:"auth-form-wrap animate-fadeIn",children:u.jsxs("div",{className:"auth-glass-card",children:[m.message?u.jsx("div",{className:`mb-4 rounded-xl p-3 text-sm ${m.type==="success"?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"}`,children:m.message}):null,u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Signup"}),u.jsx("h2",{className:"mt-1 text-3xl font-bold text-slate-900",children:"Hospital Admin Request"}),u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Complete details for approval workflow verification."}),u.jsxs("form",{className:"mt-6 grid gap-3 sm:grid-cols-2",onSubmit:P,children:[u.jsxs("div",{className:"floating-field sm:col-span-2",children:[u.jsx("select",{className:"floating-input",value:e.hospitalName,onChange:E=>n(S=>({...S,hospitalName:E.target.value})),children:Pc.map(E=>u.jsx("option",{value:E,children:E},E))}),u.jsx("span",{className:"floating-label",children:"Hospital"})]}),u.jsxs("div",{className:"floating-field",children:[u.jsx("input",{className:"floating-input",placeholder:"Admin Name",value:e.adminName,onChange:E=>n(S=>({...S,adminName:E.target.value}))}),u.jsx("span",{className:"floating-label",children:"Admin Name"})]}),u.jsxs("div",{className:"floating-field",children:[u.jsx("input",{className:"floating-input",type:"email",placeholder:"Work Email",value:e.contactEmail,onChange:E=>n(S=>({...S,contactEmail:E.target.value}))}),u.jsx("span",{className:"floating-label",children:"Work Email"})]}),u.jsxs("div",{className:"floating-field",children:[u.jsx("input",{className:"floating-input",placeholder:"Phone",value:e.phone,onChange:E=>n(S=>({...S,phone:E.target.value}))}),u.jsx("span",{className:"floating-label",children:"Phone"})]}),u.jsxs("div",{className:"floating-field",children:[u.jsx("input",{className:"floating-input",placeholder:"Registration Number",value:e.registrationNumber,onChange:E=>n(S=>({...S,registrationNumber:E.target.value}))}),u.jsx("span",{className:"floating-label",children:"Registration Number"})]}),u.jsxs("div",{className:"floating-field sm:col-span-2",children:[u.jsx("input",{className:"floating-input",placeholder:"Hospital Address",value:e.address,onChange:E=>n(S=>({...S,address:E.target.value}))}),u.jsx("span",{className:"floating-label",children:"Hospital Address"})]}),u.jsxs("div",{className:"floating-field",children:[u.jsx("input",{className:"floating-input",placeholder:"City",value:e.city,onChange:E=>n(S=>({...S,city:E.target.value}))}),u.jsx("span",{className:"floating-label",children:"City"})]}),u.jsxs("div",{className:"floating-field",children:[u.jsx("input",{className:"floating-input",placeholder:"State",value:e.state,onChange:E=>n(S=>({...S,state:E.target.value}))}),u.jsx("span",{className:"floating-label",children:"State"})]}),u.jsxs("div",{className:"sm:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Upload License (PDF/JPG/PNG, max 5MB)"}),u.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"input mt-2",onChange:_}),r?u.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Selected: ",r.name," (",Math.round(r.size/1024)," KB)"]}):null]}),u.jsxs("div",{className:"floating-field",children:[u.jsx("input",{className:"floating-input pr-12",type:a?"text":"password",placeholder:"Create Password",value:e.password,onChange:E=>n(S=>({...S,password:E.target.value}))}),u.jsx("span",{className:"floating-label",children:"Create Password"}),u.jsx("button",{type:"button",className:"absolute right-3 top-3 text-xs font-semibold text-med-700",onClick:()=>s(E=>!E),children:a?"Hide":"Show"})]}),u.jsxs("div",{className:"floating-field",children:[u.jsx("input",{className:"floating-input pr-12",type:o?"text":"password",placeholder:"Confirm Password",value:e.confirmPassword,onChange:E=>n(S=>({...S,confirmPassword:E.target.value}))}),u.jsx("span",{className:"floating-label",children:"Confirm Password"}),u.jsx("button",{type:"button",className:"absolute right-3 top-3 text-xs font-semibold text-med-700",onClick:()=>l(E=>!E),children:o?"Hide":"Show"})]}),d?u.jsx("p",{className:"sm:col-span-2 rounded-xl bg-red-50 p-3 text-sm text-red-700",children:d}):null,u.jsx("button",{className:"btn-primary sm:col-span-2",type:"submit",disabled:c,children:c?u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx("span",{className:"spinner"})," Submitting..."]}):"Submit for Approval"})]}),u.jsx("div",{className:"mt-5 border-t border-slate-200 pt-4 text-sm text-slate-600",children:u.jsxs("p",{children:["Already approved?"," ",u.jsx(je,{className:"font-semibold text-med-700 transition hover:opacity-80",to:"/login?role=hospital-admin",children:"Login as Hospital Admin"})]})})]})})]})})}function Jge(){return u.jsx(xr,{to:"/hospital-admin-login",replace:!0})}function Zge(){const{currentUser:t,hospitalAdminLogin:e,getRoleHomeRoute:n}=$n(),r=wn(),[i,a]=k.useState({email:"",password:""}),[s,o]=k.useState(!1),[l,c]=k.useState(!1),[h,d]=k.useState("");if(t)return u.jsx(xr,{to:n(t.role),replace:!0});const p=async m=>{m.preventDefault(),d(""),c(!0);try{await e(i.email,i.password),r("/hospital-dashboard")}catch(y){d((y==null?void 0:y.message)||"Invalid credentials")}finally{c(!1)}};return u.jsx("div",{className:"auth-shell",children:u.jsxs("div",{className:"auth-split",children:[u.jsxs("aside",{className:"auth-brand-panel animate-fadeIn",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.24em] text-blue-100",children:"Hospital Admin Access"}),u.jsx("h1",{className:"mt-3 text-4xl font-bold leading-tight",children:"Hospital Management"}),u.jsx("p",{className:"mt-4 max-w-md text-blue-100/90",children:"Manage your hospital profile, doctors, and appointments from a single dashboard."})]}),u.jsx("div",{className:"rounded-2xl border border-white/30 bg-white/10 p-4 text-sm text-blue-50 shadow-lg",children:"Hospital Administration  Staff Management  Analytics"})]}),u.jsx("section",{className:"auth-form-wrap animate-fadeIn",children:u.jsxs("div",{className:"auth-glass-card",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Admin Portal"}),u.jsx("h2",{className:"mt-1 text-3xl font-bold text-slate-900",children:"Hospital Login"}),u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Sign in to manage your hospital operations."}),u.jsxs("form",{className:"mt-6 space-y-4",onSubmit:p,children:[u.jsxs("div",{className:"floating-field",children:[u.jsx("input",{type:"email",className:"floating-input",placeholder:"Email",value:i.email,onChange:m=>a(y=>({...y,email:m.target.value}))}),u.jsx("span",{className:"floating-label",children:"Email"})]}),u.jsxs("div",{className:"floating-field",children:[u.jsx("input",{type:s?"text":"password",className:"floating-input pr-12",placeholder:"Password",value:i.password,onChange:m=>a(y=>({...y,password:m.target.value}))}),u.jsx("span",{className:"floating-label",children:"Password"}),u.jsx("button",{type:"button",className:"absolute right-3 top-3 text-xs font-semibold text-med-700",onClick:()=>o(m=>!m),children:s?"Hide":"Show"})]}),h?u.jsx("p",{className:"rounded-xl bg-red-50 p-3 text-sm text-red-700",children:h}):null,u.jsx("button",{className:"btn-primary w-full",type:"submit",disabled:l,children:l?u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx("span",{className:"spinner"})," Signing in..."]}):"Login"})]}),u.jsxs("div",{className:"mt-5 border-t border-slate-200 pt-4 text-sm text-slate-600",children:[u.jsxs("p",{children:["New hospital?"," ",u.jsx(je,{className:"font-semibold text-med-700 transition hover:opacity-80",to:"/hospital-signup",children:"Register here"})]}),u.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Are you a doctor?"," ",u.jsx(je,{className:"font-semibold text-med-700 transition hover:opacity-80",to:"/doctor-login",children:"Go to Doctor Login"})]})]})]})})]})})}function BM(){var _;const{currentUser:t}=$n(),{state:e,updateAppointmentStatus:n,cancelAppointment:r}=At();console.log(" Hospital Dashboard - Current User:",t);const a=k.useMemo(()=>t!=null&&t.hospitalName?e.appointments.filter(A=>{if(A.hospitalName===t.hospitalName)return!0;const P=e.doctors.find(E=>E.id===A.doctor_id);return(P==null?void 0:P.hospitalName)===t.hospitalName}):[],[e.appointments,t==null?void 0:t.hospitalName,e.doctors]);console.log(" Hospital Appointments Found:",a.length),console.log(" Doctor Appointments Found:",a.length);const s=new Date().toISOString().slice(0,10),o=a.filter(A=>A.date===s),l=a.filter(A=>A.date>=s&&A.status!=="Cancelled"),c=a.filter(A=>A.status==="Completed"),h=k.useMemo(()=>{const A={};return a.forEach(P=>{const E=P.patientName||"Unknown Patient";A[E]||(A[E]=[]),A[E].push(P)}),A},[a]),d=A=>{switch(A){case"Completed":return"bg-emerald-100 text-emerald-700";case"Upcoming":return"bg-blue-100 text-blue-700";case"Confirmed":return"bg-blue-100 text-blue-700";case"Cancelled":return"bg-red-100 text-red-700";default:return"bg-slate-100 text-slate-700"}},p=A=>A===s,m=k.useMemo(()=>c.reduce((A,P)=>A+(P.consultationFee||0),0),[c]),y=k.useMemo(()=>l.reduce((A,P)=>A+(P.consultationFee||0),0),[l]),w=a.filter(A=>A.status==="Cancelled"),g=new Set(a.map(A=>A.patientName)).size,x=k.useMemo(()=>[...o].sort((A,P)=>{const E=A.time.toLowerCase().replace(/[^0-9:]/g,""),S=P.time.toLowerCase().replace(/[^0-9:]/g,"");return E.localeCompare(S)}),[o]),v=()=>{localStorage.clear(),window.location.reload()};return u.jsxs("div",{className:"page-shell space-y-4",children:[a.length===0&&u.jsx("div",{className:"card bg-yellow-50 border-yellow-300 border-2",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-yellow-900",children:" No Appointments Found"}),u.jsxs("p",{className:"text-sm text-yellow-800 mt-1",children:["Click the button to refresh and load sample appointment data for Dr. ",t==null?void 0:t.name]})]}),u.jsx("button",{onClick:v,className:"bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-2 px-6 rounded-lg transition-colors",children:" Refresh Data"})]})}),u.jsx("section",{className:"card bg-gradient-to-r from-med-50 to-blue-50 border-med-200",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Hospital Administration"}),u.jsx("h2",{className:"mt-1 text-2xl font-bold text-med-900",children:t==null?void 0:t.hospitalName}),u.jsx("p",{className:"mt-1 text-sm text-slate-700 font-medium",children:"Administrator Dashboard"}),u.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:[" ",t==null?void 0:t.email]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-xs text-slate-500",children:"Today's Date"}),u.jsx("p",{className:"text-sm font-semibold text-med-700",children:new Date().toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]})]})}),u.jsxs("section",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-5",children:[u.jsx("article",{className:"card bg-blue-50 border-blue-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-600 font-medium",children:"Today's Schedule"}),u.jsx("p",{className:"text-3xl font-bold text-blue-700 mt-1",children:o.length}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"appointments"})]}),u.jsx("div",{className:"text-4xl",children:""})]})}),u.jsx("article",{className:"card bg-emerald-50 border-emerald-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-600 font-medium",children:"Upcoming"}),u.jsx("p",{className:"text-3xl font-bold text-emerald-700 mt-1",children:l.length}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"scheduled"})]}),u.jsx("div",{className:"text-4xl",children:""})]})}),u.jsx("article",{className:"card bg-green-50 border-green-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-600 font-medium",children:"Completed"}),u.jsx("p",{className:"text-3xl font-bold text-green-700 mt-1",children:c.length}),u.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["",m.toLocaleString("en-IN")]})]}),u.jsx("div",{className:"text-4xl",children:""})]})}),u.jsx("article",{className:"card bg-purple-50 border-purple-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-600 font-medium",children:"Total Patients"}),u.jsx("p",{className:"text-3xl font-bold text-purple-700 mt-1",children:g}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"unique"})]}),u.jsx("div",{className:"text-4xl",children:""})]})}),u.jsx("article",{className:"card bg-amber-50 border-amber-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-600 font-medium",children:"Potential Revenue"}),u.jsxs("p",{className:"text-2xl font-bold text-amber-700 mt-1",children:["",y.toLocaleString("en-IN")]}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"from upcoming"})]}),u.jsx("div",{className:"text-4xl",children:""})]})})]}),u.jsxs("section",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-med-900",children:" Today's Schedule"}),u.jsx("p",{className:"text-sm text-slate-600 mt-1",children:new Date().toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long"})})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-xs text-slate-500",children:"Total Consultations"}),u.jsx("p",{className:"text-lg font-bold text-med-700",children:o.length})]})]}),x.length>0?u.jsx("div",{className:"space-y-3",children:x.map(A=>u.jsx("article",{className:"rounded-xl border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-white p-4 shadow-sm hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsx("p",{className:"font-bold text-xl text-blue-900",children:A.time}),u.jsx("span",{className:"rounded-full bg-blue-600 px-3 py-1 text-xs font-bold text-white",children:"TODAY"})]}),u.jsxs("div",{className:"ml-10",children:[u.jsx("p",{className:"font-bold text-lg text-slate-900",children:A.patientName||"Patient Name Not Provided"}),u.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[u.jsx("span",{className:"font-semibold",children:"Patient ID:"})," ",A.patient_id]}),u.jsxs("p",{className:"text-sm text-slate-700 mt-2 bg-amber-50 border border-amber-200 rounded-lg p-2",children:[u.jsx("span",{className:"font-semibold text-amber-900",children:"Chief Complaint:"}),u.jsx("br",{}),A.reason]}),A.uploadedMedicalFile&&u.jsxs("p",{className:"text-xs text-blue-600 mt-2 flex items-center gap-1",children:[u.jsx("span",{children:""}),u.jsx("span",{className:"font-semibold",children:"Medical File Attached:"})," ",A.uploadedMedicalFile.fileName]}),u.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[u.jsx("span",{className:"font-semibold",children:"Fee:"})," ",A.consultationFee," ",u.jsx("span",{className:"font-semibold",children:"Apt ID:"})," ",A.id]})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("span",{className:`rounded-full px-2.5 py-1 text-xs font-semibold ${d(A.status)}`,children:A.status}),A.status!=="Completed"&&A.status!=="Cancelled"&&u.jsx("button",{className:"btn-secondary text-xs",onClick:()=>n(A.id,"Completed"),children:"Mark Complete"})]})]})},A.id))}):u.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"No appointments scheduled for today."})]}),u.jsxs("section",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-lg font-semibold text-med-900",children:" All Appointments"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-semibold",children:[l.length," Upcoming"]}),u.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-semibold",children:[c.length," Completed"]})]})]}),u.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Complete history of your patient consultations"}),a.length>0?u.jsx("div",{className:"space-y-2",children:a.map(A=>u.jsx("article",{className:`rounded-lg border p-3 ${A.status==="Completed"?"bg-green-50 border-green-200":A.status==="Cancelled"?"bg-red-50 border-red-200":p(A.date)?"bg-blue-50 border-blue-300 border-2":"bg-white border-slate-200"}`,children:u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("p",{className:"font-bold text-base text-slate-900",children:A.patientName||"Not specified"}),p(A.date)&&u.jsx("span",{className:"rounded-full bg-blue-600 px-2 py-0.5 text-xs font-bold text-white",children:"TODAY"})]}),u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("p",{className:"text-slate-700",children:[u.jsx("span",{className:"font-semibold",children:" Date & Time:"})," ",A.date," at ",A.time]}),u.jsxs("p",{className:"text-slate-700",children:[u.jsx("span",{className:"font-semibold",children:" Patient ID:"})," ",A.patient_id]}),u.jsxs("p",{className:"text-slate-700",children:[u.jsx("span",{className:"font-semibold",children:" Chief Complaint:"})," ",A.reason]}),u.jsxs("p",{className:"text-slate-700",children:[u.jsx("span",{className:"font-semibold",children:" Consultation Fee:"})," ",A.consultationFee]}),A.uploadedMedicalFile&&u.jsxs("p",{className:"text-xs text-blue-600 flex items-center gap-1 mt-1",children:[" ",u.jsx("span",{className:"font-semibold",children:"Attachment:"})," ",A.uploadedMedicalFile.fileName]})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("span",{className:`rounded-full px-2.5 py-1 text-xs font-semibold ${d(A.status)}`,children:A.status}),A.status!=="Completed"&&A.status!=="Cancelled"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"btn-secondary text-xs",onClick:()=>n(A.id,"Completed"),children:"Mark Complete"}),u.jsx("button",{className:"btn-secondary text-xs",onClick:()=>r(A.id),children:"Cancel"})]})]})]})},A.id))}):u.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"No appointments found for this doctor."})]}),u.jsxs("section",{className:"card bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200",children:[u.jsx("h3",{className:"text-lg font-semibold text-purple-900 flex items-center gap-2",children:" Patient Progress Tracker"}),u.jsx("p",{className:"text-sm text-slate-700 mt-1 mb-4",children:"View complete appointment history grouped by patient"}),Object.keys(h).length>0?u.jsx("div",{className:"space-y-3",children:Object.entries(h).map(([A,P])=>{const E=P.filter(M=>M.status==="Completed").length,S=P.filter(M=>M.status==="Upcoming").length,T=P.filter(M=>M.status==="Completed").reduce((M,I)=>M+(I.consultationFee||0),0);return u.jsxs("article",{className:"rounded-xl border-2 border-purple-300 bg-white p-4 shadow-sm",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3 pb-3 border-b border-purple-200",children:[u.jsxs("div",{children:[u.jsxs("h4",{className:"font-bold text-lg text-purple-900 flex items-center gap-2",children:[u.jsx("span",{children:""}),A]}),u.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:["Patient ID: ",P[0].patient_id]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"flex gap-2 mb-1",children:[u.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-semibold",children:[E," Completed"]}),u.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-semibold",children:[S," Upcoming"]})]}),T>0&&u.jsxs("p",{className:"text-xs text-slate-600",children:["Total Revenue: ",u.jsxs("span",{className:"font-bold text-green-700",children:["",T.toLocaleString("en-IN")]})]})]})]}),u.jsx("div",{className:"space-y-2",children:P.sort((M,I)=>new Date(I.date)-new Date(M.date)).map(M=>u.jsx("div",{className:`rounded-lg p-3 text-sm border-l-4 ${M.status==="Completed"?"bg-green-50 border-green-500":M.status==="Cancelled"?"bg-red-50 border-red-500":"bg-blue-50 border-blue-500"}`,children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("p",{className:"font-semibold text-slate-900",children:M.date}),u.jsxs("span",{className:"text-xs text-slate-500",children:["at ",M.time]}),p(M.date)&&u.jsx("span",{className:"text-xs bg-blue-600 text-white px-2 py-0.5 rounded-full font-bold",children:"TODAY"})]}),u.jsxs("p",{className:"text-slate-700 text-xs mt-1",children:[u.jsx("span",{className:"font-semibold",children:"Chief Complaint:"})," ",M.reason]}),u.jsxs("p",{className:"text-slate-600 text-xs mt-1",children:[u.jsx("span",{className:"font-semibold",children:"Fee:"})," ",M.consultationFee," ",u.jsx("span",{className:"font-semibold",children:" ID:"})," ",M.id]}),M.uploadedMedicalFile&&u.jsxs("p",{className:"text-xs text-blue-600 mt-1 flex items-center gap-1",children:[" ",M.uploadedMedicalFile.fileName]})]}),u.jsx("span",{className:`rounded-full px-2 py-0.5 text-xs font-semibold whitespace-nowrap ${d(M.status)}`,children:M.status})]})},M.id))})]},A)})}):u.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"No patient data available yet."})]}),u.jsx("section",{className:"card bg-gradient-to-br from-med-50 to-purple-50 border-med-300",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-med-600 flex items-center justify-center text-white text-3xl font-bold",children:(_=t==null?void 0:t.name)==null?void 0:_.split(" ").map(A=>A[0]).join("").slice(0,2)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold text-med-900",children:"Admin Profile"}),u.jsxs("div",{className:"mt-3 grid gap-2",children:[u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-med-600 font-semibold min-w-[120px]",children:" Name:"}),u.jsx("span",{className:"text-slate-700",children:t==null?void 0:t.name})]}),u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-med-600 font-semibold min-w-[120px]",children:" Hospital:"}),u.jsx("span",{className:"text-slate-700",children:t==null?void 0:t.hospitalName})]}),u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-med-600 font-semibold min-w-[120px]",children:" Email:"}),u.jsx("span",{className:"text-slate-700",children:t==null?void 0:t.email})]}),u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-med-600 font-semibold min-w-[120px]",children:" Admin ID:"}),u.jsx("span",{className:"text-slate-700",children:t==null?void 0:t.id})]})]}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-med-200",children:[u.jsx("h4",{className:"font-semibold text-med-800 mb-2",children:" Performance Summary"}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[u.jsxs("div",{className:"bg-white rounded-lg p-2 border border-med-200",children:[u.jsx("p",{className:"text-xs text-slate-500",children:"Total Appointments"}),u.jsx("p",{className:"text-lg font-bold text-med-700",children:a.length})]}),u.jsxs("div",{className:"bg-white rounded-lg p-2 border border-green-200",children:[u.jsx("p",{className:"text-xs text-slate-500",children:"Completed"}),u.jsx("p",{className:"text-lg font-bold text-green-700",children:c.length})]}),u.jsxs("div",{className:"bg-white rounded-lg p-2 border border-red-200",children:[u.jsx("p",{className:"text-xs text-slate-500",children:"Cancelled"}),u.jsx("p",{className:"text-lg font-bold text-red-700",children:w.length})]}),u.jsxs("div",{className:"bg-white rounded-lg p-2 border border-purple-200",children:[u.jsx("p",{className:"text-xs text-slate-500",children:"Patients Served"}),u.jsx("p",{className:"text-lg font-bold text-purple-700",children:g})]})]})]})]})]})})]})}function eye(){const{currentUser:t,superAdminLogin:e,getRoleHomeRoute:n}=$n(),r=wn(),[i,a]=k.useState({email:"",password:""}),[s,o]=k.useState(!1),[l,c]=k.useState(!1),[h,d]=k.useState("");if(t)return u.jsx(xr,{to:n(t.role),replace:!0});const p=async m=>{m.preventDefault(),d(""),c(!0);try{await e(i.email,i.password),r("/super-admin-dashboard")}catch{d("Invalid credentials")}finally{c(!1)}};return u.jsx("div",{className:"auth-shell",children:u.jsxs("div",{className:"auth-split",children:[u.jsxs("aside",{className:"auth-brand-panel animate-fadeIn",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.24em] text-blue-100",children:"Super Admin Access"}),u.jsx("h1",{className:"mt-3 text-4xl font-bold leading-tight",children:"Platform Governance Console"}),u.jsx("p",{className:"mt-4 max-w-md text-blue-100/90",children:"Secure login for company-level approvals, hospital governance, and compliance operations."})]}),u.jsx("div",{className:"rounded-2xl border border-white/30 bg-white/10 p-4 text-sm text-blue-50 shadow-lg",children:"Controlled access  Approval workflow  Audit-ready records"})]}),u.jsx("section",{className:"auth-form-wrap animate-fadeIn",children:u.jsxs("div",{className:"auth-glass-card",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Super Admin Login"}),u.jsx("h2",{className:"mt-1 text-3xl font-bold text-slate-900",children:"Sign in securely"}),u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Use your organization-level credentials to continue."}),u.jsxs("form",{className:"mt-6 space-y-4",onSubmit:p,children:[u.jsxs("div",{className:"floating-field",children:[u.jsx("input",{type:"email",className:"floating-input",placeholder:"Email",value:i.email,onChange:m=>a(y=>({...y,email:m.target.value}))}),u.jsx("span",{className:"floating-label",children:"Email"})]}),u.jsxs("div",{className:"floating-field",children:[u.jsx("input",{type:s?"text":"password",className:"floating-input pr-12",placeholder:"Password",value:i.password,onChange:m=>a(y=>({...y,password:m.target.value}))}),u.jsx("span",{className:"floating-label",children:"Password"}),u.jsx("button",{type:"button",className:"absolute right-3 top-3 text-xs font-semibold text-med-700",onClick:()=>o(m=>!m),children:s?"Hide":"Show"})]}),h?u.jsx("p",{className:"rounded-xl bg-red-50 p-3 text-sm text-red-700",children:h}):null,u.jsx("button",{className:"btn-primary w-full",type:"submit",disabled:l,children:l?u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx("span",{className:"spinner"})," Signing in..."]}):"Login as Super Admin"})]}),u.jsxs("div",{className:"mt-5 border-t border-slate-200 pt-4 text-sm text-slate-600",children:[u.jsxs("p",{children:["Hospital admin access:"," ",u.jsx(je,{className:"font-semibold text-med-700 transition hover:opacity-80",to:"/login?role=hospital-admin",children:"Login"})]}),u.jsxs("p",{className:"mt-1",children:["Need registration approval flow?"," ",u.jsx(je,{className:"font-semibold text-med-700 transition hover:opacity-80",to:"/hospital-signup",children:"Open Hospital Signup"})]})]})]})})]})})}function UM(t){var n,r,i,a;if((n=t.licenseFileType)!=null&&n.includes("pdf"))return"pdf";if((r=t.licenseFileType)!=null&&r.includes("image"))return"image";const e=(a=(i=t.licenseFileName)==null?void 0:i.split(".").pop())==null?void 0:a.toLowerCase();return e==="pdf"?"pdf":["jpg","jpeg","png"].includes(e||"")?"image":"unknown"}function tye(){var C;const{state:t,addDepartment:e,editDepartment:n,deleteDepartment:r}=At(),[i,a]=k.useState(Eu()),[s,o]=k.useState(Uo()),[l,c]=k.useState(XP()),[h,d]=k.useState(""),[p,m]=k.useState({old:"",value:""}),[y,w]=k.useState({}),[g,x]=k.useState(null),[v,_]=k.useState({type:"",message:""}),A=i.filter(L=>L.status==="Pending Approval"),P=s.filter(L=>L.status!=="Rejected"),E=k.useMemo(()=>{var U;const L=(U=t.patient)!=null&&U.name?1:0,B=t.appointments.length,F=t.appointments.filter(R=>R.status!=="Cancelled").reduce((R,V)=>R+Number(V.consultationFee||0),0);return{totalDoctors:t.doctors.length,totalPatients:L,totalAppointments:B,revenue:F}},[t.appointments,t.doctors.length,(C=t.patient)==null?void 0:C.name]),S=()=>{a(Eu()),o(Uo()),c(XP())},T=(L,B)=>{_({type:L,message:B}),setTimeout(()=>_({type:"",message:""}),3e3)},M=(L,B)=>{const F=(y[L.id]||"").trim();if(B==="reject"&&!F){T("error","Rejection reason is required.");return}if(B==="more-info"&&!F){T("error","Clarification note is required.");return}R8(L.id,B,F),w(U=>({...U,[L.id]:""})),S(),T("success",B==="approve"?"Hospital approved successfully.":"Request updated successfully.")},I=L=>{const B=L.status==="Suspended"?"Active":"Suspended";$8(L.id,B),S()},O=L=>{const B=UM(L);return L.licenseFileDataUrl?B==="pdf"?u.jsx("iframe",{title:L.licenseFileName,src:L.licenseFileDataUrl,className:"h-44 w-full rounded-lg border border-slate-200"}):B==="image"?u.jsx("img",{src:L.licenseFileDataUrl,alt:L.licenseFileName,className:"h-44 w-full rounded-lg border border-slate-200 object-cover"}):u.jsx("p",{className:"text-xs text-slate-500",children:"Unsupported file type for preview."}):u.jsx("p",{className:"text-xs text-slate-500",children:"Preview unavailable. File was not uploaded with preview data."})},j=L=>{if(!L.licenseFileDataUrl){T("error","Download unavailable for this file.");return}const B=document.createElement("a");B.href=L.licenseFileDataUrl,B.download=L.licenseFileName||"hospital-license",document.body.appendChild(B),B.click(),document.body.removeChild(B)};return u.jsxs("div",{className:"page-shell space-y-4",children:[v.message?u.jsx("div",{className:`rounded-xl p-3 text-sm ${v.type==="success"?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"}`,children:v.message}):null,u.jsxs("section",{className:"card",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Company Control Center"}),u.jsx("h2",{className:"mt-1 text-xl font-semibold",children:"Super Admin Dashboard"})]}),u.jsxs("section",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[u.jsxs("article",{className:"card",children:[u.jsx("p",{className:"text-xs text-slate-500",children:"Pending Hospital Requests"}),u.jsx("p",{className:"text-2xl font-bold text-med-700",children:A.length})]}),u.jsxs("article",{className:"card",children:[u.jsx("p",{className:"text-xs text-slate-500",children:"Approved Hospitals"}),u.jsx("p",{className:"text-2xl font-bold text-med-700",children:P.length})]}),u.jsxs("article",{className:"card",children:[u.jsx("p",{className:"text-xs text-slate-500",children:"Total Doctors"}),u.jsx("p",{className:"text-2xl font-bold text-med-700",children:E.totalDoctors})]}),u.jsxs("article",{className:"card",children:[u.jsx("p",{className:"text-xs text-slate-500",children:"Total Patients"}),u.jsx("p",{className:"text-2xl font-bold text-med-700",children:E.totalPatients})]}),u.jsxs("article",{className:"card",children:[u.jsx("p",{className:"text-xs text-slate-500",children:"Total Appointments"}),u.jsx("p",{className:"text-2xl font-bold text-med-700",children:E.totalAppointments})]}),u.jsxs("article",{className:"card",children:[u.jsx("p",{className:"text-xs text-slate-500",children:"Revenue Overview"}),u.jsxs("p",{className:"text-2xl font-bold text-med-700",children:["",E.revenue]})]})]}),u.jsxs("section",{className:"card space-y-3",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Pending Hospital Requests"}),A.length?A.map(L=>u.jsxs("article",{className:"rounded-xl border border-slate-100 p-4",children:[u.jsxs("div",{className:"grid gap-3 lg:grid-cols-[1fr,280px]",children:[u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsx("p",{className:"text-base font-semibold",children:L.hospitalName}),u.jsxs("p",{className:"text-slate-600",children:["Admin: ",L.adminName]}),u.jsxs("p",{className:"text-slate-600",children:["Email: ",L.contactEmail]}),u.jsxs("p",{className:"text-slate-600",children:["Phone: ",L.phone]}),u.jsxs("p",{className:"text-slate-600",children:["Submitted: ",new Date(L.submittedAt).toLocaleString()]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-slate-500",children:"License Preview"}),O(L),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{className:"btn-secondary",onClick:()=>x(L),children:"Expand"}),u.jsx("button",{className:"btn-secondary",onClick:()=>j(L),children:"Download"})]})]})]}),u.jsx("div",{className:"mt-3",children:u.jsx("input",{className:"input",placeholder:"Reason (required for Reject / Clarification)",value:y[L.id]||"",onChange:B=>w(F=>({...F,[L.id]:B.target.value}))})}),u.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[u.jsx("button",{className:"btn-primary",onClick:()=>M(L,"approve"),children:"Approve"}),u.jsx("button",{className:"btn-secondary",onClick:()=>M(L,"reject"),children:"Reject"}),u.jsx("button",{className:"btn-secondary",onClick:()=>M(L,"more-info"),children:"Request clarification"})]})]},L.id)):u.jsx("p",{className:"text-sm text-slate-500",children:"No pending requests."})]}),u.jsxs("section",{className:"card space-y-3",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Approved Hospitals"}),P.map(L=>u.jsx("article",{className:"rounded-xl border border-slate-100 p-3",children:u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold",children:L.hospitalName}),u.jsxs("p",{className:"text-sm text-slate-600",children:[L.city,", ",L.state]}),u.jsxs("p",{className:"text-xs text-slate-500",children:["Status: ",L.status]})]}),u.jsx("button",{className:"btn-secondary",onClick:()=>I(L),children:L.status==="Suspended"?"Reactivate":"Suspend"})]})},L.id))]}),u.jsxs("section",{className:"card",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Manage Departments"}),u.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[u.jsx("input",{className:"input max-w-sm",value:h,onChange:L=>d(L.target.value),placeholder:"Add new department"}),u.jsx("button",{className:"btn-primary",onClick:()=>{e(h),d("")},children:"Add"})]}),u.jsx("div",{className:"mt-3 grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:t.departments.map(L=>u.jsx("article",{className:"rounded-xl border border-slate-100 p-2 text-sm",children:p.old===L?u.jsxs("div",{className:"space-y-2",children:[u.jsx("input",{className:"input",value:p.value,onChange:B=>m({old:L,value:B.target.value})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"btn-primary",onClick:()=>{n(L,p.value),m({old:"",value:""})},children:"Save"}),u.jsx("button",{className:"btn-secondary",onClick:()=>m({old:"",value:""}),children:"Cancel"})]})]}):u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("span",{children:L}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{className:"btn-secondary",onClick:()=>m({old:L,value:L}),children:"Edit"}),u.jsx("button",{className:"btn-secondary",onClick:()=>r(L),children:"Delete"})]})]})},L))})]}),u.jsxs("section",{className:"grid gap-4 lg:grid-cols-2",children:[u.jsxs("article",{className:"card",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"All Doctors"}),u.jsx("div",{className:"mt-3 max-h-72 space-y-2 overflow-auto",children:t.doctors.map(L=>u.jsxs("div",{className:"rounded-xl border border-slate-100 p-2 text-sm",children:[u.jsx("p",{className:"font-semibold",children:L.fullName}),u.jsxs("p",{className:"text-slate-600",children:[L.department,"  ",L.hospitalAffiliation]})]},L.id))})]}),u.jsxs("article",{className:"card",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"System Appointments"}),u.jsx("div",{className:"mt-3 max-h-72 space-y-2 overflow-auto",children:t.appointments.map(L=>u.jsxs("div",{className:"rounded-xl border border-slate-100 p-2 text-sm",children:[u.jsxs("p",{className:"font-semibold",children:[L.id,"  ",L.doctorName]}),u.jsxs("p",{className:"text-slate-600",children:[L.department,"  ",L.date," ",L.time]}),u.jsxs("p",{className:"text-xs text-slate-500",children:["Status: ",L.status]})]},L.id))})]})]}),u.jsxs("section",{className:"card",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Platform Activity Logs"}),u.jsx("div",{className:"mt-3 max-h-56 space-y-2 overflow-auto",children:l.map(L=>u.jsxs("div",{className:"rounded-xl border border-slate-100 p-2 text-sm",children:[u.jsx("p",{className:"font-semibold",children:L.action}),u.jsxs("p",{className:"text-xs text-slate-500",children:[new Date(L.createdAt).toLocaleString(),"  ",L.actor]})]},L.id))})]}),g?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/70 p-4",children:u.jsxs("div",{className:"w-full max-w-5xl rounded-2xl bg-white p-4 shadow-card",children:[u.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[u.jsx("h4",{className:"text-lg font-semibold",children:g.licenseFileName}),u.jsx("button",{className:"btn-secondary",onClick:()=>x(null),children:"Close"})]}),UM(g)==="pdf"?u.jsx("iframe",{title:g.licenseFileName,src:g.licenseFileDataUrl,className:"h-[70vh] w-full rounded-xl border border-slate-200"}):u.jsx("img",{src:g.licenseFileDataUrl,alt:g.licenseFileName,className:"h-[70vh] w-full rounded-xl border border-slate-200 object-contain"})]})}):null]})}function nye(){const{currentUser:t,getRoleHomeRoute:e}=$n();return t?u.jsx(xr,{to:e(t.role),replace:!0}):u.jsxs("div",{className:"auth-shell relative overflow-hidden",style:{backgroundImage:"url('/images/auth-bg.avif')",backgroundSize:"cover",backgroundPosition:"center"},children:[u.jsx("div",{className:"pointer-events-none absolute -left-20 top-10 h-64 w-64 rounded-full bg-med-200/60 blur-3xl"}),u.jsx("div",{className:"pointer-events-none absolute -right-20 top-24 h-72 w-72 rounded-full bg-blue-200/60 blur-3xl"}),u.jsx("div",{className:"pointer-events-none absolute bottom-0 left-1/3 h-72 w-72 rounded-full bg-sky-200/50 blur-3xl"}),u.jsx("div",{className:"page-shell flex min-h-[75vh] items-center justify-center py-8",children:u.jsxs("section",{className:"card relative w-full max-w-5xl overflow-hidden bg-blue-200/90 backdrop-blur-sm",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-cover bg-center opacity-15",style:{backgroundImage:"url('https://img.freepik.com/free-photo/health-still-life-with-copy-space_23-2148854031.jpg?semt=ais_user_personalization&w=740&q=80')"}}),u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-blue-200/72"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Authentication Portal"}),u.jsx("h2",{className:"mt-1 text-2xl font-bold",children:"Choose your account type"}),u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Select one of the options below to login or create a new account."}),u.jsxs("div",{className:"mt-6 grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[u.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Patient"}),u.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Book appointments, use triage, and track your records."}),u.jsxs("div",{className:"mt-4 flex gap-2",children:[u.jsx(je,{to:"/login",className:"btn-primary w-full justify-center",children:"Login"}),u.jsx(je,{to:"/signup",className:"btn-secondary w-full justify-center",children:"Sign Up"})]})]}),u.jsxs("article",{className:"rounded-2xl border border-emerald-200 bg-emerald-50/50 p-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-emerald-900",children:"Doctor Access"}),u.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Access your workspace, view appointments, and patients."}),u.jsx("div",{className:"mt-4",children:u.jsx(je,{to:"/doctor-login",className:"btn-primary w-full justify-center bg-emerald-600 hover:bg-emerald-700 border-emerald-600",children:"Doctor Login"})})]}),u.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Hospital Admin"}),u.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Manage hospital profile, doctors, and operations."}),u.jsxs("div",{className:"mt-4 flex gap-2 flex-col",children:[u.jsx(je,{to:"/hospital-login",className:"btn-primary w-full justify-center",children:"Admin Login"}),u.jsx(je,{to:"/hospital-signup",className:"btn-secondary w-full justify-center",children:"Register Hospital"})]})]}),u.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/70 p-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Super Admin"}),u.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Platform management and hospital approvals."}),u.jsx("div",{className:"mt-4",children:u.jsx(je,{to:"/super-admin-login",className:"btn-secondary w-full justify-center",children:"Login"})})]})]})]})]})})]})}function rye(){return u.jsx("div",{className:"page-shell",children:u.jsxs("section",{className:"card text-center",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Page Not Found"}),u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"The requested page could not be found."}),u.jsx(je,{className:"btn-primary mt-4",to:"/",children:"Back to Dashboard"})]})})}function iye(){const{currentUser:t,login:e,forgotPassword:n,getRoleHomeRoute:r}=$n(),i=wn(),[a,s]=k.useState({email:"",password:"",rememberMe:!0}),[o,l]=k.useState(!1),[c,h]=k.useState(!1),[d,p]=k.useState(""),[m,y]=k.useState({type:"",message:""});if(k.useEffect(()=>{const _=localStorage.getItem("pc_remembered_email");_&&s(A=>({...A,email:_}))},[]),t)return u.jsx(xr,{to:r(t.role),replace:!0});const w=_=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_),g=()=>w(a.email)?a.password?"":"Please enter your password.":"Please enter a valid email address.",x=async _=>{_.preventDefault(),p("");const A=g();if(A){p(A);return}h(!0);try{await e(a.email,a.password),a.rememberMe?localStorage.setItem("pc_remembered_email",a.email):localStorage.removeItem("pc_remembered_email"),i("/")}catch(P){p((P==null?void 0:P.message)||"Invalid credentials")}finally{h(!1)}},v=async()=>{p("");try{await n(a.email),y({type:"success",message:"If your email exists, reset instructions were sent."}),setTimeout(()=>y({type:"",message:""}),3e3)}catch{y({type:"error",message:"Unable to process reset right now. Please try again."}),setTimeout(()=>y({type:"",message:""}),3e3)}};return u.jsx("div",{className:"auth-shell",children:u.jsxs("div",{className:"auth-split",children:[u.jsxs("aside",{className:"auth-brand-panel animate-fadeIn",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.24em] text-blue-100",children:"Prognosis Care"}),u.jsx("h1",{className:"mt-3 text-4xl font-bold leading-tight",children:"Secure Hospital Authentication"}),u.jsx("p",{className:"mt-4 max-w-md text-blue-100/90",children:"Enterprise-grade access for patients, hospital administrators, and the super admin approval system."})]}),u.jsx("div",{className:"rounded-2xl border border-white/30 bg-white/10 p-4 text-sm text-blue-50 shadow-lg",children:"Role-based access  Encrypted session token  Approval-controlled hospital onboarding"})]}),u.jsx("section",{className:"auth-form-wrap animate-fadeIn",children:u.jsxs("div",{className:"auth-glass-card",children:[m.message?u.jsx("div",{className:`mb-4 rounded-xl p-3 text-sm ${m.type==="success"?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"}`,children:m.message}):null,u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Login"}),u.jsx("h2",{className:"mt-1 text-3xl font-bold text-slate-900",children:"Welcome back"}),u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Sign in to continue your healthcare journey."}),u.jsxs("form",{className:"mt-6 space-y-4",onSubmit:x,children:[u.jsxs("div",{className:"floating-field",children:[u.jsx("input",{className:"floating-input",type:"email",placeholder:"Email",value:a.email,onChange:_=>s(A=>({...A,email:_.target.value}))}),u.jsx("span",{className:"floating-label",children:"Email"})]}),u.jsxs("div",{className:"floating-field",children:[u.jsx("input",{className:"floating-input pr-12",type:o?"text":"password",placeholder:"Password",value:a.password,onChange:_=>s(A=>({...A,password:_.target.value}))}),u.jsx("span",{className:"floating-label",children:"Password"}),u.jsx("button",{type:"button",className:"absolute right-3 top-3 text-xs font-semibold text-med-700",onClick:()=>l(_=>!_),children:o?"Hide":"Show"})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("label",{className:"inline-flex items-center gap-2 text-slate-600",children:[u.jsx("input",{type:"checkbox",checked:a.rememberMe,onChange:_=>s(A=>({...A,rememberMe:_.target.checked}))}),"Remember me"]}),u.jsx("button",{type:"button",className:"font-semibold text-med-700",onClick:v,children:"Forgot Password?"})]}),d?u.jsx("p",{className:"rounded-xl bg-red-50 p-3 text-sm text-red-700",children:d}):null,u.jsx("button",{className:"btn-primary w-full",type:"submit",disabled:c,children:c?u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx("span",{className:"spinner"})," Signing in..."]}):"Login"})]}),u.jsx("div",{className:"mt-5 border-t border-slate-200 pt-4 text-sm text-slate-600",children:u.jsxs("p",{children:["Hospital admin registration:"," ",u.jsx(je,{className:"font-semibold text-med-700 transition hover:opacity-80",to:"/hospital-signup",children:"Create approved admin account"})]})})]})})]})})}function aye(){const{currentUser:t,doctorLogin:e,getRoleHomeRoute:n}=$n(),r=wn(),[i,a]=k.useState({email:"",password:""}),[s,o]=k.useState(!1),[l,c]=k.useState(!1),[h,d]=k.useState("");if(t)return u.jsx(xr,{to:n(t.role),replace:!0});const p=async m=>{m.preventDefault(),d(""),c(!0);try{await e(i.email,i.password),r("/doctor-workspace")}catch(y){d((y==null?void 0:y.message)||"Invalid credentials")}finally{c(!1)}};return u.jsx("div",{className:"auth-shell",children:u.jsxs("div",{className:"auth-split",children:[u.jsxs("aside",{className:"auth-brand-panel animate-fadeIn bg-emerald-700",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.24em] text-emerald-100",children:"Medical Staff Access"}),u.jsx("h1",{className:"mt-3 text-4xl font-bold leading-tight",children:"Doctor Workspace"}),u.jsx("p",{className:"mt-4 max-w-md text-emerald-100/90",children:"Access your patient records, appointments, and diagnostic tools in one secure place."})]}),u.jsx("div",{className:"rounded-2xl border border-white/30 bg-white/10 p-4 text-sm text-emerald-50 shadow-lg",children:"HIPAA Compliant  Secure Access  Clinical Tools"})]}),u.jsx("section",{className:"auth-form-wrap animate-fadeIn",children:u.jsxs("div",{className:"auth-glass-card",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-emerald-600",children:"Secure Audit Log"}),u.jsx("h2",{className:"mt-1 text-3xl font-bold text-slate-900",children:"Doctor Login"}),u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Welcome back, Doctor. Please sign in."}),u.jsxs("form",{className:"mt-6 space-y-4",onSubmit:p,children:[u.jsxs("div",{className:"floating-field",children:[u.jsx("input",{type:"email",className:"floating-input focus:border-emerald-500",placeholder:"Email",value:i.email,onChange:m=>a(y=>({...y,email:m.target.value}))}),u.jsx("span",{className:"floating-label",children:"Email"})]}),u.jsxs("div",{className:"floating-field",children:[u.jsx("input",{type:s?"text":"password",className:"floating-input pr-12 focus:border-emerald-500",placeholder:"Password",value:i.password,onChange:m=>a(y=>({...y,password:m.target.value}))}),u.jsx("span",{className:"floating-label",children:"Password"}),u.jsx("button",{type:"button",className:"absolute right-3 top-3 text-xs font-semibold text-emerald-700",onClick:()=>o(m=>!m),children:s?"Hide":"Show"})]}),h?u.jsx("p",{className:"rounded-xl bg-red-50 p-3 text-sm text-red-700",children:h}):null,u.jsx("button",{className:"btn-primary w-full bg-emerald-600 hover:bg-emerald-700 active:bg-emerald-800 border-emerald-600",type:"submit",disabled:l,children:l?u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx("span",{className:"spinner"})," Authenticating..."]}):"Login"})]}),u.jsx("div",{className:"mt-5 border-t border-slate-200 pt-4 text-sm text-slate-600",children:u.jsxs("p",{children:["Not a doctor?"," ",u.jsx(je,{className:"font-semibold text-emerald-700 transition hover:opacity-80",to:"/auth",children:"Go back to options"})]})})]})})]})})}function sye(){const{currentUser:t,signup:e,getRoleHomeRoute:n}=$n(),r=wn(),[i,a]=k.useState({email:"",password:"",confirmPassword:""}),[s,o]=k.useState(!1),[l,c]=k.useState(!1),[h,d]=k.useState(!1),[p,m]=k.useState("");if(t)return u.jsx(xr,{to:n(t.role),replace:!0});const y=g=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g),w=async g=>{if(g.preventDefault(),m(""),!y(i.email)){m("Please enter a valid email address.");return}if(i.password!==i.confirmPassword){m("Passwords do not match.");return}d(!0);try{await e(i.email,i.password),r("/welcome")}catch(x){m((x==null?void 0:x.message)||"Unable to create account.")}finally{d(!1)}};return u.jsx("div",{className:"auth-shell",children:u.jsxs("div",{className:"auth-split",children:[u.jsxs("aside",{className:"auth-brand-panel animate-fadeIn",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.24em] text-blue-100",children:"Patient Onboarding"}),u.jsx("h1",{className:"mt-3 text-4xl font-bold leading-tight",children:"Create your patient account"}),u.jsx("p",{className:"mt-4 max-w-md text-blue-100/90",children:"Access AI triage, appointments, records, and hospital recommendations from one secure place."})]}),u.jsx("div",{className:"rounded-2xl border border-white/30 bg-white/10 p-4 text-sm text-blue-50 shadow-lg",children:"Patient-first experience  Secure sessions  Fast onboarding"})]}),u.jsx("section",{className:"auth-form-wrap animate-fadeIn",children:u.jsxs("div",{className:"auth-glass-card",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Patient Signup"}),u.jsx("h2",{className:"mt-1 text-3xl font-bold text-slate-900",children:"Create account"}),u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Start your healthcare journey in under a minute."}),u.jsxs("form",{className:"mt-6 space-y-4",onSubmit:w,children:[u.jsxs("div",{className:"floating-field",children:[u.jsx("input",{type:"email",className:"floating-input",placeholder:"Email",value:i.email,onChange:g=>a(x=>({...x,email:g.target.value}))}),u.jsx("span",{className:"floating-label",children:"Email"})]}),u.jsxs("div",{className:"floating-field",children:[u.jsx("input",{type:s?"text":"password",className:"floating-input pr-12",placeholder:"Create Password",value:i.password,onChange:g=>a(x=>({...x,password:g.target.value}))}),u.jsx("span",{className:"floating-label",children:"Create Password"}),u.jsx("button",{type:"button",className:"absolute right-3 top-3 text-xs font-semibold text-med-700",onClick:()=>o(g=>!g),children:s?"Hide":"Show"})]}),u.jsxs("div",{className:"floating-field",children:[u.jsx("input",{type:l?"text":"password",className:"floating-input pr-12",placeholder:"Confirm Password",value:i.confirmPassword,onChange:g=>a(x=>({...x,confirmPassword:g.target.value}))}),u.jsx("span",{className:"floating-label",children:"Confirm Password"}),u.jsx("button",{type:"button",className:"absolute right-3 top-3 text-xs font-semibold text-med-700",onClick:()=>c(g=>!g),children:l?"Hide":"Show"})]}),p?u.jsx("p",{className:"rounded-xl bg-red-50 p-3 text-sm text-red-700",children:p}):null,u.jsx("button",{className:"btn-primary w-full",type:"submit",disabled:h,children:h?u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx("span",{className:"spinner"})," Creating account..."]}):"Sign Up"})]}),u.jsx("div",{className:"mt-5 border-t border-slate-200 pt-4 text-sm text-slate-600",children:u.jsxs("p",{children:["Already have an account?"," ",u.jsx(je,{className:"font-semibold text-med-700 transition hover:opacity-80",to:"/login",children:"Login"})]})})]})})]})})}function oye(){const{state:t}=At(),e=t.notifications[0];return e?u.jsxs("div",{className:"pointer-events-none fixed bottom-4 right-4 z-50 max-w-sm animate-fadeIn rounded-2xl border border-med-100 bg-white p-4 shadow-card",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-med-600",children:"Notification"}),u.jsx("p",{className:"mt-1 text-sm text-slate-700",children:e.message})]}):null}function lye({hospitals:t,initialHospitalId:e,onConfirm:n}){const r=k.useMemo(()=>{var o;return e&&t.some(l=>l.id===e)?e:((o=t[0])==null?void 0:o.id)||""},[t,e]),[i,a]=k.useState(r),s=()=>{i&&n(i)};return u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/50 p-4 backdrop-blur-sm",children:u.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-6 shadow-xl",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Hospital Selection"}),u.jsx("h3",{className:"mt-2 text-2xl font-bold text-slate-900",children:"Choose your hospital"}),u.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"You will only see doctors, departments, and services for the hospital you select."}),u.jsxs("label",{className:"mt-5 block text-sm font-medium text-slate-700",children:["Contracted Hospital",u.jsx("select",{className:"input mt-2",value:i,onChange:o=>a(o.target.value),required:!0,children:t.map(o=>u.jsx("option",{value:o.id,children:o.name},o.id))})]}),u.jsx("button",{type:"button",className:"btn-primary mt-6 w-full",onClick:s,disabled:!i,children:"Continue"})]})})}function cye({fallbackPath:t="/auth"}){const e=wn(),n=()=>{if(window.history.length>1){e(-1);return}e(t)};return u.jsx("button",{type:"button",className:"mb-4 inline-flex items-center gap-2 rounded-xl border border-slate-200 bg-white/70 px-3 py-2 text-sm font-semibold text-slate-700 transition hover:bg-white",onClick:n,children:" Back"})}function uye(t){return t==="super-admin"?"/super-admin-dashboard":t==="hospital-admin"?"/hospital-dashboard":t==="doctor"?"/doctor-workspace":"/dashboard"}function Nt({children:t,allowedRoles:e,redirectPath:n="/auth"}){const{currentUser:r,authLoading:i}=$n();return i?u.jsx("div",{className:"page-shell",children:u.jsx("section",{className:"card text-center text-sm text-slate-600",children:"Checking authentication..."})}):r?e!=null&&e.length&&!e.includes(r.role)?u.jsx(xr,{to:uye(r.role),replace:!0}):t:u.jsx(xr,{to:n,replace:!0})}const dye=[{to:"/dashboard",label:"Dashboard"},{to:"/welcome",label:"Welcome"},{to:"/my-appointments",label:"My Appointments"},{to:"/triage",label:"AI Assistant"},{to:"/medical-records",label:"Medical Records"}],hye=[{to:"/hospital-dashboard",label:"Hospital Dashboard"},{to:"/medical-records",label:"Medical Records"}],fye=[{to:"/doctor-workspace",label:"Doctor Workspace"},{to:"/my-appointments",label:"My Calendar"}],pye=[{to:"/super-admin-dashboard",label:"Super Dashboard"}];function mye(){const t=Ps(),{currentUser:e,logout:n,getRoleHomeRoute:r,completeHospitalSelection:i}=$n(),{hospitals:a,state:s,setPatientSelectedHospital:o}=At(),l=(e==null?void 0:e.role)==="patient"&&!!(e!=null&&e.needsHospitalSelection),c=p=>{o(p),i()},h=(e==null?void 0:e.role)==="super-admin"?pye:(e==null?void 0:e.role)==="hospital-admin"?hye:(e==null?void 0:e.role)==="doctor"?fye:dye,d=t.pathname!=="/auth"&&t.pathname!=="/";return u.jsxs("div",{className:"min-h-screen bg-red-50 text-slate-900",children:[e?u.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200 bg-white/95 backdrop-blur",children:u.jsxs("div",{className:"page-shell flex flex-wrap items-center justify-between gap-3 py-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Prognosis Care"}),u.jsx("h1",{className:"text-lg font-bold",children:"AI Healthcare Triage & Diagnostics"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("nav",{className:"flex flex-wrap gap-2",children:h.map(p=>u.jsx(TF,{to:p.to,className:({isActive:m})=>`rounded-xl px-3 py-2 text-sm font-medium transition ${m?"bg-med-100 text-med-700":"text-slate-600 hover:bg-slate-100"}`,children:p.label},p.to))}),u.jsx("button",{type:"button",className:"btn-secondary",onClick:n,children:"Logout"})]})]})}):null,d?u.jsx("div",{className:"page-shell pt-4",children:u.jsx(cye,{fallbackPath:"/"})}):null,u.jsx("main",{className:"animate-fadeIn",children:u.jsxs(gF,{children:[u.jsx(Oe,{path:"/auth",element:u.jsx(nye,{})}),u.jsx(Oe,{path:"/login",element:u.jsx(iye,{})}),u.jsx(Oe,{path:"/signup",element:u.jsx(sye,{})}),u.jsx(Oe,{path:"/super-admin-login",element:u.jsx(eye,{})}),u.jsx(Oe,{path:"/hospital-signup",element:u.jsx(Qge,{})}),u.jsx(Oe,{path:"/hospital-login",element:u.jsx(Jge,{})}),u.jsx(Oe,{path:"/doctor-login",element:u.jsx(aye,{})}),u.jsx(Oe,{path:"/hospital-admin-login",element:u.jsx(Zge,{})}),u.jsx(Oe,{path:"/",element:e?u.jsx(xr,{to:r(e==null?void 0:e.role),replace:!0}):u.jsx(zF,{})}),u.jsx(Oe,{path:"/welcome",element:u.jsx(Nt,{allowedRoles:["patient"],children:u.jsx(D8,{})})}),u.jsx(Oe,{path:"/dashboard",element:u.jsx(Nt,{allowedRoles:["patient"],children:u.jsx(wge,{})})}),u.jsx(Oe,{path:"/appointments",element:u.jsx(Nt,{allowedRoles:["patient"],children:u.jsx(Sge,{})})}),u.jsx(Oe,{path:"/my-appointments",element:u.jsx(Nt,{allowedRoles:["patient","doctor"],children:u.jsx(Age,{})})}),u.jsx(Oe,{path:"/opd-departments",element:u.jsx(Nt,{allowedRoles:["patient"],children:u.jsx(Tge,{})})}),u.jsx(Oe,{path:"/opd-departments/:departmentSlug",element:u.jsx(Nt,{allowedRoles:["patient"],children:u.jsx(Nge,{})})}),u.jsx(Oe,{path:"/doctor/:id",element:u.jsx(Nt,{allowedRoles:["patient"],children:u.jsx(Mge,{})})}),u.jsx(Oe,{path:"/chat-history",element:u.jsx(Nt,{allowedRoles:["patient"],children:u.jsx(Vge,{})})}),u.jsx(Oe,{path:"/triage",element:u.jsx(Nt,{allowedRoles:["patient"],children:u.jsx(Hge,{})})}),u.jsx(Oe,{path:"/lab-booking",element:u.jsx(Nt,{allowedRoles:["patient"],children:u.jsx(zge,{})})}),u.jsx(Oe,{path:"/payment",element:u.jsx(Nt,{allowedRoles:["patient"],children:u.jsx(Kge,{})})}),u.jsx(Oe,{path:"/booking-confirmation",element:u.jsx(Nt,{allowedRoles:["patient"],children:u.jsx(Gge,{})})}),u.jsx(Oe,{path:"/medical-records",element:u.jsx(Nt,{allowedRoles:["patient","hospital-admin"],children:u.jsx(qge,{})})}),u.jsx(Oe,{path:"/admin/hospital",element:u.jsx(Nt,{allowedRoles:["patient"],children:u.jsx(Yge,{})})}),u.jsx(Oe,{path:"/doctor-dashboard",element:u.jsx(Nt,{allowedRoles:["hospital-admin"],children:u.jsx(BM,{})})}),u.jsx(Oe,{path:"/doctor-workspace",element:u.jsx(Nt,{allowedRoles:["doctor"],children:u.jsx(Lge,{})})}),u.jsx(Oe,{path:"/hospital-dashboard",element:u.jsx(Nt,{allowedRoles:["hospital-admin"],children:u.jsx(BM,{})})}),u.jsx(Oe,{path:"/super-admin-dashboard",element:u.jsx(Nt,{allowedRoles:["super-admin"],children:u.jsx(tye,{})})}),u.jsx(Oe,{path:"/app",element:u.jsx(xr,{to:"/",replace:!0})}),u.jsx(Oe,{path:"*",element:u.jsx(rye,{})})]})}),e?u.jsx(oye,{}):null,l?u.jsx(lye,{hospitals:a,initialHospitalId:s.patient.selectedHospitalId,onConfirm:c}):null]})}av.createRoot(document.getElementById("root")).render(u.jsx(H.StrictMode,{children:u.jsx(EF,{children:u.jsx(U8,{children:u.jsx(O8,{children:u.jsx(mye,{})})})})}));
