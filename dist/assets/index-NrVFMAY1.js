function uF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Pd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zC={exports:{}},wy={},HC={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf=Symbol.for("react.element"),cF=Symbol.for("react.portal"),dF=Symbol.for("react.fragment"),hF=Symbol.for("react.strict_mode"),fF=Symbol.for("react.profiler"),pF=Symbol.for("react.provider"),mF=Symbol.for("react.context"),gF=Symbol.for("react.forward_ref"),yF=Symbol.for("react.suspense"),vF=Symbol.for("react.memo"),_F=Symbol.for("react.lazy"),YS=Symbol.iterator;function xF(t){return t===null||typeof t!="object"?null:(t=YS&&t[YS]||t["@@iterator"],typeof t=="function"?t:null)}var WC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GC=Object.assign,KC={};function tc(t,e,n){this.props=t,this.context=e,this.refs=KC,this.updater=n||WC}tc.prototype.isReactComponent={};tc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qC(){}qC.prototype=tc.prototype;function Aw(t,e,n){this.props=t,this.context=e,this.refs=KC,this.updater=n||WC}var Mw=Aw.prototype=new qC;Mw.constructor=Aw;GC(Mw,tc.prototype);Mw.isPureReactComponent=!0;var XS=Array.isArray,ZC=Object.prototype.hasOwnProperty,Nw={current:null},YC={key:!0,ref:!0,__self:!0,__source:!0};function XC(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)ZC.call(e,r)&&!YC.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:gf,type:t,key:a,ref:s,props:i,_owner:Nw.current}}function bF(t,e){return{$$typeof:gf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Iw(t){return typeof t=="object"&&t!==null&&t.$$typeof===gf}function wF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var QS=/\/+/g;function c_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wF(""+t.key):e.toString(36)}function sm(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case gf:case cF:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+c_(s,0):r,XS(i)?(n="",t!=null&&(n=t.replace(QS,"$&/")+"/"),sm(i,e,n,"",function(c){return c})):i!=null&&(Iw(i)&&(i=bF(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(QS,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",XS(t))for(var l=0;l<t.length;l++){a=t[l];var u=r+c_(a,l);s+=sm(a,e,n,u,i)}else if(u=xF(t),typeof u=="function")for(t=u.call(t),l=0;!(a=t.next()).done;)a=a.value,u=r+c_(a,l++),s+=sm(a,e,n,u,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function wp(t,e,n){if(t==null)return t;var r=[],i=0;return sm(t,r,"","",function(a){return e.call(n,a,i++)}),r}function PF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Un={current:null},om={transition:null},SF={ReactCurrentDispatcher:Un,ReactCurrentBatchConfig:om,ReactCurrentOwner:Nw};function QC(){throw Error("act(...) is not supported in production builds of React.")}Be.Children={map:wp,forEach:function(t,e,n){wp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wp(t,function(){e++}),e},toArray:function(t){return wp(t,function(e){return e})||[]},only:function(t){if(!Iw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Be.Component=tc;Be.Fragment=dF;Be.Profiler=fF;Be.PureComponent=Aw;Be.StrictMode=hF;Be.Suspense=yF;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SF;Be.act=QC;Be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=GC({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=Nw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)ZC.call(e,u)&&!YC.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:gf,type:t.type,key:i,ref:a,props:r,_owner:s}};Be.createContext=function(t){return t={$$typeof:mF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pF,_context:t},t.Consumer=t};Be.createElement=XC;Be.createFactory=function(t){var e=XC.bind(null,t);return e.type=t,e};Be.createRef=function(){return{current:null}};Be.forwardRef=function(t){return{$$typeof:gF,render:t}};Be.isValidElement=Iw;Be.lazy=function(t){return{$$typeof:_F,_payload:{_status:-1,_result:t},_init:PF}};Be.memo=function(t,e){return{$$typeof:vF,type:t,compare:e===void 0?null:e}};Be.startTransition=function(t){var e=om.transition;om.transition={};try{t()}finally{om.transition=e}};Be.unstable_act=QC;Be.useCallback=function(t,e){return Un.current.useCallback(t,e)};Be.useContext=function(t){return Un.current.useContext(t)};Be.useDebugValue=function(){};Be.useDeferredValue=function(t){return Un.current.useDeferredValue(t)};Be.useEffect=function(t,e){return Un.current.useEffect(t,e)};Be.useId=function(){return Un.current.useId()};Be.useImperativeHandle=function(t,e,n){return Un.current.useImperativeHandle(t,e,n)};Be.useInsertionEffect=function(t,e){return Un.current.useInsertionEffect(t,e)};Be.useLayoutEffect=function(t,e){return Un.current.useLayoutEffect(t,e)};Be.useMemo=function(t,e){return Un.current.useMemo(t,e)};Be.useReducer=function(t,e,n){return Un.current.useReducer(t,e,n)};Be.useRef=function(t){return Un.current.useRef(t)};Be.useState=function(t){return Un.current.useState(t)};Be.useSyncExternalStore=function(t,e,n){return Un.current.useSyncExternalStore(t,e,n)};Be.useTransition=function(){return Un.current.useTransition()};Be.version="18.3.1";HC.exports=Be;var U=HC.exports;const X=dt(U),EF=uF({__proto__:null,default:X},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TF=U,AF=Symbol.for("react.element"),MF=Symbol.for("react.fragment"),NF=Object.prototype.hasOwnProperty,IF=TF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CF={key:!0,ref:!0,__self:!0,__source:!0};function JC(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)NF.call(e,r)&&!CF.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:AF,type:t,key:a,ref:s,props:i,_owner:IF.current}}wy.Fragment=MF;wy.jsx=JC;wy.jsxs=JC;zC.exports=wy;var h=zC.exports,A0={},eO={exports:{}},yr={},tO={exports:{}},nO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,q){var H=z.length;z.push(q);e:for(;0<H;){var ee=H-1>>>1,re=z[ee];if(0<i(re,q))z[ee]=q,z[H]=re,H=ee;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var q=z[0],H=z.pop();if(H!==q){z[0]=H;e:for(var ee=0,re=z.length,ce=re>>>1;ee<ce;){var xe=2*(ee+1)-1,_e=z[xe],ge=xe+1,Je=z[ge];if(0>i(_e,H))ge<re&&0>i(Je,_e)?(z[ee]=Je,z[ge]=H,ee=ge):(z[ee]=_e,z[xe]=H,ee=xe);else if(ge<re&&0>i(Je,H))z[ee]=Je,z[ge]=H,ee=ge;else break e}}return q}function i(z,q){var H=z.sortIndex-q.sortIndex;return H!==0?H:z.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],p=1,f=null,y=3,v=!1,b=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=z)r(c),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(c)}}function I(z){if(S=!1,T(z),!b)if(n(u)!==null)b=!0,G(N);else{var q=n(c);q!==null&&Z(I,q.startTime-z)}}function N(z,q){b=!1,S&&(S=!1,P(O),O=-1),v=!0;var H=y;try{for(T(q),f=n(u);f!==null&&(!(f.expirationTime>q)||z&&!B());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,y=f.priorityLevel;var re=ee(f.expirationTime<=q);q=t.unstable_now(),typeof re=="function"?f.callback=re:f===n(u)&&r(u),T(q)}else r(u);f=n(u)}if(f!==null)var ce=!0;else{var xe=n(c);xe!==null&&Z(I,xe.startTime-q),ce=!1}return ce}finally{f=null,y=H,v=!1}}var M=!1,A=null,O=-1,k=5,$=-1;function B(){return!(t.unstable_now()-$<k)}function D(){if(A!==null){var z=t.unstable_now();$=z;var q=!0;try{q=A(!0,z)}finally{q?F():(M=!1,A=null)}}else M=!1}var F;if(typeof w=="function")F=function(){w(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Y=W.port2;W.port1.onmessage=D,F=function(){Y.postMessage(null)}}else F=function(){x(D,0)};function G(z){A=z,M||(M=!0,F())}function Z(z,q){O=x(function(){z(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){b||v||(b=!0,G(N))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var H=y;y=q;try{return z()}finally{y=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var H=y;y=z;try{return q()}finally{y=H}},t.unstable_scheduleCallback=function(z,q,H){var ee=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ee+H:ee):H=ee,z){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=H+re,z={id:p++,callback:q,priorityLevel:z,startTime:H,expirationTime:re,sortIndex:-1},H>ee?(z.sortIndex=H,e(c,z),n(u)===null&&z===n(c)&&(S?(P(O),O=-1):S=!0,Z(I,H-ee))):(z.sortIndex=re,e(u,z),b||v||(b=!0,G(N))),z},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(z){var q=y;return function(){var H=y;y=q;try{return z.apply(this,arguments)}finally{y=H}}}})(nO);tO.exports=nO;var OF=tO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jF=U,mr=OF;function ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rO=new Set,ah={};function Go(t,e){yu(t,e),yu(t+"Capture",e)}function yu(t,e){for(ah[t]=e,t=0;t<e.length;t++)rO.add(e[t])}var ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),M0=Object.prototype.hasOwnProperty,kF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,JS={},eE={};function DF(t){return M0.call(eE,t)?!0:M0.call(JS,t)?!1:kF.test(t)?eE[t]=!0:(JS[t]=!0,!1)}function RF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function LF(t,e,n,r){if(e===null||typeof e>"u"||RF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zn(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pn[t]=new zn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pn[e]=new zn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pn[t]=new zn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pn[t]=new zn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pn[t]=new zn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pn[t]=new zn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pn[t]=new zn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pn[t]=new zn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pn[t]=new zn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cw=/[\-:]([a-z])/g;function Ow(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cw,Ow);Pn[e]=new zn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cw,Ow);Pn[e]=new zn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cw,Ow);Pn[e]=new zn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pn[t]=new zn(t,1,!1,t.toLowerCase(),null,!1,!1)});Pn.xlinkHref=new zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pn[t]=new zn(t,1,!1,t.toLowerCase(),null,!0,!0)});function jw(t,e,n,r){var i=Pn.hasOwnProperty(e)?Pn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(LF(e,n,i,r)&&(n=null),r||i===null?DF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ma=jF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pp=Symbol.for("react.element"),Fl=Symbol.for("react.portal"),Bl=Symbol.for("react.fragment"),kw=Symbol.for("react.strict_mode"),N0=Symbol.for("react.profiler"),iO=Symbol.for("react.provider"),aO=Symbol.for("react.context"),Dw=Symbol.for("react.forward_ref"),I0=Symbol.for("react.suspense"),C0=Symbol.for("react.suspense_list"),Rw=Symbol.for("react.memo"),Za=Symbol.for("react.lazy"),sO=Symbol.for("react.offscreen"),tE=Symbol.iterator;function id(t){return t===null||typeof t!="object"?null:(t=tE&&t[tE]||t["@@iterator"],typeof t=="function"?t:null)}var Ot=Object.assign,d_;function Sd(t){if(d_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);d_=e&&e[1]||""}return`
`+d_+t}var h_=!1;function f_(t,e){if(!t||h_)return"";h_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,l=a.length-1;1<=s&&0<=l&&i[s]!==a[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==a[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==a[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{h_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sd(t):""}function $F(t){switch(t.tag){case 5:return Sd(t.type);case 16:return Sd("Lazy");case 13:return Sd("Suspense");case 19:return Sd("SuspenseList");case 0:case 2:case 15:return t=f_(t.type,!1),t;case 11:return t=f_(t.type.render,!1),t;case 1:return t=f_(t.type,!0),t;default:return""}}function O0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bl:return"Fragment";case Fl:return"Portal";case N0:return"Profiler";case kw:return"StrictMode";case I0:return"Suspense";case C0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aO:return(t.displayName||"Context")+".Consumer";case iO:return(t._context.displayName||"Context")+".Provider";case Dw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rw:return e=t.displayName||null,e!==null?e:O0(t.type)||"Memo";case Za:e=t._payload,t=t._init;try{return O0(t(e))}catch{}}return null}function FF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O0(e);case 8:return e===kw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ts(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BF(t){var e=oO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sp(t){t._valueTracker||(t._valueTracker=BF(t))}function lO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=oO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Mm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function j0(t,e){var n=e.checked;return Ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function nE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ts(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uO(t,e){e=e.checked,e!=null&&jw(t,"checked",e,!1)}function k0(t,e){uO(t,e);var n=Ts(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?D0(t,e.type,n):e.hasOwnProperty("defaultValue")&&D0(t,e.type,Ts(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function D0(t,e,n){(e!=="number"||Mm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ed=Array.isArray;function nu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ts(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function R0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return Ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function iE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ue(92));if(Ed(n)){if(1<n.length)throw Error(ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ts(n)}}function cO(t,e){var n=Ts(e.value),r=Ts(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function aE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function L0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ep,hO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ep=Ep||document.createElement("div"),Ep.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ep.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Rd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VF=["Webkit","ms","Moz","O"];Object.keys(Rd).forEach(function(t){VF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rd[e]=Rd[t]})});function fO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Rd.hasOwnProperty(t)&&Rd[t]?(""+e).trim():e+"px"}function pO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var UF=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $0(t,e){if(e){if(UF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function F0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B0=null;function Lw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var V0=null,ru=null,iu=null;function sE(t){if(t=_f(t)){if(typeof V0!="function")throw Error(ue(280));var e=t.stateNode;e&&(e=Ay(e),V0(t.stateNode,t.type,e))}}function mO(t){ru?iu?iu.push(t):iu=[t]:ru=t}function gO(){if(ru){var t=ru,e=iu;if(iu=ru=null,sE(t),e)for(t=0;t<e.length;t++)sE(e[t])}}function yO(t,e){return t(e)}function vO(){}var p_=!1;function _O(t,e,n){if(p_)return t(e,n);p_=!0;try{return yO(t,e,n)}finally{p_=!1,(ru!==null||iu!==null)&&(vO(),gO())}}function oh(t,e){var n=t.stateNode;if(n===null)return null;var r=Ay(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ue(231,e,typeof n));return n}var U0=!1;if(ga)try{var ad={};Object.defineProperty(ad,"passive",{get:function(){U0=!0}}),window.addEventListener("test",ad,ad),window.removeEventListener("test",ad,ad)}catch{U0=!1}function zF(t,e,n,r,i,a,s,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(p){this.onError(p)}}var Ld=!1,Nm=null,Im=!1,z0=null,HF={onError:function(t){Ld=!0,Nm=t}};function WF(t,e,n,r,i,a,s,l,u){Ld=!1,Nm=null,zF.apply(HF,arguments)}function GF(t,e,n,r,i,a,s,l,u){if(WF.apply(this,arguments),Ld){if(Ld){var c=Nm;Ld=!1,Nm=null}else throw Error(ue(198));Im||(Im=!0,z0=c)}}function Ko(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oE(t){if(Ko(t)!==t)throw Error(ue(188))}function KF(t){var e=t.alternate;if(!e){if(e=Ko(t),e===null)throw Error(ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return oE(i),t;if(a===r)return oE(i),e;a=a.sibling}throw Error(ue(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?t:e}function bO(t){return t=KF(t),t!==null?wO(t):null}function wO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wO(t);if(e!==null)return e;t=t.sibling}return null}var PO=mr.unstable_scheduleCallback,lE=mr.unstable_cancelCallback,qF=mr.unstable_shouldYield,ZF=mr.unstable_requestPaint,Ft=mr.unstable_now,YF=mr.unstable_getCurrentPriorityLevel,$w=mr.unstable_ImmediatePriority,SO=mr.unstable_UserBlockingPriority,Cm=mr.unstable_NormalPriority,XF=mr.unstable_LowPriority,EO=mr.unstable_IdlePriority,Py=null,Ii=null;function QF(t){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(Py,t,void 0,(t.current.flags&128)===128)}catch{}}var hi=Math.clz32?Math.clz32:t4,JF=Math.log,e4=Math.LN2;function t4(t){return t>>>=0,t===0?32:31-(JF(t)/e4|0)|0}var Tp=64,Ap=4194304;function Td(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Om(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Td(l):(a&=s,a!==0&&(r=Td(a)))}else s=n&~i,s!==0?r=Td(s):a!==0&&(r=Td(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hi(e),i=1<<n,r|=t[n],e&=~i;return r}function n4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-hi(a),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=n4(l,e)):u<=e&&(t.expiredLanes|=l),a&=~l}}function H0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function TO(){var t=Tp;return Tp<<=1,!(Tp&4194240)&&(Tp=64),t}function m_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hi(e),t[e]=n}function i4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hi(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Fw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var it=0;function AO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var MO,Bw,NO,IO,CO,W0=!1,Mp=[],cs=null,ds=null,hs=null,lh=new Map,uh=new Map,Qa=[],a4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uE(t,e){switch(t){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":lh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uh.delete(e.pointerId)}}function sd(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=_f(e),e!==null&&Bw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function s4(t,e,n,r,i){switch(e){case"focusin":return cs=sd(cs,t,e,n,r,i),!0;case"dragenter":return ds=sd(ds,t,e,n,r,i),!0;case"mouseover":return hs=sd(hs,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return lh.set(a,sd(lh.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,uh.set(a,sd(uh.get(a)||null,t,e,n,r,i)),!0}return!1}function OO(t){var e=go(t.target);if(e!==null){var n=Ko(e);if(n!==null){if(e=n.tag,e===13){if(e=xO(n),e!==null){t.blockedOn=e,CO(t.priority,function(){NO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=G0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);B0=r,n.target.dispatchEvent(r),B0=null}else return e=_f(n),e!==null&&Bw(e),t.blockedOn=n,!1;e.shift()}return!0}function cE(t,e,n){lm(t)&&n.delete(e)}function o4(){W0=!1,cs!==null&&lm(cs)&&(cs=null),ds!==null&&lm(ds)&&(ds=null),hs!==null&&lm(hs)&&(hs=null),lh.forEach(cE),uh.forEach(cE)}function od(t,e){t.blockedOn===e&&(t.blockedOn=null,W0||(W0=!0,mr.unstable_scheduleCallback(mr.unstable_NormalPriority,o4)))}function ch(t){function e(i){return od(i,t)}if(0<Mp.length){od(Mp[0],t);for(var n=1;n<Mp.length;n++){var r=Mp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(cs!==null&&od(cs,t),ds!==null&&od(ds,t),hs!==null&&od(hs,t),lh.forEach(e),uh.forEach(e),n=0;n<Qa.length;n++)r=Qa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qa.length&&(n=Qa[0],n.blockedOn===null);)OO(n),n.blockedOn===null&&Qa.shift()}var au=Ma.ReactCurrentBatchConfig,jm=!0;function l4(t,e,n,r){var i=it,a=au.transition;au.transition=null;try{it=1,Vw(t,e,n,r)}finally{it=i,au.transition=a}}function u4(t,e,n,r){var i=it,a=au.transition;au.transition=null;try{it=4,Vw(t,e,n,r)}finally{it=i,au.transition=a}}function Vw(t,e,n,r){if(jm){var i=G0(t,e,n,r);if(i===null)E_(t,e,r,km,n),uE(t,r);else if(s4(i,t,e,n,r))r.stopPropagation();else if(uE(t,r),e&4&&-1<a4.indexOf(t)){for(;i!==null;){var a=_f(i);if(a!==null&&MO(a),a=G0(t,e,n,r),a===null&&E_(t,e,r,km,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else E_(t,e,r,null,n)}}var km=null;function G0(t,e,n,r){if(km=null,t=Lw(r),t=go(t),t!==null)if(e=Ko(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return km=t,null}function jO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YF()){case $w:return 1;case SO:return 4;case Cm:case XF:return 16;case EO:return 536870912;default:return 16}default:return 16}}var is=null,Uw=null,um=null;function kO(){if(um)return um;var t,e=Uw,n=e.length,r,i="value"in is?is.value:is.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return um=i.slice(t,1<r?1-r:void 0)}function cm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Np(){return!0}function dE(){return!1}function vr(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Np:dE,this.isPropagationStopped=dE,this}return Ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Np)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Np)},persist:function(){},isPersistent:Np}),e}var nc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zw=vr(nc),vf=Ot({},nc,{view:0,detail:0}),c4=vr(vf),g_,y_,ld,Sy=Ot({},vf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ld&&(ld&&t.type==="mousemove"?(g_=t.screenX-ld.screenX,y_=t.screenY-ld.screenY):y_=g_=0,ld=t),g_)},movementY:function(t){return"movementY"in t?t.movementY:y_}}),hE=vr(Sy),d4=Ot({},Sy,{dataTransfer:0}),h4=vr(d4),f4=Ot({},vf,{relatedTarget:0}),v_=vr(f4),p4=Ot({},nc,{animationName:0,elapsedTime:0,pseudoElement:0}),m4=vr(p4),g4=Ot({},nc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),y4=vr(g4),v4=Ot({},nc,{data:0}),fE=vr(v4),_4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=b4[t])?!!e[t]:!1}function Hw(){return w4}var P4=Ot({},vf,{key:function(t){if(t.key){var e=_4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?x4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hw,charCode:function(t){return t.type==="keypress"?cm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),S4=vr(P4),E4=Ot({},Sy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pE=vr(E4),T4=Ot({},vf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hw}),A4=vr(T4),M4=Ot({},nc,{propertyName:0,elapsedTime:0,pseudoElement:0}),N4=vr(M4),I4=Ot({},Sy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),C4=vr(I4),O4=[9,13,27,32],Ww=ga&&"CompositionEvent"in window,$d=null;ga&&"documentMode"in document&&($d=document.documentMode);var j4=ga&&"TextEvent"in window&&!$d,DO=ga&&(!Ww||$d&&8<$d&&11>=$d),mE=" ",gE=!1;function RO(t,e){switch(t){case"keyup":return O4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vl=!1;function k4(t,e){switch(t){case"compositionend":return LO(e);case"keypress":return e.which!==32?null:(gE=!0,mE);case"textInput":return t=e.data,t===mE&&gE?null:t;default:return null}}function D4(t,e){if(Vl)return t==="compositionend"||!Ww&&RO(t,e)?(t=kO(),um=Uw=is=null,Vl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DO&&e.locale!=="ko"?null:e.data;default:return null}}var R4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!R4[t.type]:e==="textarea"}function $O(t,e,n,r){mO(r),e=Dm(e,"onChange"),0<e.length&&(n=new zw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fd=null,dh=null;function L4(t){ZO(t,0)}function Ey(t){var e=Hl(t);if(lO(e))return t}function $4(t,e){if(t==="change")return e}var FO=!1;if(ga){var __;if(ga){var x_="oninput"in document;if(!x_){var vE=document.createElement("div");vE.setAttribute("oninput","return;"),x_=typeof vE.oninput=="function"}__=x_}else __=!1;FO=__&&(!document.documentMode||9<document.documentMode)}function _E(){Fd&&(Fd.detachEvent("onpropertychange",BO),dh=Fd=null)}function BO(t){if(t.propertyName==="value"&&Ey(dh)){var e=[];$O(e,dh,t,Lw(t)),_O(L4,e)}}function F4(t,e,n){t==="focusin"?(_E(),Fd=e,dh=n,Fd.attachEvent("onpropertychange",BO)):t==="focusout"&&_E()}function B4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ey(dh)}function V4(t,e){if(t==="click")return Ey(e)}function U4(t,e){if(t==="input"||t==="change")return Ey(e)}function z4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mi=typeof Object.is=="function"?Object.is:z4;function hh(t,e){if(mi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!M0.call(e,i)||!mi(t[i],e[i]))return!1}return!0}function xE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bE(t,e){var n=xE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xE(n)}}function VO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function UO(){for(var t=window,e=Mm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mm(t.document)}return e}function Gw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function H4(t){var e=UO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VO(n.ownerDocument.documentElement,n)){if(r!==null&&Gw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=bE(n,a);var s=bE(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var W4=ga&&"documentMode"in document&&11>=document.documentMode,Ul=null,K0=null,Bd=null,q0=!1;function wE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;q0||Ul==null||Ul!==Mm(r)||(r=Ul,"selectionStart"in r&&Gw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bd&&hh(Bd,r)||(Bd=r,r=Dm(K0,"onSelect"),0<r.length&&(e=new zw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ul)))}function Ip(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zl={animationend:Ip("Animation","AnimationEnd"),animationiteration:Ip("Animation","AnimationIteration"),animationstart:Ip("Animation","AnimationStart"),transitionend:Ip("Transition","TransitionEnd")},b_={},zO={};ga&&(zO=document.createElement("div").style,"AnimationEvent"in window||(delete zl.animationend.animation,delete zl.animationiteration.animation,delete zl.animationstart.animation),"TransitionEvent"in window||delete zl.transitionend.transition);function Ty(t){if(b_[t])return b_[t];if(!zl[t])return t;var e=zl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zO)return b_[t]=e[n];return t}var HO=Ty("animationend"),WO=Ty("animationiteration"),GO=Ty("animationstart"),KO=Ty("transitionend"),qO=new Map,PE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ds(t,e){qO.set(t,e),Go(e,[t])}for(var w_=0;w_<PE.length;w_++){var P_=PE[w_],G4=P_.toLowerCase(),K4=P_[0].toUpperCase()+P_.slice(1);Ds(G4,"on"+K4)}Ds(HO,"onAnimationEnd");Ds(WO,"onAnimationIteration");Ds(GO,"onAnimationStart");Ds("dblclick","onDoubleClick");Ds("focusin","onFocus");Ds("focusout","onBlur");Ds(KO,"onTransitionEnd");yu("onMouseEnter",["mouseout","mouseover"]);yu("onMouseLeave",["mouseout","mouseover"]);yu("onPointerEnter",["pointerout","pointerover"]);yu("onPointerLeave",["pointerout","pointerover"]);Go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Go("onBeforeInput",["compositionend","keypress","textInput","paste"]);Go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ad));function SE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,GF(r,e,void 0,t),t.currentTarget=null}function ZO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==a&&i.isPropagationStopped())break e;SE(i,l,c),a=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,c=l.currentTarget,l=l.listener,u!==a&&i.isPropagationStopped())break e;SE(i,l,c),a=u}}}if(Im)throw t=z0,Im=!1,z0=null,t}function yt(t,e){var n=e[J0];n===void 0&&(n=e[J0]=new Set);var r=t+"__bubble";n.has(r)||(YO(e,t,2,!1),n.add(r))}function S_(t,e,n){var r=0;e&&(r|=4),YO(n,t,r,e)}var Cp="_reactListening"+Math.random().toString(36).slice(2);function fh(t){if(!t[Cp]){t[Cp]=!0,rO.forEach(function(n){n!=="selectionchange"&&(q4.has(n)||S_(n,!1,t),S_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cp]||(e[Cp]=!0,S_("selectionchange",!1,e))}}function YO(t,e,n,r){switch(jO(e)){case 1:var i=l4;break;case 4:i=u4;break;default:i=Vw}n=i.bind(null,e,n,t),i=void 0,!U0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function E_(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=go(l),s===null)return;if(u=s.tag,u===5||u===6){r=a=s;continue e}l=l.parentNode}}r=r.return}_O(function(){var c=a,p=Lw(n),f=[];e:{var y=qO.get(t);if(y!==void 0){var v=zw,b=t;switch(t){case"keypress":if(cm(n)===0)break e;case"keydown":case"keyup":v=S4;break;case"focusin":b="focus",v=v_;break;case"focusout":b="blur",v=v_;break;case"beforeblur":case"afterblur":v=v_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=hE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=h4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=A4;break;case HO:case WO:case GO:v=m4;break;case KO:v=N4;break;case"scroll":v=c4;break;case"wheel":v=C4;break;case"copy":case"cut":case"paste":v=y4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=pE}var S=(e&4)!==0,x=!S&&t==="scroll",P=S?y!==null?y+"Capture":null:y;S=[];for(var w=c,T;w!==null;){T=w;var I=T.stateNode;if(T.tag===5&&I!==null&&(T=I,P!==null&&(I=oh(w,P),I!=null&&S.push(ph(w,I,T)))),x)break;w=w.return}0<S.length&&(y=new v(y,b,null,n,p),f.push({event:y,listeners:S}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",y&&n!==B0&&(b=n.relatedTarget||n.fromElement)&&(go(b)||b[ya]))break e;if((v||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,v?(b=n.relatedTarget||n.toElement,v=c,b=b?go(b):null,b!==null&&(x=Ko(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(v=null,b=c),v!==b)){if(S=hE,I="onMouseLeave",P="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(S=pE,I="onPointerLeave",P="onPointerEnter",w="pointer"),x=v==null?y:Hl(v),T=b==null?y:Hl(b),y=new S(I,w+"leave",v,n,p),y.target=x,y.relatedTarget=T,I=null,go(p)===c&&(S=new S(P,w+"enter",b,n,p),S.target=T,S.relatedTarget=x,I=S),x=I,v&&b)t:{for(S=v,P=b,w=0,T=S;T;T=Ml(T))w++;for(T=0,I=P;I;I=Ml(I))T++;for(;0<w-T;)S=Ml(S),w--;for(;0<T-w;)P=Ml(P),T--;for(;w--;){if(S===P||P!==null&&S===P.alternate)break t;S=Ml(S),P=Ml(P)}S=null}else S=null;v!==null&&EE(f,y,v,S,!1),b!==null&&x!==null&&EE(f,x,b,S,!0)}}e:{if(y=c?Hl(c):window,v=y.nodeName&&y.nodeName.toLowerCase(),v==="select"||v==="input"&&y.type==="file")var N=$4;else if(yE(y))if(FO)N=U4;else{N=B4;var M=F4}else(v=y.nodeName)&&v.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(N=V4);if(N&&(N=N(t,c))){$O(f,N,n,p);break e}M&&M(t,y,c),t==="focusout"&&(M=y._wrapperState)&&M.controlled&&y.type==="number"&&D0(y,"number",y.value)}switch(M=c?Hl(c):window,t){case"focusin":(yE(M)||M.contentEditable==="true")&&(Ul=M,K0=c,Bd=null);break;case"focusout":Bd=K0=Ul=null;break;case"mousedown":q0=!0;break;case"contextmenu":case"mouseup":case"dragend":q0=!1,wE(f,n,p);break;case"selectionchange":if(W4)break;case"keydown":case"keyup":wE(f,n,p)}var A;if(Ww)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Vl?RO(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(DO&&n.locale!=="ko"&&(Vl||O!=="onCompositionStart"?O==="onCompositionEnd"&&Vl&&(A=kO()):(is=p,Uw="value"in is?is.value:is.textContent,Vl=!0)),M=Dm(c,O),0<M.length&&(O=new fE(O,t,null,n,p),f.push({event:O,listeners:M}),A?O.data=A:(A=LO(n),A!==null&&(O.data=A)))),(A=j4?k4(t,n):D4(t,n))&&(c=Dm(c,"onBeforeInput"),0<c.length&&(p=new fE("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:c}),p.data=A))}ZO(f,e)})}function ph(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=oh(t,n),a!=null&&r.unshift(ph(t,a,i)),a=oh(t,e),a!=null&&r.push(ph(t,a,i))),t=t.return}return r}function Ml(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function EE(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=oh(n,a),u!=null&&s.unshift(ph(n,u,l))):i||(u=oh(n,a),u!=null&&s.push(ph(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Z4=/\r\n?/g,Y4=/\u0000|\uFFFD/g;function TE(t){return(typeof t=="string"?t:""+t).replace(Z4,`
`).replace(Y4,"")}function Op(t,e,n){if(e=TE(e),TE(t)!==e&&n)throw Error(ue(425))}function Rm(){}var Z0=null,Y0=null;function X0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Q0=typeof setTimeout=="function"?setTimeout:void 0,X4=typeof clearTimeout=="function"?clearTimeout:void 0,AE=typeof Promise=="function"?Promise:void 0,Q4=typeof queueMicrotask=="function"?queueMicrotask:typeof AE<"u"?function(t){return AE.resolve(null).then(t).catch(J4)}:Q0;function J4(t){setTimeout(function(){throw t})}function T_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ch(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ch(e)}function fs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ME(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rc=Math.random().toString(36).slice(2),Mi="__reactFiber$"+rc,mh="__reactProps$"+rc,ya="__reactContainer$"+rc,J0="__reactEvents$"+rc,eB="__reactListeners$"+rc,tB="__reactHandles$"+rc;function go(t){var e=t[Mi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ya]||n[Mi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ME(t);t!==null;){if(n=t[Mi])return n;t=ME(t)}return e}t=n,n=t.parentNode}return null}function _f(t){return t=t[Mi]||t[ya],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ue(33))}function Ay(t){return t[mh]||null}var ex=[],Wl=-1;function Rs(t){return{current:t}}function wt(t){0>Wl||(t.current=ex[Wl],ex[Wl]=null,Wl--)}function pt(t,e){Wl++,ex[Wl]=t.current,t.current=e}var As={},jn=Rs(As),Qn=Rs(!1),Co=As;function vu(t,e){var n=t.type.contextTypes;if(!n)return As;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Jn(t){return t=t.childContextTypes,t!=null}function Lm(){wt(Qn),wt(jn)}function NE(t,e,n){if(jn.current!==As)throw Error(ue(168));pt(jn,e),pt(Qn,n)}function XO(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ue(108,FF(t)||"Unknown",i));return Ot({},n,r)}function $m(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||As,Co=jn.current,pt(jn,t),pt(Qn,Qn.current),!0}function IE(t,e,n){var r=t.stateNode;if(!r)throw Error(ue(169));n?(t=XO(t,e,Co),r.__reactInternalMemoizedMergedChildContext=t,wt(Qn),wt(jn),pt(jn,t)):wt(Qn),pt(Qn,n)}var ia=null,My=!1,A_=!1;function QO(t){ia===null?ia=[t]:ia.push(t)}function nB(t){My=!0,QO(t)}function Ls(){if(!A_&&ia!==null){A_=!0;var t=0,e=it;try{var n=ia;for(it=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ia=null,My=!1}catch(i){throw ia!==null&&(ia=ia.slice(t+1)),PO($w,Ls),i}finally{it=e,A_=!1}}return null}var Gl=[],Kl=0,Fm=null,Bm=0,Or=[],jr=0,Oo=null,aa=1,sa="";function oo(t,e){Gl[Kl++]=Bm,Gl[Kl++]=Fm,Fm=t,Bm=e}function JO(t,e,n){Or[jr++]=aa,Or[jr++]=sa,Or[jr++]=Oo,Oo=t;var r=aa;t=sa;var i=32-hi(r)-1;r&=~(1<<i),n+=1;var a=32-hi(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,aa=1<<32-hi(e)+i|n<<i|r,sa=a+t}else aa=1<<a|n<<i|r,sa=t}function Kw(t){t.return!==null&&(oo(t,1),JO(t,1,0))}function qw(t){for(;t===Fm;)Fm=Gl[--Kl],Gl[Kl]=null,Bm=Gl[--Kl],Gl[Kl]=null;for(;t===Oo;)Oo=Or[--jr],Or[jr]=null,sa=Or[--jr],Or[jr]=null,aa=Or[--jr],Or[jr]=null}var pr=null,hr=null,Et=!1,si=null;function ej(t,e){var n=Rr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function CE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pr=t,hr=fs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pr=t,hr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oo!==null?{id:aa,overflow:sa}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pr=t,hr=null,!0):!1;default:return!1}}function tx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nx(t){if(Et){var e=hr;if(e){var n=e;if(!CE(t,e)){if(tx(t))throw Error(ue(418));e=fs(n.nextSibling);var r=pr;e&&CE(t,e)?ej(r,n):(t.flags=t.flags&-4097|2,Et=!1,pr=t)}}else{if(tx(t))throw Error(ue(418));t.flags=t.flags&-4097|2,Et=!1,pr=t}}}function OE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pr=t}function jp(t){if(t!==pr)return!1;if(!Et)return OE(t),Et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!X0(t.type,t.memoizedProps)),e&&(e=hr)){if(tx(t))throw tj(),Error(ue(418));for(;e;)ej(t,e),e=fs(e.nextSibling)}if(OE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hr=fs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hr=null}}else hr=pr?fs(t.stateNode.nextSibling):null;return!0}function tj(){for(var t=hr;t;)t=fs(t.nextSibling)}function _u(){hr=pr=null,Et=!1}function Zw(t){si===null?si=[t]:si.push(t)}var rB=Ma.ReactCurrentBatchConfig;function ud(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var r=n.stateNode}if(!r)throw Error(ue(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var l=i.refs;s===null?delete l[a]:l[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,t))}return t}function kp(t,e){throw t=Object.prototype.toString.call(e),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jE(t){var e=t._init;return e(t._payload)}function nj(t){function e(P,w){if(t){var T=P.deletions;T===null?(P.deletions=[w],P.flags|=16):T.push(w)}}function n(P,w){if(!t)return null;for(;w!==null;)e(P,w),w=w.sibling;return null}function r(P,w){for(P=new Map;w!==null;)w.key!==null?P.set(w.key,w):P.set(w.index,w),w=w.sibling;return P}function i(P,w){return P=ys(P,w),P.index=0,P.sibling=null,P}function a(P,w,T){return P.index=T,t?(T=P.alternate,T!==null?(T=T.index,T<w?(P.flags|=2,w):T):(P.flags|=2,w)):(P.flags|=1048576,w)}function s(P){return t&&P.alternate===null&&(P.flags|=2),P}function l(P,w,T,I){return w===null||w.tag!==6?(w=k_(T,P.mode,I),w.return=P,w):(w=i(w,T),w.return=P,w)}function u(P,w,T,I){var N=T.type;return N===Bl?p(P,w,T.props.children,I,T.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Za&&jE(N)===w.type)?(I=i(w,T.props),I.ref=ud(P,w,T),I.return=P,I):(I=ym(T.type,T.key,T.props,null,P.mode,I),I.ref=ud(P,w,T),I.return=P,I)}function c(P,w,T,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=D_(T,P.mode,I),w.return=P,w):(w=i(w,T.children||[]),w.return=P,w)}function p(P,w,T,I,N){return w===null||w.tag!==7?(w=Eo(T,P.mode,I,N),w.return=P,w):(w=i(w,T),w.return=P,w)}function f(P,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=k_(""+w,P.mode,T),w.return=P,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pp:return T=ym(w.type,w.key,w.props,null,P.mode,T),T.ref=ud(P,null,w),T.return=P,T;case Fl:return w=D_(w,P.mode,T),w.return=P,w;case Za:var I=w._init;return f(P,I(w._payload),T)}if(Ed(w)||id(w))return w=Eo(w,P.mode,T,null),w.return=P,w;kp(P,w)}return null}function y(P,w,T,I){var N=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return N!==null?null:l(P,w,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Pp:return T.key===N?u(P,w,T,I):null;case Fl:return T.key===N?c(P,w,T,I):null;case Za:return N=T._init,y(P,w,N(T._payload),I)}if(Ed(T)||id(T))return N!==null?null:p(P,w,T,I,null);kp(P,T)}return null}function v(P,w,T,I,N){if(typeof I=="string"&&I!==""||typeof I=="number")return P=P.get(T)||null,l(w,P,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Pp:return P=P.get(I.key===null?T:I.key)||null,u(w,P,I,N);case Fl:return P=P.get(I.key===null?T:I.key)||null,c(w,P,I,N);case Za:var M=I._init;return v(P,w,T,M(I._payload),N)}if(Ed(I)||id(I))return P=P.get(T)||null,p(w,P,I,N,null);kp(w,I)}return null}function b(P,w,T,I){for(var N=null,M=null,A=w,O=w=0,k=null;A!==null&&O<T.length;O++){A.index>O?(k=A,A=null):k=A.sibling;var $=y(P,A,T[O],I);if($===null){A===null&&(A=k);break}t&&A&&$.alternate===null&&e(P,A),w=a($,w,O),M===null?N=$:M.sibling=$,M=$,A=k}if(O===T.length)return n(P,A),Et&&oo(P,O),N;if(A===null){for(;O<T.length;O++)A=f(P,T[O],I),A!==null&&(w=a(A,w,O),M===null?N=A:M.sibling=A,M=A);return Et&&oo(P,O),N}for(A=r(P,A);O<T.length;O++)k=v(A,P,O,T[O],I),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?O:k.key),w=a(k,w,O),M===null?N=k:M.sibling=k,M=k);return t&&A.forEach(function(B){return e(P,B)}),Et&&oo(P,O),N}function S(P,w,T,I){var N=id(T);if(typeof N!="function")throw Error(ue(150));if(T=N.call(T),T==null)throw Error(ue(151));for(var M=N=null,A=w,O=w=0,k=null,$=T.next();A!==null&&!$.done;O++,$=T.next()){A.index>O?(k=A,A=null):k=A.sibling;var B=y(P,A,$.value,I);if(B===null){A===null&&(A=k);break}t&&A&&B.alternate===null&&e(P,A),w=a(B,w,O),M===null?N=B:M.sibling=B,M=B,A=k}if($.done)return n(P,A),Et&&oo(P,O),N;if(A===null){for(;!$.done;O++,$=T.next())$=f(P,$.value,I),$!==null&&(w=a($,w,O),M===null?N=$:M.sibling=$,M=$);return Et&&oo(P,O),N}for(A=r(P,A);!$.done;O++,$=T.next())$=v(A,P,O,$.value,I),$!==null&&(t&&$.alternate!==null&&A.delete($.key===null?O:$.key),w=a($,w,O),M===null?N=$:M.sibling=$,M=$);return t&&A.forEach(function(D){return e(P,D)}),Et&&oo(P,O),N}function x(P,w,T,I){if(typeof T=="object"&&T!==null&&T.type===Bl&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Pp:e:{for(var N=T.key,M=w;M!==null;){if(M.key===N){if(N=T.type,N===Bl){if(M.tag===7){n(P,M.sibling),w=i(M,T.props.children),w.return=P,P=w;break e}}else if(M.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Za&&jE(N)===M.type){n(P,M.sibling),w=i(M,T.props),w.ref=ud(P,M,T),w.return=P,P=w;break e}n(P,M);break}else e(P,M);M=M.sibling}T.type===Bl?(w=Eo(T.props.children,P.mode,I,T.key),w.return=P,P=w):(I=ym(T.type,T.key,T.props,null,P.mode,I),I.ref=ud(P,w,T),I.return=P,P=I)}return s(P);case Fl:e:{for(M=T.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(P,w.sibling),w=i(w,T.children||[]),w.return=P,P=w;break e}else{n(P,w);break}else e(P,w);w=w.sibling}w=D_(T,P.mode,I),w.return=P,P=w}return s(P);case Za:return M=T._init,x(P,w,M(T._payload),I)}if(Ed(T))return b(P,w,T,I);if(id(T))return S(P,w,T,I);kp(P,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(P,w.sibling),w=i(w,T),w.return=P,P=w):(n(P,w),w=k_(T,P.mode,I),w.return=P,P=w),s(P)):n(P,w)}return x}var xu=nj(!0),rj=nj(!1),Vm=Rs(null),Um=null,ql=null,Yw=null;function Xw(){Yw=ql=Um=null}function Qw(t){var e=Vm.current;wt(Vm),t._currentValue=e}function rx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function su(t,e){Um=t,Yw=ql=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yn=!0),t.firstContext=null)}function Vr(t){var e=t._currentValue;if(Yw!==t)if(t={context:t,memoizedValue:e,next:null},ql===null){if(Um===null)throw Error(ue(308));ql=t,Um.dependencies={lanes:0,firstContext:t}}else ql=ql.next=t;return e}var yo=null;function Jw(t){yo===null?yo=[t]:yo.push(t)}function ij(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Jw(e)):(n.next=i.next,i.next=n),e.interleaved=n,va(t,r)}function va(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ya=!1;function e1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function da(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ps(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,qe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,va(t,n)}return i=r.interleaved,i===null?(e.next=e,Jw(r)):(e.next=i.next,i.next=e),r.interleaved=e,va(t,n)}function dm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fw(t,n)}}function kE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zm(t,e,n,r){var i=t.updateQueue;Ya=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,s===null?a=c:s.next=c,s=u;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==s&&(l===null?p.firstBaseUpdate=c:l.next=c,p.lastBaseUpdate=u))}if(a!==null){var f=i.baseState;s=0,p=c=u=null,l=a;do{var y=l.lane,v=l.eventTime;if((r&y)===y){p!==null&&(p=p.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,S=l;switch(y=e,v=n,S.tag){case 1:if(b=S.payload,typeof b=="function"){f=b.call(v,f,y);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=S.payload,y=typeof b=="function"?b.call(v,f,y):b,y==null)break e;f=Ot({},f,y);break e;case 2:Ya=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[l]:y.push(l))}else v={eventTime:v,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(c=p=v,u=f):p=p.next=v,s|=y;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(p===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);ko|=s,t.lanes=s,t.memoizedState=f}}function DE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ue(191,i));i.call(r)}}}var xf={},Ci=Rs(xf),gh=Rs(xf),yh=Rs(xf);function vo(t){if(t===xf)throw Error(ue(174));return t}function t1(t,e){switch(pt(yh,e),pt(gh,t),pt(Ci,xf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:L0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=L0(e,t)}wt(Ci),pt(Ci,e)}function bu(){wt(Ci),wt(gh),wt(yh)}function sj(t){vo(yh.current);var e=vo(Ci.current),n=L0(e,t.type);e!==n&&(pt(gh,t),pt(Ci,n))}function n1(t){gh.current===t&&(wt(Ci),wt(gh))}var Nt=Rs(0);function Hm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var M_=[];function r1(){for(var t=0;t<M_.length;t++)M_[t]._workInProgressVersionPrimary=null;M_.length=0}var hm=Ma.ReactCurrentDispatcher,N_=Ma.ReactCurrentBatchConfig,jo=0,It=null,tn=null,fn=null,Wm=!1,Vd=!1,vh=0,iB=0;function En(){throw Error(ue(321))}function i1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mi(t[n],e[n]))return!1;return!0}function a1(t,e,n,r,i,a){if(jo=a,It=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hm.current=t===null||t.memoizedState===null?lB:uB,t=n(r,i),Vd){a=0;do{if(Vd=!1,vh=0,25<=a)throw Error(ue(301));a+=1,fn=tn=null,e.updateQueue=null,hm.current=cB,t=n(r,i)}while(Vd)}if(hm.current=Gm,e=tn!==null&&tn.next!==null,jo=0,fn=tn=It=null,Wm=!1,e)throw Error(ue(300));return t}function s1(){var t=vh!==0;return vh=0,t}function Ei(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?It.memoizedState=fn=t:fn=fn.next=t,fn}function Ur(){if(tn===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=tn.next;var e=fn===null?It.memoizedState:fn.next;if(e!==null)fn=e,tn=t;else{if(t===null)throw Error(ue(310));tn=t,t={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},fn===null?It.memoizedState=fn=t:fn=fn.next=t}return fn}function _h(t,e){return typeof e=="function"?e(t):e}function I_(t){var e=Ur(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=tn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var p=c.lane;if((jo&p)===p)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,s=r):u=u.next=f,It.lanes|=p,ko|=p}c=c.next}while(c!==null&&c!==a);u===null?s=r:u.next=l,mi(r,e.memoizedState)||(Yn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,It.lanes|=a,ko|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function C_(t){var e=Ur(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);mi(a,e.memoizedState)||(Yn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function oj(){}function lj(t,e){var n=It,r=Ur(),i=e(),a=!mi(r.memoizedState,i);if(a&&(r.memoizedState=i,Yn=!0),r=r.queue,o1(dj.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||fn!==null&&fn.memoizedState.tag&1){if(n.flags|=2048,xh(9,cj.bind(null,n,r,i,e),void 0,null),pn===null)throw Error(ue(349));jo&30||uj(n,e,i)}return i}function uj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cj(t,e,n,r){e.value=n,e.getSnapshot=r,hj(e)&&fj(t)}function dj(t,e,n){return n(function(){hj(e)&&fj(t)})}function hj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mi(t,n)}catch{return!0}}function fj(t){var e=va(t,1);e!==null&&fi(e,t,1,-1)}function RE(t){var e=Ei();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_h,lastRenderedState:t},e.queue=t,t=t.dispatch=oB.bind(null,It,t),[e.memoizedState,t]}function xh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function pj(){return Ur().memoizedState}function fm(t,e,n,r){var i=Ei();It.flags|=t,i.memoizedState=xh(1|e,n,void 0,r===void 0?null:r)}function Ny(t,e,n,r){var i=Ur();r=r===void 0?null:r;var a=void 0;if(tn!==null){var s=tn.memoizedState;if(a=s.destroy,r!==null&&i1(r,s.deps)){i.memoizedState=xh(e,n,a,r);return}}It.flags|=t,i.memoizedState=xh(1|e,n,a,r)}function LE(t,e){return fm(8390656,8,t,e)}function o1(t,e){return Ny(2048,8,t,e)}function mj(t,e){return Ny(4,2,t,e)}function gj(t,e){return Ny(4,4,t,e)}function yj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vj(t,e,n){return n=n!=null?n.concat([t]):null,Ny(4,4,yj.bind(null,e,t),n)}function l1(){}function _j(t,e){var n=Ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&i1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xj(t,e){var n=Ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&i1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bj(t,e,n){return jo&21?(mi(n,e)||(n=TO(),It.lanes|=n,ko|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yn=!0),t.memoizedState=n)}function aB(t,e){var n=it;it=n!==0&&4>n?n:4,t(!0);var r=N_.transition;N_.transition={};try{t(!1),e()}finally{it=n,N_.transition=r}}function wj(){return Ur().memoizedState}function sB(t,e,n){var r=gs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pj(t))Sj(e,n);else if(n=ij(t,e,n,r),n!==null){var i=Vn();fi(n,t,r,i),Ej(n,e,r)}}function oB(t,e,n){var r=gs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pj(t))Sj(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,l=a(s,n);if(i.hasEagerState=!0,i.eagerState=l,mi(l,s)){var u=e.interleaved;u===null?(i.next=i,Jw(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=ij(t,e,i,r),n!==null&&(i=Vn(),fi(n,t,r,i),Ej(n,e,r))}}function Pj(t){var e=t.alternate;return t===It||e!==null&&e===It}function Sj(t,e){Vd=Wm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ej(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fw(t,n)}}var Gm={readContext:Vr,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},lB={readContext:Vr,useCallback:function(t,e){return Ei().memoizedState=[t,e===void 0?null:e],t},useContext:Vr,useEffect:LE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fm(4194308,4,yj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fm(4194308,4,t,e)},useInsertionEffect:function(t,e){return fm(4,2,t,e)},useMemo:function(t,e){var n=Ei();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ei();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=sB.bind(null,It,t),[r.memoizedState,t]},useRef:function(t){var e=Ei();return t={current:t},e.memoizedState=t},useState:RE,useDebugValue:l1,useDeferredValue:function(t){return Ei().memoizedState=t},useTransition:function(){var t=RE(!1),e=t[0];return t=aB.bind(null,t[1]),Ei().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=It,i=Ei();if(Et){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=e(),pn===null)throw Error(ue(349));jo&30||uj(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,LE(dj.bind(null,r,a,t),[t]),r.flags|=2048,xh(9,cj.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Ei(),e=pn.identifierPrefix;if(Et){var n=sa,r=aa;n=(r&~(1<<32-hi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uB={readContext:Vr,useCallback:_j,useContext:Vr,useEffect:o1,useImperativeHandle:vj,useInsertionEffect:mj,useLayoutEffect:gj,useMemo:xj,useReducer:I_,useRef:pj,useState:function(){return I_(_h)},useDebugValue:l1,useDeferredValue:function(t){var e=Ur();return bj(e,tn.memoizedState,t)},useTransition:function(){var t=I_(_h)[0],e=Ur().memoizedState;return[t,e]},useMutableSource:oj,useSyncExternalStore:lj,useId:wj,unstable_isNewReconciler:!1},cB={readContext:Vr,useCallback:_j,useContext:Vr,useEffect:o1,useImperativeHandle:vj,useInsertionEffect:mj,useLayoutEffect:gj,useMemo:xj,useReducer:C_,useRef:pj,useState:function(){return C_(_h)},useDebugValue:l1,useDeferredValue:function(t){var e=Ur();return tn===null?e.memoizedState=t:bj(e,tn.memoizedState,t)},useTransition:function(){var t=C_(_h)[0],e=Ur().memoizedState;return[t,e]},useMutableSource:oj,useSyncExternalStore:lj,useId:wj,unstable_isNewReconciler:!1};function ni(t,e){if(t&&t.defaultProps){e=Ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ix(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Iy={isMounted:function(t){return(t=t._reactInternals)?Ko(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vn(),i=gs(t),a=da(r,i);a.payload=e,n!=null&&(a.callback=n),e=ps(t,a,i),e!==null&&(fi(e,t,i,r),dm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vn(),i=gs(t),a=da(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=ps(t,a,i),e!==null&&(fi(e,t,i,r),dm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vn(),r=gs(t),i=da(n,r);i.tag=2,e!=null&&(i.callback=e),e=ps(t,i,r),e!==null&&(fi(e,t,r,n),dm(e,t,r))}};function $E(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!hh(n,r)||!hh(i,a):!0}function Tj(t,e,n){var r=!1,i=As,a=e.contextType;return typeof a=="object"&&a!==null?a=Vr(a):(i=Jn(e)?Co:jn.current,r=e.contextTypes,a=(r=r!=null)?vu(t,i):As),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Iy,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function FE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Iy.enqueueReplaceState(e,e.state,null)}function ax(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},e1(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Vr(a):(a=Jn(e)?Co:jn.current,i.context=vu(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(ix(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Iy.enqueueReplaceState(i,i.state,null),zm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function wu(t,e){try{var n="",r=e;do n+=$F(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function O_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dB=typeof WeakMap=="function"?WeakMap:Map;function Aj(t,e,n){n=da(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qm||(qm=!0,gx=r),sx(t,e)},n}function Mj(t,e,n){n=da(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){sx(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){sx(t,e),typeof r!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function BE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new dB;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=EB.bind(null,t,e,n),e.then(t,t))}function VE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function UE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=da(-1,1),e.tag=2,ps(n,e,1))),n.lanes|=1),t)}var hB=Ma.ReactCurrentOwner,Yn=!1;function Fn(t,e,n,r){e.child=t===null?rj(e,null,n,r):xu(e,t.child,n,r)}function zE(t,e,n,r,i){n=n.render;var a=e.ref;return su(e,i),r=a1(t,e,n,r,a,i),n=s1(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_a(t,e,i)):(Et&&n&&Kw(e),e.flags|=1,Fn(t,e,r,i),e.child)}function HE(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!g1(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,Nj(t,e,a,r,i)):(t=ym(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:hh,n(s,r)&&t.ref===e.ref)return _a(t,e,i)}return e.flags|=1,t=ys(a,r),t.ref=e.ref,t.return=e,e.child=t}function Nj(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(hh(a,r)&&t.ref===e.ref)if(Yn=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Yn=!0);else return e.lanes=t.lanes,_a(t,e,i)}return ox(t,e,n,r,i)}function Ij(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Yl,ur),ur|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pt(Yl,ur),ur|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,pt(Yl,ur),ur|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,pt(Yl,ur),ur|=r;return Fn(t,e,i,n),e.child}function Cj(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ox(t,e,n,r,i){var a=Jn(n)?Co:jn.current;return a=vu(e,a),su(e,i),n=a1(t,e,n,r,a,i),r=s1(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_a(t,e,i)):(Et&&r&&Kw(e),e.flags|=1,Fn(t,e,n,i),e.child)}function WE(t,e,n,r,i){if(Jn(n)){var a=!0;$m(e)}else a=!1;if(su(e,i),e.stateNode===null)pm(t,e),Tj(e,n,r),ax(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Vr(c):(c=Jn(n)?Co:jn.current,c=vu(e,c));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==c)&&FE(e,s,r,c),Ya=!1;var y=e.memoizedState;s.state=y,zm(e,r,s,i),u=e.memoizedState,l!==r||y!==u||Qn.current||Ya?(typeof p=="function"&&(ix(e,n,p,r),u=e.memoizedState),(l=Ya||$E(e,n,l,r,y,u,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,aj(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:ni(e.type,l),s.props=c,f=e.pendingProps,y=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Vr(u):(u=Jn(n)?Co:jn.current,u=vu(e,u));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||y!==u)&&FE(e,s,r,u),Ya=!1,y=e.memoizedState,s.state=y,zm(e,r,s,i);var b=e.memoizedState;l!==f||y!==b||Qn.current||Ya?(typeof v=="function"&&(ix(e,n,v,r),b=e.memoizedState),(c=Ya||$E(e,n,c,r,y,b,u)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,b,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,b,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),s.props=r,s.state=b,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return lx(t,e,n,r,a,i)}function lx(t,e,n,r,i,a){Cj(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&IE(e,n,!1),_a(t,e,a);r=e.stateNode,hB.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=xu(e,t.child,null,a),e.child=xu(e,null,l,a)):Fn(t,e,l,a),e.memoizedState=r.state,i&&IE(e,n,!0),e.child}function Oj(t){var e=t.stateNode;e.pendingContext?NE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&NE(t,e.context,!1),t1(t,e.containerInfo)}function GE(t,e,n,r,i){return _u(),Zw(i),e.flags|=256,Fn(t,e,n,r),e.child}var ux={dehydrated:null,treeContext:null,retryLane:0};function cx(t){return{baseLanes:t,cachePool:null,transitions:null}}function jj(t,e,n){var r=e.pendingProps,i=Nt.current,a=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pt(Nt,i&1),t===null)return nx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=jy(s,r,0,null),t=Eo(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=cx(n),e.memoizedState=ux,t):u1(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return fB(t,e,s,r,l,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ys(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=ys(l,a):(a=Eo(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?cx(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=ux,r}return a=t.child,t=a.sibling,r=ys(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function u1(t,e){return e=jy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dp(t,e,n,r){return r!==null&&Zw(r),xu(e,t.child,null,n),t=u1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fB(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=O_(Error(ue(422))),Dp(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=jy({mode:"visible",children:r.children},i,0,null),a=Eo(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&xu(e,t.child,null,s),e.child.memoizedState=cx(s),e.memoizedState=ux,a);if(!(e.mode&1))return Dp(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(ue(419)),r=O_(a,r,void 0),Dp(t,e,s,r)}if(l=(s&t.childLanes)!==0,Yn||l){if(r=pn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,va(t,i),fi(r,t,i,-1))}return m1(),r=O_(Error(ue(421))),Dp(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=TB.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,hr=fs(i.nextSibling),pr=e,Et=!0,si=null,t!==null&&(Or[jr++]=aa,Or[jr++]=sa,Or[jr++]=Oo,aa=t.id,sa=t.overflow,Oo=e),e=u1(e,r.children),e.flags|=4096,e)}function KE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rx(t.return,e,n)}function j_(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function kj(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Fn(t,e,r.children,n),r=Nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&KE(t,n,e);else if(t.tag===19)KE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pt(Nt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Hm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),j_(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}j_(e,!0,n,null,a);break;case"together":j_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _a(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ko|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ue(153));if(e.child!==null){for(t=e.child,n=ys(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ys(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pB(t,e,n){switch(e.tag){case 3:Oj(e),_u();break;case 5:sj(e);break;case 1:Jn(e.type)&&$m(e);break;case 4:t1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pt(Vm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pt(Nt,Nt.current&1),e.flags|=128,null):n&e.child.childLanes?jj(t,e,n):(pt(Nt,Nt.current&1),t=_a(t,e,n),t!==null?t.sibling:null);pt(Nt,Nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kj(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pt(Nt,Nt.current),r)break;return null;case 22:case 23:return e.lanes=0,Ij(t,e,n)}return _a(t,e,n)}var Dj,dx,Rj,Lj;Dj=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dx=function(){};Rj=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vo(Ci.current);var a=null;switch(n){case"input":i=j0(t,i),r=j0(t,r),a=[];break;case"select":i=Ot({},i,{value:void 0}),r=Ot({},r,{value:void 0}),a=[];break;case"textarea":i=R0(t,i),r=R0(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rm)}$0(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ah.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(a=a||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ah.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&yt("scroll",t),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};Lj=function(t,e,n,r){n!==r&&(e.flags|=4)};function cd(t,e){if(!Et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mB(t,e,n){var r=e.pendingProps;switch(qw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(e),null;case 1:return Jn(e.type)&&Lm(),Tn(e),null;case 3:return r=e.stateNode,bu(),wt(Qn),wt(jn),r1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(jp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,si!==null&&(_x(si),si=null))),dx(t,e),Tn(e),null;case 5:n1(e);var i=vo(yh.current);if(n=e.type,t!==null&&e.stateNode!=null)Rj(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ue(166));return Tn(e),null}if(t=vo(Ci.current),jp(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Mi]=e,r[mh]=a,t=(e.mode&1)!==0,n){case"dialog":yt("cancel",r),yt("close",r);break;case"iframe":case"object":case"embed":yt("load",r);break;case"video":case"audio":for(i=0;i<Ad.length;i++)yt(Ad[i],r);break;case"source":yt("error",r);break;case"img":case"image":case"link":yt("error",r),yt("load",r);break;case"details":yt("toggle",r);break;case"input":nE(r,a),yt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},yt("invalid",r);break;case"textarea":iE(r,a),yt("invalid",r)}$0(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Op(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Op(r.textContent,l,t),i=["children",""+l]):ah.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&yt("scroll",r)}switch(n){case"input":Sp(r),rE(r,a,!0);break;case"textarea":Sp(r),aE(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Rm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Mi]=e,t[mh]=r,Dj(t,e,!1,!1),e.stateNode=t;e:{switch(s=F0(n,r),n){case"dialog":yt("cancel",t),yt("close",t),i=r;break;case"iframe":case"object":case"embed":yt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ad.length;i++)yt(Ad[i],t);i=r;break;case"source":yt("error",t),i=r;break;case"img":case"image":case"link":yt("error",t),yt("load",t),i=r;break;case"details":yt("toggle",t),i=r;break;case"input":nE(t,r),i=j0(t,r),yt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ot({},r,{value:void 0}),yt("invalid",t);break;case"textarea":iE(t,r),i=R0(t,r),yt("invalid",t);break;default:i=r}$0(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var u=l[a];a==="style"?pO(t,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&hO(t,u)):a==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&sh(t,u):typeof u=="number"&&sh(t,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ah.hasOwnProperty(a)?u!=null&&a==="onScroll"&&yt("scroll",t):u!=null&&jw(t,a,u,s))}switch(n){case"input":Sp(t),rE(t,r,!1);break;case"textarea":Sp(t),aE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ts(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?nu(t,!!r.multiple,a,!1):r.defaultValue!=null&&nu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tn(e),null;case 6:if(t&&e.stateNode!=null)Lj(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ue(166));if(n=vo(yh.current),vo(Ci.current),jp(e)){if(r=e.stateNode,n=e.memoizedProps,r[Mi]=e,(a=r.nodeValue!==n)&&(t=pr,t!==null))switch(t.tag){case 3:Op(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Op(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mi]=e,e.stateNode=r}return Tn(e),null;case 13:if(wt(Nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Et&&hr!==null&&e.mode&1&&!(e.flags&128))tj(),_u(),e.flags|=98560,a=!1;else if(a=jp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(ue(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ue(317));a[Mi]=e}else _u(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tn(e),a=!1}else si!==null&&(_x(si),si=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Nt.current&1?rn===0&&(rn=3):m1())),e.updateQueue!==null&&(e.flags|=4),Tn(e),null);case 4:return bu(),dx(t,e),t===null&&fh(e.stateNode.containerInfo),Tn(e),null;case 10:return Qw(e.type._context),Tn(e),null;case 17:return Jn(e.type)&&Lm(),Tn(e),null;case 19:if(wt(Nt),a=e.memoizedState,a===null)return Tn(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)cd(a,!1);else{if(rn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Hm(t),s!==null){for(e.flags|=128,cd(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pt(Nt,Nt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ft()>Pu&&(e.flags|=128,r=!0,cd(a,!1),e.lanes=4194304)}else{if(!r)if(t=Hm(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),cd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Et)return Tn(e),null}else 2*Ft()-a.renderingStartTime>Pu&&n!==1073741824&&(e.flags|=128,r=!0,cd(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ft(),e.sibling=null,n=Nt.current,pt(Nt,r?n&1|2:n&1),e):(Tn(e),null);case 22:case 23:return p1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ur&1073741824&&(Tn(e),e.subtreeFlags&6&&(e.flags|=8192)):Tn(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function gB(t,e){switch(qw(e),e.tag){case 1:return Jn(e.type)&&Lm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bu(),wt(Qn),wt(jn),r1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return n1(e),null;case 13:if(wt(Nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));_u()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wt(Nt),null;case 4:return bu(),null;case 10:return Qw(e.type._context),null;case 22:case 23:return p1(),null;case 24:return null;default:return null}}var Rp=!1,In=!1,yB=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Zl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Dt(t,e,r)}else n.current=null}function hx(t,e,n){try{n()}catch(r){Dt(t,e,r)}}var qE=!1;function vB(t,e){if(Z0=jm,t=UO(),Gw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,c=0,p=0,f=t,y=null;t:for(;;){for(var v;f!==n||i!==0&&f.nodeType!==3||(l=s+i),f!==a||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(v=f.firstChild)!==null;)y=f,f=v;for(;;){if(f===t)break t;if(y===n&&++c===i&&(l=s),y===a&&++p===r&&(u=s),(v=f.nextSibling)!==null)break;f=y,y=f.parentNode}f=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Y0={focusedElem:t,selectionRange:n},jm=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var S=b.memoizedProps,x=b.memoizedState,P=e.stateNode,w=P.getSnapshotBeforeUpdate(e.elementType===e.type?S:ni(e.type,S),x);P.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(I){Dt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return b=qE,qE=!1,b}function Ud(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&hx(e,n,a)}i=i.next}while(i!==r)}}function Cy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $j(t){var e=t.alternate;e!==null&&(t.alternate=null,$j(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mi],delete e[mh],delete e[J0],delete e[eB],delete e[tB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Fj(t){return t.tag===5||t.tag===3||t.tag===4}function ZE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function px(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rm));else if(r!==4&&(t=t.child,t!==null))for(px(t,e,n),t=t.sibling;t!==null;)px(t,e,n),t=t.sibling}function mx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mx(t,e,n),t=t.sibling;t!==null;)mx(t,e,n),t=t.sibling}var vn=null,ri=!1;function Ka(t,e,n){for(n=n.child;n!==null;)Bj(t,e,n),n=n.sibling}function Bj(t,e,n){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(Py,n)}catch{}switch(n.tag){case 5:In||Zl(n,e);case 6:var r=vn,i=ri;vn=null,Ka(t,e,n),vn=r,ri=i,vn!==null&&(ri?(t=vn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vn.removeChild(n.stateNode));break;case 18:vn!==null&&(ri?(t=vn,n=n.stateNode,t.nodeType===8?T_(t.parentNode,n):t.nodeType===1&&T_(t,n),ch(t)):T_(vn,n.stateNode));break;case 4:r=vn,i=ri,vn=n.stateNode.containerInfo,ri=!0,Ka(t,e,n),vn=r,ri=i;break;case 0:case 11:case 14:case 15:if(!In&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&hx(n,e,s),i=i.next}while(i!==r)}Ka(t,e,n);break;case 1:if(!In&&(Zl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Dt(n,e,l)}Ka(t,e,n);break;case 21:Ka(t,e,n);break;case 22:n.mode&1?(In=(r=In)||n.memoizedState!==null,Ka(t,e,n),In=r):Ka(t,e,n);break;default:Ka(t,e,n)}}function YE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yB),e.forEach(function(r){var i=AB.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:vn=l.stateNode,ri=!1;break e;case 3:vn=l.stateNode.containerInfo,ri=!0;break e;case 4:vn=l.stateNode.containerInfo,ri=!0;break e}l=l.return}if(vn===null)throw Error(ue(160));Bj(a,s,i),vn=null,ri=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Dt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vj(e,t),e=e.sibling}function Vj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jr(e,t),Si(t),r&4){try{Ud(3,t,t.return),Cy(3,t)}catch(S){Dt(t,t.return,S)}try{Ud(5,t,t.return)}catch(S){Dt(t,t.return,S)}}break;case 1:Jr(e,t),Si(t),r&512&&n!==null&&Zl(n,n.return);break;case 5:if(Jr(e,t),Si(t),r&512&&n!==null&&Zl(n,n.return),t.flags&32){var i=t.stateNode;try{sh(i,"")}catch(S){Dt(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&uO(i,a),F0(l,s);var c=F0(l,a);for(s=0;s<u.length;s+=2){var p=u[s],f=u[s+1];p==="style"?pO(i,f):p==="dangerouslySetInnerHTML"?hO(i,f):p==="children"?sh(i,f):jw(i,p,f,c)}switch(l){case"input":k0(i,a);break;case"textarea":cO(i,a);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?nu(i,!!a.multiple,v,!1):y!==!!a.multiple&&(a.defaultValue!=null?nu(i,!!a.multiple,a.defaultValue,!0):nu(i,!!a.multiple,a.multiple?[]:"",!1))}i[mh]=a}catch(S){Dt(t,t.return,S)}}break;case 6:if(Jr(e,t),Si(t),r&4){if(t.stateNode===null)throw Error(ue(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(S){Dt(t,t.return,S)}}break;case 3:if(Jr(e,t),Si(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ch(e.containerInfo)}catch(S){Dt(t,t.return,S)}break;case 4:Jr(e,t),Si(t);break;case 13:Jr(e,t),Si(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(h1=Ft())),r&4&&YE(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(In=(c=In)||p,Jr(e,t),In=c):Jr(e,t),Si(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!p&&t.mode&1)for(ye=t,p=t.child;p!==null;){for(f=ye=p;ye!==null;){switch(y=ye,v=y.child,y.tag){case 0:case 11:case 14:case 15:Ud(4,y,y.return);break;case 1:Zl(y,y.return);var b=y.stateNode;if(typeof b.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(S){Dt(r,n,S)}}break;case 5:Zl(y,y.return);break;case 22:if(y.memoizedState!==null){QE(f);continue}}v!==null?(v.return=y,ye=v):QE(f)}p=p.sibling}e:for(p=null,f=t;;){if(f.tag===5){if(p===null){p=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=fO("display",s))}catch(S){Dt(t,t.return,S)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(S){Dt(t,t.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Jr(e,t),Si(t),r&4&&YE(t);break;case 21:break;default:Jr(e,t),Si(t)}}function Si(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Fj(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sh(i,""),r.flags&=-33);var a=ZE(t);mx(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=ZE(t);px(t,l,s);break;default:throw Error(ue(161))}}catch(u){Dt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _B(t,e,n){ye=t,Uj(t)}function Uj(t,e,n){for(var r=(t.mode&1)!==0;ye!==null;){var i=ye,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Rp;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||In;l=Rp;var c=In;if(Rp=s,(In=u)&&!c)for(ye=i;ye!==null;)s=ye,u=s.child,s.tag===22&&s.memoizedState!==null?JE(i):u!==null?(u.return=s,ye=u):JE(i);for(;a!==null;)ye=a,Uj(a),a=a.sibling;ye=i,Rp=l,In=c}XE(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ye=a):XE(t)}}function XE(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:In||Cy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!In)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ni(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&DE(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}DE(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&ch(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}In||e.flags&512&&fx(e)}catch(y){Dt(e,e.return,y)}}if(e===t){ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,ye=n;break}ye=e.return}}function QE(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ye=n;break}ye=e.return}}function JE(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cy(4,e)}catch(u){Dt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Dt(e,i,u)}}var a=e.return;try{fx(e)}catch(u){Dt(e,a,u)}break;case 5:var s=e.return;try{fx(e)}catch(u){Dt(e,s,u)}}}catch(u){Dt(e,e.return,u)}if(e===t){ye=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ye=l;break}ye=e.return}}var xB=Math.ceil,Km=Ma.ReactCurrentDispatcher,c1=Ma.ReactCurrentOwner,$r=Ma.ReactCurrentBatchConfig,qe=0,pn=null,Kt=null,wn=0,ur=0,Yl=Rs(0),rn=0,bh=null,ko=0,Oy=0,d1=0,zd=null,qn=null,h1=0,Pu=1/0,ra=null,qm=!1,gx=null,ms=null,Lp=!1,as=null,Zm=0,Hd=0,yx=null,mm=-1,gm=0;function Vn(){return qe&6?Ft():mm!==-1?mm:mm=Ft()}function gs(t){return t.mode&1?qe&2&&wn!==0?wn&-wn:rB.transition!==null?(gm===0&&(gm=TO()),gm):(t=it,t!==0||(t=window.event,t=t===void 0?16:jO(t.type)),t):1}function fi(t,e,n,r){if(50<Hd)throw Hd=0,yx=null,Error(ue(185));yf(t,n,r),(!(qe&2)||t!==pn)&&(t===pn&&(!(qe&2)&&(Oy|=n),rn===4&&Ja(t,wn)),er(t,r),n===1&&qe===0&&!(e.mode&1)&&(Pu=Ft()+500,My&&Ls()))}function er(t,e){var n=t.callbackNode;r4(t,e);var r=Om(t,t===pn?wn:0);if(r===0)n!==null&&lE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&lE(n),e===1)t.tag===0?nB(eT.bind(null,t)):QO(eT.bind(null,t)),Q4(function(){!(qe&6)&&Ls()}),n=null;else{switch(AO(r)){case 1:n=$w;break;case 4:n=SO;break;case 16:n=Cm;break;case 536870912:n=EO;break;default:n=Cm}n=Yj(n,zj.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zj(t,e){if(mm=-1,gm=0,qe&6)throw Error(ue(327));var n=t.callbackNode;if(ou()&&t.callbackNode!==n)return null;var r=Om(t,t===pn?wn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ym(t,r);else{e=r;var i=qe;qe|=2;var a=Wj();(pn!==t||wn!==e)&&(ra=null,Pu=Ft()+500,So(t,e));do try{PB();break}catch(l){Hj(t,l)}while(!0);Xw(),Km.current=a,qe=i,Kt!==null?e=0:(pn=null,wn=0,e=rn)}if(e!==0){if(e===2&&(i=H0(t),i!==0&&(r=i,e=vx(t,i))),e===1)throw n=bh,So(t,0),Ja(t,r),er(t,Ft()),n;if(e===6)Ja(t,r);else{if(i=t.current.alternate,!(r&30)&&!bB(i)&&(e=Ym(t,r),e===2&&(a=H0(t),a!==0&&(r=a,e=vx(t,a))),e===1))throw n=bh,So(t,0),Ja(t,r),er(t,Ft()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ue(345));case 2:lo(t,qn,ra);break;case 3:if(Ja(t,r),(r&130023424)===r&&(e=h1+500-Ft(),10<e)){if(Om(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Vn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Q0(lo.bind(null,t,qn,ra),e);break}lo(t,qn,ra);break;case 4:if(Ja(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-hi(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=Ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xB(r/1960))-r,10<r){t.timeoutHandle=Q0(lo.bind(null,t,qn,ra),r);break}lo(t,qn,ra);break;case 5:lo(t,qn,ra);break;default:throw Error(ue(329))}}}return er(t,Ft()),t.callbackNode===n?zj.bind(null,t):null}function vx(t,e){var n=zd;return t.current.memoizedState.isDehydrated&&(So(t,e).flags|=256),t=Ym(t,e),t!==2&&(e=qn,qn=n,e!==null&&_x(e)),t}function _x(t){qn===null?qn=t:qn.push.apply(qn,t)}function bB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!mi(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ja(t,e){for(e&=~d1,e&=~Oy,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hi(e),r=1<<n;t[n]=-1,e&=~r}}function eT(t){if(qe&6)throw Error(ue(327));ou();var e=Om(t,0);if(!(e&1))return er(t,Ft()),null;var n=Ym(t,e);if(t.tag!==0&&n===2){var r=H0(t);r!==0&&(e=r,n=vx(t,r))}if(n===1)throw n=bh,So(t,0),Ja(t,e),er(t,Ft()),n;if(n===6)throw Error(ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,lo(t,qn,ra),er(t,Ft()),null}function f1(t,e){var n=qe;qe|=1;try{return t(e)}finally{qe=n,qe===0&&(Pu=Ft()+500,My&&Ls())}}function Do(t){as!==null&&as.tag===0&&!(qe&6)&&ou();var e=qe;qe|=1;var n=$r.transition,r=it;try{if($r.transition=null,it=1,t)return t()}finally{it=r,$r.transition=n,qe=e,!(qe&6)&&Ls()}}function p1(){ur=Yl.current,wt(Yl)}function So(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,X4(n)),Kt!==null)for(n=Kt.return;n!==null;){var r=n;switch(qw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lm();break;case 3:bu(),wt(Qn),wt(jn),r1();break;case 5:n1(r);break;case 4:bu();break;case 13:wt(Nt);break;case 19:wt(Nt);break;case 10:Qw(r.type._context);break;case 22:case 23:p1()}n=n.return}if(pn=t,Kt=t=ys(t.current,null),wn=ur=e,rn=0,bh=null,d1=Oy=ko=0,qn=zd=null,yo!==null){for(e=0;e<yo.length;e++)if(n=yo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}yo=null}return t}function Hj(t,e){do{var n=Kt;try{if(Xw(),hm.current=Gm,Wm){for(var r=It.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wm=!1}if(jo=0,fn=tn=It=null,Vd=!1,vh=0,c1.current=null,n===null||n.return===null){rn=1,bh=e,Kt=null;break}e:{var a=t,s=n.return,l=n,u=e;if(e=wn,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,p=l,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=VE(s);if(v!==null){v.flags&=-257,UE(v,s,l,a,e),v.mode&1&&BE(a,c,e),e=v,u=c;var b=e.updateQueue;if(b===null){var S=new Set;S.add(u),e.updateQueue=S}else b.add(u);break e}else{if(!(e&1)){BE(a,c,e),m1();break e}u=Error(ue(426))}}else if(Et&&l.mode&1){var x=VE(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),UE(x,s,l,a,e),Zw(wu(u,l));break e}}a=u=wu(u,l),rn!==4&&(rn=2),zd===null?zd=[a]:zd.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var P=Aj(a,u,e);kE(a,P);break e;case 1:l=u;var w=a.type,T=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ms===null||!ms.has(T)))){a.flags|=65536,e&=-e,a.lanes|=e;var I=Mj(a,l,e);kE(a,I);break e}}a=a.return}while(a!==null)}Kj(n)}catch(N){e=N,Kt===n&&n!==null&&(Kt=n=n.return);continue}break}while(!0)}function Wj(){var t=Km.current;return Km.current=Gm,t===null?Gm:t}function m1(){(rn===0||rn===3||rn===2)&&(rn=4),pn===null||!(ko&268435455)&&!(Oy&268435455)||Ja(pn,wn)}function Ym(t,e){var n=qe;qe|=2;var r=Wj();(pn!==t||wn!==e)&&(ra=null,So(t,e));do try{wB();break}catch(i){Hj(t,i)}while(!0);if(Xw(),qe=n,Km.current=r,Kt!==null)throw Error(ue(261));return pn=null,wn=0,rn}function wB(){for(;Kt!==null;)Gj(Kt)}function PB(){for(;Kt!==null&&!qF();)Gj(Kt)}function Gj(t){var e=Zj(t.alternate,t,ur);t.memoizedProps=t.pendingProps,e===null?Kj(t):Kt=e,c1.current=null}function Kj(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=gB(n,e),n!==null){n.flags&=32767,Kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rn=6,Kt=null;return}}else if(n=mB(n,e,ur),n!==null){Kt=n;return}if(e=e.sibling,e!==null){Kt=e;return}Kt=e=t}while(e!==null);rn===0&&(rn=5)}function lo(t,e,n){var r=it,i=$r.transition;try{$r.transition=null,it=1,SB(t,e,n,r)}finally{$r.transition=i,it=r}return null}function SB(t,e,n,r){do ou();while(as!==null);if(qe&6)throw Error(ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(i4(t,a),t===pn&&(Kt=pn=null,wn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lp||(Lp=!0,Yj(Cm,function(){return ou(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=$r.transition,$r.transition=null;var s=it;it=1;var l=qe;qe|=4,c1.current=null,vB(t,n),Vj(n,t),H4(Y0),jm=!!Z0,Y0=Z0=null,t.current=n,_B(n),ZF(),qe=l,it=s,$r.transition=a}else t.current=n;if(Lp&&(Lp=!1,as=t,Zm=i),a=t.pendingLanes,a===0&&(ms=null),QF(n.stateNode),er(t,Ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qm)throw qm=!1,t=gx,gx=null,t;return Zm&1&&t.tag!==0&&ou(),a=t.pendingLanes,a&1?t===yx?Hd++:(Hd=0,yx=t):Hd=0,Ls(),null}function ou(){if(as!==null){var t=AO(Zm),e=$r.transition,n=it;try{if($r.transition=null,it=16>t?16:t,as===null)var r=!1;else{if(t=as,as=null,Zm=0,qe&6)throw Error(ue(331));var i=qe;for(qe|=4,ye=t.current;ye!==null;){var a=ye,s=a.child;if(ye.flags&16){var l=a.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(ye=c;ye!==null;){var p=ye;switch(p.tag){case 0:case 11:case 15:Ud(8,p,a)}var f=p.child;if(f!==null)f.return=p,ye=f;else for(;ye!==null;){p=ye;var y=p.sibling,v=p.return;if($j(p),p===c){ye=null;break}if(y!==null){y.return=v,ye=y;break}ye=v}}}var b=a.alternate;if(b!==null){var S=b.child;if(S!==null){b.child=null;do{var x=S.sibling;S.sibling=null,S=x}while(S!==null)}}ye=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ye=s;else e:for(;ye!==null;){if(a=ye,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ud(9,a,a.return)}var P=a.sibling;if(P!==null){P.return=a.return,ye=P;break e}ye=a.return}}var w=t.current;for(ye=w;ye!==null;){s=ye;var T=s.child;if(s.subtreeFlags&2064&&T!==null)T.return=s,ye=T;else e:for(s=w;ye!==null;){if(l=ye,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Cy(9,l)}}catch(N){Dt(l,l.return,N)}if(l===s){ye=null;break e}var I=l.sibling;if(I!==null){I.return=l.return,ye=I;break e}ye=l.return}}if(qe=i,Ls(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(Py,t)}catch{}r=!0}return r}finally{it=n,$r.transition=e}}return!1}function tT(t,e,n){e=wu(n,e),e=Aj(t,e,1),t=ps(t,e,1),e=Vn(),t!==null&&(yf(t,1,e),er(t,e))}function Dt(t,e,n){if(t.tag===3)tT(t,t,n);else for(;e!==null;){if(e.tag===3){tT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ms===null||!ms.has(r))){t=wu(n,t),t=Mj(e,t,1),e=ps(e,t,1),t=Vn(),e!==null&&(yf(e,1,t),er(e,t));break}}e=e.return}}function EB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vn(),t.pingedLanes|=t.suspendedLanes&n,pn===t&&(wn&n)===n&&(rn===4||rn===3&&(wn&130023424)===wn&&500>Ft()-h1?So(t,0):d1|=n),er(t,e)}function qj(t,e){e===0&&(t.mode&1?(e=Ap,Ap<<=1,!(Ap&130023424)&&(Ap=4194304)):e=1);var n=Vn();t=va(t,e),t!==null&&(yf(t,e,n),er(t,n))}function TB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qj(t,n)}function AB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(e),qj(t,n)}var Zj;Zj=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qn.current)Yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yn=!1,pB(t,e,n);Yn=!!(t.flags&131072)}else Yn=!1,Et&&e.flags&1048576&&JO(e,Bm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pm(t,e),t=e.pendingProps;var i=vu(e,jn.current);su(e,n),i=a1(null,e,r,t,i,n);var a=s1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jn(r)?(a=!0,$m(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,e1(e),i.updater=Iy,e.stateNode=i,i._reactInternals=e,ax(e,r,t,n),e=lx(null,e,r,!0,a,n)):(e.tag=0,Et&&a&&Kw(e),Fn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=NB(r),t=ni(r,t),i){case 0:e=ox(null,e,r,t,n);break e;case 1:e=WE(null,e,r,t,n);break e;case 11:e=zE(null,e,r,t,n);break e;case 14:e=HE(null,e,r,ni(r.type,t),n);break e}throw Error(ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ni(r,i),ox(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ni(r,i),WE(t,e,r,i,n);case 3:e:{if(Oj(e),t===null)throw Error(ue(387));r=e.pendingProps,a=e.memoizedState,i=a.element,aj(t,e),zm(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=wu(Error(ue(423)),e),e=GE(t,e,r,n,i);break e}else if(r!==i){i=wu(Error(ue(424)),e),e=GE(t,e,r,n,i);break e}else for(hr=fs(e.stateNode.containerInfo.firstChild),pr=e,Et=!0,si=null,n=rj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_u(),r===i){e=_a(t,e,n);break e}Fn(t,e,r,n)}e=e.child}return e;case 5:return sj(e),t===null&&nx(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,X0(r,i)?s=null:a!==null&&X0(r,a)&&(e.flags|=32),Cj(t,e),Fn(t,e,s,n),e.child;case 6:return t===null&&nx(e),null;case 13:return jj(t,e,n);case 4:return t1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xu(e,null,r,n):Fn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ni(r,i),zE(t,e,r,i,n);case 7:return Fn(t,e,e.pendingProps,n),e.child;case 8:return Fn(t,e,e.pendingProps.children,n),e.child;case 12:return Fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,pt(Vm,r._currentValue),r._currentValue=s,a!==null)if(mi(a.value,s)){if(a.children===i.children&&!Qn.current){e=_a(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){s=a.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(a.tag===1){u=da(-1,n&-n),u.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?u.next=u:(u.next=p.next,p.next=u),c.pending=u}}a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),rx(a.return,n,e),l.lanes|=n;break}u=u.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(ue(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),rx(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Fn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,su(e,n),i=Vr(i),r=r(i),e.flags|=1,Fn(t,e,r,n),e.child;case 14:return r=e.type,i=ni(r,e.pendingProps),i=ni(r.type,i),HE(t,e,r,i,n);case 15:return Nj(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ni(r,i),pm(t,e),e.tag=1,Jn(r)?(t=!0,$m(e)):t=!1,su(e,n),Tj(e,r,i),ax(e,r,i,n),lx(null,e,r,!0,t,n);case 19:return kj(t,e,n);case 22:return Ij(t,e,n)}throw Error(ue(156,e.tag))};function Yj(t,e){return PO(t,e)}function MB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(t,e,n,r){return new MB(t,e,n,r)}function g1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NB(t){if(typeof t=="function")return g1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dw)return 11;if(t===Rw)return 14}return 2}function ys(t,e){var n=t.alternate;return n===null?(n=Rr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ym(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")g1(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Bl:return Eo(n.children,i,a,e);case kw:s=8,i|=8;break;case N0:return t=Rr(12,n,e,i|2),t.elementType=N0,t.lanes=a,t;case I0:return t=Rr(13,n,e,i),t.elementType=I0,t.lanes=a,t;case C0:return t=Rr(19,n,e,i),t.elementType=C0,t.lanes=a,t;case sO:return jy(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case iO:s=10;break e;case aO:s=9;break e;case Dw:s=11;break e;case Rw:s=14;break e;case Za:s=16,r=null;break e}throw Error(ue(130,t==null?t:typeof t,""))}return e=Rr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Eo(t,e,n,r){return t=Rr(7,t,r,e),t.lanes=n,t}function jy(t,e,n,r){return t=Rr(22,t,r,e),t.elementType=sO,t.lanes=n,t.stateNode={isHidden:!1},t}function k_(t,e,n){return t=Rr(6,t,null,e),t.lanes=n,t}function D_(t,e,n){return e=Rr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IB(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=m_(0),this.expirationTimes=m_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=m_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function y1(t,e,n,r,i,a,s,l,u){return t=new IB(t,e,n,l,u),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Rr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},e1(a),t}function CB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Xj(t){if(!t)return As;t=t._reactInternals;e:{if(Ko(t)!==t||t.tag!==1)throw Error(ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(t.tag===1){var n=t.type;if(Jn(n))return XO(t,n,e)}return e}function Qj(t,e,n,r,i,a,s,l,u){return t=y1(n,r,!0,t,i,a,s,l,u),t.context=Xj(null),n=t.current,r=Vn(),i=gs(n),a=da(r,i),a.callback=e??null,ps(n,a,i),t.current.lanes=i,yf(t,i,r),er(t,r),t}function ky(t,e,n,r){var i=e.current,a=Vn(),s=gs(i);return n=Xj(n),e.context===null?e.context=n:e.pendingContext=n,e=da(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ps(i,e,s),t!==null&&(fi(t,i,s,a),dm(t,i,s)),s}function Xm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function v1(t,e){nT(t,e),(t=t.alternate)&&nT(t,e)}function OB(){return null}var Jj=typeof reportError=="function"?reportError:function(t){console.error(t)};function _1(t){this._internalRoot=t}Dy.prototype.render=_1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ue(409));ky(t,e,null,null)};Dy.prototype.unmount=_1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Do(function(){ky(null,t,null,null)}),e[ya]=null}};function Dy(t){this._internalRoot=t}Dy.prototype.unstable_scheduleHydration=function(t){if(t){var e=IO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qa.length&&e!==0&&e<Qa[n].priority;n++);Qa.splice(n,0,t),n===0&&OO(t)}};function x1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ry(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rT(){}function jB(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Xm(s);a.call(c)}}var s=Qj(e,r,t,0,null,!1,!1,"",rT);return t._reactRootContainer=s,t[ya]=s.current,fh(t.nodeType===8?t.parentNode:t),Do(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Xm(u);l.call(c)}}var u=y1(t,0,!1,null,null,!1,!1,"",rT);return t._reactRootContainer=u,t[ya]=u.current,fh(t.nodeType===8?t.parentNode:t),Do(function(){ky(e,u,n,r)}),u}function Ly(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var l=i;i=function(){var u=Xm(s);l.call(u)}}ky(e,s,t,i)}else s=jB(n,e,t,i,r);return Xm(s)}MO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Td(e.pendingLanes);n!==0&&(Fw(e,n|1),er(e,Ft()),!(qe&6)&&(Pu=Ft()+500,Ls()))}break;case 13:Do(function(){var r=va(t,1);if(r!==null){var i=Vn();fi(r,t,1,i)}}),v1(t,1)}};Bw=function(t){if(t.tag===13){var e=va(t,134217728);if(e!==null){var n=Vn();fi(e,t,134217728,n)}v1(t,134217728)}};NO=function(t){if(t.tag===13){var e=gs(t),n=va(t,e);if(n!==null){var r=Vn();fi(n,t,e,r)}v1(t,e)}};IO=function(){return it};CO=function(t,e){var n=it;try{return it=t,e()}finally{it=n}};V0=function(t,e,n){switch(e){case"input":if(k0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ay(r);if(!i)throw Error(ue(90));lO(r),k0(r,i)}}}break;case"textarea":cO(t,n);break;case"select":e=n.value,e!=null&&nu(t,!!n.multiple,e,!1)}};yO=f1;vO=Do;var kB={usingClientEntryPoint:!1,Events:[_f,Hl,Ay,mO,gO,f1]},dd={findFiberByHostInstance:go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DB={bundleType:dd.bundleType,version:dd.version,rendererPackageName:dd.rendererPackageName,rendererConfig:dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ma.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bO(t),t===null?null:t.stateNode},findFiberByHostInstance:dd.findFiberByHostInstance||OB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$p.isDisabled&&$p.supportsFiber)try{Py=$p.inject(DB),Ii=$p}catch{}}yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kB;yr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x1(e))throw Error(ue(200));return CB(t,e,null,n)};yr.createRoot=function(t,e){if(!x1(t))throw Error(ue(299));var n=!1,r="",i=Jj;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=y1(t,1,!1,null,null,n,!1,r,i),t[ya]=e.current,fh(t.nodeType===8?t.parentNode:t),new _1(e)};yr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=bO(e),t=t===null?null:t.stateNode,t};yr.flushSync=function(t){return Do(t)};yr.hydrate=function(t,e,n){if(!Ry(e))throw Error(ue(200));return Ly(null,t,e,!0,n)};yr.hydrateRoot=function(t,e,n){if(!x1(t))throw Error(ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=Jj;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Qj(e,null,t,1,n??null,i,!1,a,s),t[ya]=e.current,fh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Dy(e)};yr.render=function(t,e,n){if(!Ry(e))throw Error(ue(200));return Ly(null,t,e,!1,n)};yr.unmountComponentAtNode=function(t){if(!Ry(t))throw Error(ue(40));return t._reactRootContainer?(Do(function(){Ly(null,null,t,!1,function(){t._reactRootContainer=null,t[ya]=null})}),!0):!1};yr.unstable_batchedUpdates=f1;yr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ry(n))throw Error(ue(200));if(t==null||t._reactInternals===void 0)throw Error(ue(38));return Ly(t,e,n,!1,r)};yr.version="18.3.1-next-f1338f8080-20240426";function ek(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ek)}catch(t){console.error(t)}}ek(),eO.exports=yr;var tk=eO.exports,iT=tk;A0.createRoot=iT.createRoot,A0.hydrateRoot=iT.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wh(){return wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wh.apply(this,arguments)}var ss;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ss||(ss={}));const aT="popstate";function RB(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:l}=r.location;return xx("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Qm(i)}return $B(e,n,null,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function b1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LB(){return Math.random().toString(36).substr(2,8)}function sT(t,e){return{usr:t.state,key:t.key,idx:e}}function xx(t,e,n,r){return n===void 0&&(n=null),wh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ic(e):e,{state:n,key:e&&e.key||r||LB()})}function Qm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ic(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function $B(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l=ss.Pop,u=null,c=p();c==null&&(c=0,s.replaceState(wh({},s.state,{idx:c}),""));function p(){return(s.state||{idx:null}).idx}function f(){l=ss.Pop;let x=p(),P=x==null?null:x-c;c=x,u&&u({action:l,location:S.location,delta:P})}function y(x,P){l=ss.Push;let w=xx(S.location,x,P);c=p()+1;let T=sT(w,c),I=S.createHref(w);try{s.pushState(T,"",I)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(I)}a&&u&&u({action:l,location:S.location,delta:1})}function v(x,P){l=ss.Replace;let w=xx(S.location,x,P);c=p();let T=sT(w,c),I=S.createHref(w);s.replaceState(T,"",I),a&&u&&u({action:l,location:S.location,delta:0})}function b(x){let P=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:Qm(x);return w=w.replace(/ $/,"%20"),Ct(P,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,P)}let S={get action(){return l},get location(){return t(i,s)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(aT,f),u=x,()=>{i.removeEventListener(aT,f),u=null}},createHref(x){return e(i,x)},createURL:b,encodeLocation(x){let P=b(x);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:y,replace:v,go(x){return s.go(x)}};return S}var oT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(oT||(oT={}));function FB(t,e,n){return n===void 0&&(n="/"),BB(t,e,n)}function BB(t,e,n,r){let i=typeof e=="string"?ic(e):e,a=Su(i.pathname||"/",n);if(a==null)return null;let s=nk(t);VB(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let c=QB(a);l=YB(s[u],c)}return l}function nk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,l)=>{let u={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};u.relativePath.startsWith("/")&&(Ct(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=vs([r,u.relativePath]),p=n.concat(u);a.children&&a.children.length>0&&(Ct(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),nk(a.children,e,p,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:qB(c,a.index),routesMeta:p})};return t.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let u of rk(a.path))i(a,s,u)}),e}function rk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=rk(r.join("/")),l=[];return l.push(...s.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function VB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const UB=/^:[\w-]+$/,zB=3,HB=2,WB=1,GB=10,KB=-2,lT=t=>t==="*";function qB(t,e){let n=t.split("/"),r=n.length;return n.some(lT)&&(r+=KB),e&&(r+=HB),n.filter(i=>!lT(i)).reduce((i,a)=>i+(UB.test(a)?zB:a===""?WB:GB),r)}function ZB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function YB(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",f=bx({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},p),y=u.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:vs([a,f.pathname]),pathnameBase:rV(vs([a,f.pathnameBase])),route:y}),f.pathnameBase!=="/"&&(a=vs([a,f.pathnameBase]))}return s}function bx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=XB(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,p,f)=>{let{paramName:y,isOptional:v}=p;if(y==="*"){let S=l[f]||"";s=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const b=l[f];return v&&!b?c[y]=void 0:c[y]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function XB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),b1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function QB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return b1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Su(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const JB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eV=t=>JB.test(t);function tV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ic(t):t,a;if(n)if(eV(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),b1(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?a=uT(n.substring(1),"/"):a=uT(n,e)}else a=e;return{pathname:a,search:iV(r),hash:aV(i)}}function uT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function R_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function w1(t,e){let n=nV(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function P1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ic(t):(i=wh({},t),Ct(!i.pathname||!i.pathname.includes("?"),R_("?","pathname","search",i)),Ct(!i.pathname||!i.pathname.includes("#"),R_("#","pathname","hash",i)),Ct(!i.search||!i.search.includes("#"),R_("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),f-=1;i.pathname=y.join("/")}l=f>=0?e[f]:"/"}let u=tV(i,l),c=s&&s!=="/"&&s.endsWith("/"),p=(a||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||p)&&(u.pathname+="/"),u}const vs=t=>t.join("/").replace(/\/\/+/g,"/"),rV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ik=["post","put","patch","delete"];new Set(ik);const oV=["get",...ik];new Set(oV);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ph(){return Ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ph.apply(this,arguments)}const $y=U.createContext(null),ak=U.createContext(null),Na=U.createContext(null),Fy=U.createContext(null),Ia=U.createContext({outlet:null,matches:[],isDataRoute:!1}),sk=U.createContext(null);function lV(t,e){let{relative:n}=e===void 0?{}:e;ac()||Ct(!1);let{basename:r,navigator:i}=U.useContext(Na),{hash:a,pathname:s,search:l}=By(t,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:vs([r,s])),i.createHref({pathname:u,search:l,hash:a})}function ac(){return U.useContext(Fy)!=null}function qo(){return ac()||Ct(!1),U.useContext(Fy).location}function ok(t){U.useContext(Na).static||U.useLayoutEffect(t)}function tr(){let{isDataRoute:t}=U.useContext(Ia);return t?bV():uV()}function uV(){ac()||Ct(!1);let t=U.useContext($y),{basename:e,future:n,navigator:r}=U.useContext(Na),{matches:i}=U.useContext(Ia),{pathname:a}=qo(),s=JSON.stringify(w1(i,n.v7_relativeSplatPath)),l=U.useRef(!1);return ok(()=>{l.current=!0}),U.useCallback(function(c,p){if(p===void 0&&(p={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let f=P1(c,JSON.parse(s),a,p.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:vs([e,f.pathname])),(p.replace?r.replace:r.push)(f,p.state,p)},[e,r,s,a,t])}function lk(){let{matches:t}=U.useContext(Ia),e=t[t.length-1];return e?e.params:{}}function By(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=U.useContext(Na),{matches:i}=U.useContext(Ia),{pathname:a}=qo(),s=JSON.stringify(w1(i,r.v7_relativeSplatPath));return U.useMemo(()=>P1(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function cV(t,e){return dV(t,e)}function dV(t,e,n,r){ac()||Ct(!1);let{navigator:i}=U.useContext(Na),{matches:a}=U.useContext(Ia),s=a[a.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=qo(),p;if(e){var f;let x=typeof e=="string"?ic(e):e;u==="/"||(f=x.pathname)!=null&&f.startsWith(u)||Ct(!1),p=x}else p=c;let y=p.pathname||"/",v=y;if(u!=="/"){let x=u.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=FB(t,{pathname:v}),S=gV(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:vs([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:vs([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,n,r);return e&&S?U.createElement(Fy.Provider,{value:{location:Ph({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ss.Pop}},S):S}function hV(){let t=xV(),e=sV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,null)}const fV=U.createElement(hV,null);class pV extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(Ia.Provider,{value:this.props.routeContext},U.createElement(sk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mV(t){let{routeContext:e,match:n,children:r}=t,i=U.useContext($y);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(Ia.Provider,{value:e},r)}function gV(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let p=s.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);p>=0||Ct(!1),s=s.slice(0,Math.min(s.length,p+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<s.length;p++){let f=s[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=p),f.route.id){let{loaderData:y,errors:v}=n,b=f.route.loader&&y[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||b){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((p,f,y)=>{let v,b=!1,S=null,x=null;n&&(v=l&&f.route.id?l[f.route.id]:void 0,S=f.route.errorElement||fV,u&&(c<0&&y===0?(wV("route-fallback"),b=!0,x=null):c===y&&(b=!0,x=f.route.hydrateFallbackElement||null)));let P=e.concat(s.slice(0,y+1)),w=()=>{let T;return v?T=S:b?T=x:f.route.Component?T=U.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=p,U.createElement(mV,{match:f,routeContext:{outlet:p,matches:P,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||y===0)?U.createElement(pV,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:w(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):w()},null)}var uk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uk||{}),ck=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ck||{});function yV(t){let e=U.useContext($y);return e||Ct(!1),e}function vV(t){let e=U.useContext(ak);return e||Ct(!1),e}function _V(t){let e=U.useContext(Ia);return e||Ct(!1),e}function dk(t){let e=_V(),n=e.matches[e.matches.length-1];return n.route.id||Ct(!1),n.route.id}function xV(){var t;let e=U.useContext(sk),n=vV(),r=dk();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function bV(){let{router:t}=yV(uk.UseNavigateStable),e=dk(ck.UseNavigateStable),n=U.useRef(!1);return ok(()=>{n.current=!0}),U.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ph({fromRouteId:e},a)))},[t,e])}const cT={};function wV(t,e,n){cT[t]||(cT[t]=!0)}function PV(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function gi(t){let{to:e,replace:n,state:r,relative:i}=t;ac()||Ct(!1);let{future:a,static:s}=U.useContext(Na),{matches:l}=U.useContext(Ia),{pathname:u}=qo(),c=tr(),p=P1(e,w1(l,a.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(p);return U.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Xe(t){Ct(!1)}function SV(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ss.Pop,navigator:a,static:s=!1,future:l}=t;ac()&&Ct(!1);let u=e.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:u,navigator:a,static:s,future:Ph({v7_relativeSplatPath:!1},l)}),[u,l,a,s]);typeof r=="string"&&(r=ic(r));let{pathname:p="/",search:f="",hash:y="",state:v=null,key:b="default"}=r,S=U.useMemo(()=>{let x=Su(p,u);return x==null?null:{location:{pathname:x,search:f,hash:y,state:v,key:b},navigationType:i}},[u,p,f,y,v,b,i]);return S==null?null:U.createElement(Na.Provider,{value:c},U.createElement(Fy.Provider,{children:n,value:S}))}function EV(t){let{children:e,location:n}=t;return cV(wx(e),n)}new Promise(()=>{});function wx(t,e){e===void 0&&(e=[]);let n=[];return U.Children.forEach(t,(r,i)=>{if(!U.isValidElement(r))return;let a=[...e,i];if(r.type===U.Fragment){n.push.apply(n,wx(r.props.children,a));return}r.type!==Xe&&Ct(!1),!r.props.index||!r.props.children||Ct(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=wx(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jm(){return Jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jm.apply(this,arguments)}function hk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function TV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AV(t,e){return t.button===0&&(!e||e==="_self")&&!TV(t)}const MV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],NV=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],IV="6";try{window.__reactRouterVersion=IV}catch{}const CV=U.createContext({isTransitioning:!1}),OV="startTransition",dT=EF[OV];function jV(t){let{basename:e,children:n,future:r,window:i}=t,a=U.useRef();a.current==null&&(a.current=RB({window:i,v5Compat:!0}));let s=a.current,[l,u]=U.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},p=U.useCallback(f=>{c&&dT?dT(()=>u(f)):u(f)},[u,c]);return U.useLayoutEffect(()=>s.listen(p),[s,p]),U.useEffect(()=>PV(r),[r]),U.createElement(SV,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:s,future:r})}const kV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=U.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:l,target:u,to:c,preventScrollReset:p,viewTransition:f}=e,y=hk(e,MV),{basename:v}=U.useContext(Na),b,S=!1;if(typeof c=="string"&&DV.test(c)&&(b=c,kV))try{let T=new URL(window.location.href),I=c.startsWith("//")?new URL(T.protocol+c):new URL(c),N=Su(I.pathname,v);I.origin===T.origin&&N!=null?c=N+I.search+I.hash:S=!0}catch{}let x=lV(c,{relative:i}),P=$V(c,{replace:s,state:l,target:u,preventScrollReset:p,relative:i,viewTransition:f});function w(T){r&&r(T),T.defaultPrevented||P(T)}return U.createElement("a",Jm({},y,{href:b||x,onClick:S||a?r:w,ref:n,target:u}))}),RV=U.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:s=!1,style:l,to:u,viewTransition:c,children:p}=e,f=hk(e,NV),y=By(u,{relative:f.relative}),v=qo(),b=U.useContext(ak),{navigator:S,basename:x}=U.useContext(Na),P=b!=null&&FV(y)&&c===!0,w=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,T=v.pathname,I=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(T=T.toLowerCase(),I=I?I.toLowerCase():null,w=w.toLowerCase()),I&&x&&(I=Su(I,x)||I);const N=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let M=T===w||!s&&T.startsWith(w)&&T.charAt(N)==="/",A=I!=null&&(I===w||!s&&I.startsWith(w)&&I.charAt(w.length)==="/"),O={isActive:M,isPending:A,isTransitioning:P},k=M?r:void 0,$;typeof a=="function"?$=a(O):$=[a,M?"active":null,A?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let B=typeof l=="function"?l(O):l;return U.createElement(Qe,Jm({},f,{"aria-current":k,className:$,ref:n,style:B,to:u,viewTransition:c}),typeof p=="function"?p(O):p)});var Px;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Px||(Px={}));var hT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hT||(hT={}));function LV(t){let e=U.useContext($y);return e||Ct(!1),e}function $V(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:l}=e===void 0?{}:e,u=tr(),c=qo(),p=By(t,{relative:s});return U.useCallback(f=>{if(AV(f,n)){f.preventDefault();let y=r!==void 0?r:Qm(c)===Qm(p);u(t,{replace:y,state:i,preventScrollReset:a,relative:s,viewTransition:l})}},[c,u,p,r,i,n,t,a,s,l])}function FV(t,e){e===void 0&&(e={});let n=U.useContext(CV);n==null&&Ct(!1);let{basename:r}=LV(Px.useViewTransitionState),i=By(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Su(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Su(n.nextLocation.pathname,r)||n.nextLocation.pathname;return bx(i.pathname,s)!=null||bx(i.pathname,a)!=null}const fk=[{id:"hosp-2",name:"Fortis Hospital"},{id:"hosp-1",name:"CityCare Multi-Speciality Hospital"},{id:"hosp-3",name:"Max Hospital"}],Wd=["Pulmonology","Endocrinology","Oncology","Dermatology","Pathology","ENT","Nutrients & Dietetics","Neurology","General Medicine","Cardiology"],BV=new Set(["Kavya","Ritu","Anjali","Neha","Rohini","Meera","Shreya","Anitha","Divya","Sneha","Riya","Pooja","Nisha","Priya","Deepika","Reena","Farah","Kavita","Ananya","Lakshmi","Sana","Nandini","Sonia","Aditi","Meenakshi","Anita"]);function VV(t){return t.replace(/^Dr\.\s*/i,"").trim().split(/\s+/)[0]||""}function UV(t){const e=VV(t);return BV.has(e)?"Female":"Male"}function zV(t,e,n,r){const a=(e*100+n*10+r+101)%100;return t==="Female"?`https://randomuser.me/api/portraits/women/${a}.jpg`:`https://randomuser.me/api/portraits/men/${a}.jpg`}const HV={Pulmonology:[["Dr. Nikhil Batra",11,"MD Pulmonary Medicine","Chronic cough and airway disease","9 AM1 PM",["Hindi","English"]],["Dr. Tara Srinivasan",10,"DNB Respiratory Medicine","Interstitial lung disease","10 AM2 PM",["English","Tamil"]],["Dr. Omkar Deshpande",9,"FCCP Pulmonology","Bronchoscopy","11 AM3 PM",["Marathi","English"]],["Dr. Priya Talwar",8,"MD Tuberculosis & Chest","Tuberculosis management","2 PM6 PM",["Hindi","English"]],["Dr. Sandeep Kamat",13,"DM Pulmonary Critical Care","ICU respiratory care","9 AM3 PM",["English","Kannada"]],["Dr. Leena Joseph",7,"Respiratory Fellowship","Pediatric asthma","12 PM5 PM",["Malayalam","English"]],["Dr. Hitesh Arora",12,"MD Pulmonary Medicine","Allergic airway disorders","1 PM6 PM",["Hindi","English"]],["Dr. Rina Das",9,"DNB Chest Medicine","Pulmonary rehabilitation","10 AM4 PM",["Bengali","English"]]],Endocrinology:[["Dr. Kavita Bansal",12,"DM Endocrinology","Type 1 diabetes care","9 AM1 PM",["Hindi","English"]],["Dr. Aditya Menon",10,"Endocrine Fellowship","Metabolic syndrome","10 AM2 PM",["Malayalam","English"]],["Dr. Nisha Rao",9,"DM Endocrinology","PCOS and hormonal disorders","11 AM3 PM",["English","Kannada"]],["Dr. Rohan Malviya",8,"MD Medicine DM Endo","Bone and calcium disorders","2 PM6 PM",["Hindi","English"]],["Dr. Simran Oberoi",13,"DM Endocrinology","Gestational diabetes","9 AM3 PM",["Hindi","English"]],["Dr. Vivek Patil",11,"DNB Endocrinology","Insulin optimization","12 PM5 PM",["Marathi","English"]],["Dr. Asha Narayanan",9,"Endocrine Specialist","Adrenal disorders","1 PM6 PM",["Tamil","English"]],["Dr. Kunal Suri",10,"DM Endocrinology","Pituitary disorders","10 AM4 PM",["Hindi","English"]]],Oncology:[["Dr. Pooja Rajan",11,"DM Medical Oncology","Targeted therapy","9 AM1 PM",["English","Hindi"]],["Dr. Harsh Vohra",10,"MD Oncology","Head and neck cancers","10 AM2 PM",["Hindi","English"]],["Dr. Neelima Paul",9,"Clinical Oncology Fellowship","Immunotherapy","11 AM3 PM",["English","Bengali"]],["Dr. Ritesh Dutta",8,"Medical Oncology","GI oncology","2 PM6 PM",["Hindi","English"]],["Dr. Sana Qureshi",13,"DM Oncology","Lung cancer care","9 AM3 PM",["Urdu","English"]],["Dr. Arun Bhardwaj",12,"Onco Medicine","Lymphoma treatment","12 PM5 PM",["Hindi","English"]],["Dr. Megha Iqbal",10,"Breast Oncology Fellowship","Breast oncology","1 PM6 PM",["English","Hindi"]],["Dr. Tejas Kulkarni",9,"DM Medical Oncology","Precision oncology","10 AM4 PM",["Marathi","English"]]],Dermatology:[["Dr. Ishita Verma",11,"MD Dermatology","Pigmentation disorders","9 AM1 PM",["Hindi","English"]],["Dr. Ashwin Nair",10,"Clinical Dermatology","Hair loss treatment","10 AM2 PM",["Malayalam","English"]],["Dr. Rupal Shah",9,"Dermatology Fellowship","Atopic dermatitis","11 AM3 PM",["Gujarati","English"]],["Dr. Naman Joshi",8,"MD Skin & VD","Fungal infections","2 PM6 PM",["Hindi","English"]],["Dr. Preeti Kaul",13,"Cosmetic Dermatology","Anti-aging treatments","9 AM3 PM",["English","Hindi"]],["Dr. Sagar Rao",12,"Dermatology Specialist","Psoriasis care","12 PM5 PM",["English","Kannada"]],["Dr. Esha Mathew",10,"MD Dermatology","Sensitive skin disorders","1 PM6 PM",["English","Malayalam"]],["Dr. Tushar Goyal",9,"Dermatology & Cosmetology","Acne scars","10 AM4 PM",["Hindi","English"]]],Pathology:[["Dr. Charu Bedi",11,"MD Pathology","Cytopathology","9 AM1 PM",["Hindi","English"]],["Dr. Gaurav Nanda",10,"Clinical Pathology","Hematology diagnostics","10 AM2 PM",["Hindi","English"]],["Dr. Priyanka Sen",9,"MD Lab Medicine","Microbiology correlation","11 AM3 PM",["Bengali","English"]],["Dr. Nishant Rawat",8,"Pathology Specialist","Biopsy reporting","2 PM6 PM",["Hindi","English"]],["Dr. Neetu Bahl",13,"Histopathology Fellowship","Onco-pathology","9 AM3 PM",["English","Hindi"]],["Dr. Amitesh Pillai",12,"MD Pathology","Clinical biochemistry","12 PM5 PM",["English","Malayalam"]],["Dr. Samiksha Kale",10,"Clinical Laboratory Sciences","Endocrine assay interpretation","1 PM6 PM",["Marathi","English"]],["Dr. Rohan Jindal",9,"Pathology Consultant","Autoimmune panel interpretation","10 AM4 PM",["Hindi","English"]]],ENT:[["Dr. Vinay Kaushik",11,"MS ENT","Nasal polyps and sinusitis","9 AM1 PM",["Hindi","English"]],["Dr. Deepa Mathew",10,"ENT Fellowship","Vertigo and balance disorders","10 AM2 PM",["Malayalam","English"]],["Dr. Sharad Kulkarni",9,"DNB Otorhinolaryngology","Voice and throat disorders","11 AM3 PM",["Marathi","English"]],["Dr. Nupur Gandhi",8,"ENT Specialist","Ear infections","2 PM6 PM",["Hindi","English"]],["Dr. Hemant Arora",13,"Head & Neck ENT","Nasal endoscopy","9 AM3 PM",["Hindi","English"]],["Dr. Reema Nair",12,"ENT Surgeon","Tympanoplasty","12 PM5 PM",["English","Malayalam"]],["Dr. Prakash Iyer",10,"MS ENT","Tinnitus care","1 PM6 PM",["Tamil","English"]],["Dr. Sanya Choudhary",9,"ENT Consultant","Allergic rhinitis","10 AM4 PM",["Hindi","English"]]],"Nutrients & Dietetics":[["Dr. Kiran Sethi",11,"MSc Clinical Nutrition","Sports nutrition","9 AM1 PM",["Hindi","English"]],["Dr. Namrata Bose",10,"Dietetics Fellowship","Renal diet plans","10 AM2 PM",["Bengali","English"]],["Dr. Rhea Nambiar",9,"Clinical Dietetics","PCOS diet planning","11 AM3 PM",["English","Malayalam"]],["Dr. Jatin Sehgal",8,"Nutrition Sciences","Pediatric nutrition","2 PM6 PM",["Hindi","English"]],["Dr. Pallavi Rao",13,"MSc Nutrition","Cardiac diet protocols","9 AM3 PM",["Kannada","English"]],["Dr. Deepali Arora",12,"Registered Dietitian","Weight management","12 PM5 PM",["Hindi","English"]],["Dr. Arvind Krishnan",10,"Clinical Nutrition","Metabolic nutrition","1 PM6 PM",["Tamil","English"]],["Dr. Swati Bhatia",9,"Dietetic Practice","Diabetes meal planning","10 AM4 PM",["Hindi","English"]]],Neurology:[["Dr. Taranjeet Singh",11,"DM Neurology","Epilepsy management","9 AM1 PM",["Hindi","English"]],["Dr. Lakshmi Menon",10,"Neuro Fellowship","Parkinsonism","10 AM2 PM",["Malayalam","English"]],["Dr. Nitin Purohit",9,"DM Neurology","Peripheral neuropathy","11 AM3 PM",["Hindi","English"]],["Dr. Vaishali Rao",8,"Neurology Specialist","Vertigo neurology","2 PM6 PM",["Kannada","English"]],["Dr. Pankaj Sood",13,"Neuro Medicine","Stroke prevention","9 AM3 PM",["Hindi","English"]],["Dr. Irene Joseph",12,"Clinical Neurology","Demyelinating disorders","12 PM5 PM",["English","Malayalam"]],["Dr. Bhavesh Trivedi",10,"DM Neurology","Cognitive disorders","1 PM6 PM",["Gujarati","English"]],["Dr. Rachita Malhotra",9,"Neuro Consultant","Headache disorders","10 AM4 PM",["Hindi","English"]]],"General Medicine":[["Dr. Saurabh Tyagi",11,"MD Internal Medicine","Hypertension and fever","9 AM1 PM",["Hindi","English"]],["Dr. Aditi Nair",10,"General Medicine","Preventive medicine","10 AM2 PM",["Malayalam","English"]],["Dr. Kartik Bahl",9,"MD Medicine","Infectious disease triage","11 AM3 PM",["Hindi","English"]],["Dr. Pooja Nanda",8,"Internal Medicine","Metabolic disorders","2 PM6 PM",["Hindi","English"]],["Dr. Mitesh Shah",13,"MD General Medicine","Comorbidity management","9 AM3 PM",["Gujarati","English"]],["Dr. Lincy Thomas",12,"General Physician","Senior citizen care","12 PM5 PM",["English","Malayalam"]],["Dr. Rohit Saxena",10,"Internal Medicine","Acute care medicine","1 PM6 PM",["Hindi","English"]],["Dr. Niharika Iyer",9,"Lifestyle Medicine","Chronic disease prevention","10 AM4 PM",["Tamil","English"]]],Cardiology:[["Dr. Nikhil Arora",11,"DM Cardiology","Hypertension and ECG","9 AM1 PM",["Hindi","English"]],["Dr. Rina Mathew",10,"Clinical Cardiology","Heart failure care","10 AM2 PM",["English","Malayalam"]],["Dr. Sumit Khurana",9,"Interventional Cardiology","Coronary risk evaluation","11 AM3 PM",["Hindi","English"]],["Dr. Apeksha Nene",8,"DNB Cardiology","Preventive cardiology","2 PM6 PM",["Marathi","English"]],["Dr. Pranav Ghosh",13,"DM Cardiology","Arrhythmia management","9 AM3 PM",["Bengali","English"]],["Dr. Roshni Patel",12,"Cardiac Imaging","Echo diagnostics","12 PM5 PM",["Gujarati","English"]],["Dr. Adarsh Nair",10,"Clinical Cardiology","Post-MI rehabilitation","1 PM6 PM",["English","Malayalam"]],["Dr. Kaviraj Sen",9,"Cardiology Specialist","Lipid and heart risk clinic","10 AM4 PM",["Hindi","English"]]]};function WV(t,e){const n=HV[e]??[];if(t.length>=10)return t;const r=10-t.length;return[...t,...n.slice(0,r)]}function GV(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,Object.fromEntries(Wd.map(r=>{const i=n[r]??[];return[r,WV(i,r)]}))]))}const KV={"Fortis Hospital":{Pulmonology:[["Dr. Arjun Mehta",12,"MD Pulmonology AIIMS","Asthma & COPD","9 AM1 PM",["English","Hindi"],"MonFri"],["Dr. Kavya Iyer",8,"DNB Respiratory Medicine","Sleep Apnea","2 PM6 PM",["English","Tamil"],"TueSat"],["Dr. Rohit Sharma",15,"MD Chest Medicine","Lung Infection","10 AM4 PM",["Hindi","English"],"MonThu"],["Dr. Nisha Patel",6,"Fellowship Pulmonary Care","Allergy Lung","9 AM2 PM",["English","Gujarati"],"MonSat"],["Dr. Vikram Singh",18,"MD Pulmonology","Interstitial Lung Disease","3 PM7 PM",["Hindi","English"],"TueSun"],["Dr. Sneha Reddy",10,"DM Pulmonary Medicine","Bronchoscopy","8 AM12 PM",["English","Telugu"],"MonFri"],["Dr. Karan Verma",9,"MD Respiratory","Tuberculosis","1 PM5 PM",["Hindi","English"],"MonSat"],["Dr. Farhan Khan",14,"DNB Pulmonology","Critical Care","10 AM3 PM",["Urdu","English"],"TueSun"],["Dr. Priya Nair",7,"MD Chest","Pediatric Pulmonary","9 AM1 PM",["English","Malayalam"],"MonFri"],["Dr. Aditya Bose",11,"Lung Rehab Fellowship","Smoking Disorders","2 PM6 PM",["Bengali","English"],"WedSun"]],Endocrinology:[["Dr. Ritu Agarwal",13,"DM Endocrinology","Diabetes","9 AM1 PM",["English","Hindi"],"MonFri"],["Dr. Manoj Kulkarni",17,"MD Medicine DM Endo","Thyroid","2 PM7 PM",["Marathi","English"],"TueSun"],["Dr. Pooja Nair",8,"Fellowship Diabetes","PCOS","10 AM2 PM",["English","Malayalam"],"MonSat"],["Dr. Neeraj Jain",11,"DM Endocrinology","Hormone Disorders","3 PM6 PM",["Hindi","English"],"MonFri"],["Dr. Lakshmi Narayanan",15,"MD Endocrine","Metabolic Syndrome","9 AM12 PM",["Tamil","English"],"TueSun"],["Dr. Mehul Shah",9,"DNB Endocrine","Obesity","1 PM5 PM",["Gujarati","English"],"MonSat"],["Dr. Sana Sheikh",6,"Endocrine Fellowship","Adrenal Disorders","10 AM3 PM",["Urdu","English"],"MonFri"],["Dr. Rahul Bansal",14,"DM Endocrinology","Osteoporosis","8 AM12 PM",["Hindi","English"],"TueSat"],["Dr. Ananya Chatterjee",7,"MD Medicine","Thyroid Cancer","2 PM6 PM",["Bengali","English"],"MonFri"],["Dr. Deepak Verghese",12,"DM Endocrine","Pituitary Disorders","11 AM4 PM",["English","Malayalam"],"WedSun"]],Oncology:[["Dr. Vivek Sinha",20,"DM Medical Oncology","Chemotherapy","9 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Anjali Kapoor",14,"MD Oncology","Breast Cancer","2 PM6 PM",["English","Hindi"],"TueSat"],["Dr. Rajeev Menon",18,"DM Oncology","Lung Cancer","10 AM4 PM",["English","Malayalam"],"MonThu"],["Dr. Shalini Gupta",9,"Clinical Oncology","Pediatric Cancer","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Harish Pillai",16,"Surgical Oncology","Tumor Surgery","1 PM5 PM",["English","Malayalam"],"TueSun"],["Dr. Snehal Desai",12,"MD Oncology","Radiotherapy","3 PM7 PM",["Gujarati","English"],"MonFri"],["Dr. Farah Ahmed",7,"Oncology Fellowship","Blood Cancer","8 AM12 PM",["Urdu","English"],"TueSat"],["Dr. Prakash Iyer",15,"DM Oncology","GI Cancer","10 AM3 PM",["Tamil","English"],"MonFri"],["Dr. Nikhil Arora",11,"MD Oncology","Immunotherapy","2 PM6 PM",["Hindi","English"],"WedSun"],["Dr. Kavita Rao",13,"Clinical Oncology","Palliative Care","9 AM2 PM",["English","Kannada"],"MonSat"]],Dermatology:[["Dr. Neha Sharma",10,"MD Dermatology","Acne","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Rohini Krishnan",8,"Cosmetic Dermatology","Laser","2 PM6 PM",["English","Tamil"],"TueSun"],["Dr. Amit Jain",15,"Skin Specialist","Psoriasis","10 AM4 PM",["Hindi","English"],"MonFri"],["Dr. Sana Ali",6,"Aesthetic Skin","Anti Aging","9 AM2 PM",["Urdu","English"],"MonSat"],["Dr. Varun Mehta",12,"Dermatologic Surgery","Mole Removal","3 PM7 PM",["English","Hindi"],"TueSun"],["Dr. Priyanka Nair",9,"MD Dermatology","Hair Loss","8 AM12 PM",["English","Malayalam"],"MonFri"],["Dr. Tarun Bansal",11,"Clinical Dermatology","Eczema","1 PM5 PM",["Hindi","English"],"MonSat"],["Dr. Divya Iyer",7,"Cosmetic Dermatology","Chemical Peels","10 AM3 PM",["English","Tamil"],"TueFri"],["Dr. Sameer Khan",14,"Skin Allergy","Dermatitis","2 PM6 PM",["Urdu","English"],"MonSat"],["Dr. Aditi Bose",5,"MD Dermatology","Pediatric Skin","9 AM1 PM",["Bengali","English"],"MonFri"]],Pathology:[["Dr. Ramesh Gupta",22,"MD Pathology","Histopathology","9 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Shweta Iyer",12,"Clinical Pathology","Blood Tests","10 AM4 PM",["English","Tamil"],"MonSat"],["Dr. Akash Verma",9,"Cytopathology","FNAC","8 AM1 PM",["Hindi","English"],"TueSat"],["Dr. Pankaj Sharma",16,"Lab Medicine","Microbiology","2 PM6 PM",["Hindi","English"],"MonFri"],["Dr. Nandini Pillai",11,"Molecular Pathology","Genetic Testing","9 AM2 PM",["Malayalam","English"],"MonSat"],["Dr. Imran Sheikh",7,"Clinical Biochemistry","Hormone Assay","10 AM3 PM",["Urdu","English"],"TueSun"],["Dr. Arvind Menon",18,"Hematopathology","Blood Disorders","1 PM5 PM",["English","Malayalam"],"MonFri"],["Dr. Kavita Desai",13,"Surgical Pathology","Tissue Diagnosis","8 AM12 PM",["Gujarati","English"],"MonSat"],["Dr. Rahul Nair",6,"Lab Diagnostics","Infection Screening","9 AM1 PM",["English","Malayalam"],"TueSun"],["Dr. Sonia Kapoor",10,"Clinical Pathology","Routine Tests","2 PM6 PM",["Hindi","English"],"MonSat"]],ENT:[["Dr. Ajay Singh",18,"MS ENT","Sinus Surgery","9 AM1 PM",["Hindi","English"],"MonFri"],["Dr. Meera Nair",10,"ENT","Hearing Loss","2 PM6 PM",["English","Malayalam"],"MonSat"],["Dr. Karthik Iyer",12,"MS ENT","Voice Disorders","10 AM4 PM",["Tamil","English"],"TueSun"],["Dr. Ritu Sharma",8,"ENT","Tonsillitis","9 AM2 PM",["Hindi","English"],"MonSat"],["Dr. Farhan Ali",14,"ENT Surgery","Nasal Polyps","3 PM7 PM",["Urdu","English"],"TueSun"],["Dr. Sneha Reddy",9,"Pediatric ENT","Ear Infection","8 AM12 PM",["Telugu","English"],"MonFri"],["Dr. Vikrant Kapoor",11,"ENT","Vertigo","1 PM5 PM",["Hindi","English"],"MonSat"],["Dr. Anil Menon",15,"Head Neck Surgery","Tumor Removal","10 AM3 PM",["Malayalam","English"],"MonFri"],["Dr. Pooja Desai",6,"ENT","Allergy","2 PM6 PM",["Gujarati","English"],"TueSat"],["Dr. Rajesh Pillai",17,"ENT","Cochlear Implant","9 AM1 PM",["English","Malayalam"],"MonFri"]],"Nutrients & Dietetics":[["Dr. Shreya Kapoor",9,"MSc Nutrition","Weight Loss","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Anitha Reddy",12,"Dietetics","Diabetes Diet","2 PM6 PM",["Telugu","English"],"MonFri"],["Dr. Rahul Shah",8,"Nutrition Science","Sports Nutrition","10 AM3 PM",["Gujarati","English"],"MonSat"],["Dr. Meenakshi Iyer",15,"Clinical Nutrition","Thyroid Diet","9 AM2 PM",["Tamil","English"],"MonFri"],["Dr. Farah Khan",6,"Diet Planning","Pregnancy Diet","1 PM5 PM",["Urdu","English"],"TueSun"],["Dr. Vivek Menon",10,"Nutrition Therapy","Cardiac Diet","8 AM12 PM",["Malayalam","English"],"MonSat"],["Dr. Pooja Verma",7,"Weight Management","Obesity","2 PM6 PM",["Hindi","English"],"MonFri"],["Dr. Kavya Nair",11,"Pediatric Nutrition","Child Diet","9 AM1 PM",["English","Malayalam"],"MonSat"],["Dr. Aman Bansal",5,"Lifestyle Nutrition","Detox","3 PM7 PM",["Hindi","English"],"TueSun"],["Dr. Snehal Deshmukh",13,"Therapeutic Diet","Kidney Diet","10 AM4 PM",["Marathi","English"],"MonFri"]],Neurology:[["Dr. Raghav Khanna",16,"DM Neurology","Stroke","9 AM1 PM",["Hindi","English"],"MonFri"],["Dr. Divya Menon",9,"Neuro Specialist","Migraine","2 PM6 PM",["Malayalam","English"],"MonSat"],["Dr. Suresh Reddy",14,"DM Neuro","Epilepsy","10 AM4 PM",["Telugu","English"],"TueSun"],["Dr. Mehul Shah",11,"Neuro Disorders","Parkinsons","9 AM2 PM",["Gujarati","English"],"MonSat"],["Dr. Ananya Roy",7,"Clinical Neuro","Neuropathy","1 PM5 PM",["Bengali","English"],"MonFri"],["Dr. Karthik Iyer",13,"Neuro Surgery","Brain Tumor","8 AM12 PM",["Tamil","English"],"TueSat"],["Dr. Farhan Khan",10,"Neuro Care","Alzheimers","2 PM6 PM",["Urdu","English"],"MonFri"],["Dr. Priya Nair",12,"DM Neuro","Multiple Sclerosis","9 AM1 PM",["English","Malayalam"],"MonSat"],["Dr. Vikram Singh",18,"Senior Neurologist","Spinal Disorders","10 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Neha Kapoor",8,"Neuro Medicine","Head Injury","3 PM7 PM",["Hindi","English"],"TueSun"]],"General Medicine":[["Dr. Amit Verma",15,"MD Medicine","Fever & Infection","9 AM2 PM",["Hindi","English"],"MonSat"],["Dr. Sneha Iyer",9,"MD General","Lifestyle Disease","2 PM6 PM",["Tamil","English"],"MonFri"],["Dr. Rahul Sharma",12,"Physician","Hypertension","10 AM4 PM",["Hindi","English"],"MonSat"],["Dr. Kavita Nair",8,"General Medicine","Diabetes","9 AM1 PM",["English","Malayalam"],"TueSun"],["Dr. Mehul Shah",11,"Internal Medicine","Chronic Illness","1 PM5 PM",["Gujarati","English"],"MonFri"],["Dr. Sana Ali",7,"General Physician","Viral Fever","2 PM6 PM",["Urdu","English"],"MonSat"],["Dr. Arvind Menon",14,"MD Medicine","Preventive Care","9 AM3 PM",["Malayalam","English"],"MonFri"],["Dr. Pooja Kapoor",6,"Physician","Digestive Issues","10 AM2 PM",["Hindi","English"],"TueSat"],["Dr. Nikhil Bose",10,"Internal Medicine","Metabolic Disease","8 AM12 PM",["Bengali","English"],"MonFri"],["Dr. Ritu Jain",13,"MD Medicine","Immunity Disorders","3 PM7 PM",["Hindi","English"],"MonSat"]],Cardiology:[["Dr. Vikram Malhotra",20,"DM Cardiology","Heart Attack","9 AM2 PM",["Hindi","English"],"MonFri"],["Dr. Meera Pillai",12,"Cardiologist","ECG & Echo","2 PM6 PM",["Malayalam","English"],"MonSat"],["Dr. Rahul Jain",10,"Heart Specialist","Hypertension","10 AM4 PM",["Hindi","English"],"MonSat"],["Dr. Arjun Menon",15,"Interventional Cardiology","Angioplasty","9 AM1 PM",["English","Malayalam"],"TueSun"],["Dr. Kavya Sharma",8,"Clinical Cardiology","Heart Failure","1 PM5 PM",["Hindi","English"],"MonFri"],["Dr. Suresh Reddy",14,"DM Cardio","Arrhythmia","8 AM12 PM",["Telugu","English"],"MonSat"],["Dr. Mehul Shah",11,"Cardiac Care","Cholesterol","2 PM6 PM",["Gujarati","English"],"TueSun"],["Dr. Farhan Khan",13,"Heart Specialist","Valve Disease","9 AM3 PM",["Urdu","English"],"MonFri"],["Dr. Neha Kapoor",7,"Cardiologist","Preventive Heart Care","10 AM2 PM",["Hindi","English"],"MonSat"],["Dr. Aditya Bose",16,"Senior Cardiologist","Cardiac Surgery Support","3 PM7 PM",["Bengali","English"],"MonFri"]]},"CityCare Multi-Speciality Hospital":{Pulmonology:[["Dr. Raghav Verma",14,"MD Pulmonology","COPD","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Divya Iyer",9,"Respiratory Medicine","Asthma","2 PM6 PM",["Tamil","English"],"TueSun"],["Dr. Faisal Ahmed",12,"Lung Specialist","Bronchoscopy","10 AM4 PM",["Urdu","English"],"MonFri"],["Dr. Mehul Patel",7,"Pulmonary Care","TB","9 AM2 PM",["Gujarati","English"],"MonSat"],["Dr. Kavita Sharma",15,"Chest Medicine","ILD","3 PM7 PM",["Hindi","English"],"TueSun"],["Dr. Arvind Nair",11,"Pulmonary Rehab","Sleep Apnea","8 AM12 PM",["Malayalam","English"],"MonFri"],["Dr. Suresh Reddy",18,"DM Pulmonology","Lung Cancer","1 PM5 PM",["Telugu","English"],"MonSat"],["Dr. Pooja Verma",6,"Allergy Lung","Chronic Asthma","10 AM3 PM",["Hindi","English"],"TueSun"],["Dr. Nitin Bose",10,"Respiratory Medicine","Smoking Disorders","9 AM1 PM",["Bengali","English"],"MonFri"],["Dr. Anita Menon",13,"Pulmonary Medicine","Critical Care","2 PM6 PM",["English","Malayalam"],"MonSat"]],Endocrinology:[["Dr. Rakesh Bansal",19,"DM Endocrinology","Diabetes","9 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Meera Pillai",11,"Thyroid Specialist","Thyroid Specialist","2 PM6 PM",["Malayalam","English"],"TueSat"],["Dr. Sana Sheikh",8,"Hormone Disorders","Hormone Disorders","10 AM2 PM",["Urdu","English"],"MonSat"],["Dr. Varun Mehta",15,"Metabolic Disorders","Metabolic Disorders","1 PM5 PM",["Hindi","English"],"MonFri"],["Dr. Lakshmi Iyer",12,"PCOS","PCOS","9 AM1 PM",["Tamil","English"],"MonSat"],["Dr. Rahul Jain",7,"Osteoporosis","Osteoporosis","2 PM6 PM",["Hindi","English"],"TueSun"],["Dr. Neha Kapoor",10,"Thyroid Cancer","Thyroid Cancer","10 AM4 PM",["Hindi","English"],"MonFri"],["Dr. Arjun Menon",13,"Pituitary Disorders","Pituitary Disorders","9 AM2 PM",["Malayalam","English"],"MonSat"],["Dr. Pankaj Shah",6,"Obesity","Obesity","3 PM7 PM",["Gujarati","English"],"TueSun"],["Dr. Ananya Roy",9,"Hormone Therapy","Hormone Therapy","8 AM12 PM",["Bengali","English"],"MonFri"]],Oncology:[["Dr. Vikram Malhotra",21,"Medical Oncology","Chemotherapy","9 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Ritu Sharma",14,"Breast Cancer","Breast Cancer","2 PM6 PM",["Hindi","English"],"TueSat"],["Dr. Farhan Khan",12,"Lung Cancer","Lung Cancer","10 AM4 PM",["Urdu","English"],"MonFri"],["Dr. Priya Nair",9,"Pediatric Oncology","Pediatric Oncology","9 AM1 PM",["English","Malayalam"],"MonSat"],["Dr. Sameer Gupta",18,"Surgical Oncology","Surgical Oncology","1 PM5 PM",["Hindi","English"],"TueSun"],["Dr. Kavya Iyer",10,"Radiotherapy","Radiotherapy","3 PM7 PM",["Tamil","English"],"MonFri"],["Dr. Aditya Bose",13,"Blood Cancer","Blood Cancer","8 AM12 PM",["Bengali","English"],"TueSat"],["Dr. Snehal Desai",8,"Immunotherapy","Immunotherapy","10 AM3 PM",["Gujarati","English"],"MonSat"],["Dr. Rajeev Menon",16,"GI Cancer","GI Cancer","2 PM6 PM",["Malayalam","English"],"MonFri"],["Dr. Anjali Kapoor",11,"Palliative Care","Palliative Care","9 AM2 PM",["Hindi","English"],"TueSun"]],Dermatology:[["Dr. Neha Jain",9,"MD Dermatology","Acne","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Rohit Sharma",14,"Psoriasis","Psoriasis","10 AM4 PM",["Hindi","English"],"MonFri"],["Dr. Sana Ali",7,"Cosmetic Skin","Cosmetic Skin","2 PM6 PM",["Urdu","English"],"MonSat"],["Dr. Varun Kapoor",12,"Hair Loss","Hair Loss","9 AM2 PM",["Hindi","English"],"TueSun"],["Dr. Meera Nair",10,"Laser Therapy","Laser Therapy","3 PM7 PM",["English","Malayalam"],"MonFri"],["Dr. Karthik Iyer",15,"Skin Allergy","Skin Allergy","8 AM12 PM",["Tamil","English"],"MonSat"],["Dr. Pooja Shah",6,"Anti Aging","Anti Aging","1 PM5 PM",["Gujarati","English"],"TueSun"],["Dr. Aman Bansal",11,"Eczema","Eczema","10 AM3 PM",["Hindi","English"],"MonSat"],["Dr. Kavita Rao",8,"Pediatric Skin","Pediatric Skin","9 AM1 PM",["Kannada","English"],"MonFri"],["Dr. Divya Menon",13,"Chemical Peels","Chemical Peels","2 PM6 PM",["Malayalam","English"],"MonSat"]],Pathology:[["Dr. Ramesh Gupta",20,"Histopathology","Histopathology","9 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Shweta Iyer",11,"Blood Tests","Blood Tests","10 AM4 PM",["Tamil","English"],"MonSat"],["Dr. Akash Verma",9,"FNAC","FNAC","8 AM1 PM",["Hindi","English"],"TueSat"],["Dr. Pankaj Sharma",16,"Microbiology","Microbiology","2 PM6 PM",["Hindi","English"],"MonFri"],["Dr. Nandini Pillai",12,"Molecular Testing","Molecular Testing","9 AM2 PM",["Malayalam","English"],"MonSat"],["Dr. Imran Sheikh",7,"Biochemistry","Biochemistry","10 AM3 PM",["Urdu","English"],"TueSun"],["Dr. Arvind Menon",18,"Hematology","Hematology","1 PM5 PM",["Malayalam","English"],"MonFri"],["Dr. Kavita Desai",13,"Tissue Diagnosis","Tissue Diagnosis","8 AM12 PM",["Gujarati","English"],"MonSat"],["Dr. Rahul Nair",6,"Lab Diagnostics","Lab Diagnostics","9 AM1 PM",["English","Malayalam"],"TueSun"],["Dr. Sonia Kapoor",10,"Clinical Lab","Clinical Lab","2 PM6 PM",["Hindi","English"],"MonSat"]],ENT:[["Dr. Ajay Singh",18,"Sinus Surgery","Sinus Surgery","9 AM1 PM",["Hindi","English"],"MonFri"],["Dr. Meera Nair",10,"Hearing Loss","Hearing Loss","2 PM6 PM",["Malayalam","English"],"MonSat"],["Dr. Karthik Iyer",12,"Voice Disorders","Voice Disorders","10 AM4 PM",["Tamil","English"],"TueSun"],["Dr. Ritu Sharma",8,"Tonsils","Tonsils","9 AM2 PM",["Hindi","English"],"MonSat"],["Dr. Farhan Ali",14,"Nasal Polyps","Nasal Polyps","3 PM7 PM",["Urdu","English"],"TueSun"],["Dr. Sneha Reddy",9,"Pediatric ENT","Pediatric ENT","8 AM12 PM",["Telugu","English"],"MonFri"],["Dr. Vikrant Kapoor",11,"Vertigo","Vertigo","1 PM5 PM",["Hindi","English"],"MonSat"],["Dr. Anil Menon",15,"Neck Surgery","Neck Surgery","10 AM3 PM",["Malayalam","English"],"MonFri"],["Dr. Pooja Desai",6,"Allergy ENT","Allergy ENT","2 PM6 PM",["Gujarati","English"],"TueSat"],["Dr. Rajesh Pillai",17,"Cochlear Implant","Cochlear Implant","9 AM1 PM",["English","Malayalam"],"MonFri"]],"Nutrients & Dietetics":[["Dr. Shreya Kapoor",9,"Weight Loss","Weight Loss","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Anitha Reddy",12,"Diabetes Diet","Diabetes Diet","2 PM6 PM",["Telugu","English"],"MonFri"],["Dr. Rahul Shah",8,"Sports Nutrition","Sports Nutrition","10 AM3 PM",["Gujarati","English"],"MonSat"],["Dr. Meenakshi Iyer",15,"Thyroid Diet","Thyroid Diet","9 AM2 PM",["Tamil","English"],"MonFri"],["Dr. Farah Khan",6,"Pregnancy Diet","Pregnancy Diet","1 PM5 PM",["Urdu","English"],"TueSun"],["Dr. Vivek Menon",10,"Cardiac Diet","Cardiac Diet","8 AM12 PM",["Malayalam","English"],"MonSat"],["Dr. Pooja Verma",7,"Obesity","Obesity","2 PM6 PM",["Hindi","English"],"MonFri"],["Dr. Kavya Nair",11,"Pediatric Diet","Pediatric Diet","9 AM1 PM",["English","Malayalam"],"MonSat"],["Dr. Aman Bansal",5,"Detox","Detox","3 PM7 PM",["Hindi","English"],"TueSun"],["Dr. Snehal Deshmukh",13,"Kidney Diet","Kidney Diet","10 AM4 PM",["Marathi","English"],"MonFri"]],Neurology:[["Dr. Rajat Khanna",16,"Stroke Specialist","Stroke Specialist","9 AM1 PM",["Hindi","English"],"MonFri"],["Dr. Divya Menon",9,"Migraine","Migraine","2 PM6 PM",["Malayalam","English"],"MonSat"],["Dr. Suresh Reddy",14,"Epilepsy","Epilepsy","10 AM4 PM",["Telugu","English"],"TueSun"],["Dr. Mehul Shah",11,"Parkinsons","Parkinsons","9 AM2 PM",["Gujarati","English"],"MonSat"],["Dr. Ananya Roy",7,"Neuropathy","Neuropathy","1 PM5 PM",["Bengali","English"],"MonFri"],["Dr. Karthik Iyer",13,"Brain Tumor","Brain Tumor","8 AM12 PM",["Tamil","English"],"TueSat"],["Dr. Farhan Khan",10,"Alzheimers","Alzheimers","2 PM6 PM",["Urdu","English"],"MonFri"],["Dr. Priya Nair",12,"Multiple Sclerosis","Multiple Sclerosis","9 AM1 PM",["English","Malayalam"],"MonSat"],["Dr. Vikram Singh",18,"Spinal Disorders","Spinal Disorders","10 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Neha Kapoor",8,"Head Injury","Head Injury","3 PM7 PM",["Hindi","English"],"TueSun"]],"General Medicine":[["Dr. Amit Verma",15,"Fever","Fever","9 AM2 PM",["Hindi","English"],"MonSat"],["Dr. Sneha Iyer",9,"Lifestyle Disease","Lifestyle Disease","2 PM6 PM",["Tamil","English"],"MonFri"],["Dr. Rahul Sharma",12,"Hypertension","Hypertension","10 AM4 PM",["Hindi","English"],"MonSat"],["Dr. Kavita Nair",8,"Diabetes","Diabetes","9 AM1 PM",["English","Malayalam"],"TueSun"],["Dr. Mehul Shah",11,"Chronic Illness","Chronic Illness","1 PM5 PM",["Gujarati","English"],"MonFri"],["Dr. Sana Ali",7,"Viral Fever","Viral Fever","2 PM6 PM",["Urdu","English"],"MonSat"],["Dr. Arvind Menon",14,"Preventive Care","Preventive Care","9 AM3 PM",["Malayalam","English"],"MonFri"],["Dr. Pooja Kapoor",6,"Digestive Issues","Digestive Issues","10 AM2 PM",["Hindi","English"],"TueSat"],["Dr. Nikhil Bose",10,"Metabolic Disease","Metabolic Disease","8 AM12 PM",["Bengali","English"],"MonFri"],["Dr. Ritu Jain",13,"Immunity Disorders","Immunity Disorders","3 PM7 PM",["Hindi","English"],"MonSat"]],Cardiology:[["Dr. Vikram Malhotra",20,"Heart Attack","Heart Attack","9 AM2 PM",["Hindi","English"],"MonFri"],["Dr. Meera Pillai",12,"ECG","ECG","2 PM6 PM",["Malayalam","English"],"MonSat"],["Dr. Rahul Jain",10,"Hypertension","Hypertension","10 AM4 PM",["Hindi","English"],"MonSat"],["Dr. Arjun Menon",15,"Angioplasty","Angioplasty","9 AM1 PM",["English","Malayalam"],"TueSun"],["Dr. Kavya Sharma",8,"Heart Failure","Heart Failure","1 PM5 PM",["Hindi","English"],"MonFri"],["Dr. Suresh Reddy",14,"Arrhythmia","Arrhythmia","8 AM12 PM",["Telugu","English"],"MonSat"],["Dr. Mehul Shah",11,"Cholesterol","Cholesterol","2 PM6 PM",["Gujarati","English"],"TueSun"],["Dr. Farhan Khan",13,"Valve Disease","Valve Disease","9 AM3 PM",["Urdu","English"],"MonFri"],["Dr. Neha Kapoor",7,"Preventive Cardio","Preventive Cardio","10 AM2 PM",["Hindi","English"],"MonSat"],["Dr. Aditya Bose",16,"Cardiac Surgery Support","Cardiac Surgery Support","3 PM7 PM",["Bengali","English"],"MonFri"]]},"Max Hospital":{Pulmonology:[["Dr. Aman Khurana",13,"MD Pulmonology (AIIMS)","Asthma & airway inflammation","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Riya Menon",7,"DNB Respiratory Medicine","Sleep apnea & ventilation therapy","2 PM6 PM",["Malayalam","English"],"TueSun"],["Dr. Imran Khan",16,"MD Chest Medicine","COPD management","10 AM4 PM",["Urdu","English"],"MonFri"],["Dr. Kiran Patel",9,"Fellowship Pulmonary Care","Lung infections","9 AM2 PM",["Gujarati","English"],"MonSat"],["Dr. Harish Iyer",12,"DM Pulmonary Medicine","Bronchoscopy","3 PM7 PM",["Tamil","English"],"TueSun"],["Dr. Sneha Kapoor",8,"Pulmonary Rehabilitation Certification","Lung recovery therapy","8 AM12 PM",["Hindi","English"],"MonFri"],["Dr. Ravi Nair",14,"MD Respiratory Medicine","Tuberculosis treatment","1 PM5 PM",["Malayalam","English"],"MonSat"],["Dr. Pawan Verma",10,"MD Pulmonology","Smoking-related disorders","10 AM3 PM",["Hindi","English"],"TueSun"],["Dr. Deepika Roy",6,"Pediatric Pulmonary Fellowship","Childhood lung disease","9 AM1 PM",["Bengali","English"],"MonFri"],["Dr. Joseph Mathew",18,"DM Critical Care Pulmonology","ICU respiratory support","2 PM6 PM",["English","Malayalam"],"MonSat"]],Endocrinology:[["Dr. Mohit Agarwal",17,"DM Endocrinology","Diabetes management","9 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Reena Iyer",11,"MD Medicine + Endocrine Fellowship","Thyroid disorders","2 PM6 PM",["Tamil","English"],"TueSat"],["Dr. Farah Khan",8,"Clinical Endocrinology Fellowship","Hormonal imbalance","10 AM2 PM",["Urdu","English"],"MonSat"],["Dr. Anil Menon",15,"DM Metabolic Medicine","Metabolic syndrome","1 PM5 PM",["Malayalam","English"],"MonFri"],["Dr. Kavita Sharma",12,"Reproductive Endocrinology","PCOS","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Rahul Jain",7,"Endocrine Care Certification","Osteoporosis","2 PM6 PM",["Hindi","English"],"TueSun"],["Dr. Suresh Reddy",10,"DM Oncology Endocrine","Thyroid cancer","10 AM4 PM",["Telugu","English"],"MonFri"],["Dr. Mehul Shah",13,"Pituitary Specialist Training","Pituitary disorders","9 AM2 PM",["Gujarati","English"],"MonSat"],["Dr. Ananya Bose",6,"Clinical Nutrition Endocrine","Obesity treatment","3 PM7 PM",["Bengali","English"],"TueSun"],["Dr. Lakshmi Pillai",9,"Hormone Therapy Certification","Hormone replacement therapy","8 AM12 PM",["Malayalam","English"],"MonFri"]],Oncology:[["Dr. Rajiv Kapoor",22,"DM Medical Oncology","Chemotherapy planning","9 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Meera Nair",15,"Breast Oncology Fellowship","Breast cancer care","2 PM6 PM",["Malayalam","English"],"TueSat"],["Dr. Vikram Singh",13,"Lung Cancer Specialist","Thoracic oncology","10 AM4 PM",["Hindi","English"],"MonFri"],["Dr. Pooja Sharma",8,"Pediatric Oncology Fellowship","Childhood cancers","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Arjun Menon",17,"Surgical Oncology","Tumor removal surgery","1 PM5 PM",["Malayalam","English"],"TueSun"],["Dr. Kavya Iyer",11,"Radiation Oncology","Radiotherapy planning","3 PM7 PM",["Tamil","English"],"MonFri"],["Dr. Sameer Khan",9,"Hemato Oncology","Blood cancers","8 AM12 PM",["Urdu","English"],"TueSat"],["Dr. Neha Kapoor",12,"Immunotherapy Specialist","Targeted therapy","10 AM3 PM",["Hindi","English"],"MonSat"],["Dr. Rakesh Gupta",18,"GI Oncology","Gastro cancers","2 PM6 PM",["Hindi","English"],"MonFri"],["Dr. Anjali Verma",10,"Palliative Medicine","End-of-life care","9 AM2 PM",["Hindi","English"],"TueSun"]],Dermatology:[["Dr. Ritu Jain",10,"MD Dermatology","Acne & scars","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Aman Bansal",14,"Clinical Dermatology","Psoriasis","10 AM4 PM",["Hindi","English"],"MonFri"],["Dr. Sana Ali",7,"Cosmetic Dermatology","Aesthetic procedures","2 PM6 PM",["Urdu","English"],"MonSat"],["Dr. Mehul Shah",12,"Hair Restoration Training","Hair loss treatment","9 AM2 PM",["Gujarati","English"],"TueSun"],["Dr. Divya Menon",11,"Laser Dermatology Certification","Laser therapy","3 PM7 PM",["Malayalam","English"],"MonFri"],["Dr. Karthik Iyer",15,"Allergy Dermatology","Skin allergy treatment","8 AM12 PM",["Tamil","English"],"MonSat"],["Dr. Pooja Kapoor",6,"Anti-aging Dermatology","Skin rejuvenation","1 PM5 PM",["Hindi","English"],"TueSun"],["Dr. Rahul Sharma",13,"Clinical Dermatology","Eczema treatment","10 AM3 PM",["Hindi","English"],"MonSat"],["Dr. Kavita Rao",8,"Pediatric Dermatology","Child skin disorders","9 AM1 PM",["Kannada","English"],"MonFri"],["Dr. Nikhil Bose",9,"Cosmetic Skin Therapy","Chemical peels","2 PM6 PM",["Bengali","English"],"MonSat"]],Pathology:[["Dr. Mahesh Gupta",21,"MD Pathology","Histopathology","9 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Shweta Iyer",12,"Clinical Pathology","Blood analysis","10 AM4 PM",["Tamil","English"],"MonSat"],["Dr. Akash Verma",9,"Cytopathology","Cell analysis","8 AM1 PM",["Hindi","English"],"TueSat"],["Dr. Pankaj Sharma",17,"Microbiology","Infection detection","2 PM6 PM",["Hindi","English"],"MonFri"],["Dr. Nandini Pillai",11,"Molecular Pathology","Genetic testing","9 AM2 PM",["Malayalam","English"],"MonSat"],["Dr. Imran Sheikh",8,"Clinical Biochemistry","Chemical testing","10 AM3 PM",["Urdu","English"],"TueSun"],["Dr. Arvind Menon",19,"Hematopathology","Blood disorders","1 PM5 PM",["Malayalam","English"],"MonFri"],["Dr. Kavita Desai",13,"Surgical Pathology","Tissue diagnosis","8 AM12 PM",["Gujarati","English"],"MonSat"],["Dr. Rahul Nair",7,"Lab Diagnostics","Routine testing","9 AM1 PM",["English","Malayalam"],"TueSun"],["Dr. Sonia Kapoor",10,"Clinical Lab Medicine","Medical reports","2 PM6 PM",["Hindi","English"],"MonSat"]],ENT:[["Dr. Ajay Singh",18,"MS ENT","Sinus surgery","9 AM1 PM",["Hindi","English"],"MonFri"],["Dr. Meera Nair",11,"ENT Specialist","Hearing loss","2 PM6 PM",["Malayalam","English"],"MonSat"],["Dr. Karthik Iyer",13,"Voice Specialist","Voice disorders","10 AM4 PM",["Tamil","English"],"TueSun"],["Dr. Ritu Sharma",9,"ENT","Tonsil disorders","9 AM2 PM",["Hindi","English"],"MonSat"],["Dr. Farhan Ali",15,"ENT Surgery","Nasal polyps","3 PM7 PM",["Urdu","English"],"TueSun"],["Dr. Sneha Reddy",10,"Pediatric ENT","Ear infections","8 AM12 PM",["Telugu","English"],"MonFri"],["Dr. Vikrant Kapoor",12,"ENT","Vertigo treatment","1 PM5 PM",["Hindi","English"],"MonSat"],["Dr. Anil Menon",16,"Head Neck Surgery","Tumor removal","10 AM3 PM",["Malayalam","English"],"MonFri"],["Dr. Pooja Desai",7,"ENT Allergy Specialist","Nasal allergy","2 PM6 PM",["Gujarati","English"],"TueSat"],["Dr. Rajesh Pillai",18,"Cochlear Implant Surgeon","Hearing implants","9 AM1 PM",["English","Malayalam"],"MonFri"]],"Nutrients & Dietetics":[["Dr. Shreya Kapoor",9,"MSc Clinical Nutrition","Weight loss plans","9 AM1 PM",["Hindi","English"],"MonSat"],["Dr. Anitha Reddy",12,"Dietetics Certification","Diabetes diet","2 PM6 PM",["Telugu","English"],"MonFri"],["Dr. Rahul Shah",8,"Sports Nutrition Specialist","Athlete diet","10 AM3 PM",["Gujarati","English"],"MonSat"],["Dr. Meenakshi Iyer",15,"Clinical Nutrition","Thyroid diet","9 AM2 PM",["Tamil","English"],"MonFri"],["Dr. Farah Khan",6,"Pregnancy Nutrition","Maternal diet","1 PM5 PM",["Urdu","English"],"TueSun"],["Dr. Vivek Menon",10,"Cardiac Nutrition","Heart diet","8 AM12 PM",["Malayalam","English"],"MonSat"],["Dr. Pooja Verma",7,"Weight Management","Obesity diet","2 PM6 PM",["Hindi","English"],"MonFri"],["Dr. Kavya Nair",11,"Pediatric Nutrition","Child diet","9 AM1 PM",["English","Malayalam"],"MonSat"],["Dr. Aman Bansal",5,"Lifestyle Nutrition","Detox plans","3 PM7 PM",["Hindi","English"],"TueSun"],["Dr. Snehal Deshmukh",13,"Therapeutic Diet","Kidney diet","10 AM4 PM",["Marathi","English"],"MonFri"]],Neurology:[["Dr. Rajat Khanna",16,"DM Neurology","Stroke management","9 AM1 PM",["Hindi","English"],"MonFri"],["Dr. Divya Menon",9,"Neuro Specialist","Migraine","2 PM6 PM",["Malayalam","English"],"MonSat"],["Dr. Suresh Reddy",14,"Epileptologist","Epilepsy","10 AM4 PM",["Telugu","English"],"TueSun"],["Dr. Mehul Shah",11,"Movement Disorder Specialist","Parkinsons","9 AM2 PM",["Gujarati","English"],"MonSat"],["Dr. Ananya Roy",7,"Clinical Neurology","Neuropathy","1 PM5 PM",["Bengali","English"],"MonFri"],["Dr. Karthik Iyer",13,"Neuro Surgery","Brain tumors","8 AM12 PM",["Tamil","English"],"TueSat"],["Dr. Farhan Khan",10,"Neurodegenerative Disorders","Alzheimers","2 PM6 PM",["Urdu","English"],"MonFri"],["Dr. Priya Nair",12,"DM Neurology","Multiple sclerosis","9 AM1 PM",["English","Malayalam"],"MonSat"],["Dr. Vikram Singh",18,"Spine Specialist","Spinal disorders","10 AM3 PM",["Hindi","English"],"MonFri"],["Dr. Neha Kapoor",8,"Neuro Trauma Care","Head injury","3 PM7 PM",["Hindi","English"],"TueSun"]],"General Medicine":[["Dr. Amit Verma",15,"MD Medicine","Fever treatment","9 AM2 PM",["Hindi","English"],"MonSat"],["Dr. Sneha Iyer",9,"Lifestyle Medicine","Lifestyle disorders","2 PM6 PM",["Tamil","English"],"MonFri"],["Dr. Rahul Sharma",12,"Physician","Hypertension","10 AM4 PM",["Hindi","English"],"MonSat"],["Dr. Kavita Nair",8,"Internal Medicine","Diabetes","9 AM1 PM",["English","Malayalam"],"TueSun"],["Dr. Mehul Shah",11,"Chronic Disease Specialist","Long-term illness","1 PM5 PM",["Gujarati","English"],"MonFri"],["Dr. Sana Ali",7,"General Physician","Viral infections","2 PM6 PM",["Urdu","English"],"MonSat"],["Dr. Arvind Menon",14,"Preventive Medicine","Health screening","9 AM3 PM",["Malayalam","English"],"MonFri"],["Dr. Pooja Kapoor",6,"Digestive Specialist","GI problems","10 AM2 PM",["Hindi","English"],"TueSat"],["Dr. Nikhil Bose",10,"Metabolic Medicine","Metabolic disorders","8 AM12 PM",["Bengali","English"],"MonFri"],["Dr. Ritu Jain",13,"Immunology Medicine","Immunity disorders","3 PM7 PM",["Hindi","English"],"MonSat"]],Cardiology:[["Dr. Vikram Malhotra",20,"DM Cardiology","Heart attack treatment","9 AM2 PM",["Hindi","English"],"MonFri"],["Dr. Meera Pillai",12,"Clinical Cardiology","ECG & Echo","2 PM6 PM",["Malayalam","English"],"MonSat"],["Dr. Rahul Jain",10,"Cardiac Medicine","Hypertension","10 AM4 PM",["Hindi","English"],"MonSat"],["Dr. Arjun Menon",15,"Interventional Cardiology","Angioplasty","9 AM1 PM",["English","Malayalam"],"TueSun"],["Dr. Kavya Sharma",8,"Heart Failure Specialist","Cardiac failure","1 PM5 PM",["Hindi","English"],"MonFri"],["Dr. Suresh Reddy",14,"Electrophysiology","Arrhythmia","8 AM12 PM",["Telugu","English"],"MonSat"],["Dr. Mehul Shah",11,"Preventive Cardiology","Cholesterol management","2 PM6 PM",["Gujarati","English"],"TueSun"],["Dr. Farhan Khan",13,"Structural Heart Specialist","Valve disease","9 AM3 PM",["Urdu","English"],"MonFri"],["Dr. Neha Kapoor",7,"Preventive Cardiac Care","Risk screening","10 AM2 PM",["Hindi","English"],"MonSat"],["Dr. Aditya Bose",16,"Cardiac Surgery Support","Pre/post surgery care","3 PM7 PM",["Bengali","English"],"MonFri"]]}},qV=GV(KV),Nl=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],fT={Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thu:"Thursday",Fri:"Friday",Sat:"Saturday",Sun:"Sunday"};function ZV(t){if(!t)return new Set(["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]);const[e,n]=t.split("").map(u=>u.trim()),r=fT[e],i=fT[n];if(!r||!i)return new Set(["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]);const a=Nl.indexOf(r),s=Nl.indexOf(i);if(a===-1||s===-1)return new Set(["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]);const l=new Set;if(a<=s){for(let u=a;u<=s;u+=1)l.add(Nl[u]);return l}for(let u=a;u<Nl.length;u+=1)l.add(Nl[u]);for(let u=0;u<=s;u+=1)l.add(Nl[u]);return l}function YV(t,e){const n=ZV(e);return{Monday:n.has("Monday")?t:"Off",Tuesday:n.has("Tuesday")?t:"Off",Wednesday:n.has("Wednesday")?t:"Off",Thursday:n.has("Thursday")?t:"Off",Friday:n.has("Friday")?t:"Off",Saturday:n.has("Saturday")?t:"Off",Sunday:n.has("Sunday")?t:"Off"}}function XV(t){const[e,n]=t.split("").map(r=>r.trim());return[e,n]}const QV=Object.entries(qV).flatMap(([t,e],n)=>{const r=fk.find(i=>i.name===t);return Object.entries(e).flatMap(([i,a],s)=>a.map((l,u)=>{const[c,p,f,y,v,b,S]=l,x=UV(c);return{id:`${r.id}-${i.toLowerCase().replace(/[^a-z0-9]+/g,"-")}-${u+1}`,fullName:c,gender:x,department:i,specialization:y,experienceYears:p,educationShort:f,educationHistory:[{degree:"MBBS",institution:"AIIMS New Delhi",year:`${2005+u}`},{degree:f,institution:"Speciality Medical Institute",year:`${2010+u}`}],consultationFee:900+s*80,languages:b,profileImage:zV(x,n,s,u),availabilityStatus:"Available",weeklyAvailability:YV(v,S),availableTimeSlots:XV(v),professionalBio:`${c} focuses on ${y.toLowerCase()} with ${p} years of experience.`,workTimeline:[{period:"2012 - 2018",role:`Consultant ${i}`},{period:"2018 - Present",role:`Senior Specialist, ${t}`}],hospitalAffiliation:t,hospitalId:r.id,certifications:["Medical Council Registered","Clinical Excellence Training"],publications:["Clinical outcomes review","Department case publication"],patientReviews:[{reviewer:"Patient A",rating:5,comment:"Very helpful consultation."},{reviewer:"Patient B",rating:4,comment:"Clear treatment explanation."}]}}))});function JV(){const t=[{icon:"",title:"AI-Powered Triage",description:"Get instant preliminary assessment of your symptoms using advanced AI technology."},{icon:"",title:"Expert Doctors",description:"Connect with experienced specialists across multiple departments at top hospitals."},{icon:"",title:"Easy Appointments",description:"Book appointments with your preferred doctors at your convenience."},{icon:"",title:"Multi-Hospital Access",description:"Access healthcare services across our network of partner hospitals."},{icon:"",title:"Medical Records",description:"Securely store and access your complete medical history anytime."},{icon:"",title:"24/7 Support",description:"Get health guidance and support whenever you need it."}],e=[{hospital:"Max Hospital",features:["State-of-the-art infrastructure","Advanced diagnostic equipment","24x7 emergency services","NABH accredited facilities","International standard patient care","Comprehensive specialty departments"]},{hospital:"Fortis Hospital",features:["Multi-specialty healthcare","Advanced surgical facilities","ICU & Critical care units","Modern pathology labs","Expert medical professionals","Patient-centric care approach"]},{hospital:"CityCare Multi-Speciality Hospital",features:["Comprehensive healthcare services","Modern medical technology","Experienced medical team","Efficient patient management","Quality healthcare at affordable costs","Community-focused healthcare"]}];return h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 via-white to-blue-50",children:[h.jsx("header",{className:"sticky top-0 z-50 bg-white/95 backdrop-blur border-b border-slate-200 shadow-sm",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex items-center justify-between h-16",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-med-500 to-med-700 rounded-xl",children:h.jsx("span",{className:"text-white text-xl font-bold",children:"P"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Prognosis Care"}),h.jsx("p",{className:"text-xs text-med-600 font-medium",children:"AI Healthcare Triage"})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Qe,{to:"/auth",className:"px-4 py-2 text-sm font-medium text-slate-700 hover:text-med-600 transition-colors",children:"Login"}),h.jsx(Qe,{to:"/auth",className:"px-5 py-2 text-sm font-medium text-white bg-gradient-to-r from-med-600 to-med-700 rounded-lg hover:from-med-700 hover:to-med-800 transition-all shadow-md hover:shadow-lg",children:"Sign Up"})]})]})})}),h.jsxs("section",{className:"relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-med-100/50 to-blue-100/50"}),h.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32",children:h.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[h.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-slate-900 mb-6 leading-tight",children:["Your Health, Our"," ",h.jsx("span",{className:"bg-gradient-to-r from-med-600 to-blue-600 bg-clip-text text-transparent",children:"Priority"})]}),h.jsx("p",{className:"text-xl text-slate-600 mb-8 leading-relaxed",children:"Experience the future of healthcare with AI-powered diagnosis, expert doctors, and seamless appointment booking - all in one platform."}),h.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[h.jsx(Qe,{to:"/auth",className:"px-8 py-4 text-lg font-semibold text-white bg-gradient-to-r from-med-600 to-med-700 rounded-xl hover:from-med-700 hover:to-med-800 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Get Started"}),h.jsx("a",{href:"#hospitals",className:"px-8 py-4 text-lg font-semibold text-med-700 bg-white border-2 border-med-600 rounded-xl hover:bg-med-50 transition-all shadow-lg",children:"Our Hospitals"})]})]})})]}),h.jsx("section",{className:"py-20 bg-white",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-slate-900 mb-4",children:"Why Choose Prognosis Care?"}),h.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Comprehensive healthcare solutions powered by cutting-edge technology and expert medical professionals"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((n,r)=>h.jsxs("div",{className:"p-6 bg-gradient-to-br from-white to-blue-50/50 rounded-2xl border border-slate-200 hover:border-med-300 hover:shadow-lg transition-all",children:[h.jsx("div",{className:"text-5xl mb-4",children:n.icon}),h.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:n.title}),h.jsx("p",{className:"text-slate-600",children:n.description})]},r))})]})}),h.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 to-med-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-slate-900 mb-4",children:"Comprehensive Medical Departments"}),h.jsxs("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:["Access specialized care across ",Wd.length," medical departments with expert doctors"]})]}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:Wd.map((n,r)=>h.jsx("div",{className:"p-4 bg-white rounded-xl border border-slate-200 hover:border-med-400 hover:shadow-md transition-all text-center",children:h.jsx("p",{className:"text-sm font-semibold text-slate-800",children:n})},r))})]})}),h.jsx("section",{id:"hospitals",className:"py-20 bg-white",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-slate-900 mb-4",children:"Our Partner Hospitals"}),h.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"We've partnered with the best healthcare institutions to provide you with top-quality medical care"})]}),h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:e.map((n,r)=>h.jsxs("div",{className:"bg-gradient-to-br from-white to-med-50/30 rounded-2xl border-2 border-med-200 p-8 hover:border-med-400 hover:shadow-xl transition-all",children:[h.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-br from-med-500 to-med-700 rounded-2xl mb-6 mx-auto",children:h.jsx("span",{className:"text-white text-2xl font-bold",children:""})}),h.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-6 text-center",children:n.hospital}),h.jsx("ul",{className:"space-y-3",children:n.features.map((i,a)=>h.jsxs("li",{className:"flex items-start gap-3",children:[h.jsx("span",{className:"text-med-600 mt-1",children:""}),h.jsx("span",{className:"text-slate-700",children:i})]},a))})]},r))})]})}),h.jsx("section",{className:"py-20 bg-gradient-to-br from-med-50 to-blue-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-slate-900 mb-4",children:"How It Works"}),h.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Get started with healthcare made simple in just a few steps"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[{step:"1",title:"Sign Up",description:"Create your account in minutes"},{step:"2",title:"Choose Hospital",description:"Select your preferred hospital"},{step:"3",title:"AI Triage",description:"Get instant health assessment"},{step:"4",title:"Book Appointment",description:"Schedule with expert doctors"}].map((n,r)=>h.jsxs("div",{className:"relative text-center",children:[h.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-br from-med-600 to-med-700 text-white text-2xl font-bold rounded-full mb-4 mx-auto shadow-lg",children:n.step}),h.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:n.title}),h.jsx("p",{className:"text-slate-600",children:n.description}),r<3&&h.jsx("div",{className:"hidden md:block absolute top-8 left-[60%] w-[80%] h-0.5 bg-gradient-to-r from-med-400 to-transparent"})]},r))})]})}),h.jsx("section",{className:"py-20 bg-white",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-4xl font-bold text-med-600 mb-2",children:fk.length}),h.jsx("p",{className:"text-slate-600 font-medium",children:"Partner Hospitals"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-4xl font-bold text-med-600 mb-2",children:"100+"}),h.jsx("p",{className:"text-slate-600 font-medium",children:"Expert Doctors"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-4xl font-bold text-med-600 mb-2",children:Wd.length}),h.jsx("p",{className:"text-slate-600 font-medium",children:"Medical Departments"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-4xl font-bold text-med-600 mb-2",children:"24/7"}),h.jsx("p",{className:"text-slate-600 font-medium",children:"Support Available"})]})]})})}),h.jsx("section",{className:"py-20 bg-gradient-to-r from-med-600 to-blue-600 text-white",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[h.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-6",children:"Ready to Take Control of Your Health?"}),h.jsx("p",{className:"text-xl mb-8 text-blue-100",children:"Join thousands of patients who trust Prognosis Care for their healthcare needs"}),h.jsx(Qe,{to:"/auth",className:"inline-block px-8 py-4 text-lg font-semibold text-med-700 bg-white rounded-xl hover:bg-blue-50 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Get Started Today"})]})}),h.jsx("footer",{className:"bg-slate-900 text-slate-300 py-12",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-med-500 to-med-700 rounded-xl",children:h.jsx("span",{className:"text-white text-xl font-bold",children:"P"})}),h.jsx("h3",{className:"text-xl font-bold text-white",children:"Prognosis Care"})]}),h.jsx("p",{className:"text-sm text-slate-400",children:"Transforming healthcare with AI-powered diagnostics and seamless patient care."})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Quick Links"}),h.jsxs("ul",{className:"space-y-2 text-sm",children:[h.jsx("li",{children:h.jsx(Qe,{to:"/auth",className:"hover:text-med-400 transition-colors",children:"Login"})}),h.jsx("li",{children:h.jsx(Qe,{to:"/auth",className:"hover:text-med-400 transition-colors",children:"Sign Up"})}),h.jsx("li",{children:h.jsx("a",{href:"#hospitals",className:"hover:text-med-400 transition-colors",children:"Our Hospitals"})})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Contact"}),h.jsxs("p",{className:"text-sm text-slate-400",children:["Email: support@prognosiscare.com",h.jsx("br",{}),"Phone: +91 1800-123-4567",h.jsx("br",{}),"Available 24/7"]})]})]}),h.jsx("div",{className:"border-t border-slate-800 pt-8 text-center text-sm text-slate-400",children:h.jsxs("p",{children:[" ",new Date().getFullYear()," Prognosis Care. All rights reserved."]})})]})})]})}const e6=()=>{};var pT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},t6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},mk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,p=a>>2,f=(a&3)<<4|l>>4;let y=(l&15)<<2|c>>6,v=c&63;u||(v=64,s||(y=64)),r.push(n[p],n[f],n[y],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):t6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||c==null||f==null)throw new n6;const y=a<<2|l>>4;if(r.push(y),c!==64){const v=l<<4&240|c>>2;if(r.push(v),f!==64){const b=c<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class n6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r6=function(t){const e=pk(t);return mk.encodeByteArray(e,!0)},eg=function(t){return r6(t).replace(/\./g,"")},gk=function(t){try{return mk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=()=>i6().__FIREBASE_DEFAULTS__,s6=()=>{if(typeof process>"u"||typeof pT>"u")return;const t=pT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},o6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gk(t[1]);return e&&JSON.parse(e)},Vy=()=>{try{return e6()||a6()||s6()||o6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yk=t=>{var e,n;return(n=(e=Vy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},l6=t=>{const e=yk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vk=()=>{var t;return(t=Vy())===null||t===void 0?void 0:t.config},_k=t=>{var e;return(e=Vy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[eg(JSON.stringify(n)),eg(JSON.stringify(s)),""].join(".")}const Gd={};function d6(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gd))Gd[e]?t.emulator.push(e):t.prod.push(e);return t}function h6(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let mT=!1;function bk(t,e){if(typeof window>"u"||typeof document>"u"||!sc(window.location.host)||Gd[t]===e||Gd[t]||mT)return;Gd[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=d6().prod.length>0;function s(){const y=document.getElementById(r);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,v){y.setAttribute("width","24"),y.setAttribute("id",v),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function c(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{mT=!0,s()},y}function p(y,v){y.setAttribute("id",v),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function f(){const y=h6(r),v=n("text"),b=document.getElementById(v)||document.createElement("span"),S=n("learnmore"),x=document.getElementById(S)||document.createElement("a"),P=n("preprendIcon"),w=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const T=y.element;l(T),p(x,S);const I=c();u(w,P),T.append(w,b,x,I),document.body.appendChild(T)}a?(b.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function p6(){var t;const e=(t=Vy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function y6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v6(){const t=kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _6(){return!p6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x6(){try{return typeof indexedDB=="object"}catch{return!1}}function b6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6="FirebaseError";class Ca extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=w6,Object.setPrototypeOf(this,Ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bf.prototype.create)}}class bf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?P6(a,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Ca(i,l,r)}}function P6(t,e){return t.replace(S6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const S6=/\{\$([^}]+)}/g;function E6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ro(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(gT(a)&&gT(s)){if(!Ro(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Md(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Nd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function T6(t,e){const n=new A6(t,e);return n.subscribe.bind(n)}class A6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");M6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=L_),i.error===void 0&&(i.error=L_),i.complete===void 0&&(i.complete=L_);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function L_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t){return t&&t._delegate?t._delegate:t}class Lo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new u6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C6(e))try{this.getOrInitializeService({instanceIdentifier:uo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uo){return this.instances.has(e)}getOptions(e=uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:I6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=uo){return this.component?this.component.multipleInstances?e:uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function I6(t){return t===uo?void 0:t}function C6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new N6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const j6={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},k6=Ue.INFO,D6={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},R6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=D6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class S1{constructor(e){this.name=e,this._logLevel=k6,this._logHandler=R6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const L6=(t,e)=>e.some(n=>t instanceof n);let yT,vT;function $6(){return yT||(yT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F6(){return vT||(vT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wk=new WeakMap,Sx=new WeakMap,Pk=new WeakMap,$_=new WeakMap,E1=new WeakMap;function B6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(_s(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&wk.set(n,t)}).catch(()=>{}),E1.set(e,t),e}function V6(t){if(Sx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});Sx.set(t,e)}let Ex={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Pk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function U6(t){Ex=t(Ex)}function z6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(F_(this),e,...n);return Pk.set(r,e.sort?e.sort():[e]),_s(r)}:F6().includes(t)?function(...e){return t.apply(F_(this),e),_s(wk.get(this))}:function(...e){return _s(t.apply(F_(this),e))}}function H6(t){return typeof t=="function"?z6(t):(t instanceof IDBTransaction&&V6(t),L6(t,$6())?new Proxy(t,Ex):t)}function _s(t){if(t instanceof IDBRequest)return B6(t);if($_.has(t))return $_.get(t);const e=H6(t);return e!==t&&($_.set(t,e),E1.set(e,t)),e}const F_=t=>E1.get(t);function W6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),l=_s(s);return r&&s.addEventListener("upgradeneeded",u=>{r(_s(s.result),u.oldVersion,u.newVersion,_s(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const G6=["get","getKey","getAll","getAllKeys","count"],K6=["put","add","delete","clear"],B_=new Map;function _T(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(B_.get(e))return B_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=K6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||G6.includes(n)))return;const a=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return B_.set(e,a),a}U6(t=>({...t,get:(e,n,r)=>_T(e,n)||t.get(e,n,r),has:(e,n)=>!!_T(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Z6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tx="@firebase/app",xT="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new S1("@firebase/app"),Y6="@firebase/app-compat",X6="@firebase/analytics-compat",Q6="@firebase/analytics",J6="@firebase/app-check-compat",e5="@firebase/app-check",t5="@firebase/auth",n5="@firebase/auth-compat",r5="@firebase/database",i5="@firebase/data-connect",a5="@firebase/database-compat",s5="@firebase/functions",o5="@firebase/functions-compat",l5="@firebase/installations",u5="@firebase/installations-compat",c5="@firebase/messaging",d5="@firebase/messaging-compat",h5="@firebase/performance",f5="@firebase/performance-compat",p5="@firebase/remote-config",m5="@firebase/remote-config-compat",g5="@firebase/storage",y5="@firebase/storage-compat",v5="@firebase/firestore",_5="@firebase/ai",x5="@firebase/firestore-compat",b5="firebase",w5="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="[DEFAULT]",P5={[Tx]:"fire-core",[Y6]:"fire-core-compat",[Q6]:"fire-analytics",[X6]:"fire-analytics-compat",[e5]:"fire-app-check",[J6]:"fire-app-check-compat",[t5]:"fire-auth",[n5]:"fire-auth-compat",[r5]:"fire-rtdb",[i5]:"fire-data-connect",[a5]:"fire-rtdb-compat",[s5]:"fire-fn",[o5]:"fire-fn-compat",[l5]:"fire-iid",[u5]:"fire-iid-compat",[c5]:"fire-fcm",[d5]:"fire-fcm-compat",[h5]:"fire-perf",[f5]:"fire-perf-compat",[p5]:"fire-rc",[m5]:"fire-rc-compat",[g5]:"fire-gcs",[y5]:"fire-gcs-compat",[v5]:"fire-fst",[x5]:"fire-fst-compat",[_5]:"fire-vertex","fire-js":"fire-js",[b5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=new Map,S5=new Map,Mx=new Map;function bT(t,e){try{t.container.addComponent(e)}catch(n){xa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Eu(t){const e=t.name;if(Mx.has(e))return xa.debug(`There were multiple attempts to register component ${e}.`),!1;Mx.set(e,t);for(const n of tg.values())bT(n,t);for(const n of S5.values())bT(n,t);return!0}function T1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new bf("app","Firebase",E5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=w5;function Sk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ax,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw xs.create("bad-app-name",{appName:String(i)});if(n||(n=vk()),!n)throw xs.create("no-options");const a=tg.get(i);if(a){if(Ro(n,a.options)&&Ro(r,a.config))return a;throw xs.create("duplicate-app",{appName:i})}const s=new O6(i);for(const u of Mx.values())s.addComponent(u);const l=new T5(n,r,s);return tg.set(i,l),l}function Ek(t=Ax){const e=tg.get(t);if(!e&&t===Ax&&vk())return Sk();if(!e)throw xs.create("no-app",{appName:t});return e}function bs(t,e,n){var r;let i=(r=P5[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xa.warn(l.join(" "));return}Eu(new Lo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5="firebase-heartbeat-database",M5=1,Sh="firebase-heartbeat-store";let V_=null;function Tk(){return V_||(V_=W6(A5,M5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sh)}catch(n){console.warn(n)}}}}).catch(t=>{throw xs.create("idb-open",{originalErrorMessage:t.message})})),V_}async function N5(t){try{const n=(await Tk()).transaction(Sh),r=await n.objectStore(Sh).get(Ak(t));return await n.done,r}catch(e){if(e instanceof Ca)xa.warn(e.message);else{const n=xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xa.warn(n.message)}}}async function wT(t,e){try{const r=(await Tk()).transaction(Sh,"readwrite");await r.objectStore(Sh).put(e,Ak(t)),await r.done}catch(n){if(n instanceof Ca)xa.warn(n.message);else{const r=xs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xa.warn(r.message)}}}function Ak(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=1024,C5=30;class O5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new k5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=PT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>C5){const s=D5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PT(),{heartbeatsToSend:r,unsentEntries:i}=j5(this._heartbeatsCache.heartbeats),a=eg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return xa.warn(n),""}}}function PT(){return new Date().toISOString().substring(0,10)}function j5(t,e=I5){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),ST(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ST(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class k5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x6()?b6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await N5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ST(t){return eg(JSON.stringify({version:2,heartbeats:t})).length}function D5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t){Eu(new Lo("platform-logger",e=>new q6(e),"PRIVATE")),Eu(new Lo("heartbeat",e=>new O5(e),"PRIVATE")),bs(Tx,xT,t),bs(Tx,xT,"esm2017"),bs("fire-js","")}R5("");var ET=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ws,Mk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,O){function k(){}k.prototype=O.prototype,A.D=O.prototype,A.prototype=new k,A.prototype.constructor=A,A.C=function($,B,D){for(var F=Array(arguments.length-2),W=2;W<arguments.length;W++)F[W-2]=arguments[W];return O.prototype[B].apply($,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,O,k){k||(k=0);var $=Array(16);if(typeof O=="string")for(var B=0;16>B;++B)$[B]=O.charCodeAt(k++)|O.charCodeAt(k++)<<8|O.charCodeAt(k++)<<16|O.charCodeAt(k++)<<24;else for(B=0;16>B;++B)$[B]=O[k++]|O[k++]<<8|O[k++]<<16|O[k++]<<24;O=A.g[0],k=A.g[1],B=A.g[2];var D=A.g[3],F=O+(D^k&(B^D))+$[0]+3614090360&4294967295;O=k+(F<<7&4294967295|F>>>25),F=D+(B^O&(k^B))+$[1]+3905402710&4294967295,D=O+(F<<12&4294967295|F>>>20),F=B+(k^D&(O^k))+$[2]+606105819&4294967295,B=D+(F<<17&4294967295|F>>>15),F=k+(O^B&(D^O))+$[3]+3250441966&4294967295,k=B+(F<<22&4294967295|F>>>10),F=O+(D^k&(B^D))+$[4]+4118548399&4294967295,O=k+(F<<7&4294967295|F>>>25),F=D+(B^O&(k^B))+$[5]+1200080426&4294967295,D=O+(F<<12&4294967295|F>>>20),F=B+(k^D&(O^k))+$[6]+2821735955&4294967295,B=D+(F<<17&4294967295|F>>>15),F=k+(O^B&(D^O))+$[7]+4249261313&4294967295,k=B+(F<<22&4294967295|F>>>10),F=O+(D^k&(B^D))+$[8]+1770035416&4294967295,O=k+(F<<7&4294967295|F>>>25),F=D+(B^O&(k^B))+$[9]+2336552879&4294967295,D=O+(F<<12&4294967295|F>>>20),F=B+(k^D&(O^k))+$[10]+4294925233&4294967295,B=D+(F<<17&4294967295|F>>>15),F=k+(O^B&(D^O))+$[11]+2304563134&4294967295,k=B+(F<<22&4294967295|F>>>10),F=O+(D^k&(B^D))+$[12]+1804603682&4294967295,O=k+(F<<7&4294967295|F>>>25),F=D+(B^O&(k^B))+$[13]+4254626195&4294967295,D=O+(F<<12&4294967295|F>>>20),F=B+(k^D&(O^k))+$[14]+2792965006&4294967295,B=D+(F<<17&4294967295|F>>>15),F=k+(O^B&(D^O))+$[15]+1236535329&4294967295,k=B+(F<<22&4294967295|F>>>10),F=O+(B^D&(k^B))+$[1]+4129170786&4294967295,O=k+(F<<5&4294967295|F>>>27),F=D+(k^B&(O^k))+$[6]+3225465664&4294967295,D=O+(F<<9&4294967295|F>>>23),F=B+(O^k&(D^O))+$[11]+643717713&4294967295,B=D+(F<<14&4294967295|F>>>18),F=k+(D^O&(B^D))+$[0]+3921069994&4294967295,k=B+(F<<20&4294967295|F>>>12),F=O+(B^D&(k^B))+$[5]+3593408605&4294967295,O=k+(F<<5&4294967295|F>>>27),F=D+(k^B&(O^k))+$[10]+38016083&4294967295,D=O+(F<<9&4294967295|F>>>23),F=B+(O^k&(D^O))+$[15]+3634488961&4294967295,B=D+(F<<14&4294967295|F>>>18),F=k+(D^O&(B^D))+$[4]+3889429448&4294967295,k=B+(F<<20&4294967295|F>>>12),F=O+(B^D&(k^B))+$[9]+568446438&4294967295,O=k+(F<<5&4294967295|F>>>27),F=D+(k^B&(O^k))+$[14]+3275163606&4294967295,D=O+(F<<9&4294967295|F>>>23),F=B+(O^k&(D^O))+$[3]+4107603335&4294967295,B=D+(F<<14&4294967295|F>>>18),F=k+(D^O&(B^D))+$[8]+1163531501&4294967295,k=B+(F<<20&4294967295|F>>>12),F=O+(B^D&(k^B))+$[13]+2850285829&4294967295,O=k+(F<<5&4294967295|F>>>27),F=D+(k^B&(O^k))+$[2]+4243563512&4294967295,D=O+(F<<9&4294967295|F>>>23),F=B+(O^k&(D^O))+$[7]+1735328473&4294967295,B=D+(F<<14&4294967295|F>>>18),F=k+(D^O&(B^D))+$[12]+2368359562&4294967295,k=B+(F<<20&4294967295|F>>>12),F=O+(k^B^D)+$[5]+4294588738&4294967295,O=k+(F<<4&4294967295|F>>>28),F=D+(O^k^B)+$[8]+2272392833&4294967295,D=O+(F<<11&4294967295|F>>>21),F=B+(D^O^k)+$[11]+1839030562&4294967295,B=D+(F<<16&4294967295|F>>>16),F=k+(B^D^O)+$[14]+4259657740&4294967295,k=B+(F<<23&4294967295|F>>>9),F=O+(k^B^D)+$[1]+2763975236&4294967295,O=k+(F<<4&4294967295|F>>>28),F=D+(O^k^B)+$[4]+1272893353&4294967295,D=O+(F<<11&4294967295|F>>>21),F=B+(D^O^k)+$[7]+4139469664&4294967295,B=D+(F<<16&4294967295|F>>>16),F=k+(B^D^O)+$[10]+3200236656&4294967295,k=B+(F<<23&4294967295|F>>>9),F=O+(k^B^D)+$[13]+681279174&4294967295,O=k+(F<<4&4294967295|F>>>28),F=D+(O^k^B)+$[0]+3936430074&4294967295,D=O+(F<<11&4294967295|F>>>21),F=B+(D^O^k)+$[3]+3572445317&4294967295,B=D+(F<<16&4294967295|F>>>16),F=k+(B^D^O)+$[6]+76029189&4294967295,k=B+(F<<23&4294967295|F>>>9),F=O+(k^B^D)+$[9]+3654602809&4294967295,O=k+(F<<4&4294967295|F>>>28),F=D+(O^k^B)+$[12]+3873151461&4294967295,D=O+(F<<11&4294967295|F>>>21),F=B+(D^O^k)+$[15]+530742520&4294967295,B=D+(F<<16&4294967295|F>>>16),F=k+(B^D^O)+$[2]+3299628645&4294967295,k=B+(F<<23&4294967295|F>>>9),F=O+(B^(k|~D))+$[0]+4096336452&4294967295,O=k+(F<<6&4294967295|F>>>26),F=D+(k^(O|~B))+$[7]+1126891415&4294967295,D=O+(F<<10&4294967295|F>>>22),F=B+(O^(D|~k))+$[14]+2878612391&4294967295,B=D+(F<<15&4294967295|F>>>17),F=k+(D^(B|~O))+$[5]+4237533241&4294967295,k=B+(F<<21&4294967295|F>>>11),F=O+(B^(k|~D))+$[12]+1700485571&4294967295,O=k+(F<<6&4294967295|F>>>26),F=D+(k^(O|~B))+$[3]+2399980690&4294967295,D=O+(F<<10&4294967295|F>>>22),F=B+(O^(D|~k))+$[10]+4293915773&4294967295,B=D+(F<<15&4294967295|F>>>17),F=k+(D^(B|~O))+$[1]+2240044497&4294967295,k=B+(F<<21&4294967295|F>>>11),F=O+(B^(k|~D))+$[8]+1873313359&4294967295,O=k+(F<<6&4294967295|F>>>26),F=D+(k^(O|~B))+$[15]+4264355552&4294967295,D=O+(F<<10&4294967295|F>>>22),F=B+(O^(D|~k))+$[6]+2734768916&4294967295,B=D+(F<<15&4294967295|F>>>17),F=k+(D^(B|~O))+$[13]+1309151649&4294967295,k=B+(F<<21&4294967295|F>>>11),F=O+(B^(k|~D))+$[4]+4149444226&4294967295,O=k+(F<<6&4294967295|F>>>26),F=D+(k^(O|~B))+$[11]+3174756917&4294967295,D=O+(F<<10&4294967295|F>>>22),F=B+(O^(D|~k))+$[2]+718787259&4294967295,B=D+(F<<15&4294967295|F>>>17),F=k+(D^(B|~O))+$[9]+3951481745&4294967295,A.g[0]=A.g[0]+O&4294967295,A.g[1]=A.g[1]+(B+(F<<21&4294967295|F>>>11))&4294967295,A.g[2]=A.g[2]+B&4294967295,A.g[3]=A.g[3]+D&4294967295}r.prototype.u=function(A,O){O===void 0&&(O=A.length);for(var k=O-this.blockSize,$=this.B,B=this.h,D=0;D<O;){if(B==0)for(;D<=k;)i(this,A,D),D+=this.blockSize;if(typeof A=="string"){for(;D<O;)if($[B++]=A.charCodeAt(D++),B==this.blockSize){i(this,$),B=0;break}}else for(;D<O;)if($[B++]=A[D++],B==this.blockSize){i(this,$),B=0;break}}this.h=B,this.o+=O},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var O=1;O<A.length-8;++O)A[O]=0;var k=8*this.o;for(O=A.length-8;O<A.length;++O)A[O]=k&255,k/=256;for(this.u(A),A=Array(16),O=k=0;4>O;++O)for(var $=0;32>$;$+=8)A[k++]=this.g[O]>>>$&255;return A};function a(A,O){var k=l;return Object.prototype.hasOwnProperty.call(k,A)?k[A]:k[A]=O(A)}function s(A,O){this.h=O;for(var k=[],$=!0,B=A.length-1;0<=B;B--){var D=A[B]|0;$&&D==O||(k[B]=D,$=!1)}this.g=k}var l={};function u(A){return-128<=A&&128>A?a(A,function(O){return new s([O|0],0>O?-1:0)}):new s([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return x(c(-A));for(var O=[],k=1,$=0;A>=k;$++)O[$]=A/k|0,k*=4294967296;return new s(O,0)}function p(A,O){if(A.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(A.charAt(0)=="-")return x(p(A.substring(1),O));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(O,8)),$=f,B=0;B<A.length;B+=8){var D=Math.min(8,A.length-B),F=parseInt(A.substring(B,B+D),O);8>D?(D=c(Math.pow(O,D)),$=$.j(D).add(c(F))):($=$.j(k),$=$.add(c(F)))}return $}var f=u(0),y=u(1),v=u(16777216);t=s.prototype,t.m=function(){if(S(this))return-x(this).m();for(var A=0,O=1,k=0;k<this.g.length;k++){var $=this.i(k);A+=(0<=$?$:4294967296+$)*O,O*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(b(this))return"0";if(S(this))return"-"+x(this).toString(A);for(var O=c(Math.pow(A,6)),k=this,$="";;){var B=I(k,O).g;k=P(k,B.j(O));var D=((0<k.g.length?k.g[0]:k.h)>>>0).toString(A);if(k=B,b(k))return D+$;for(;6>D.length;)D="0"+D;$=D+$}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function b(A){if(A.h!=0)return!1;for(var O=0;O<A.g.length;O++)if(A.g[O]!=0)return!1;return!0}function S(A){return A.h==-1}t.l=function(A){return A=P(this,A),S(A)?-1:b(A)?0:1};function x(A){for(var O=A.g.length,k=[],$=0;$<O;$++)k[$]=~A.g[$];return new s(k,~A.h).add(y)}t.abs=function(){return S(this)?x(this):this},t.add=function(A){for(var O=Math.max(this.g.length,A.g.length),k=[],$=0,B=0;B<=O;B++){var D=$+(this.i(B)&65535)+(A.i(B)&65535),F=(D>>>16)+(this.i(B)>>>16)+(A.i(B)>>>16);$=F>>>16,D&=65535,F&=65535,k[B]=F<<16|D}return new s(k,k[k.length-1]&-2147483648?-1:0)};function P(A,O){return A.add(x(O))}t.j=function(A){if(b(this)||b(A))return f;if(S(this))return S(A)?x(this).j(x(A)):x(x(this).j(A));if(S(A))return x(this.j(x(A)));if(0>this.l(v)&&0>A.l(v))return c(this.m()*A.m());for(var O=this.g.length+A.g.length,k=[],$=0;$<2*O;$++)k[$]=0;for($=0;$<this.g.length;$++)for(var B=0;B<A.g.length;B++){var D=this.i($)>>>16,F=this.i($)&65535,W=A.i(B)>>>16,Y=A.i(B)&65535;k[2*$+2*B]+=F*Y,w(k,2*$+2*B),k[2*$+2*B+1]+=D*Y,w(k,2*$+2*B+1),k[2*$+2*B+1]+=F*W,w(k,2*$+2*B+1),k[2*$+2*B+2]+=D*W,w(k,2*$+2*B+2)}for($=0;$<O;$++)k[$]=k[2*$+1]<<16|k[2*$];for($=O;$<2*O;$++)k[$]=0;return new s(k,0)};function w(A,O){for(;(A[O]&65535)!=A[O];)A[O+1]+=A[O]>>>16,A[O]&=65535,O++}function T(A,O){this.g=A,this.h=O}function I(A,O){if(b(O))throw Error("division by zero");if(b(A))return new T(f,f);if(S(A))return O=I(x(A),O),new T(x(O.g),x(O.h));if(S(O))return O=I(A,x(O)),new T(x(O.g),O.h);if(30<A.g.length){if(S(A)||S(O))throw Error("slowDivide_ only works with positive integers.");for(var k=y,$=O;0>=$.l(A);)k=N(k),$=N($);var B=M(k,1),D=M($,1);for($=M($,2),k=M(k,2);!b($);){var F=D.add($);0>=F.l(A)&&(B=B.add(k),D=F),$=M($,1),k=M(k,1)}return O=P(A,B.j(O)),new T(B,O)}for(B=f;0<=A.l(O);){for(k=Math.max(1,Math.floor(A.m()/O.m())),$=Math.ceil(Math.log(k)/Math.LN2),$=48>=$?1:Math.pow(2,$-48),D=c(k),F=D.j(O);S(F)||0<F.l(A);)k-=$,D=c(k),F=D.j(O);b(D)&&(D=y),B=B.add(D),A=P(A,F)}return new T(B,A)}t.A=function(A){return I(this,A).h},t.and=function(A){for(var O=Math.max(this.g.length,A.g.length),k=[],$=0;$<O;$++)k[$]=this.i($)&A.i($);return new s(k,this.h&A.h)},t.or=function(A){for(var O=Math.max(this.g.length,A.g.length),k=[],$=0;$<O;$++)k[$]=this.i($)|A.i($);return new s(k,this.h|A.h)},t.xor=function(A){for(var O=Math.max(this.g.length,A.g.length),k=[],$=0;$<O;$++)k[$]=this.i($)^A.i($);return new s(k,this.h^A.h)};function N(A){for(var O=A.g.length+1,k=[],$=0;$<O;$++)k[$]=A.i($)<<1|A.i($-1)>>>31;return new s(k,A.h)}function M(A,O){var k=O>>5;O%=32;for(var $=A.g.length-k,B=[],D=0;D<$;D++)B[D]=0<O?A.i(D+k)>>>O|A.i(D+k+1)<<32-O:A.i(D+k);return new s(B,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Mk=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=p,ws=s}).apply(typeof ET<"u"?ET:typeof self<"u"?self:typeof window<"u"?window:{});var Fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nk,Id,Ik,vm,Nx,Ck,Ok,jk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,j){return m==Array.prototype||m==Object.prototype||(m[E]=j.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fp=="object"&&Fp];for(var E=0;E<m.length;++E){var j=m[E];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=n(this);function i(m,E){if(E)e:{var j=r;m=m.split(".");for(var V=0;V<m.length-1;V++){var Q=m[V];if(!(Q in j))break e;j=j[Q]}m=m[m.length-1],V=j[m],E=E(V),E!=V&&E!=null&&e(j,m,{configurable:!0,writable:!0,value:E})}}function a(m,E){m instanceof String&&(m+="");var j=0,V=!1,Q={next:function(){if(!V&&j<m.length){var ne=j++;return{value:E(ne,m[ne]),done:!1}}return V=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(m){return m||function(){return a(this,function(E,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function c(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function p(m,E,j){return m.call.apply(m.bind,arguments)}function f(m,E,j){if(!m)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,V),m.apply(E,Q)}}return function(){return m.apply(E,arguments)}}function y(m,E,j){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:f,y.apply(null,arguments)}function v(m,E){var j=Array.prototype.slice.call(arguments,1);return function(){var V=j.slice();return V.push.apply(V,arguments),m.apply(this,V)}}function b(m,E){function j(){}j.prototype=E.prototype,m.aa=E.prototype,m.prototype=new j,m.prototype.constructor=m,m.Qb=function(V,Q,ne){for(var de=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)de[rt-2]=arguments[rt];return E.prototype[Q].apply(V,de)}}function S(m){const E=m.length;if(0<E){const j=Array(E);for(let V=0;V<E;V++)j[V]=m[V];return j}return[]}function x(m,E){for(let j=1;j<arguments.length;j++){const V=arguments[j];if(u(V)){const Q=m.length||0,ne=V.length||0;m.length=Q+ne;for(let de=0;de<ne;de++)m[Q+de]=V[de]}else m.push(V)}}class P{constructor(E,j){this.i=E,this.j=j,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function w(m){return/^[\s\xa0]*$/.test(m)}function T(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function I(m){return I[" "](m),m}I[" "]=function(){};var N=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(m,E,j){for(const V in m)E.call(j,m[V],V,m)}function A(m,E){for(const j in m)E.call(void 0,m[j],j,m)}function O(m){const E={};for(const j in m)E[j]=m[j];return E}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(m,E){let j,V;for(let Q=1;Q<arguments.length;Q++){V=arguments[Q];for(j in V)m[j]=V[j];for(let ne=0;ne<k.length;ne++)j=k[ne],Object.prototype.hasOwnProperty.call(V,j)&&(m[j]=V[j])}}function B(m){var E=1;m=m.split(":");const j=[];for(;0<E&&m.length;)j.push(m.shift()),E--;return m.length&&j.push(m.join(":")),j}function D(m){l.setTimeout(()=>{throw m},0)}function F(){var m=q;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class W{constructor(){this.h=this.g=null}add(E,j){const V=Y.get();V.set(E,j),this.h?this.h.next=V:this.g=V,this.h=V}}var Y=new P(()=>new G,m=>m.reset());class G{constructor(){this.next=this.g=this.h=null}set(E,j){this.h=E,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,z=!1,q=new W,H=()=>{const m=l.Promise.resolve(void 0);Z=()=>{m.then(ee)}};var ee=()=>{for(var m;m=F();){try{m.h.call(m.g)}catch(j){D(j)}var E=Y;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}z=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const j=()=>{};l.addEventListener("test",j,E),l.removeEventListener("test",j,E)}catch{}return m}();function _e(m,E){if(ce.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var j=this.type=m.type,V=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(N){e:{try{I(E.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(E=null)}}else j=="mouseover"?E=m.fromElement:j=="mouseout"&&(E=m.toElement);this.relatedTarget=E,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ge[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&_e.aa.h.call(this)}}b(_e,ce);var ge={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),mt=0;function he(m,E,j,V,Q){this.listener=m,this.proxy=null,this.src=E,this.type=j,this.capture=!!V,this.ha=Q,this.key=++mt,this.da=this.fa=!1}function Se(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ie(m){this.src=m,this.g={},this.h=0}Ie.prototype.add=function(m,E,j,V,Q){var ne=m.toString();m=this.g[ne],m||(m=this.g[ne]=[],this.h++);var de=et(m,E,V,Q);return-1<de?(E=m[de],j||(E.fa=!1)):(E=new he(E,this.src,ne,!!V,Q),E.fa=j,m.push(E)),E};function se(m,E){var j=E.type;if(j in m.g){var V=m.g[j],Q=Array.prototype.indexOf.call(V,E,void 0),ne;(ne=0<=Q)&&Array.prototype.splice.call(V,Q,1),ne&&(Se(E),m.g[j].length==0&&(delete m.g[j],m.h--))}}function et(m,E,j,V){for(var Q=0;Q<m.length;++Q){var ne=m[Q];if(!ne.da&&ne.listener==E&&ne.capture==!!j&&ne.ha==V)return Q}return-1}var De="closure_lm_"+(1e6*Math.random()|0),ht={};function gt(m,E,j,V,Q){if(Array.isArray(E)){for(var ne=0;ne<E.length;ne++)gt(m,E[ne],j,V,Q);return null}return j=Ws(j),m&&m[Je]?m.K(E,j,c(V)?!!V.capture:!1,Q):Vt(m,E,j,!1,V,Q)}function Vt(m,E,j,V,Q,ne){if(!E)throw Error("Invalid event type");var de=c(Q)?!!Q.capture:!!Q,rt=_i(m);if(rt||(m[De]=rt=new Ie(m)),j=rt.add(E,j,V,de,ne),j.proxy)return j;if(V=Rn(),j.proxy=V,V.src=m,V.listener=j,m.addEventListener)xe||(Q=de),Q===void 0&&(Q=!1),m.addEventListener(E.toString(),V,Q);else if(m.attachEvent)m.attachEvent(Hn(E.toString()),V);else if(m.addListener&&m.removeListener)m.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return j}function Rn(){function m(j){return E.call(m.src,m.listener,j)}const E=xr;return m}function Gr(m,E,j,V,Q){if(Array.isArray(E))for(var ne=0;ne<E.length;ne++)Gr(m,E[ne],j,V,Q);else V=c(V)?!!V.capture:!!V,j=Ws(j),m&&m[Je]?(m=m.i,E=String(E).toString(),E in m.g&&(ne=m.g[E],j=et(ne,j,V,Q),-1<j&&(Se(ne[j]),Array.prototype.splice.call(ne,j,1),ne.length==0&&(delete m.g[E],m.h--)))):m&&(m=_i(m))&&(E=m.g[E.toString()],m=-1,E&&(m=et(E,j,V,Q)),(j=-1<m?E[m]:null)&&Kr(j))}function Kr(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[Je])se(E.i,m);else{var j=m.type,V=m.proxy;E.removeEventListener?E.removeEventListener(j,V,m.capture):E.detachEvent?E.detachEvent(Hn(j),V):E.addListener&&E.removeListener&&E.removeListener(V),(j=_i(E))?(se(j,m),j.h==0&&(j.src=null,E[De]=null)):Se(m)}}}function Hn(m){return m in ht?ht[m]:ht[m]="on"+m}function xr(m,E){if(m.da)m=!0;else{E=new _e(E,this);var j=m.listener,V=m.ha||m.src;m.fa&&Kr(m),m=j.call(V,E)}return m}function _i(m){return m=m[De],m instanceof Ie?m:null}var La="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ws(m){return typeof m=="function"?m:(m[La]||(m[La]=function(E){return m.handleEvent(E)}),m[La])}function Ut(){re.call(this),this.i=new Ie(this),this.M=this,this.F=null}b(Ut,re),Ut.prototype[Je]=!0,Ut.prototype.removeEventListener=function(m,E,j,V){Gr(this,m,E,j,V)};function ln(m,E){var j,V=m.F;if(V)for(j=[];V;V=V.F)j.push(V);if(m=m.M,V=E.type||E,typeof E=="string")E=new ce(E,m);else if(E instanceof ce)E.target=E.target||m;else{var Q=E;E=new ce(V,m),$(E,Q)}if(Q=!0,j)for(var ne=j.length-1;0<=ne;ne--){var de=E.g=j[ne];Q=Gs(de,V,!0,E)&&Q}if(de=E.g=m,Q=Gs(de,V,!0,E)&&Q,Q=Gs(de,V,!1,E)&&Q,j)for(ne=0;ne<j.length;ne++)de=E.g=j[ne],Q=Gs(de,V,!1,E)&&Q}Ut.prototype.N=function(){if(Ut.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var j=m.g[E],V=0;V<j.length;V++)Se(j[V]);delete m.g[E],m.h--}}this.F=null},Ut.prototype.K=function(m,E,j,V){return this.i.add(String(m),E,!1,j,V)},Ut.prototype.L=function(m,E,j,V){return this.i.add(String(m),E,!0,j,V)};function Gs(m,E,j,V){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var Q=!0,ne=0;ne<E.length;++ne){var de=E[ne];if(de&&!de.da&&de.capture==j){var rt=de.listener,zt=de.ha||de.src;de.fa&&se(m.i,de),Q=rt.call(zt,V)!==!1&&Q}}return Q&&!V.defaultPrevented}function Hf(m,E,j){if(typeof m=="function")j&&(m=y(m,j));else if(m&&typeof m.handleEvent=="function")m=y(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:l.setTimeout(m,E||0)}function Tc(m){m.g=Hf(()=>{m.g=null,m.i&&(m.i=!1,Tc(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class Wf extends re{constructor(E,j){super(),this.m=E,this.l=j,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Tc(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ks(m){re.call(this),this.h=m,this.g={}}b(Ks,re);var Ac=[];function nl(m){M(m.g,function(E,j){this.g.hasOwnProperty(j)&&Kr(E)},m),m.g={}}Ks.prototype.N=function(){Ks.aa.N.call(this),nl(this)},Ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rl=l.JSON.stringify,n_=l.JSON.parse,qs=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function Mc(){}Mc.prototype.h=null;function Gf(m){return m.h||(m.h=m.i())}function Nc(){}var $a={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function il(){ce.call(this,"d")}b(il,ce);function Ic(){ce.call(this,"c")}b(Ic,ce);var Hi={},Kf=null;function al(){return Kf=Kf||new Ut}Hi.La="serverreachability";function qf(m){ce.call(this,Hi.La,m)}b(qf,ce);function Zs(m){const E=al();ln(E,new qf(E))}Hi.STAT_EVENT="statevent";function sl(m,E){ce.call(this,Hi.STAT_EVENT,m),this.stat=E}b(sl,ce);function gn(m){const E=al();ln(E,new sl(E,m))}Hi.Ma="timingevent";function Zf(m,E){ce.call(this,Hi.Ma,m),this.size=E}b(Zf,ce);function Ys(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},E)}function Xs(){this.g=!0}Xs.prototype.xa=function(){this.g=!1};function br(m,E,j,V,Q,ne){m.info(function(){if(m.g)if(ne)for(var de="",rt=ne.split("&"),zt=0;zt<rt.length;zt++){var We=rt[zt].split("=");if(1<We.length){var ot=We[0];We=We[1];var Mt=ot.split("_");de=2<=Mt.length&&Mt[1]=="type"?de+(ot+"="+We+"&"):de+(ot+"=redacted&")}}else de=null;else de=ne;return"XMLHTTP REQ ("+V+") [attempt "+Q+"]: "+E+`
`+j+`
`+de})}function we(m,E,j,V,Q,ne,de){m.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+Q+"]: "+E+`
`+j+`
`+ne+" "+de})}function Wi(m,E,j,V){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+Xf(m,j)+(V?" "+V:"")})}function Yf(m,E){m.info(function(){return"TIMEOUT: "+E})}Xs.prototype.info=function(){};function Xf(m,E){if(!m.g)return E;if(!E)return null;try{var j=JSON.parse(E);if(j){for(m=0;m<j.length;m++)if(Array.isArray(j[m])){var V=j[m];if(!(2>V.length)){var Q=V[1];if(Array.isArray(Q)&&!(1>Q.length)){var ne=Q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var de=1;de<Q.length;de++)Q[de]=""}}}}return rl(j)}catch{return E}}var Qs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ol={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ll;function qr(){}b(qr,Mc),qr.prototype.g=function(){return new XMLHttpRequest},qr.prototype.i=function(){return{}},ll=new qr;function Zr(m,E,j,V){this.j=m,this.i=E,this.l=j,this.R=V||1,this.U=new Ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qf}function Qf(){this.i=null,this.g="",this.h=!1}var Jf={},Cc={};function Oc(m,E,j){m.L=1,m.v=Pr(kt(E)),m.m=j,m.P=!0,jc(m,null)}function jc(m,E){m.F=Date.now(),cl(m),m.A=kt(m.v);var j=m.A,V=m.R;Array.isArray(V)||(V=[String(V)]),np(j.i,"t",V),m.C=0,j=m.j.J,m.h=new Qf,m.g=up(m.j,j?E:null,!m.m),0<m.O&&(m.M=new Wf(y(m.Y,m,m.g),m.O)),E=m.U,j=m.g,V=m.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Ac[0]=Q.toString()),Q=Ac);for(var ne=0;ne<Q.length;ne++){var de=gt(j,Q[ne],V||E.handleEvent,!1,E.h||E);if(!de)break;E.g[de.key]=de}E=m.H?O(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),Zs(),br(m.i,m.u,m.A,m.l,m.R,m.m)}Zr.prototype.ca=function(m){m=m.target;const E=this.M;E&&Ln(m)==3?E.j():this.Y(m)},Zr.prototype.Y=function(m){try{if(m==this.g)e:{const Mt=Ln(this.g);var E=this.g.Ba();const Wa=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||Zc(this.g)))){this.J||Mt!=4||E==7||(E==8||0>=Wa?Zs(3):Zs(2)),kc(this);var j=this.g.Z();this.X=j;t:if(ep(this)){var V=Zc(this.g);m="";var Q=V.length,ne=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gi(this),Js(this);var de="";break t}this.h.i=new l.TextDecoder}for(E=0;E<Q;E++)this.h.h=!0,m+=this.h.i.decode(V[E],{stream:!(ne&&E==Q-1)});V.length=0,this.h.g+=m,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=j==200,we(this.i,this.u,this.A,this.l,this.R,Mt,j),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,zt=this.g;if((rt=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(rt)){var We=rt;break t}}We=null}if(j=We)Wi(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eo(this,j);else{this.o=!1,this.s=3,gn(12),Gi(this),Js(this);break e}}if(this.P){j=!0;let Lt;for(;!this.J&&this.C<de.length;)if(Lt=ul(this,de),Lt==Cc){Mt==4&&(this.s=4,gn(14),j=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==Jf){this.s=4,gn(15),Wi(this.i,this.l,de,"[Invalid Chunk]"),j=!1;break}else Wi(this.i,this.l,Lt,null),eo(this,Lt);if(ep(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||de.length!=0||this.h.h||(this.s=1,gn(16),j=!1),this.o=this.o&&j,!j)Wi(this.i,this.l,de,"[Invalid Chunked Response]"),Gi(this),Js(this);else if(0<de.length&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.ba&&!ot.M&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),_l(ot),ot.M=!0,gn(11))}}else Wi(this.i,this.l,de,null),eo(this,de);Mt==4&&Gi(this),this.o&&!this.J&&(Mt==4?Xc(this.j,this):(this.o=!1,cl(this)))}else r_(this.g),j==400&&0<de.indexOf("Unknown SID")?(this.s=3,gn(12)):(this.s=0,gn(13)),Gi(this),Js(this)}}}catch{}finally{}};function ep(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function ul(m,E){var j=m.C,V=E.indexOf(`
`,j);return V==-1?Cc:(j=Number(E.substring(j,V)),isNaN(j)?Jf:(V+=1,V+j>E.length?Cc:(E=E.slice(V,V+j),m.C=V+j,E)))}Zr.prototype.cancel=function(){this.J=!0,Gi(this)};function cl(m){m.S=Date.now()+m.I,tp(m,m.I)}function tp(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Ys(y(m.ba,m),E)}function kc(m){m.B&&(l.clearTimeout(m.B),m.B=null)}Zr.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Yf(this.i,this.A),this.L!=2&&(Zs(),gn(17)),Gi(this),this.s=2,Js(this)):tp(this,this.S-m)};function Js(m){m.j.G==0||m.J||Xc(m.j,m)}function Gi(m){kc(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,nl(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function eo(m,E){try{var j=m.j;if(j.G!=0&&(j.g==m||Ve(j.h,m))){if(!m.K&&Ve(j.h,m)&&j.G==3){try{var V=j.Da.g.parse(E)}catch{V=null}if(Array.isArray(V)&&V.length==3){var Q=V;if(Q[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<m.F)bl(j),yl(j);else break e;vl(j),gn(18)}}else j.za=Q[1],0<j.za-j.T&&37500>Q[2]&&j.F&&j.v==0&&!j.C&&(j.C=Ys(y(j.Za,j),6e3));if(1>=Fa(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else Xi(j,11)}else if((m.K||j.g==m)&&bl(j),!w(E))for(Q=j.Da.g.parse(E),E=0;E<Q.length;E++){let We=Q[E];if(j.T=We[0],We=We[1],j.G==2)if(We[0]=="c"){j.K=We[1],j.ia=We[2];const ot=We[3];ot!=null&&(j.la=ot,j.j.info("VER="+j.la));const Mt=We[4];Mt!=null&&(j.Aa=Mt,j.j.info("SVER="+j.Aa));const Wa=We[5];Wa!=null&&typeof Wa=="number"&&0<Wa&&(V=1.5*Wa,j.L=V,j.j.info("backChannelRequestTimeoutMs_="+V)),V=j;const Lt=m.g;if(Lt){const Pl=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pl){var ne=V.h;ne.g||Pl.indexOf("spdy")==-1&&Pl.indexOf("quic")==-1&&Pl.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(ut(ne,ne.h),ne.h=null))}if(V.D){const wi=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;wi&&(V.ya=wi,Ce(V.I,V.D,wi))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-m.F,j.j.info("Handshake RTT: "+j.R+"ms")),V=j;var de=m;if(V.qa=wl(V,V.J?V.ia:null,V.W),de.K){no(V.h,de);var rt=de,zt=V.L;zt&&(rt.I=zt),rt.B&&(kc(rt),cl(rt)),V.g=de}else Qr(V);0<j.i.length&&Ha(j)}else We[0]!="stop"&&We[0]!="close"||Xi(j,7);else j.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Xi(j,7):gl(j):We[0]!="noop"&&j.l&&j.l.ta(We),j.v=0)}}Zs(4)}catch{}}var to=class{constructor(m,E){this.g=m,this.map=E}};function Dc(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rc(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Fa(m){return m.h?1:m.g?m.g.size:0}function Ve(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function ut(m,E){m.g?m.g.add(E):m.h=E}function no(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}Dc.prototype.cancel=function(){if(this.i=Ki(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ki(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const j of m.g.values())E=E.concat(j.D);return E}return S(m.i)}function Ba(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(u(m)){for(var E=[],j=m.length,V=0;V<j;V++)E.push(m[V]);return E}E=[],j=0;for(V in m)E[j++]=m[V];return E}function Lc(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(u(m)||typeof m=="string"){var E=[];m=m.length;for(var j=0;j<m;j++)E.push(j);return E}E=[],j=0;for(const V in m)E[j++]=V;return E}}}function ke(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(u(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var j=Lc(m),V=Ba(m),Q=V.length,ne=0;ne<Q;ne++)E.call(void 0,V[ne],j&&j[ne],m)}var Pt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $c(m,E){if(m){m=m.split("&");for(var j=0;j<m.length;j++){var V=m[j].indexOf("="),Q=null;if(0<=V){var ne=m[j].substring(0,V);Q=m[j].substring(V+1)}else ne=m[j];E(ne,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function wr(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof wr){this.h=m.h,dl(this,m.j),this.o=m.o,this.g=m.g,qi(this,m.s),this.l=m.l;var E=m.i,j=new Zi;j.i=E.i,E.g&&(j.g=new Map(E.g),j.h=E.h),xi(this,j),this.m=m.m}else m&&(E=String(m).match(Pt))?(this.h=!1,dl(this,E[1]||"",!0),this.o=Yr(E[2]||""),this.g=Yr(E[3]||"",!0),qi(this,E[4]),this.l=Yr(E[5]||"",!0),xi(this,E[6]||"",!0),this.m=Yr(E[7]||"")):(this.h=!1,this.i=new Zi(null,this.h))}wr.prototype.toString=function(){var m=[],E=this.j;E&&m.push(Xr(E,Va,!0),":");var j=this.g;return(j||E=="file")&&(m.push("//"),(E=this.o)&&m.push(Xr(E,Va,!0),"@"),m.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&m.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&m.push("/"),m.push(Xr(j,j.charAt(0)=="/"?Vc:Bc,!0))),(j=this.i.toString())&&m.push("?",j),(j=this.m)&&m.push("#",Xr(j,Uc)),m.join("")};function kt(m){return new wr(m)}function dl(m,E,j){m.j=j?Yr(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function qi(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function xi(m,E,j){E instanceof Zi?(m.i=E,Sr(m.i,m.h)):(j||(E=Xr(E,hl)),m.i=new Zi(E,m.h))}function Ce(m,E,j){m.i.set(E,j)}function Pr(m){return Ce(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Yr(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Xr(m,E,j){return typeof m=="string"?(m=encodeURI(m).replace(E,Fc),j&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Fc(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Va=/[#\/\?@]/g,Bc=/[#\?:]/g,Vc=/[#\?]/g,hl=/[#\?@]/g,Uc=/#/g;function Zi(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function rr(m){m.g||(m.g=new Map,m.h=0,m.i&&$c(m.i,function(E,j){m.add(decodeURIComponent(E.replace(/\+/g," ")),j)}))}t=Zi.prototype,t.add=function(m,E){rr(this),this.i=null,m=Te(this,m);var j=this.g.get(m);return j||this.g.set(m,j=[]),j.push(E),this.h+=1,this};function zc(m,E){rr(m),E=Te(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function fl(m,E){return rr(m),E=Te(m,E),m.g.has(E)}t.forEach=function(m,E){rr(this),this.g.forEach(function(j,V){j.forEach(function(Q){m.call(E,Q,V,this)},this)},this)},t.na=function(){rr(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),j=[];for(let V=0;V<E.length;V++){const Q=m[V];for(let ne=0;ne<Q.length;ne++)j.push(E[V])}return j},t.V=function(m){rr(this);let E=[];if(typeof m=="string")fl(this,m)&&(E=E.concat(this.g.get(Te(this,m))));else{m=Array.from(this.g.values());for(let j=0;j<m.length;j++)E=E.concat(m[j])}return E},t.set=function(m,E){return rr(this),this.i=null,m=Te(this,m),fl(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},t.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function np(m,E,j){zc(m,E),0<j.length&&(m.i=null,m.g.set(Te(m,E),S(j)),m.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var j=0;j<E.length;j++){var V=E[j];const ne=encodeURIComponent(String(V)),de=this.V(V);for(V=0;V<de.length;V++){var Q=ne;de[V]!==""&&(Q+="="+encodeURIComponent(String(de[V]))),m.push(Q)}}return this.i=m.join("&")};function Te(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function Sr(m,E){E&&!m.j&&(rr(m),m.i=null,m.g.forEach(function(j,V){var Q=V.toLowerCase();V!=Q&&(zc(this,V),np(this,Q,j))},m)),m.j=E}function st(m,E){const j=new Xs;if(l.Image){const V=new Image;V.onload=v(Er,j,"TestLoadImage: loaded",!0,E,V),V.onerror=v(Er,j,"TestLoadImage: error",!1,E,V),V.onabort=v(Er,j,"TestLoadImage: abort",!1,E,V),V.ontimeout=v(Er,j,"TestLoadImage: timeout",!1,E,V),l.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=m}else E(!1)}function rp(m,E){const j=new Xs,V=new AbortController,Q=setTimeout(()=>{V.abort(),Er(j,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:V.signal}).then(ne=>{clearTimeout(Q),ne.ok?Er(j,"TestPingServer: ok",!0,E):Er(j,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Q),Er(j,"TestPingServer: error",!1,E)})}function Er(m,E,j,V,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),V(j)}catch{}}function Hc(){this.g=new qs}function Wc(m,E,j){const V=j||"";try{ke(m,function(Q,ne){let de=Q;c(Q)&&(de=rl(Q)),E.push(V+ne+"="+encodeURIComponent(de))})}catch(Q){throw E.push(V+"type="+encodeURIComponent("_badmap")),Q}}function Tr(m){this.l=m.Ub||null,this.j=m.eb||!1}b(Tr,Mc),Tr.prototype.g=function(){return new Ua(this.l,this.j)},Tr.prototype.i=function(m){return function(){return m}}({});function Ua(m,E){Ut.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Ua,Ut),t=Ua.prototype,t.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,ir(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||l).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,At(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;za(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function za(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?At(this):ir(this),this.readyState==3&&za(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,At(this))},t.Qa=function(m){this.g&&(this.response=m,At(this))},t.ga=function(){this.g&&At(this)};function At(m){m.readyState=4,m.l=null,m.j=null,m.v=null,ir(m)}t.setRequestHeader=function(m,E){this.u.append(m,E)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var j=E.next();!j.done;)j=j.value,m.push(j[0]+": "+j[1]),j=E.next();return m.join(`\r
`)};function ir(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Gc(m){let E="";return M(m,function(j,V){E+=V,E+=":",E+=j,E+=`\r
`}),E}function pl(m,E,j){e:{for(V in j){var V=!1;break e}V=!0}V||(j=Gc(j),typeof m=="string"?j!=null&&encodeURIComponent(String(j)):Ce(m,E,j))}function St(m){Ut.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(St,Ut);var ip=/^https?$/i,Kc=["POST","PUT"];t=St.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,E,j,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ll.g(),this.v=this.o?Gf(this.o):Gf(ll),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(ne){ap(this,ne);return}if(m=j||"",j=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var Q in V)j.set(Q,V[Q]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ne of V.keys())j.set(ne,V.get(ne));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(j.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Kc,E,void 0))||V||Q||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,de]of j)this.g.setRequestHeader(ne,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wn(this),this.u=!0,this.g.send(m),this.u=!1}catch(ne){ap(this,ne)}};function ap(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,qc(m),ml(m)}function qc(m){m.A||(m.A=!0,ln(m,"complete"),ln(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,ln(this,"complete"),ln(this,"abort"),ml(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ml(this,!0)),St.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$e(this):this.bb())},t.bb=function(){$e(this)};function $e(m){if(m.h&&typeof s<"u"&&(!m.v[1]||Ln(m)!=4||m.Z()!=2)){if(m.u&&Ln(m)==4)Hf(m.Ea,0,m);else if(ln(m,"readystatechange"),Ln(m)==4){m.h=!1;try{const de=m.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var j;if(!(j=E)){var V;if(V=de===0){var Q=String(m.D).match(Pt)[1]||null;!Q&&l.self&&l.self.location&&(Q=l.self.location.protocol.slice(0,-1)),V=!ip.test(Q?Q.toLowerCase():"")}j=V}if(j)ln(m,"complete"),ln(m,"success");else{m.m=6;try{var ne=2<Ln(m)?m.g.statusText:""}catch{ne=""}m.l=ne+" ["+m.Z()+"]",qc(m)}}finally{ml(m)}}}}function ml(m,E){if(m.g){Wn(m);const j=m.g,V=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||ln(m,"ready");try{j.onreadystatechange=V}catch{}}}function Wn(m){m.I&&(l.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Ln(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),n_(E)}};function Zc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function r_(m){const E={};m=(m.g&&2<=Ln(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<m.length;V++){if(w(m[V]))continue;var j=B(m[V]);const Q=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const ne=E[Q]||[];E[Q]=ne,ne.push(j)}A(E,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yi(m,E,j){return j&&j.internalChannelParams&&j.internalChannelParams[m]||E}function sp(m){this.Aa=0,this.i=[],this.j=new Xs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yi("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yi("baseRetryDelayMs",5e3,m),this.cb=Yi("retryDelaySeedMs",1e4,m),this.Wa=Yi("forwardChannelMaxRetries",2,m),this.wa=Yi("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Dc(m&&m.concurrentRequestLimit),this.Da=new Hc,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sp.prototype,t.la=8,t.G=1,t.connect=function(m,E,j,V){gn(0),this.W=m,this.H=E||{},j&&V!==void 0&&(this.H.OSID=j,this.H.OAID=V),this.F=this.X,this.I=wl(this,null,this.W),Ha(this)};function gl(m){if(op(m),m.G==3){var E=m.U++,j=kt(m.I);if(Ce(j,"SID",m.K),Ce(j,"RID",E),Ce(j,"TYPE","terminate"),ro(m,j),E=new Zr(m,m.j,E),E.L=2,E.v=Pr(kt(j)),j=!1,l.navigator&&l.navigator.sendBeacon)try{j=l.navigator.sendBeacon(E.v.toString(),"")}catch{}!j&&l.Image&&(new Image().src=E.v,j=!0),j||(E.g=up(E.j,null),E.g.ea(E.v)),E.F=Date.now(),cl(E)}lp(m)}function yl(m){m.g&&(_l(m),m.g.cancel(),m.g=null)}function op(m){yl(m),m.u&&(l.clearTimeout(m.u),m.u=null),bl(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function Ha(m){if(!Rc(m.h)&&!m.s){m.s=!0;var E=m.Ga;Z||H(),z||(Z(),z=!0),q.add(E,m),m.B=0}}function i_(m,E){return Fa(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Ys(y(m.Ga,m,E),Qc(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Q=new Zr(this,this.j,m);let ne=this.o;if(this.S&&(ne?(ne=O(ne),$(ne,this.S)):ne=this.S),this.m!==null||this.O||(Q.H=ne,ne=null),this.P)e:{for(var E=0,j=0;j<this.i.length;j++){t:{var V=this.i[j];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(E+=V,4096<E){E=j;break e}if(E===4096||j===this.i.length-1){E=j+1;break e}}E=1e3}else E=1e3;E=Yc(this,Q,E),j=kt(this.I),Ce(j,"RID",m),Ce(j,"CVER",22),this.D&&Ce(j,"X-HTTP-Session-Id",this.D),ro(this,j),ne&&(this.O?E="headers="+encodeURIComponent(String(Gc(ne)))+"&"+E:this.m&&pl(j,this.m,ne)),ut(this.h,Q),this.Ua&&Ce(j,"TYPE","init"),this.P?(Ce(j,"$req",E),Ce(j,"SID","null"),Q.T=!0,Oc(Q,j,null)):Oc(Q,j,E),this.G=2}}else this.G==3&&(m?ar(this,m):this.i.length==0||Rc(this.h)||ar(this))};function ar(m,E){var j;E?j=E.l:j=m.U++;const V=kt(m.I);Ce(V,"SID",m.K),Ce(V,"RID",j),Ce(V,"AID",m.T),ro(m,V),m.m&&m.o&&pl(V,m.m,m.o),j=new Zr(m,m.j,j,m.B+1),m.m===null&&(j.H=m.o),E&&(m.i=E.D.concat(m.i)),E=Yc(m,j,1e3),j.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),ut(m.h,j),Oc(j,V,E)}function ro(m,E){m.H&&M(m.H,function(j,V){Ce(E,V,j)}),m.l&&ke({},function(j,V){Ce(E,V,j)})}function Yc(m,E,j){j=Math.min(m.i.length,j);var V=m.l?y(m.l.Na,m.l,m):null;e:{var Q=m.i;let ne=-1;for(;;){const de=["count="+j];ne==-1?0<j?(ne=Q[0].g,de.push("ofs="+ne)):ne=0:de.push("ofs="+ne);let rt=!0;for(let zt=0;zt<j;zt++){let We=Q[zt].g;const ot=Q[zt].map;if(We-=ne,0>We)ne=Math.max(0,Q[zt].g-100),rt=!1;else try{Wc(ot,de,"req"+We+"_")}catch{V&&V(ot)}}if(rt){V=de.join("&");break e}}}return m=m.i.splice(0,j),E.D=m,V}function Qr(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;Z||H(),z||(Z(),z=!0),q.add(E,m),m.v=0}}function vl(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Ys(y(m.Fa,m),Qc(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,xl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Ys(y(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gn(10),yl(this),xl(this))};function _l(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function xl(m){m.g=new Zr(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=kt(m.qa);Ce(E,"RID","rpc"),Ce(E,"SID",m.K),Ce(E,"AID",m.T),Ce(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&Ce(E,"TO",m.ja),Ce(E,"TYPE","xmlhttp"),ro(m,E),m.m&&m.o&&pl(E,m.m,m.o),m.L&&(m.g.I=m.L);var j=m.g;m=m.ia,j.L=1,j.v=Pr(kt(E)),j.m=null,j.P=!0,jc(j,m)}t.Za=function(){this.C!=null&&(this.C=null,yl(this),vl(this),gn(19))};function bl(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function Xc(m,E){var j=null;if(m.g==E){bl(m),_l(m),m.g=null;var V=2}else if(Ve(m.h,E))j=E.D,no(m.h,E),V=1;else return;if(m.G!=0){if(E.o)if(V==1){j=E.m?E.m.length:0,E=Date.now()-E.F;var Q=m.B;V=al(),ln(V,new Zf(V,j)),Ha(m)}else Qr(m);else if(Q=E.s,Q==3||Q==0&&0<E.X||!(V==1&&i_(m,E)||V==2&&vl(m)))switch(j&&0<j.length&&(E=m.h,E.i=E.i.concat(j)),Q){case 1:Xi(m,5);break;case 4:Xi(m,10);break;case 3:Xi(m,6);break;default:Xi(m,2)}}}function Qc(m,E){let j=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(j*=2),j*E}function Xi(m,E){if(m.j.info("Error code "+E),E==2){var j=y(m.fb,m),V=m.Xa;const Q=!V;V=new wr(V||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||dl(V,"https"),Pr(V),Q?st(V.toString(),j):rp(V.toString(),j)}else gn(2);m.G=0,m.l&&m.l.sa(E),lp(m),op(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),gn(2)):(this.j.info("Failed to ping google.com"),gn(1))};function lp(m){if(m.G=0,m.ka=[],m.l){const E=Ki(m.h);(E.length!=0||m.i.length!=0)&&(x(m.ka,E),x(m.ka,m.i),m.h.i.length=0,S(m.i),m.i.length=0),m.l.ra()}}function wl(m,E,j){var V=j instanceof wr?kt(j):new wr(j);if(V.g!="")E&&(V.g=E+"."+V.g),qi(V,V.s);else{var Q=l.location;V=Q.protocol,E=E?E+"."+Q.hostname:Q.hostname,Q=+Q.port;var ne=new wr(null);V&&dl(ne,V),E&&(ne.g=E),Q&&qi(ne,Q),j&&(ne.l=j),V=ne}return j=m.D,E=m.ya,j&&E&&Ce(V,j,E),Ce(V,"VER",m.la),ro(m,V),V}function up(m,E,j){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new St(new Tr({eb:j})):new St(m.pa),E.Ha(m.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jc(){}t=Jc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function io(){}io.prototype.g=function(m,E){return new un(m,E)};function un(m,E){Ut.call(this),this.g=new sp(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!w(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!w(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new Ar(this)}b(un,Ut),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){gl(this.g)},un.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var j={};j.__data__=m,m=j}else this.u&&(j={},j.__data__=rl(m),m=j);E.i.push(new to(E.Ya++,m)),E.G==3&&Ha(E)},un.prototype.N=function(){this.g.l=null,delete this.j,gl(this.g),delete this.g,un.aa.N.call(this)};function bi(m){il.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const j in E){m=j;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}b(bi,il);function cp(){Ic.call(this),this.status=1}b(cp,Ic);function Ar(m){this.g=m}b(Ar,Jc),Ar.prototype.ua=function(){ln(this.g,"a")},Ar.prototype.ta=function(m){ln(this.g,new bi(m))},Ar.prototype.sa=function(m){ln(this.g,new cp)},Ar.prototype.ra=function(){ln(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,jk=function(){return new io},Ok=function(){return al()},Ck=Hi,Nx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qs.NO_ERROR=0,Qs.TIMEOUT=8,Qs.HTTP_ERROR=6,vm=Qs,ol.COMPLETE="complete",Ik=ol,Nc.EventType=$a,$a.OPEN="a",$a.CLOSE="b",$a.ERROR="c",$a.MESSAGE="d",Ut.prototype.listen=Ut.prototype.K,Id=Nc,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,Nk=St}).apply(typeof Fp<"u"?Fp:typeof self<"u"?self:typeof window<"u"?window:{});const TT="@firebase/firestore",AT="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new S1("@firebase/firestore");function jl(){return $o.logLevel}function me(t,...e){if($o.logLevel<=Ue.DEBUG){const n=e.map(A1);$o.debug(`Firestore (${lc}): ${t}`,...n)}}function ba(t,...e){if($o.logLevel<=Ue.ERROR){const n=e.map(A1);$o.error(`Firestore (${lc}): ${t}`,...n)}}function Ms(t,...e){if($o.logLevel<=Ue.WARN){const n=e.map(A1);$o.warn(`Firestore (${lc}): ${t}`,...n)}}function A1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,kk(t,r,n)}function kk(t,e,n){let r=`FIRESTORE (${lc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ba(r),new Error(r)}function nt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||kk(e,i,r)}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Ca{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nn.UNAUTHENTICATED))}shutdown(){}}class $5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class F5{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let a=new To;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new To,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=a;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new To)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new Dk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new Nn(e)}}class B5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new B5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const r=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,me("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new MT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new MT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=z5(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function Ix(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Re(r,i);{const a=Rk(),s=H5(a.encode(NT(t,n)),a.encode(NT(e,n)));return s!==0?s:Re(r,i)}}n+=r>65535?2:1}return Re(t.length,e.length)}function NT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function H5(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Re(t[n],e[n]);return Re(t.length,e.length)}function Tu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="__name__";class Ti{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ti.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Re(e.length,n.length)}static compareSegments(e,n){const r=Ti.isNumericId(e),i=Ti.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ti.extractNumericId(e).compare(Ti.extractNumericId(n)):Ix(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ws.fromString(e.substring(4,e.length-2))}}class xt extends Ti{construct(e,n,r){return new xt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new xt(n)}static emptyPath(){return new xt([])}}const W5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends Ti{construct(e,n,r){return new xn(e,n,r)}static isValidIdentifier(e){return W5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IT}static keyField(){return new xn([IT])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new be(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new be(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new be(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(a(),i++)}if(a(),s)throw new be(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(n)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(xt.fromString(e))}static fromName(e){return new Pe(xt.fromString(e).popFirst(5))}static empty(){return new Pe(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new xt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(t,e,n){if(!n)throw new be(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function G5(t,e,n,r){if(e===!0&&r===!0)throw new be(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CT(t){if(!Pe.isDocumentKey(t))throw new be(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function OT(t){if(Pe.isDocumentKey(t))throw new be(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $k(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function N1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function ha(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=N1(t);throw new be(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Pf(t,e){if(!$k(t))throw new be(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new be(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=-62135596800,kT=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*kT);return new bt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jT)throw new be(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kT}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pf(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:qt("string",bt._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new bt(0,0))}static max(){return new Oe(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=-1;function K5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(r===1e9?new bt(n+1,0):new bt(n,r));return new Ns(i,Pe.empty(),e)}function q5(t){return new Ns(t.readTime,t.key,Eh)}class Ns{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ns(Oe.min(),Pe.empty(),Eh)}static max(){return new Ns(Oe.max(),Pe.empty(),Eh)}}function Z5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==Y5)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,r)=>{n(e)})}static reject(e){return new ae((n,r)=>{r(e)})}static waitFor(e){return new ae((n,r)=>{let i=0,a=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++a,s&&a===i&&n()},u=>r(u))}),s=!0,a===i&&n()})}static or(e){let n=ae.resolve(!1);for(const r of e)n=n.next(i=>i?ae.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new ae((r,i)=>{const a=e.length,s=new Array(a);let l=0;for(let u=0;u<a;u++){const c=u;n(e[c]).next(p=>{s[c]=p,++l,l===a&&r(s)},p=>i(p))}})}static doWhile(e,n){return new ae((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function Q5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Uy.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=-1;function zy(t){return t==null}function ng(t){return t===0&&1/t==-1/0}function J5(t){return typeof t=="number"&&Number.isInteger(t)&&!ng(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="";function eU(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=DT(e)),e=tU(t.get(n),e);return DT(e)}function tU(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case Fk:n+="";break;default:n+=a}}return n}function DT(t){return t+Fk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $s(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Bk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bp(this.root,e,this.comparator,!0)}}class Bp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??_n.RED,this.left=i??_n.EMPTY,this.right=a??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new _n(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LT(this.data.getIterator())}getIteratorFrom(e){return new LT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new sn(this.comparator);return n.data=e,n}}class LT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new fr([])}unionWith(e){let n=new sn(xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Vk("Invalid base64 string: "+a):a}}(e);return new Sn(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const nU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(t){if(nt(!!t,39018),typeof t=="string"){let e=0;const n=nU.exec(t);if(nt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cs(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="server_timestamp",zk="__type__",Hk="__previous_value__",Wk="__local_write_time__";function C1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[zk])===null||n===void 0?void 0:n.stringValue)===Uk}function Hy(t){const e=t.mapValue.fields[Hk];return C1(e)?Hy(e):e}function Th(t){const e=Is(t.mapValue.fields[Wk].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,n,r,i,a,s,l,u,c,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=p}}const rg="(default)";class Ah{constructor(e,n){this.projectId=e,this.database=n||rg}static empty(){return new Ah("","")}get isDefaultDatabase(){return this.database===rg}isEqual(e){return e instanceof Ah&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="__type__",iU="__max__",Vp={mapValue:{}},Kk="__vector__",ig="value";function Os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?C1(t)?4:sU(t)?9007199254740991:aU(t)?10:11:Ne(28295,{value:t})}function Bi(t,e){if(t===e)return!0;const n=Os(t);if(n!==Os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Th(t).isEqual(Th(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Is(i.timestampValue),l=Is(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Cs(i.bytesValue).isEqual(Cs(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return $t(i.geoPointValue.latitude)===$t(a.geoPointValue.latitude)&&$t(i.geoPointValue.longitude)===$t(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return $t(i.integerValue)===$t(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=$t(i.doubleValue),l=$t(a.doubleValue);return s===l?ng(s)===ng(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return Tu(t.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},l=a.mapValue.fields||{};if(RT(s)!==RT(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!Bi(s[u],l[u])))return!1;return!0}(t,e);default:return Ne(52216,{left:t})}}function Mh(t,e){return(t.values||[]).find(n=>Bi(n,e))!==void 0}function Au(t,e){if(t===e)return 0;const n=Os(t),r=Os(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(a,s){const l=$t(a.integerValue||a.doubleValue),u=$t(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return $T(t.timestampValue,e.timestampValue);case 4:return $T(Th(t),Th(e));case 5:return Ix(t.stringValue,e.stringValue);case 6:return function(a,s){const l=Cs(a),u=Cs(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const l=a.split("/"),u=s.split("/");for(let c=0;c<l.length&&c<u.length;c++){const p=Re(l[c],u[c]);if(p!==0)return p}return Re(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const l=Re($t(a.latitude),$t(s.latitude));return l!==0?l:Re($t(a.longitude),$t(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return FT(t.arrayValue,e.arrayValue);case 10:return function(a,s){var l,u,c,p;const f=a.fields||{},y=s.fields||{},v=(l=f[ig])===null||l===void 0?void 0:l.arrayValue,b=(u=y[ig])===null||u===void 0?void 0:u.arrayValue,S=Re(((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0,((p=b==null?void 0:b.values)===null||p===void 0?void 0:p.length)||0);return S!==0?S:FT(v,b)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===Vp.mapValue&&s===Vp.mapValue)return 0;if(a===Vp.mapValue)return 1;if(s===Vp.mapValue)return-1;const l=a.fields||{},u=Object.keys(l),c=s.fields||{},p=Object.keys(c);u.sort(),p.sort();for(let f=0;f<u.length&&f<p.length;++f){const y=Ix(u[f],p[f]);if(y!==0)return y;const v=Au(l[u[f]],c[p[f]]);if(v!==0)return v}return Re(u.length,p.length)}(t.mapValue,e.mapValue);default:throw Ne(23264,{le:n})}}function $T(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=Is(t),r=Is(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function FT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Au(n[i],r[i]);if(a)return a}return Re(n.length,r.length)}function Mu(t){return Cx(t)}function Cx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Is(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Cs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Cx(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${Cx(n.fields[s])}`;return i+"}"}(t.mapValue):Ne(61005,{value:t})}function _m(t){switch(Os(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hy(t);return e?16+_m(e):16;case 5:return 2*t.stringValue.length;case 6:return Cs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+_m(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return $s(r.fields,(a,s)=>{i+=a.length+_m(s)}),i}(t.mapValue);default:throw Ne(13486,{value:t})}}function Ox(t){return!!t&&"integerValue"in t}function O1(t){return!!t&&"arrayValue"in t}function BT(t){return!!t&&"nullValue"in t}function VT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xm(t){return!!t&&"mapValue"in t}function aU(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Gk])===null||n===void 0?void 0:n.stringValue)===Kk}function Kd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $s(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Kd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===iU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kd(n)}setAll(e){let n=xn.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=Kd(s):i.push(l.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());xm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){$s(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Zn(Kd(this.value))}}function qk(t){const e=[];return $s(t.fields,(n,r)=>{const i=new xn([n]);if(xm(r)){const a=qk(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,r,i,a,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Cn(e,0,Oe.min(),Oe.min(),Oe.min(),Zn.empty(),0)}static newFoundDocument(e,n,r,i){return new Cn(e,1,n,Oe.min(),r,i,0)}static newNoDocument(e,n){return new Cn(e,2,n,Oe.min(),Oe.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,Oe.min(),Oe.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n){this.position=e,this.inclusive=n}}function UT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=Pe.comparator(Pe.fromName(s.referenceValue),n.key):r=Au(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function zT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n="asc"){this.field=e,this.dir=n}}function oU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{}class nn extends Zk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uU(e,n,r):n==="array-contains"?new hU(e,r):n==="in"?new fU(e,r):n==="not-in"?new pU(e,r):n==="array-contains-any"?new mU(e,r):new nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cU(e,r):new dU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Au(n,this.value)):n!==null&&Os(this.value)===Os(n)&&this.matchesComparison(Au(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends Zk{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Vi(e,n)}matches(e){return Yk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Yk(t){return t.op==="and"}function Xk(t){return lU(t)&&Yk(t)}function lU(t){for(const e of t.filters)if(e instanceof Vi)return!1;return!0}function jx(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+Mu(t.value);if(Xk(t))return t.filters.map(e=>jx(e)).join(",");{const e=t.filters.map(n=>jx(n)).join(",");return`${t.op}(${e})`}}function Qk(t,e){return t instanceof nn?function(r,i){return i instanceof nn&&r.op===i.op&&r.field.isEqual(i.field)&&Bi(r.value,i.value)}(t,e):t instanceof Vi?function(r,i){return i instanceof Vi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,l)=>a&&Qk(s,i.filters[l]),!0):!1}(t,e):void Ne(19439)}function Jk(t){return t instanceof nn?function(n){return`${n.field.canonicalString()} ${n.op} ${Mu(n.value)}`}(t):t instanceof Vi?function(n){return n.op.toString()+" {"+n.getFilters().map(Jk).join(" ,")+"}"}(t):"Filter"}class uU extends nn{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class cU extends nn{constructor(e,n){super(e,"in",n),this.keys=eD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dU extends nn{constructor(e,n){super(e,"not-in",n),this.keys=eD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class hU extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return O1(n)&&Mh(n.arrayValue,this.value)}}class fU extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mh(this.value.arrayValue,n)}}class pU extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mh(this.value.arrayValue,n)}}class mU extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!O1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Mh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n=null,r=[],i=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=l,this.Pe=null}}function HT(t,e=null,n=[],r=[],i=null,a=null,s=null){return new gU(t,e,n,r,i,a,s)}function j1(t){const e=je(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>jx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),zy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mu(r)).join(",")),e.Pe=n}return e.Pe}function k1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Qk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zT(t.startAt,e.startAt)&&zT(t.endAt,e.endAt)}function kx(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n=null,r=[],i=[],a=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function yU(t,e,n,r,i,a,s,l){return new Wy(t,e,n,r,i,a,s,l)}function D1(t){return new Wy(t)}function WT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vU(t){return t.collectionGroup!==null}function qd(t){const e=je(t);if(e.Te===null){e.Te=[];const n=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new sn(xn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Te.push(new sg(a,r))}),n.has(xn.keyField().canonicalString())||e.Te.push(new sg(xn.keyField(),r))}return e.Te}function Oi(t){const e=je(t);return e.Ie||(e.Ie=_U(e,qd(t))),e.Ie}function _U(t,e){if(t.limitType==="F")return HT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new sg(i.field,a)});const n=t.endAt?new ag(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ag(t.startAt.position,t.startAt.inclusive):null;return HT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Dx(t,e,n){return new Wy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gy(t,e){return k1(Oi(t),Oi(e))&&t.limitType===e.limitType}function tD(t){return`${j1(Oi(t))}|lt:${t.limitType}`}function kl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Jk(i)).join(", ")}]`),zy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Mu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Mu(i)).join(",")),`Target(${r})`}(Oi(t))}; limitType=${t.limitType})`}function Ky(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Pe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of qd(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,u){const c=UT(s,l,u);return s.inclusive?c<=0:c<0}(r.startAt,qd(r),i)||r.endAt&&!function(s,l,u){const c=UT(s,l,u);return s.inclusive?c>=0:c>0}(r.endAt,qd(r),i))}(t,e)}function xU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nD(t){return(e,n)=>{let r=!1;for(const i of qd(t)){const a=bU(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function bU(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(a,s,l){const u=s.data.field(a),c=l.data.field(a);return u!==null&&c!==null?Au(u,c):Ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$s(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Bk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=new jt(Pe.comparator);function wa(){return wU}const rD=new jt(Pe.comparator);function Cd(...t){let e=rD;for(const n of t)e=e.insert(n.key,n);return e}function iD(t){let e=rD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _o(){return Zd()}function aD(){return Zd()}function Zd(){return new Zo(t=>t.toString(),(t,e)=>t.isEqual(e))}const PU=new jt(Pe.comparator),SU=new sn(Pe.comparator);function He(...t){let e=SU;for(const n of t)e=e.add(n);return e}const EU=new sn(Re);function TU(){return EU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ng(e)?"-0":e}}function sD(t){return{integerValue:""+t}}function AU(t,e){return J5(e)?sD(e):R1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(){this._=void 0}}function MU(t,e,n){return t instanceof og?function(i,a){const s={fields:{[zk]:{stringValue:Uk},[Wk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&C1(a)&&(a=Hy(a)),a&&(s.fields[Hk]=a),{mapValue:s}}(n,e):t instanceof Nh?lD(t,e):t instanceof Ih?uD(t,e):function(i,a){const s=oD(i,a),l=GT(s)+GT(i.Ee);return Ox(s)&&Ox(i.Ee)?sD(l):R1(i.serializer,l)}(t,e)}function NU(t,e,n){return t instanceof Nh?lD(t,e):t instanceof Ih?uD(t,e):n}function oD(t,e){return t instanceof lg?function(r){return Ox(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class og extends qy{}class Nh extends qy{constructor(e){super(),this.elements=e}}function lD(t,e){const n=cD(e);for(const r of t.elements)n.some(i=>Bi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ih extends qy{constructor(e){super(),this.elements=e}}function uD(t,e){let n=cD(e);for(const r of t.elements)n=n.filter(i=>!Bi(i,r));return{arrayValue:{values:n}}}class lg extends qy{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function GT(t){return $t(t.integerValue||t.doubleValue)}function cD(t){return O1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function IU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Nh&&i instanceof Nh||r instanceof Ih&&i instanceof Ih?Tu(r.elements,i.elements,Bi):r instanceof lg&&i instanceof lg?Bi(r.Ee,i.Ee):r instanceof og&&i instanceof og}(t.transform,e.transform)}class CU{constructor(e,n){this.version=e,this.transformResults=n}}class pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zy{}function dD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new L1(t.key,pi.none()):new Sf(t.key,t.data,pi.none());{const n=t.data,r=Zn.empty();let i=new sn(xn.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new Fs(t.key,r,new fr(i.toArray()),pi.none())}}function OU(t,e,n){t instanceof Sf?function(i,a,s){const l=i.value.clone(),u=qT(i.fieldTransforms,a,s.transformResults);l.setAll(u),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Fs?function(i,a,s){if(!bm(i.precondition,a))return void a.convertToUnknownDocument(s.version);const l=qT(i.fieldTransforms,a,s.transformResults),u=a.data;u.setAll(hD(i)),u.setAll(l),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Yd(t,e,n,r){return t instanceof Sf?function(a,s,l,u){if(!bm(a.precondition,s))return l;const c=a.value.clone(),p=ZT(a.fieldTransforms,u,s);return c.setAll(p),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fs?function(a,s,l,u){if(!bm(a.precondition,s))return l;const c=ZT(a.fieldTransforms,u,s),p=s.data;return p.setAll(hD(a)),p.setAll(c),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,s,l){return bm(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function jU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=oD(r.transform,i||null);a!=null&&(n===null&&(n=Zn.empty()),n.set(r.field,a))}return n||null}function KT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Tu(r,i,(a,s)=>IU(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sf extends Zy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fs extends Zy{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function hD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qT(t,e,n){const r=new Map;nt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,l=e.data.field(a.field);r.set(a.field,NU(s,l,n[i]))}return r}function ZT(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,MU(a,s,e))}return r}class L1 extends Zy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kU extends Zy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&OU(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=aD();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=n.has(i.key)?null:l;const u=dD(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),He())}isEqual(e){return this.batchId===e.batchId&&Tu(this.mutations,e.mutations,(n,r)=>KT(n,r))&&Tu(this.baseMutations,e.baseMutations,(n,r)=>KT(n,r))}}class $1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){nt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return PU}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new $1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,Ge;function $U(t){switch(t){case le.OK:return Ne(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function fD(t){if(t===void 0)return ba("GRPC error has no .code"),le.UNKNOWN;switch(t){case Wt.OK:return le.OK;case Wt.CANCELLED:return le.CANCELLED;case Wt.UNKNOWN:return le.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return le.INTERNAL;case Wt.UNAVAILABLE:return le.UNAVAILABLE;case Wt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Wt.NOT_FOUND:return le.NOT_FOUND;case Wt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Wt.ABORTED:return le.ABORTED;case Wt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Wt.DATA_LOSS:return le.DATA_LOSS;default:return Ne(39323,{code:t})}}(Ge=Wt||(Wt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=new ws([4294967295,4294967295],0);function YT(t){const e=Rk().encode(t),n=new Mk;return n.update(e),new Uint8Array(n.digest())}function XT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ws([n,r],0),new ws([i,a],0)]}class F1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Od(`Invalid padding: ${n}`);if(r<0)throw new Od(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Od(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Od(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ws.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(ws.fromNumber(r)));return i.compare(FU)===1&&(i=new ws([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=YT(e),[r,i]=XT(n);for(let a=0;a<this.hashCount;a++){const s=this.pe(r,i,a);if(!this.ye(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new F1(a,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.fe===0)return;const n=YT(e),[r,i]=XT(n);for(let a=0;a<this.hashCount;a++){const s=this.pe(r,i,a);this.we(s)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Od extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ef.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yy(Oe.min(),i,new jt(Re),wa(),He())}}class Ef{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ef(r,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class pD{constructor(e,n){this.targetId=e,this.De=n}}class mD{constructor(e,n,r=Sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class QT{constructor(){this.ve=0,this.Ce=JT(),this.Fe=Sn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=He(),n=He(),r=He();return this.Ce.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ne(38017,{changeType:a})}}),new Ef(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=JT()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class BU{constructor(e){this.We=e,this.Ge=new Map,this.ze=wa(),this.je=Up(),this.Je=Up(),this.He=new jt(Re)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const a=i.target;if(kx(a))if(r===0){const s=new Pe(a.path);this.Xe(n,s,Cn.newNoDocument(s,Oe.min()))}else nt(r===1,20013,{expectedCount:r});else{const s=this.ot(n);if(s!==r){const l=this._t(e),u=l?this.ut(l,e,s):1;if(u!==0){this.rt(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,l;try{s=Cs(r).toUint8Array()}catch(u){if(u instanceof Vk)return Ms("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new F1(s,i,a)}catch(u){return Ms(u instanceof Od?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.fe===0?null:l}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.We.lt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.Xe(n,a,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((a,s)=>{const l=this.st(s);if(l){if(a.current&&kx(l.target)){const u=new Pe(l.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Cn.newNoDocument(u,e))}a.Ne&&(n.set(s,a.Le()),a.ke())}});let r=He();this.Je.forEach((a,s)=>{let l=!0;s.forEachWhile(u=>{const c=this.st(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(a))}),this.ze.forEach((a,s)=>s.setReadTime(e));const i=new Yy(e,n,this.He,this.ze,r);return this.ze=wa(),this.je=Up(),this.Je=Up(),this.He=new jt(Re),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new QT,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new sn(Re),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new sn(Re),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new QT),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Up(){return new jt(Pe.comparator)}function JT(){return new jt(Pe.comparator)}const VU={asc:"ASCENDING",desc:"DESCENDING"},UU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zU={and:"AND",or:"OR"};class HU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rx(t,e){return t.useProto3Json||zy(e)?e:{value:e}}function ug(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function WU(t,e){return ug(t,e.toTimestamp())}function ji(t){return nt(!!t,49232),Oe.fromTimestamp(function(n){const r=Is(n);return new bt(r.seconds,r.nanos)}(t))}function B1(t,e){return Lx(t,e).canonicalString()}function Lx(t,e){const n=function(i){return new xt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yD(t){const e=xt.fromString(t);return nt(wD(e),10190,{key:e.toString()}),e}function $x(t,e){return B1(t.databaseId,e.path)}function U_(t,e){const n=yD(e);if(n.get(1)!==t.databaseId.projectId)throw new be(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(_D(n))}function vD(t,e){return B1(t.databaseId,e)}function GU(t){const e=yD(t);return e.length===4?xt.emptyPath():_D(e)}function Fx(t){return new xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _D(t){return nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function eA(t,e,n){return{name:$x(t,e),fields:n.value.mapValue.fields}}function KU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ne(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,p){return c.useProto3Json?(nt(p===void 0||typeof p=="string",58123),Sn.fromBase64String(p||"")):(nt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Sn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(c){const p=c.code===void 0?le.UNKNOWN:fD(c.code);return new be(p,c.message||"")}(s);n=new mD(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=U_(t,r.document.name),a=ji(r.document.updateTime),s=r.document.createTime?ji(r.document.createTime):Oe.min(),l=new Zn({mapValue:{fields:r.document.fields}}),u=Cn.newFoundDocument(i,a,s,l),c=r.targetIds||[],p=r.removedTargetIds||[];n=new wm(c,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=U_(t,r.document),a=r.readTime?ji(r.readTime):Oe.min(),s=Cn.newNoDocument(i,a),l=r.removedTargetIds||[];n=new wm([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=U_(t,r.document),a=r.removedTargetIds||[];n=new wm([],a,i,null)}else{if(!("filter"in e))return Ne(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new LU(i,a),l=r.targetId;n=new pD(l,s)}}return n}function qU(t,e){let n;if(e instanceof Sf)n={update:eA(t,e.key,e.value)};else if(e instanceof L1)n={delete:$x(t,e.key)};else if(e instanceof Fs)n={update:eA(t,e.key,e.data),updateMask:rz(e.fieldMask)};else{if(!(e instanceof kU))return Ne(16599,{Rt:e.type});n={verify:$x(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const l=s.transform;if(l instanceof og)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Nh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ih)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof lg)return{fieldPath:s.field.canonicalString(),increment:l.Ee};throw Ne(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:WU(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ne(27497)}(t,e.precondition)),n}function ZU(t,e){return t&&t.length>0?(nt(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?ji(i.updateTime):ji(a);return s.isEqual(Oe.min())&&(s=ji(a)),new CU(s,i.transformResults||[])}(n,e))):[]}function YU(t,e){return{documents:[vD(t,e.path)]}}function XU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vD(t,i);const a=function(c){if(c.length!==0)return bD(Vi.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(p=>function(y){return{field:Dl(y.field),direction:ez(y.dir)}}(p))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=Rx(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:i}}function QU(t){let e=GU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){nt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];n.where&&(a=function(f){const y=xD(f);return y instanceof Vi&&Xk(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(y=>function(b){return new sg(Rl(b.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(f){let y;return y=typeof f=="object"?f.value:f,zy(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(f){const y=!!f.before,v=f.values||[];return new ag(v,y)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const y=!f.before,v=f.values||[];return new ag(v,y)}(n.endAt)),yU(e,i,s,a,l,"F",u,c)}function JU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rl(n.unaryFilter.field);return nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Rl(n.unaryFilter.field);return nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Rl(n.unaryFilter.field);return nn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Rl(n.unaryFilter.field);return nn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return nn.create(Rl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vi.create(n.compositeFilter.filters.map(r=>xD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}}(n.compositeFilter.op))}(t):Ne(30097,{filter:t})}function ez(t){return VU[t]}function tz(t){return UU[t]}function nz(t){return zU[t]}function Dl(t){return{fieldPath:t.canonicalString()}}function Rl(t){return xn.fromServerFormat(t.fieldPath)}function bD(t){return t instanceof nn?function(n){if(n.op==="=="){if(VT(n.value))return{unaryFilter:{field:Dl(n.field),op:"IS_NAN"}};if(BT(n.value))return{unaryFilter:{field:Dl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VT(n.value))return{unaryFilter:{field:Dl(n.field),op:"IS_NOT_NAN"}};if(BT(n.value))return{unaryFilter:{field:Dl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dl(n.field),op:tz(n.op),value:n.value}}}(t):t instanceof Vi?function(n){const r=n.getFilters().map(i=>bD(i));return r.length===1?r[0]:{compositeFilter:{op:nz(n.op),filters:r}}}(t):Ne(54877,{filter:t})}function rz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,r,i,a=Oe.min(),s=Oe.min(),l=Sn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.gt=e}}function az(t){const e=QU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(){this.Dn=new oz}addToCollectionParentIndex(e,n){return this.Dn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Ns.min())}updateCollectionGroup(e,n,r){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class oz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new sn(xt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new sn(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PD=41943040;class Kn{static withCacheSize(e){return new Kn(e,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(PD,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Nu(0)}static ur(){return new Nu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="LruGarbageCollector",lz=1048576;function rA([t,e],[n,r]){const i=Re(t,n);return i===0?Re(e,r):i}class uz{constructor(e){this.Tr=e,this.buffer=new sn(rA),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();rA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){me(nA,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cc(n)?me(nA,"Ignoring IndexedDB error during garbage collection: ",n):await uc(n)}await this.Rr(3e5)})}}class dz{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Uy.ue);const r=new uz(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(tA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tA):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,a,s,l,u,c;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(a=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),jl()<=Ue.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-p}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${a} targets in `+(u-l)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-p}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function hz(t,e){return new dz(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(){this.changes=new Zo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Yd(r.mutation,i,fr.empty(),bt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,He()).next(()=>r))}getLocalViewOfDocuments(e,n,r=He()){const i=_o();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=Cd();return a.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=_o();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,He()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let a=wa();const s=Zd(),l=function(){return Zd()}();return n.forEach((u,c)=>{const p=r.get(c.key);i.has(c.key)&&(p===void 0||p.mutation instanceof Fs)?a=a.insert(c.key,c):p!==void 0?(s.set(c.key,p.mutation.getFieldMask()),Yd(p.mutation,c,p.mutation.getFieldMask(),bt.now())):s.set(c.key,fr.empty())}),this.recalculateAndSaveOverlays(e,a).next(u=>(u.forEach((c,p)=>s.set(c,p)),n.forEach((c,p)=>{var f;return l.set(c,new pz(p,(f=s.get(c))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Zd();let i=new jt((s,l)=>s-l),a=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let p=r.get(u)||fr.empty();p=l.applyToLocalView(c,p),r.set(u,p);const f=(i.get(l.batchId)||He()).add(u);i=i.insert(l.batchId,f)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,p=u.value,f=aD();p.forEach(y=>{if(!a.has(y)){const v=dD(n.get(y),r.get(y));v!==null&&f.set(y,v),a=a.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ae.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ae.resolve(_o());let l=Eh,u=a;return s.next(c=>ae.forEach(c,(p,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),a.get(p)?ae.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{u=u.insert(p,y)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,u,c,He())).next(p=>({batchId:l,changes:iD(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(r=>{let i=Cd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Cd();return this.indexManager.getCollectionParents(e,a).next(l=>ae.forEach(l,u=>{const c=function(f,y){return new Wy(y,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(p=>{p.forEach((f,y)=>{s=s.insert(f,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((u,c)=>{const p=c.getKey();s.get(p)===null&&(s=s.insert(p,Cn.newInvalidDocument(p)))});let l=Cd();return s.forEach((u,c)=>{const p=a.get(u);p!==void 0&&Yd(p.mutation,c,fr.empty(),bt.now()),Ky(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ji(i.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:az(i.bundledQuery),readTime:ji(i.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(){this.overlays=new jt(Pe.comparator),this.kr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_o();return ae.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.wt(e,n,a)}),ae.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.kr.delete(r)),ae.resolve()}getOverlaysForCollection(e,n,r){const i=_o(),a=n.length+1,s=new Pe(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return ae.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new jt((c,p)=>c-p);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let p=a.get(c.largestBatchId);p===null&&(p=_o(),a=a.insert(c.largestBatchId,p)),p.set(c.getKey(),c)}}const l=_o(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,p)=>l.set(c,p)),!(l.size()>=i)););return ae.resolve(l)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new RU(n,r));let a=this.kr.get(n);a===void 0&&(a=He(),this.kr.set(n,a)),this.kr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.qr=new sn(dn.Qr),this.$r=new sn(dn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new dn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new dn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Pe(new xt([])),r=new dn(n,e),i=new dn(n,e+1),a=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),a.push(s.key)}),a}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Pe(new xt([])),r=new dn(n,e),i=new dn(n,e+1);let a=He();return this.$r.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new dn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Pe.comparator(e.key,n.key)||Re(e.Hr,n.Hr)}static Ur(e,n){return Re(e.Hr,n.Hr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new sn(dn.Qr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new DU(a,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Yr=this.Yr.add(new dn(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ae.resolve(s)}lookupMutationBatch(e,n){return ae.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return ae.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?I1:this.er-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dn(n,0),i=new dn(n,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,i],s=>{const l=this.Zr(s.Hr);a.push(l)}),ae.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sn(Re);return n.forEach(i=>{const a=new dn(i,0),s=new dn(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,s],l=>{r=r.add(l.Hr)})}),ae.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Pe.isDocumentKey(a)||(a=a.child(""));const s=new dn(new Pe(a),0);let l=new sn(Re);return this.Yr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.Hr)),!0)},s),ae.resolve(this.ei(l))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){nt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ae.forEach(n.mutations,i=>{const a=new dn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new dn(n,0),i=this.Yr.firstAfterOrEqual(r);return ae.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e){this.ni=e,this.docs=function(){return new jt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ae.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=wa();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Cn.newInvalidDocument(i))}),ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=wa();const s=n.path,l=new Pe(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:p}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Z5(q5(p),r)<=0||(i.has(p.key)||Ky(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return ae.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ne(9500)}ri(e,n){return ae.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new bz(this)}getSize(e){return ae.resolve(this.size)}}class bz extends fz{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),ae.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e){this.persistence=e,this.ii=new Zo(n=>j1(n),k1),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.si=0,this.oi=new V1,this.targetCount=0,this._i=Nu.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),ae.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Nu(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.hr(n),ae.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ii.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ii.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ae.waitFor(a).next(()=>i)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return ae.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),ae.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),ae.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return ae.resolve(r)}containsKey(e,n){return ae.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n){this.ai={},this.overlays={},this.ui=new Uy(0),this.ci=!1,this.ci=!0,this.li=new vz,this.referenceDelegate=e(this),this.hi=new wz(this),this.indexManager=new sz,this.remoteDocumentCache=function(i){return new xz(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new iz(n),this.Ti=new gz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new _z(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const i=new Pz(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(e,n){return ae.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class Pz extends X5{constructor(e){super(),this.currentSequenceNumber=e}}class U1{constructor(e){this.persistence=e,this.Ai=new V1,this.Ri=null}static Vi(e){return new U1(e)}get mi(){if(this.Ri)return this.Ri;throw Ne(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),ae.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.mi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.mi,r=>{const i=Pe.fromPath(r);return this.fi(e,i).next(a=>{a||n.removeEntry(i,Oe.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return ae.or([()=>ae.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class cg{constructor(e,n){this.persistence=e,this.gi=new Zo(r=>eU(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=hz(this,n)}static Vi(e,n){return new cg(e,n)}Ii(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return ae.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(a=>a?ae.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(l=>{l||(r++,a.removeEntry(s,Oe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ae.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_m(e.data.value)),n}Sr(e,n,r){return ae.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return ae.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=He(),i=He();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new z1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return _6()?8:Q5(kn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ps(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ys(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new Sz;return this.ws(e,n,s).next(l=>{if(a.result=l,this.Rs)return this.Ss(e,n,s,l.size)})}).next(()=>a.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(jl()<=Ue.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",kl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(jl()<=Ue.DEBUG&&me("QueryEngine","Query:",kl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(jl()<=Ue.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",kl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(n))):ae.resolve())}ps(e,n){if(WT(n))return ae.resolve(null);let r=Oi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Dx(n,null,"F"),r=Oi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=He(...a);return this.gs.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.bs(n,l);return this.Ds(n,c,s,u.readTime)?this.ps(e,Dx(n,null,"F")):this.vs(e,c,n,u)}))})))}ys(e,n,r,i){return WT(n)||i.isEqual(Oe.min())?ae.resolve(null):this.gs.getDocuments(e,r).next(a=>{const s=this.bs(n,a);return this.Ds(n,s,r,i)?ae.resolve(null):(jl()<=Ue.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kl(n)),this.vs(e,s,n,K5(i,Eh)).next(l=>l))})}bs(e,n){let r=new sn(nD(e));return n.forEach((i,a)=>{Ky(e,a)&&(r=r.add(a))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ws(e,n,r){return jl()<=Ue.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",kl(n)),this.gs.getDocumentsMatchingQuery(e,n,Ns.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="LocalStore",Tz=3e8;class Az{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new jt(Re),this.Ms=new Zo(a=>j1(a),k1),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mz(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function Mz(t,e,n,r){return new Az(t,e,n,r)}async function ED(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],l=[];let u=He();for(const c of i){s.push(c.batchId);for(const p of c.mutations)u=u.add(p.key)}for(const c of a){l.push(c.batchId);for(const p of c.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Bs:c,removedBatchIds:s,addedBatchIds:l}))})})}function Nz(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Os.newChangeBuffer({trackRemovals:!0});return function(l,u,c,p){const f=c.batch,y=f.keys();let v=ae.resolve();return y.forEach(b=>{v=v.next(()=>p.getEntry(u,b)).next(S=>{const x=c.docVersions.get(b);nt(x!==null,48541),S.version.compareTo(x)<0&&(f.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),p.addEntry(S)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(u,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=He();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function TD(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function Iz(t,e){const n=je(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const l=[];e.targetChanges.forEach((p,f)=>{const y=i.get(f);if(!y)return;l.push(n.hi.removeMatchingKeys(a,p.removedDocuments,f).next(()=>n.hi.addMatchingKeys(a,p.addedDocuments,f)));let v=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(Sn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):p.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(p.resumeToken,r)),i=i.insert(f,v),function(S,x,P){return S.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=Tz?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(y,v,p)&&l.push(n.hi.updateTargetData(a,v))});let u=wa(),c=He();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))}),l.push(Cz(a,s,e.documentUpdates).next(p=>{u=p.Ls,c=p.ks})),!r.isEqual(Oe.min())){const p=n.hi.getLastRemoteSnapshotVersion(a).next(f=>n.hi.setTargetsMetadata(a,a.currentSequenceNumber,r));l.push(p)}return ae.waitFor(l).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,u,c)).next(()=>u)}).then(a=>(n.Fs=i,a))}function Cz(t,e,n){let r=He(),i=He();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=wa();return n.forEach((l,u)=>{const c=a.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Oe.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):me(H1,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function Oz(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=I1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jz(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(a=>a?(i=a,ae.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new os(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function Bx(t,e,n){const r=je(t),i=r.Fs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!cc(s))throw s;me(H1,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function iA(t,e,n){const r=je(t);let i=Oe.min(),a=He();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,p){const f=je(u),y=f.Ms.get(p);return y!==void 0?ae.resolve(f.Fs.get(y)):f.hi.getTargetData(c,p)}(r,s,Oi(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,l.targetId).next(u=>{a=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:Oe.min(),n?a:He())).next(l=>(kz(r,xU(e),l),{documents:l,qs:a})))}function kz(t,e,n){let r=t.xs.get(e)||Oe.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.xs.set(e,r)}class aA{constructor(){this.activeTargetIds=TU()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dz{constructor(){this.Fo=new aA,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new aA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="ConnectivityMonitor";class oA{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){me(sA,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){me(sA,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zp=null;function Vx(){return zp===null?zp=function(){return 268435456+Math.round(2147483648*Math.random())}():zp++,"0x"+zp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="RestConnection",Lz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $z{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===rg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const s=Vx(),l=this.Go(e,n.toUriEncodedString());me(z_,`Sending RPC '${e}' ${s}:`,l,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,a);const{host:c}=new URL(l),p=sc(c);return this.jo(e,l,u,r,p).then(f=>(me(z_,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Ms(z_,`RPC '${e}' ${s} failed with error: `,f,"url: ",l,"request:",r),f})}Jo(e,n,r,i,a,s){return this.Wo(e,n,r,i,a)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Go(e,n){const r=Lz[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class Bz extends $z{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,a){const s=Vx();return new Promise((l,u)=>{const c=new Nk;c.setWithCredentials(!0),c.listenOnce(Ik.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case vm.NO_ERROR:const f=c.getResponseJson();me(An,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),l(f);break;case vm.TIMEOUT:me(An,`RPC '${e}' ${s} timed out`),u(new be(le.DEADLINE_EXCEEDED,"Request time out"));break;case vm.HTTP_ERROR:const y=c.getStatus();if(me(An,`RPC '${e}' ${s} failed with status:`,y,"response text:",c.getResponseText()),y>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v==null?void 0:v.error;if(b&&b.status&&b.message){const S=function(P){const w=P.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(w)>=0?w:le.UNKNOWN}(b.status);u(new be(S,b.message))}else u(new be(le.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new be(le.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{c_:e,streamId:s,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{me(An,`RPC '${e}' ${s} completed.`)}});const p=JSON.stringify(i);me(An,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",p,r,15)})}P_(e,n,r){const i=Vx(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=jk(),l=Ok(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=a.join("");me(An,`Creating RPC '${e}' stream ${i}: ${p}`,u);const f=s.createWebChannel(p,u);this.T_(f);let y=!1,v=!1;const b=new Fz({Ho:x=>{v?me(An,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(y||(me(An,`Opening RPC '${e}' stream ${i} transport.`),f.open(),y=!0),me(An,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Yo:()=>f.close()}),S=(x,P,w)=>{x.listen(P,T=>{try{w(T)}catch(I){setTimeout(()=>{throw I},0)}})};return S(f,Id.EventType.OPEN,()=>{v||(me(An,`RPC '${e}' stream ${i} transport opened.`),b.s_())}),S(f,Id.EventType.CLOSE,()=>{v||(v=!0,me(An,`RPC '${e}' stream ${i} transport closed`),b.__(),this.I_(f))}),S(f,Id.EventType.ERROR,x=>{v||(v=!0,Ms(An,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),b.__(new be(le.UNAVAILABLE,"The operation could not be completed")))}),S(f,Id.EventType.MESSAGE,x=>{var P;if(!v){const w=x.data[0];nt(!!w,16349);const T=w,I=(T==null?void 0:T.error)||((P=T[0])===null||P===void 0?void 0:P.error);if(I){me(An,`RPC '${e}' stream ${i} received error:`,I);const N=I.status;let M=function(k){const $=Wt[k];if($!==void 0)return fD($)}(N),A=I.message;M===void 0&&(M=le.INTERNAL,A="Unknown error status: "+N+" with message "+I.message),v=!0,b.__(new be(M,A)),f.close()}else me(An,`RPC '${e}' stream ${i} received:`,w),b.a_(w)}}),S(l,Ck.STAT_EVENT,x=>{x.stat===Nx.PROXY?me(An,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Nx.NOPROXY&&me(An,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.o_()},0),b}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function H_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t){return new HU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="PersistentStream";class MD{constructor(e,n,r,i,a,s,l,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new AD(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(ba(n.toString()),ba("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new be(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return me(lA,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(me(lA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vz extends MD{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=KU(this.serializer,e),r=function(a){if(!("targetChange"in a))return Oe.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Oe.min():s.readTime?ji(s.readTime):Oe.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Fx(this.serializer),n.addTarget=function(a,s){let l;const u=s.target;if(l=kx(u)?{documents:YU(a,u)}:{query:XU(a,u).Vt},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=gD(a,s.resumeToken);const c=Rx(a,s.expectedCount);c!==null&&(l.expectedCount=c)}else if(s.snapshotVersion.compareTo(Oe.min())>0){l.readTime=ug(a,s.snapshotVersion.toTimestamp());const c=Rx(a,s.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=JU(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Fx(this.serializer),n.removeTarget=e,this.k_(n)}}class Uz extends MD{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=ZU(e.writeResults,e.commitTime),r=ji(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Fx(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qU(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{}class Hz extends zz{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new be(le.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Wo(e,Lx(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new be(le.UNKNOWN,a.toString())})}Jo(e,n,r,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Jo(e,Lx(n,r),i,s,l,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(le.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Wz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ba(n),this._a=!1):me("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="RemoteStore";class Gz{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{Yo(this)&&(me(Fo,"Restarting streams for network reachability change."),await async function(u){const c=je(u);c.Ia.add(4),await Tf(c),c.Aa.set("Unknown"),c.Ia.delete(4),await Qy(c)}(this))})}),this.Aa=new Wz(r,i)}}async function Qy(t){if(Yo(t))for(const e of t.da)await e(!0)}async function Tf(t){for(const e of t.da)await e(!1)}function ND(t,e){const n=je(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),q1(n)?K1(n):dc(n).x_()&&G1(n,e))}function W1(t,e){const n=je(t),r=dc(n);n.Ta.delete(e),r.x_()&&ID(n,e),n.Ta.size===0&&(r.x_()?r.B_():Yo(n)&&n.Aa.set("Unknown"))}function G1(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}dc(t).H_(e)}function ID(t,e){t.Ra.$e(e),dc(t).Y_(e)}function K1(t){t.Ra=new BU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),dc(t).start(),t.Aa.aa()}function q1(t){return Yo(t)&&!dc(t).M_()&&t.Ta.size>0}function Yo(t){return je(t).Ia.size===0}function CD(t){t.Ra=void 0}async function Kz(t){t.Aa.set("Online")}async function qz(t){t.Ta.forEach((e,n)=>{G1(t,e)})}async function Zz(t,e){CD(t),q1(t)?(t.Aa.la(e),K1(t)):t.Aa.set("Unknown")}async function Yz(t,e,n){if(t.Aa.set("Online"),e instanceof mD&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const l of a.targetIds)i.Ta.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ta.delete(l),i.Ra.removeTarget(l))}(t,e)}catch(r){me(Fo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dg(t,r)}else if(e instanceof wm?t.Ra.Ye(e):e instanceof pD?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Oe.min()))try{const r=await TD(t.localStore);n.compareTo(r)>=0&&await function(a,s){const l=a.Ra.Pt(s);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const p=a.Ta.get(c);p&&a.Ta.set(c,p.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,c)=>{const p=a.Ta.get(u);if(!p)return;a.Ta.set(u,p.withResumeToken(Sn.EMPTY_BYTE_STRING,p.snapshotVersion)),ID(a,u);const f=new os(p.target,u,c,p.sequenceNumber);G1(a,f)}),a.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){me(Fo,"Failed to raise snapshot:",r),await dg(t,r)}}async function dg(t,e,n){if(!cc(e))throw e;t.Ia.add(1),await Tf(t),t.Aa.set("Offline"),n||(n=()=>TD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me(Fo,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Qy(t)})}function OD(t,e){return e().catch(n=>dg(t,n,e))}async function Jy(t){const e=je(t),n=js(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:I1;for(;Xz(e);)try{const i=await Oz(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,Qz(e,i)}catch(i){await dg(e,i)}jD(e)&&kD(e)}function Xz(t){return Yo(t)&&t.Pa.length<10}function Qz(t,e){t.Pa.push(e);const n=js(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function jD(t){return Yo(t)&&!js(t).M_()&&t.Pa.length>0}function kD(t){js(t).start()}async function Jz(t){js(t).na()}async function e9(t){const e=js(t);for(const n of t.Pa)e.X_(n.mutations)}async function t9(t,e,n){const r=t.Pa.shift(),i=$1.from(r,e,n);await OD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jy(t)}async function n9(t,e){e&&js(t).Z_&&await async function(r,i){if(function(s){return $U(s)&&s!==le.ABORTED}(i.code)){const a=r.Pa.shift();js(r).N_(),await OD(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Jy(r)}}(t,e),jD(t)&&kD(t)}async function uA(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),me(Fo,"RemoteStore received new credentials");const r=Yo(n);n.Ia.add(3),await Tf(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Qy(n)}async function r9(t,e){const n=je(t);e?(n.Ia.delete(2),await Qy(n)):e||(n.Ia.add(2),await Tf(n),n.Aa.set("Unknown"))}function dc(t){return t.Va||(t.Va=function(n,r,i){const a=je(n);return a.ia(),new Vz(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:Kz.bind(null,t),e_:qz.bind(null,t),n_:Zz.bind(null,t),J_:Yz.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),q1(t)?K1(t):t.Aa.set("Unknown")):(await t.Va.stop(),CD(t))})),t.Va}function js(t){return t.ma||(t.ma=function(n,r,i){const a=je(n);return a.ia(),new Uz(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Jz.bind(null,t),n_:n9.bind(null,t),ea:e9.bind(null,t),ta:t9.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Jy(t)):(await t.ma.stop(),t.Pa.length>0&&(me(Fo,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new To,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,l=new Z1(e,n,s,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Y1(t,e){if(ba("AsyncQueue",`${e}: ${t}`),cc(t))return new be(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{static emptySet(e){return new lu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=Cd(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new lu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(){this.fa=new jt(Pe.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ne(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Iu{constructor(e,n,r,i,a,s,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new Iu(e,n,lu.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class a9{constructor(){this.queries=dA(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=je(n),a=i.queries;i.queries=dA(),a.forEach((s,l)=>{for(const u of l.wa)u.onError(r)})})(this,new be(le.ABORTED,"Firestore shutting down"))}}function dA(){return new Zo(t=>tD(t),Gy)}async function s9(t,e){const n=je(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.ba()&&(r=2):(a=new i9,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await n.onListen(i,!0);break;case 1:a.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=Y1(s,`Initialization of query '${kl(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.wa.push(e),e.va(n.onlineState),a.ya&&e.Ca(a.ya)&&X1(n)}async function o9(t,e){const n=je(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.wa.indexOf(e);s>=0&&(a.wa.splice(s,1),a.wa.length===0?i=e.ba()?0:1:!a.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function l9(t,e){const n=je(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const l of s.wa)l.Ca(i)&&(r=!0);s.ya=i}}r&&X1(n)}function u9(t,e,n){const r=je(t),i=r.queries.get(e);if(i)for(const a of i.wa)a.onError(n);r.queries.delete(e)}function X1(t){t.Da.forEach(e=>{e.next()})}var Ux,hA;(hA=Ux||(Ux={})).Fa="default",hA.Cache="cache";class c9{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Iu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Ux.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.key=e}}class RD{constructor(e){this.key=e}}class d9{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=He(),this.mutatedKeys=He(),this.Xa=nD(e),this.eu=new lu(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new cA,i=n?n.eu:this.eu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,f)=>{const y=i.get(p),v=Ky(this.query,f)?f:null,b=!!y&&this.mutatedKeys.has(y.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let x=!1;y&&v?y.data.isEqual(v.data)?b!==S&&(r.track({type:3,doc:v}),x=!0):this.iu(y,v)||(r.track({type:2,doc:v}),x=!0,(u&&this.Xa(v,u)>0||c&&this.Xa(v,c)<0)&&(l=!0)):!y&&v?(r.track({type:0,doc:v}),x=!0):y&&!v&&(r.track({type:1,doc:y}),x=!0,(u||c)&&(l=!0)),x&&(v?(s=s.add(v),a=S?a.add(p):a.delete(p)):(s=s.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{eu:s,ru:r,Ds:l,mutatedKeys:a}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const s=e.ru.pa();s.sort((p,f)=>function(v,b){const S=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{At:x})}};return S(v)-S(b)}(p.type,f.type)||this.Xa(p.doc,f.doc)),this.su(r),i=i!=null&&i;const l=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,c=u!==this.Ya;return this.Ya=u,s.length!==0||c?{snapshot:new Iu(this.query,e.eu,a,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new cA,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=He(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new RD(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new DD(r))}),n}uu(e){this.Ha=e.qs,this.Za=He();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Iu.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Q1="SyncEngine";class h9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class f9{constructor(e){this.key=e,this.lu=!1}}class p9{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Zo(l=>tD(l),Gy),this.Tu=new Map,this.Iu=new Set,this.du=new jt(Pe.comparator),this.Eu=new Map,this.Au=new V1,this.Ru={},this.Vu=new Map,this.mu=Nu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function m9(t,e,n=!0){const r=UD(t);let i;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await LD(r,e,n,!0),i}async function g9(t,e){const n=UD(t);await LD(n,e,!0,!1)}async function LD(t,e,n,r){const i=await jz(t.localStore,Oi(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await y9(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&ND(t.remoteStore,i),l}async function y9(t,e,n,r,i){t.gu=(f,y,v)=>async function(S,x,P,w){let T=x.view.nu(P);T.Ds&&(T=await iA(S.localStore,x.query,!1).then(({documents:A})=>x.view.nu(A,T)));const I=w&&w.targetChanges.get(x.targetId),N=w&&w.targetMismatches.get(x.targetId)!=null,M=x.view.applyChanges(T,S.isPrimaryClient,I,N);return pA(S,x.targetId,M._u),M.snapshot}(t,f,y,v);const a=await iA(t.localStore,e,!0),s=new d9(e,a.qs),l=s.nu(a.documents),u=Ef.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(l,t.isPrimaryClient,u);pA(t,n,c._u);const p=new h9(e,n,s);return t.Pu.set(e,p),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function v9(t,e,n){const r=je(t),i=r.Pu.get(e),a=r.Tu.get(i.targetId);if(a.length>1)return r.Tu.set(i.targetId,a.filter(s=>!Gy(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Bx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&W1(r.remoteStore,i.targetId),zx(r,i.targetId)}).catch(uc)):(zx(r,i.targetId),await Bx(r.localStore,i.targetId,!0))}async function _9(t,e){const n=je(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),W1(n.remoteStore,r.targetId))}async function x9(t,e,n){const r=A9(t);try{const i=await function(s,l){const u=je(s),c=bt.now(),p=l.reduce((v,b)=>v.add(b.key),He());let f,y;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=wa(),S=He();return u.Os.getEntries(v,p).next(x=>{b=x,b.forEach((P,w)=>{w.isValidDocument()||(S=S.add(P))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,b)).next(x=>{f=x;const P=[];for(const w of l){const T=jU(w,f.get(w.key).overlayedDocument);T!=null&&P.push(new Fs(w.key,T,qk(T.value.mapValue),pi.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,P,l)}).next(x=>{y=x;const P=x.applyToLocalDocumentSet(f,S);return u.documentOverlayCache.saveOverlays(v,x.batchId,P)})}).then(()=>({batchId:y.batchId,changes:iD(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let c=s.Ru[s.currentUser.toKey()];c||(c=new jt(Re)),c=c.insert(l,u),s.Ru[s.currentUser.toKey()]=c}(r,i.batchId,n),await Af(r,i.changes),await Jy(r.remoteStore)}catch(i){const a=Y1(i,"Failed to persist write");n.reject(a)}}async function $D(t,e){const n=je(t);try{const r=await Iz(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Eu.get(a);s&&(nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?nt(s.lu,14607):i.removedDocuments.size>0&&(nt(s.lu,42227),s.lu=!1))}),await Af(n,r,e)}catch(r){await uc(r)}}function fA(t,e,n){const r=je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((a,s)=>{const l=s.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=je(s);u.onlineState=l;let c=!1;u.queries.forEach((p,f)=>{for(const y of f.wa)y.va(l)&&(c=!0)}),c&&X1(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function b9(t,e,n){const r=je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),a=i&&i.key;if(a){let s=new jt(Pe.comparator);s=s.insert(a,Cn.newNoDocument(a,Oe.min()));const l=He().add(a),u=new Yy(Oe.min(),new Map,new jt(Re),s,l);await $D(r,u),r.du=r.du.remove(a),r.Eu.delete(e),J1(r)}else await Bx(r.localStore,e,!1).then(()=>zx(r,e,n)).catch(uc)}async function w9(t,e){const n=je(t),r=e.batch.batchId;try{const i=await Nz(n.localStore,e);BD(n,r,null),FD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Af(n,i)}catch(i){await uc(i)}}async function P9(t,e,n){const r=je(t);try{const i=await function(s,l){const u=je(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let p;return u.mutationQueue.lookupMutationBatch(c,l).next(f=>(nt(f!==null,37113),p=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,p,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,p)).next(()=>u.localDocuments.getDocuments(c,p))})}(r.localStore,e);BD(r,e,n),FD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Af(r,i)}catch(i){await uc(i)}}function FD(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function BD(t,e,n){const r=je(t);let i=r.Ru[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function zx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||VD(t,r)})}function VD(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(W1(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),J1(t))}function pA(t,e,n){for(const r of n)r instanceof DD?(t.Au.addReference(r.key,e),S9(t,r)):r instanceof RD?(me(Q1,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||VD(t,r.key)):Ne(19791,{yu:r})}function S9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(me(Q1,"New document in limbo: "+n),t.Iu.add(r),J1(t))}function J1(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Pe(xt.fromString(e)),r=t.mu.next();t.Eu.set(r,new f9(n)),t.du=t.du.insert(n,r),ND(t.remoteStore,new os(Oi(D1(n.path)),r,"TargetPurposeLimboResolution",Uy.ue))}}async function Af(t,e,n){const r=je(t),i=[],a=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((l,u)=>{s.push(r.gu(u,e,n).then(c=>{var p;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=z1.Es(u.targetId,c);a.push(f)}}))}),await Promise.all(s),r.hu.J_(i),await async function(u,c){const p=je(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ae.forEach(c,y=>ae.forEach(y.Is,v=>p.persistence.referenceDelegate.addReference(f,y.targetId,v)).next(()=>ae.forEach(y.ds,v=>p.persistence.referenceDelegate.removeReference(f,y.targetId,v)))))}catch(f){if(!cc(f))throw f;me(H1,"Failed to update sequence numbers: "+f)}for(const f of c){const y=f.targetId;if(!f.fromCache){const v=p.Fs.get(y),b=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(b);p.Fs=p.Fs.insert(y,S)}}}(r.localStore,a))}async function E9(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){me(Q1,"User change. New user:",e.toKey());const r=await ED(n.localStore,e);n.currentUser=e,function(a,s){a.Vu.forEach(l=>{l.forEach(u=>{u.reject(new be(le.CANCELLED,s))})}),a.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Af(n,r.Bs)}}function T9(t,e){const n=je(t),r=n.Eu.get(e);if(r&&r.lu)return He().add(r.key);{let i=He();const a=n.Tu.get(e);if(!a)return i;for(const s of a){const l=n.Pu.get(s);i=i.unionWith(l.view.tu)}return i}}function UD(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$D.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b9.bind(null,e),e.hu.J_=l9.bind(null,e.eventManager),e.hu.pu=u9.bind(null,e.eventManager),e}function A9(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P9.bind(null,e),e}class hg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xy(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return Mz(this.persistence,new Ez,e.initialUser,this.serializer)}Du(e){return new SD(U1.Vi,this.serializer)}bu(e){return new Dz}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hg.provider={build:()=>new hg};class M9 extends hg{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){nt(this.persistence.referenceDelegate instanceof cg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cz(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Kn.withCacheSize(this.cacheSizeBytes):Kn.DEFAULT;return new SD(r=>cg.Vi(r,n),this.serializer)}}class Hx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=E9.bind(null,this.syncEngine),await r9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new a9}()}createDatastore(e){const n=Xy(e.databaseInfo.databaseId),r=function(a){return new Bz(a)}(e.databaseInfo);return function(a,s,l,u){return new Hz(a,s,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,l){return new Gz(r,i,a,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>fA(this.syncEngine,n,0),function(){return oA.C()?new oA:new Rz}())}createSyncEngine(e,n){return function(i,a,s,l,u,c,p){const f=new p9(i,a,s,l,u,c);return p&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=je(i);me(Fo,"RemoteStore shutting down."),a.Ia.add(5),await Tf(a),a.Ea.shutdown(),a.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hx.provider={build:()=>new Hx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ba("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="FirestoreClient";class I9{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nn.UNAUTHENTICATED,this.clientId=M1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{me(ks,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(me(ks,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new To;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Y1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function W_(t,e){t.asyncQueue.verifyOperationInProgress(),me(ks,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ED(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Ms("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{me("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Ms("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function mA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await C9(t);me(ks,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>uA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>uA(e.remoteStore,i)),t._onlineComponents=e}async function C9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(ks,"Using user provided OfflineComponentProvider");try{await W_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===le.FAILED_PRECONDITION||i.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ms("Error using user provided cache. Falling back to memory cache: "+n),await W_(t,new hg)}}else me(ks,"Using default OfflineComponentProvider"),await W_(t,new M9(void 0));return t._offlineComponents}async function zD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(ks,"Using user provided OnlineComponentProvider"),await mA(t,t._uninitializedComponentsProvider._online)):(me(ks,"Using default OnlineComponentProvider"),await mA(t,new Hx))),t._onlineComponents}function O9(t){return zD(t).then(e=>e.syncEngine)}async function gA(t){const e=await zD(t),n=e.eventManager;return n.onListen=m9.bind(null,e.syncEngine),n.onUnlisten=v9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=g9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_9.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="firestore.googleapis.com",vA=!0;class _A{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WD,this.ssl=vA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:vA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lz)throw new be(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new be(le.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new be(le.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new be(le.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ev{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _A({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _A(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new L5;switch(r.type){case"firstParty":return new V5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=yA.get(n);r&&(me("ComponentProvider","Removing Datastore"),yA.delete(n),r.terminate())}(this),Promise.resolve()}}function j9(t,e,n,r={}){var i;t=ha(t,ev);const a=sc(e),s=t._getSettings(),l=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;a&&(xk(`https://${u}`),bk("Firestore",!0)),s.host!==WD&&s.host!==u&&Ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:u,ssl:a,emulatorOptions:r});if(!Ro(c,l)&&(t._setSettings(c),r.mockUserToken)){let p,f;if(typeof r.mockUserToken=="string")p=r.mockUserToken,f=Nn.MOCK_USER;else{p=c6(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new be(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Nn(y)}t._authCredentials=new $5(new Dk(p,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tv(this.firestore,e,this._query)}}class Zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}toJSON(){return{type:Zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Pf(n,Zt._jsonSchema))return new Zt(e,r||null,new Pe(xt.fromString(n.referencePath)))}}Zt._jsonSchemaVersion="firestore/documentReference/1.0",Zt._jsonSchema={type:qt("string",Zt._jsonSchemaVersion),referencePath:qt("string")};class Ps extends tv{constructor(e,n,r){super(e,n,D1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new Pe(e))}withConverter(e){return new Ps(this.firestore,e,this._path)}}function k9(t,e,...n){if(t=Dn(t),Lk("collection","path",e),t instanceof ev){const r=xt.fromString(e,...n);return OT(r),new Ps(t,null,r)}{if(!(t instanceof Zt||t instanceof Ps))throw new be(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xt.fromString(e,...n));return OT(r),new Ps(t.firestore,null,r)}}function G_(t,e,...n){if(t=Dn(t),arguments.length===1&&(e=M1.newId()),Lk("doc","path",e),t instanceof ev){const r=xt.fromString(e,...n);return CT(r),new Zt(t,null,new Pe(r))}{if(!(t instanceof Zt||t instanceof Ps))throw new be(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xt.fromString(e,...n));return CT(r),new Zt(t.firestore,t instanceof Ps?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="AsyncQueue";class bA{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new AD(this,"async_queue_retry"),this.oc=()=>{const r=H_();r&&me(xA,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=H_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=H_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new To;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!cc(e))throw e;me(xA,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ba("INTERNAL UNHANDLED ERROR: ",wA(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=Z1.createAndSchedule(this,e,n,r,a=>this.lc(a));return this.ec.push(i),i}ac(){this.tc&&Ne(47125,{hc:wA(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function wA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Cu extends ev{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new bA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bA(e),this._firestoreClient=void 0,await e}}}function D9(t,e){const n=typeof t=="object"?t:Ek(),r=typeof t=="string"?t:rg,i=T1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=l6("firestore");a&&j9(i,...a)}return i}function GD(t){if(t._terminated)throw new be(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||R9(t),t._firestoreClient}function R9(t){var e,n,r;const i=t._freezeSettings(),a=function(l,u,c,p){return new rU(l,u,c,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,HD(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new I9(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dr(Sn.fromBase64String(e))}catch(n){throw new be(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dr(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pf(e,Dr._jsonSchema))return Dr.fromBase64String(e.bytes)}}Dr._jsonSchemaVersion="firestore/bytes/1.0",Dr._jsonSchema={type:qt("string",Dr._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(Pf(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:qt("string",ki._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pf(e,Di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Di(e.vectorValues);throw new be(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:qt("string",Di._jsonSchemaVersion),vectorValues:qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=/^__.*__$/;class $9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sf(e,this.data,n,this.fieldTransforms)}}class KD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ec:t})}}class tP{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new tP(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return fg(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(qD(this.Ec)&&L9.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class F9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xy(e)}Dc(e,n,r,i=!1){return new tP({Ec:e,methodName:n,bc:r,path:xn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZD(t){const e=t._freezeSettings(),n=Xy(t._databaseId);return new F9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function B9(t,e,n,r,i,a={}){const s=t.Dc(a.merge||a.mergeFields?2:0,e,n,i);nP("Data must be an object, but it was:",s,r);const l=YD(r,s);let u,c;if(a.merge)u=new fr(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const p=[];for(const f of a.mergeFields){const y=Wx(e,f,n);if(!s.contains(y))throw new be(le.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);QD(p,y)||p.push(y)}u=new fr(p),c=s.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=s.fieldTransforms;return new $9(new Zn(l),u,c)}class rv extends eP{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rv}}function V9(t,e,n,r){const i=t.Dc(1,e,n);nP("Data must be an object, but it was:",i,r);const a=[],s=Zn.empty();$s(r,(u,c)=>{const p=rP(e,u,n);c=Dn(c);const f=i.gc(p);if(c instanceof rv)a.push(p);else{const y=iv(c,f);y!=null&&(a.push(p),s.set(p,y))}});const l=new fr(a);return new KD(s,l,i.fieldTransforms)}function U9(t,e,n,r,i,a){const s=t.Dc(1,e,n),l=[Wx(e,r,n)],u=[i];if(a.length%2!=0)throw new be(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)l.push(Wx(e,a[y])),u.push(a[y+1]);const c=[],p=Zn.empty();for(let y=l.length-1;y>=0;--y)if(!QD(c,l[y])){const v=l[y];let b=u[y];b=Dn(b);const S=s.gc(v);if(b instanceof rv)c.push(v);else{const x=iv(b,S);x!=null&&(c.push(v),p.set(v,x))}}const f=new fr(c);return new KD(p,f,s.fieldTransforms)}function iv(t,e){if(XD(t=Dn(t)))return nP("Unsupported field value:",e,t),YD(t,e);if(t instanceof eP)return function(r,i){if(!qD(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const l of r){let u=iv(l,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=bt.fromDate(r);return{timestampValue:ug(i.serializer,a)}}if(r instanceof bt){const a=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ug(i.serializer,a)}}if(r instanceof ki)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dr)return{bytesValue:gD(i.serializer,r._byteString)};if(r instanceof Zt){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:B1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Di)return function(s,l){return{mapValue:{fields:{[Gk]:{stringValue:Kk},[ig]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw l.wc("VectorValues must only contain numeric values.");return R1(l.serializer,c)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${N1(r)}`)}(t,e)}function YD(t,e){const n={};return Bk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$s(t,(r,i)=>{const a=iv(i,e.Vc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function XD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof ki||t instanceof Dr||t instanceof Zt||t instanceof eP||t instanceof Di)}function nP(t,e,n){if(!XD(n)||!$k(n)){const r=N1(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Wx(t,e,n){if((e=Dn(e))instanceof nv)return e._internalPath;if(typeof e=="string")return rP(t,e);throw fg("Field path arguments must be of type string or ",t,!1,void 0,n)}const z9=new RegExp("[~\\*/\\[\\]]");function rP(t,e,n){if(e.search(z9)>=0)throw fg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nv(...e.split("."))._internalPath}catch{throw fg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fg(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(a||s)&&(u+=" (found",a&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new be(le.INVALID_ARGUMENT,l+t+u)}function QD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new H9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(e2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class H9 extends JD{data(){return super.data()}}function e2(t,e){return typeof e=="string"?rP(t,e):e instanceof nv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class G9{convertValue(e,n="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $s(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[ig].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>$t(s.doubleValue));return new Di(a)}convertGeoPoint(e){return new ki($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Th(e));default:return null}}convertTimestamp(e){const n=Is(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xt.fromString(e);nt(wD(r),9688,{name:e});const i=new Ah(r.get(1),r.get(3)),a=new Pe(r.popFirst(5));return i.isEqual(n)||ba(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class jd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ao extends JD{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(e2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ao._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ao._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ao._jsonSchema={type:qt("string",Ao._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class Pm extends Ao{data(e={}){return super.data(e)}}class uu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new jd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pm(this._firestore,this._userDataWriter,r.key,r,new jd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new Pm(i._firestore,i._userDataWriter,l.doc.key,l.doc,new jd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const u=new Pm(i._firestore,i._userDataWriter,l.doc.key,l.doc,new jd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,p=-1;return l.type!==0&&(c=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),p=s.indexOf(l.doc.key)),{type:q9(l.type),doc:u,oldIndex:c,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=M1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function q9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}uu._jsonSchemaVersion="firestore/querySnapshot/1.0",uu._jsonSchema={type:qt("string",uu._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class t2 extends G9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function Z9(t,e,n){t=ha(t,Zt);const r=ha(t.firestore,Cu),i=K9(t.converter,e);return iP(r,[B9(ZD(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,pi.none())])}function Y9(t,e,n,...r){t=ha(t,Zt);const i=ha(t.firestore,Cu),a=ZD(i);let s;return s=typeof(e=Dn(e))=="string"||e instanceof nv?U9(a,"updateDoc",t._key,e,n,r):V9(a,"updateDoc",t._key,e),iP(i,[s.toMutation(t._key,pi.exists(!0))])}function X9(t){return iP(ha(t.firestore,Cu),[new L1(t._key,pi.none())])}function Q9(t,...e){var n,r,i;t=Dn(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||PA(e[s])||(a=e[s++]);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(PA(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let u,c,p;if(t instanceof Zt)c=ha(t.firestore,Cu),p=D1(t._key.path),u={next:f=>{e[s]&&e[s](J9(c,t,f))},error:e[s+1],complete:e[s+2]};else{const f=ha(t,tv);c=ha(f.firestore,Cu),p=f._query;const y=new t2(c);u={next:v=>{e[s]&&e[s](new uu(c,y,f,v))},error:e[s+1],complete:e[s+2]},W9(t._query)}return function(y,v,b,S){const x=new N9(S),P=new c9(v,x,b);return y.asyncQueue.enqueueAndForget(async()=>s9(await gA(y),P)),()=>{x.Ou(),y.asyncQueue.enqueueAndForget(async()=>o9(await gA(y),P))}}(GD(c),p,l,u)}function iP(t,e){return function(r,i){const a=new To;return r.asyncQueue.enqueueAndForget(async()=>x9(await O9(r),i,a)),a.promise}(GD(t),e)}function J9(t,e,n){const r=n.docs.get(e._key),i=new t2(t);return new Ao(t,i,e._key,r,new jd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){lc=i})(oc),Eu(new Lo("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),l=new Cu(new F5(r.getProvider("auth-internal")),new U5(s,r.getProvider("app-check-internal")),function(c,p){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new be(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ah(c.options.projectId,p)}(s,i),s);return a=Object.assign({useFetchStreams:n},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),bs(TT,AT,e),bs(TT,AT,"esm2017")})();var eH="firebase",tH="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(eH,tH,"app");function aP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function n2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nH=n2,r2=new bf("auth","Firebase",n2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=new S1("@firebase/auth");function rH(t,...e){pg.logLevel<=Ue.WARN&&pg.warn(`Auth (${oc}): ${t}`,...e)}function Sm(t,...e){pg.logLevel<=Ue.ERROR&&pg.error(`Auth (${oc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t,...e){throw sP(t,...e)}function Ri(t,...e){return sP(t,...e)}function i2(t,e,n){const r=Object.assign(Object.assign({},nH()),{[e]:n});return new bf("auth","Firebase",r).create(e,{appName:t.name})}function fa(t){return i2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sP(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return r2.create(t,...e)}function Me(t,e,...n){if(!t)throw sP(e,...n)}function oa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sm(e),new Error(e)}function Pa(t,e){t||oa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function iH(){return SA()==="http:"||SA()==="https:"}function SA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iH()||g6()||"connection"in navigator)?navigator.onLine:!0}function sH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pa(n>e,"Short delay should be less than long delay!"),this.isMobile=f6()||y6()}get(){return aH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(t,e){Pa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uH=new Mf(3e4,6e4);function Oa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ja(t,e,n,r,i={}){return s2(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const l=wf(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},a);return m6()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&sc(t.emulatorConfig.host)&&(c.credentials="include"),a2.fetch()(await o2(t,t.config.apiHost,n,l),c)})}async function s2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},oH),e);try{const i=new dH(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Hp(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hp(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Hp(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Hp(t,"user-disabled",s);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw i2(t,p,c);yi(t,p)}}catch(i){if(i instanceof Ca)throw i;yi(t,"network-request-failed",{message:String(i)})}}async function Nf(t,e,n,r,i={}){const a=await ja(t,e,n,r,i);return"mfaPendingCredential"in a&&yi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function o2(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?oP(t.config,i):`${t.config.apiScheme}://${i}`;return lH.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function cH(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),uH.get())})}}function Hp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ri(t,e,r);return i.customData._tokenResponse=n,i}function EA(t){return t!==void 0&&t.enterprise!==void 0}class hH{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return cH(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fH(t,e){return ja(t,"GET","/v2/recaptchaConfig",Oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pH(t,e){return ja(t,"POST","/v1/accounts:delete",e)}async function mg(t,e){return ja(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mH(t,e=!1){const n=Dn(t),r=await n.getIdToken(e),i=lP(r);Me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Xd(K_(i.auth_time)),issuedAtTime:Xd(K_(i.iat)),expirationTime:Xd(K_(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function K_(t){return Number(t)*1e3}function lP(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sm("JWT malformed, contained fewer than 3 sections"),null;try{const i=gk(n);return i?JSON.parse(i):(Sm("Failed to decode base64 JWT payload"),null)}catch(i){return Sm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function TA(t){const e=lP(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ca&&gH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function gH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xd(this.lastLoginAt),this.creationTime=Xd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gg(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ch(t,mg(n,{idToken:r}));Me(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?l2(a.providerUserInfo):[],l=_H(t.providerData,s),u=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),p=u?c:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Kx(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,f)}async function vH(t){const e=Dn(t);await gg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _H(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function l2(t){return t.map(e=>{var{providerId:n}=e,r=aP(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xH(t,e){const n=await s2(t,{},async()=>{const r=wf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await o2(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return t.emulatorConfig&&sc(t.emulatorConfig.host)&&(u.credentials="include"),a2.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bH(t,e){return ja(t,"POST","/v2/accounts:revokeToken",Oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=TA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await xH(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new cu;return r&&(Me(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Me(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Me(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cu,this.toJSON())}_performRefresh(){return oa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ci{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=aP(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Kx(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Ch(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mH(this,e)}reload(){return vH(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kr(this.auth.app))return Promise.reject(fa(this.auth));const e=await this.getIdToken();return await Ch(this,pH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,s,l,u,c,p;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,v=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,b=(s=n.photoURL)!==null&&s!==void 0?s:void 0,S=(l=n.tenantId)!==null&&l!==void 0?l:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,P=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:T,emailVerified:I,isAnonymous:N,providerData:M,stsTokenManager:A}=n;Me(T&&A,e,"internal-error");const O=cu.fromJSON(this.name,A);Me(typeof T=="string",e,"internal-error"),qa(f,e.name),qa(y,e.name),Me(typeof I=="boolean",e,"internal-error"),Me(typeof N=="boolean",e,"internal-error"),qa(v,e.name),qa(b,e.name),qa(S,e.name),qa(x,e.name),qa(P,e.name),qa(w,e.name);const k=new ci({uid:T,auth:e,email:y,emailVerified:I,displayName:f,isAnonymous:N,photoURL:b,phoneNumber:v,tenantId:S,stsTokenManager:O,createdAt:P,lastLoginAt:w});return M&&Array.isArray(M)&&(k.providerData=M.map($=>Object.assign({},$))),x&&(k._redirectEventId=x),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new cu;i.updateFromServerResponse(n);const a=new ci({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await gg(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Me(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?l2(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new cu;l.updateFromIdToken(r);const u=new ci({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Kx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=new Map;function la(t){Pa(t instanceof Function,"Expected a class definition");let e=AA.get(t);return e?(Pa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,AA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}u2.type="NONE";const MA=u2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t,e,n){return`firebase:${t}:${e}:${n}`}class du{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Em(this.userKey,i.apiKey,a),this.fullPersistenceKey=Em("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mg(this.auth,{idToken:e}).catch(()=>{});return n?ci._fromGetAccountInfoResponse(this.auth,n,e):null}return ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new du(la(MA),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||la(MA);const s=Em(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const p=await c._get(s);if(p){let f;if(typeof p=="string"){const y=await mg(e,{idToken:p}).catch(()=>{});if(!y)break;f=await ci._fromGetAccountInfoResponse(e,y,p)}else f=ci._fromJSON(e,p);c!==a&&(l=f),a=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new du(a,e,r):(a=u[0],l&&await a._set(s,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new du(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m2(e))return"Blackberry";if(g2(e))return"Webos";if(d2(e))return"Safari";if((e.includes("chrome/")||h2(e))&&!e.includes("edge/"))return"Chrome";if(p2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function c2(t=kn()){return/firefox\//i.test(t)}function d2(t=kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h2(t=kn()){return/crios\//i.test(t)}function f2(t=kn()){return/iemobile/i.test(t)}function p2(t=kn()){return/android/i.test(t)}function m2(t=kn()){return/blackberry/i.test(t)}function g2(t=kn()){return/webos/i.test(t)}function uP(t=kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wH(t=kn()){var e;return uP(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PH(){return v6()&&document.documentMode===10}function y2(t=kn()){return uP(t)||p2(t)||g2(t)||m2(t)||/windows phone/i.test(t)||f2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(t,e=[]){let n;switch(t){case"Browser":n=NA(kn());break;case"Worker":n=`${NA(kn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,l)=>{try{const u=e(a);s(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EH(t,e={}){return ja(t,"GET","/v2/passwordPolicy",Oa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TH=6;class AH{constructor(e){var n,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:TH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,s,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(a=u.containsUppercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IA(this),this.idTokenSubscription=new IA(this),this.beforeStateQueue=new SH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=r2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=la(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await du.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mg(this,{idToken:e}),r=await ci._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(kr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&(u!=null&&u.user)&&(i=u.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kr(this.app))return Promise.reject(fa(this));const n=e?Dn(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kr(this.app)?Promise.reject(fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kr(this.app)?Promise.reject(fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(la(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await EH(this),n=new AH(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await bH(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&la(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await du.create(this,[la(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(kr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&rH(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Bs(t){return Dn(t)}class IA{constructor(e){this.auth=e,this.observer=null,this.addObserver=T6(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let av={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NH(t){av=t}function _2(t){return av.loadJS(t)}function IH(){return av.recaptchaEnterpriseScript}function CH(){return av.gapiScript}function OH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class jH{constructor(){this.enterprise=new kH}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class kH{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const DH="recaptcha-enterprise",x2="NO_RECAPTCHA";class RH{constructor(e){this.type=DH,this.auth=Bs(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,l)=>{fH(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new hH(u);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(u=>{l(u)})})}function i(a,s,l){const u=window.grecaptcha;EA(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(c=>{s(c)}).catch(()=>{s(x2)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jH().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(l=>{if(!n&&EA(window.grecaptcha))i(l,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=IH();u.length!==0&&(u+=l),_2(u).then(()=>{i(l,a,s)}).catch(c=>{s(c)})}}).catch(l=>{s(l)})})}}async function CA(t,e,n,r=!1,i=!1){const a=new RH(t);let s;if(i)s=x2;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function yg(t,e,n,r,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await CA(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await CA(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LH(t,e){const n=T1(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Ro(a,e??{}))return i;yi(i,"already-initialized")}return n.initialize({options:e})}function $H(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(la);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function FH(t,e,n){const r=Bs(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=b2(e),{host:s,port:l}=BH(e),u=l===null?"":`:${l}`,c={url:`${a}//${s}${u}/`},p=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(Ro(c,r.config.emulator)&&Ro(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,sc(s)?(xk(`${a}//${s}${u}`),bk("Auth",!0)):VH()}function b2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function BH(t){const e=b2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:OA(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:OA(s)}}}function OA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function VH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oa("not implemented")}_getIdTokenResponse(e){return oa("not implemented")}_linkToIdToken(e,n){return oa("not implemented")}_getReauthenticationResolver(e){return oa("not implemented")}}async function UH(t,e){return ja(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zH(t,e){return Nf(t,"POST","/v1/accounts:signInWithPassword",Oa(t,e))}async function HH(t,e){return ja(t,"POST","/v1/accounts:sendOobCode",Oa(t,e))}async function WH(t,e){return HH(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GH(t,e){return Nf(t,"POST","/v1/accounts:signInWithEmailLink",Oa(t,e))}async function KH(t,e){return Nf(t,"POST","/v1/accounts:signInWithEmailLink",Oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends cP{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Oh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Oh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yg(e,n,"signInWithPassword",zH);case"emailLink":return GH(e,{email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yg(e,r,"signUpPassword",UH);case"emailLink":return KH(e,{idToken:n,email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(t,e){return Nf(t,"POST","/v1/accounts:signInWithIdp",Oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qH="http://localhost";class Bo extends cP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=aP(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Bo(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return hu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hu(e,n)}buildRequest(){const e={requestUri:qH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YH(t){const e=Md(Nd(t)).link,n=e?Md(Nd(e)).deep_link_id:null,r=Md(Nd(t)).deep_link_id;return(r?Md(Nd(r)).link:null)||r||n||e||t}class dP{constructor(e){var n,r,i,a,s,l;const u=Md(Nd(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,f=ZH((i=u.mode)!==null&&i!==void 0?i:null);Me(c&&p&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=p,this.continueUrl=(a=u.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=YH(e);try{return new dP(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this.providerId=hc.PROVIDER_ID}static credential(e,n){return Oh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=dP.parseLink(n);return Me(r,"argument-error"),Oh._fromEmailAndCode(e,r.code,r.tenantId)}}hc.PROVIDER_ID="password";hc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends w2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends If{constructor(){super("facebook.com")}static credential(e){return Bo._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends If{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bo._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ts.credential(n,r)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends If{constructor(){super("github.com")}static credential(e){return Bo._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends If{constructor(){super("twitter.com")}static credential(e,n){return Bo._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return rs.credential(n,r)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XH(t,e){return Nf(t,"POST","/v1/accounts:signUp",Oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ci._fromIdTokenResponse(e,r,i),s=jA(r);return new Vo({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jA(r);return new Vo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg extends Ca{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,vg.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new vg(e,n,r,i)}}function P2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?vg._fromErrorAndOperation(t,a,e,r):a})}async function QH(t,e,n=!1){const r=await Ch(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JH(t,e,n=!1){const{auth:r}=t;if(kr(r.app))return Promise.reject(fa(r));const i="reauthenticate";try{const a=await Ch(t,P2(r,i,e,t),n);Me(a.idToken,r,"internal-error");const s=lP(a.idToken);Me(s,r,"internal-error");const{sub:l}=s;return Me(t.uid===l,r,"user-mismatch"),Vo._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&yi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(t,e,n=!1){if(kr(t.app))return Promise.reject(fa(t));const r="signIn",i=await P2(t,r,e),a=await Vo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function e8(t,e){return S2(Bs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(t){const e=Bs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function t8(t,e,n){const r=Bs(t);await yg(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",WH)}async function n8(t,e,n){if(kr(t.app))return Promise.reject(fa(t));const r=Bs(t),s=await yg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XH).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&E2(t),u}),l=await Vo._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(l.user),l}function r8(t,e,n){return kr(t.app)?Promise.reject(fa(t)):e8(Dn(t),hc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&E2(t),r})}function i8(t,e,n,r){return Dn(t).onIdTokenChanged(e,n,r)}function a8(t,e,n){return Dn(t).beforeAuthStateChanged(e,n)}const _g="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_g,"1"),this.storage.removeItem(_g),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8=1e3,o8=10;class A2 extends T2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=y2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,u)=>{this.notifyListeners(s,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);PH()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,o8):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},s8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}A2.type="LOCAL";const l8=A2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2 extends T2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}M2.type="SESSION";const N2=M2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new sv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async c=>c(n.origin,a)),u=await u8(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((l,u)=>{const c=hP("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const y=f;if(y.data.eventId===c)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(y.data.response);break;default:clearTimeout(p),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function d8(t){Li().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function h8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function p8(){return I2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="firebaseLocalStorageDb",m8=1,xg="firebaseLocalStorage",O2="fbase_key";class Cf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ov(t,e){return t.transaction([xg],e?"readwrite":"readonly").objectStore(xg)}function g8(){const t=indexedDB.deleteDatabase(C2);return new Cf(t).toPromise()}function qx(){const t=indexedDB.open(C2,m8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xg,{keyPath:O2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xg)?e(r):(r.close(),await g8(),e(await qx()))})})}async function kA(t,e,n){const r=ov(t,!0).put({[O2]:e,value:n});return new Cf(r).toPromise()}async function y8(t,e){const n=ov(t,!1).get(e),r=await new Cf(n).toPromise();return r===void 0?null:r.value}function DA(t,e){const n=ov(t,!0).delete(e);return new Cf(n).toPromise()}const v8=800,_8=3;class j2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return I2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sv._getInstance(p8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await h8(),!this.activeServiceWorker)return;this.sender=new c8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||f8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qx();return await kA(e,_g,"1"),await DA(e,_g),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>y8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=ov(i,!1).getAll();return new Cf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),v8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}j2.type="LOCAL";const x8=j2;new Mf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(t,e){return e?la(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP extends cP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function w8(t){return S2(t.auth,new fP(t),t.bypassAuthState)}function P8(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),JH(n,new fP(t),t.bypassAuthState)}async function S8(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),QH(n,new fP(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w8;case"linkViaPopup":case"linkViaRedirect":return S8;case"reauthViaPopup":case"reauthViaRedirect":return P8;default:yi(this.auth,"internal-error")}}resolve(e){Pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=new Mf(2e3,1e4);class Xl extends k2{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Xl.currentPopupAction&&Xl.currentPopupAction.cancel(),Xl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Pa(this.filter.length===1,"Popup operations only handle one event");const e=hP();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,E8.get())};e()}}Xl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8="pendingRedirect",Tm=new Map;class A8 extends k2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tm.get(this.auth._key());if(!e){try{const r=await M8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tm.set(this.auth._key(),e)}return this.bypassAuthState||Tm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M8(t,e){const n=C8(e),r=I8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function N8(t,e){Tm.set(t._key(),e)}function I8(t){return la(t._redirectPersistence)}function C8(t){return Em(T8,t.config.apiKey,t.name)}async function O8(t,e,n=!1){if(kr(t.app))return Promise.reject(fa(t));const r=Bs(t),i=b8(r,e),s=await new A8(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=10*60*1e3;class k8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!D2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ri(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=j8&&this.cachedEventUids.clear(),this.cachedEventUids.has(RA(e))}saveEventToCache(e){this.cachedEventUids.add(RA(e)),this.lastProcessedEventTime=Date.now()}}function RA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function D2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function D8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R8(t,e={}){return ja(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$8=/^https?/;async function F8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await R8(t);for(const n of e)try{if(B8(n))return}catch{}yi(t,"unauthorized-domain")}function B8(t){const e=Gx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!$8.test(n))return!1;if(L8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8=new Mf(3e4,6e4);function LA(){const t=Li().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function U8(t){return new Promise((e,n)=>{var r,i,a;function s(){LA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LA(),n(Ri(t,"network-request-failed"))},timeout:V8.get()})}if(!((i=(r=Li().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Li().gapi)===null||a===void 0)&&a.load)s();else{const l=OH("iframefcb");return Li()[l]=()=>{gapi.load?s():n(Ri(t,"network-request-failed"))},_2(`${CH()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Am=null,e})}let Am=null;function z8(t){return Am=Am||U8(t),Am}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8=new Mf(5e3,15e3),W8="__/auth/iframe",G8="emulator/auth/iframe",K8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},q8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z8(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?oP(e,G8):`https://${t.config.authDomain}/${W8}`,r={apiKey:e.apiKey,appName:t.name,v:oc},i=q8.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${wf(r).slice(1)}`}async function Y8(t){const e=await z8(t),n=Li().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:Z8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K8,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Ri(t,"network-request-failed"),l=Li().setTimeout(()=>{a(s)},H8.get());function u(){Li().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q8=500,J8=600,e7="_blank",t7="http://localhost";class $A{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function n7(t,e,n,r=Q8,i=J8){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},X8),{width:r.toString(),height:i.toString(),top:a,left:s}),c=kn().toLowerCase();n&&(l=h2(c)?e7:n),c2(c)&&(e=e||t7,u.scrollbars="yes");const p=Object.entries(u).reduce((y,[v,b])=>`${y}${v}=${b},`,"");if(wH(c)&&l!=="_self")return r7(e||"",l),new $A(null);const f=window.open(e||"",l,p);Me(f,t,"popup-blocked");try{f.focus()}catch{}return new $A(f)}function r7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7="__/auth/handler",a7="emulator/auth/handler",s7=encodeURIComponent("fac");async function FA(t,e,n,r,i,a){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oc,eventId:i};if(e instanceof w2){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",E6(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,f]of Object.entries({}))s[p]=f}if(e instanceof If){const p=e.getScopes().filter(f=>f!=="");p.length>0&&(s.scopes=p.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const u=await t._getAppCheckToken(),c=u?`#${s7}=${encodeURIComponent(u)}`:"";return`${o7(t)}?${wf(l).slice(1)}${c}`}function o7({config:t}){return t.emulator?oP(t,a7):`https://${t.authDomain}/${i7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="webStorageSupport";class l7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N2,this._completeRedirectFn=O8,this._overrideRedirectResult=N8}async _openPopup(e,n,r,i){var a;Pa((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await FA(e,n,r,Gx(),i);return n7(e,s,hP())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await FA(e,n,r,Gx(),i);return d8(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Pa(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Y8(e),r=new k8(e);return n.register("authEvent",i=>(Me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(q_,{type:q_},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[q_];s!==void 0&&n(!!s),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=F8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return y2()||d2()||uP()}}const u7=l7;var BA="@firebase/auth",VA="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function h7(t){Eu(new Lo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;Me(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v2(t)},c=new MH(r,i,a,u);return $H(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Eu(new Lo("auth-internal",e=>{const n=Bs(e.getProvider("auth").getImmediate());return(r=>new c7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bs(BA,VA,d7(t)),bs(BA,VA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7=5*60,p7=_k("authIdTokenMaxAge")||f7;let UA=null;const m7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>p7)return;const i=n==null?void 0:n.token;UA!==i&&(UA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function g7(t=Ek()){const e=T1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=LH(t,{popupRedirectResolver:u7,persistence:[x8,l8,N2]}),r=_k("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=m7(a.toString());a8(n,s,()=>s(n.currentUser)),i8(n,l=>s(l))}}const i=yk("auth");return i&&FH(n,`http://${i}`),n}function y7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NH({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Ri("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",y7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});h7("Browser");const R2={apiKey:"AIzaSyD_DM7_H_aiRFiEm5X8orSGOvZ9zCUi5_M",authDomain:"prognosis-care.firebaseapp.com",projectId:"prognosis-care",storageBucket:"prognosis-care.firebasestorage.app",messagingSenderId:"1062095523080",appId:"1:1062095523080:web:bd45faf69104b1d35370bd"},v7=["apiKey","authDomain","projectId","appId"],L2=v7.filter(t=>!R2[t]),Ql=L2.length===0,$2=Ql?"":`Missing Firebase env keys: ${L2.join(", ")}`;let co=null,na=null;if(Ql){const t=Sk(R2);co=g7(t),na=D9(t)}else console.warn(`[Auth] Firebase not configured. Falling back to local mock auth. ${$2}`);const F2=Wd,Zx=F2;function B2(t){return t.toLowerCase().replace(/&/g,"and").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}const oi=QV;function _7(t){return F2.find(e=>B2(e)===t)}const pP=(t=900)=>new Promise(e=>setTimeout(e,t));async function x7(t){return await pP(1100),{...t,bookingId:`BK-${Date.now().toString().slice(-8)}`,status:"scheduled"}}async function b7(t){return await pP(1500),Math.random()<.2?{ok:!1,error:"Payment authorization failed. Please retry with another method."}:{ok:!0,paymentId:`PAY-${Date.now().toString().slice(-9)}`,invoiceId:`INV-${Math.floor(1e5+Math.random()*9e5)}`,paidAt:new Date().toISOString(),...t}}async function w7({bookingId:t,fileName:e}){return await pP(1200),{bookingId:t,fileName:e,reportId:`REP-${Date.now().toString().slice(-8)}`,uploadedAt:new Date().toISOString(),status:"Available"}}const P7="AIzaSyCjC_ZPirlziz7Im9K00lLtaODQQAQhAMQ",S7="gemini-2.0-flash",E7=`https://generativelanguage.googleapis.com/v1beta/models/${S7}:generateContent?key=${P7}`;function T7(t){return`You are a medical AI triage assistant for Prognosis Care, a healthcare platform in India.

A patient describes the following symptoms:
"${t}"

First determine whether this input is actually health/symptom related.

Based on the symptoms, provide:
1. A short medical triage summary (1-3 sentences).
2. A list of recommended diagnostic tests ONLY if medically needed.

IMPORTANT: Respond ONLY with valid JSON in the exact format below  no markdown, no backticks, no extra text:
{
  "isHealthRelated": true,
  "summary": "Your 2-3 sentence medical summary here.",
  "tests": [
    {
      "id": "test-unique-id",
      "name": "Test Name",
      "reason": "Why this test is recommended for the given symptoms.",
      "priority": "high | medium | low",
      "cost": 1200
    }
  ]
}

Rules:
- If input is NOT health-related (for example: coding, math, random chat, jokes), return:
  - isHealthRelated: false
  - summary: "Please describe your health symptoms (for example: fever, cough, chest pain) so I can help."
  - tests: []
- For isolated mild back pain/body pain/headache without red-flag symptoms, do not suggest blood tests/CRP/advanced panels by default.
- For mild isolated symptoms (for example only "headache" with no red flags), keep tests minimal or empty.
- Use realistic Indian hospital test costs in INR (5005000 range) only when tests are needed.
- Prioritise tests that are clearly medically relevant.
- Do NOT diagnose; only provide triage guidance.
- Respond with pure JSON only.`}function A7(t){const e=(t||"").toLowerCase().trim();return!e||new Set(["health","healthy","symptom","symptoms","medical","doctor","help","hi","hello"]).has(e)||!["pain","headache","fever","cough","cold","vomit","nausea","dizziness","breath","chest","bp","blood pressure","sugar","diabetes","fatigue","weakness","infection","injury","swelling","rash","stomach","diarrhea","constipation","anxiety","depression","symptom"].some(s=>e.includes(s))?!1:e.split(/\s+/).filter(Boolean).length>=2||e.includes("pain")}function M7(t){const e=(t||"").toLowerCase().trim();if(!e)return!1;const n=["back pain","lower back pain","body pain","muscle pain","neck pain","headache","mild pain","soreness"],r=["severe","unbearable","chest pain","shortness of breath","breathing issue","fainting","numbness","weakness in leg","paralysis","injury","trauma","accident","fall","fever","weight loss","blood in urine","loss of bladder control","loss of bowel control","night sweats","persistent vomiting"],i=n.some(s=>e.includes(s)),a=r.some(s=>e.includes(s));return i&&!a}function N7(t){let e=t.trim();e.startsWith("```")&&(e=e.replace(/^```(?:json)?\n?/,"").replace(/\n?```$/,""));try{const n=JSON.parse(e);if(n.summary&&Array.isArray(n.tests))return{isHealthRelated:n.isHealthRelated!==!1,summary:n.summary,tests:n.tests}}catch{const n=e.match(/\{[\s\S]*\}/);if(n)try{const r=JSON.parse(n[0]);if(r.summary&&Array.isArray(r.tests))return{isHealthRelated:r.isHealthRelated!==!1,summary:r.summary,tests:r.tests}}catch{}}return{isHealthRelated:!0,summary:t.slice(0,300),tests:[]}}async function I7(t){var i,a,s,l,u;const e=await fetch(E7,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:T7(t)}]}],generationConfig:{temperature:.4,maxOutputTokens:1024}})});if(!e.ok){const c=await e.text();throw console.error("Gemini API error:",e.status,c),new Error(`Gemini API request failed (${e.status})`)}const n=await e.json(),r=(u=(l=(s=(a=(i=n==null?void 0:n.candidates)==null?void 0:i[0])==null?void 0:a.content)==null?void 0:s.parts)==null?void 0:l[0])==null?void 0:u.text;if(!r)throw new Error("Empty response from Gemini API.");return N7(r)}const C7="http://localhost:8000";async function O7(t){try{const e=await fetch(`${C7}/predict`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symptoms:t})});if(!e.ok)throw new Error(`Backend error: ${e.statusText}`);const n=await e.json();return{summary:n.summary||`Based on symptoms: ${t}`,tests:n.recommended_tests||[],disease:n.disease,specialty:n.specialty}}catch(e){throw console.warn("Backend prediction failed:",e),e}}const V2=U.createContext(null),Yx="pc_patient_profile",mP="pc_appointments",U2="pc_medical_records",gP="pc_doctors",yP="pc_departments",z2="pc_doctors_data_version",H2="2026-02-14-image-refresh-v1",W2="pc_appointments_data_version",G2="2026-02-15-empty-v1",zA={id:"PAT-1001",name:"",selectedHospitalId:"",dob:"",bloodGroup:"",gender:"",emergencyContact:"",lastCheckupDate:"",riskLevel:"low",bp:""};function j7(){try{const t=localStorage.getItem(Yx);return t?JSON.parse(t):null}catch{return null}}function lv(t){try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch{return[]}}function K2(t){try{return localStorage.getItem(t)}catch{return null}}function Qd(t,e){try{localStorage.setItem(t,e)}catch{}}function HA(t){return new Promise(e=>{if(!t){e("");return}const n=new FileReader;n.onload=()=>e(typeof n.result=="string"?n.result:""),n.onerror=()=>e(""),n.readAsDataURL(t)})}function k7(t){if(!(t!=null&&t.includes("/")))return"low";const[e,n]=t.split("/"),r=Number(e),i=Number(n);return Number.isNaN(r)||Number.isNaN(i)?"low":r>=140||i>=90?"high":r>=130||i>=85?"medium":"low"}const mo=[{id:"hosp-2",name:"Fortis Hospital",locations:["Main Tower","Diagnostics Wing"],address:"88 Health Avenue, Metro City",description:"Contracted tertiary partner hospital with advanced specialty care and diagnostics.",specialties:["Pulmonology","Endocrinology","Oncology","Cardiology"],specialistUnits:["Pulmonary Critical Care Unit","Advanced Cardiac Services","Comprehensive Oncology Team","Neurology & Stroke Unit"],facilities:["24/7 Emergency Response","Advanced Imaging Suite","Integrated ICU Support","Multispeciality OPD"],accreditation:"NABH Accredited",rating:4.8,emergencySupport:"24/7 Emergency & ICU",insuranceAvailable:!0,serviceFee:199,taxRate:.12},{id:"hosp-1",name:"CityCare Multi-Speciality Hospital",locations:["Downtown Center","North Campus","East Wing Diagnostics"],address:"12 Heartline Ave, MedCity",description:"Contracted multi-speciality center with integrated diagnostics and specialist OPDs.",specialties:["General Medicine","Cardiology","Neurology","Pathology"],specialistUnits:["Cardiac Unit","Neuro Unit","Comprehensive Diagnostics"],facilities:["MRI & CT","Operation Theatres","Cath Lab","Advanced Lab"],accreditation:"NABH Accredited",rating:4.7,emergencySupport:"24/7 Emergency & ICU",insuranceAvailable:!0,serviceFee:199,taxRate:.12},{id:"hosp-3",name:"Max Hospital",locations:["Central Campus","Specialty Block"],address:"44 Clinical Street, Health District",description:"Contracted high-volume specialty hospital for critical and chronic care pathways.",specialties:["Oncology","Pulmonology","Endocrinology","ENT"],specialistUnits:["Oncology Daycare","Pulmonary Rehab","Cardiac Risk Clinic"],facilities:["Advanced OT","Daycare Suites","Comprehensive Lab Services"],accreditation:"NABH Accredited",rating:4.6,emergencySupport:"24/7 Emergency",insuranceAvailable:!0,serviceFee:219,taxRate:.12}],ei=j7(),WA=lv(mP),D7=lv(U2),GA=lv(gP),KA=lv(yP),R7=K2(z2),Xx=R7!==H2,L7=K2(W2),q2=L7!==G2;Xx&&(Qd(gP,JSON.stringify(oi)),Qd(yP,JSON.stringify(Zx)),Qd(z2,H2));q2&&(Qd(mP,JSON.stringify([])),Qd(W2,G2));const $7=q2?[]:WA.length?WA:[],F7={patient:ei?{...zA,...ei}:zA,profileCompleted:!!(ei!=null&&ei.name&&(ei!=null&&ei.dob)),patientSymptoms:"",recommendedTests:[],recommendationSummary:"",doctors:Xx?oi:GA.length?GA:oi,departments:Xx?Zx:KA.length?KA:Zx,selectedHospital:mo.find(t=>t.id===(ei==null?void 0:ei.selectedHospitalId))||mo[0],draftBooking:null,latestBooking:null,appointments:$7,medicalRecords:D7,paymentHistory:[],reports:[],notifications:[]};function B7(t,e,n,r){const i=t.map(u=>{const c=Math.round(u.cost*n),p=r?Math.round(u.cost*.8):u.cost;return{name:u.name,basePrice:u.cost,discountedPrice:p,serviceFee:e,tax:c,total:p+e+c}}),a=i.reduce((u,c)=>u+c.discountedPrice,0),s=i.reduce((u,c)=>u+c.serviceFee,0),l=i.reduce((u,c)=>u+c.tax,0);return{rows:i,subtotal:a,fees:s,taxes:l,total:a+s+l}}function V7(t,{location:e,slot:n,insuranceEnabled:r}){const i=B7(t.recommendedTests,t.selectedHospital.serviceFee,t.selectedHospital.taxRate,r);return{tests:t.recommendedTests,hospital:t.selectedHospital,location:e,slot:n,insuranceEnabled:r,bill:i}}function U7({children:t}){const[e,n]=U.useState(F7),[r,i]=U.useState({recommendations:!1,booking:!1,appointment:!1,payment:!1,reportUpload:!1}),[a,s]=U.useState("");U.useEffect(()=>{if(!na)return;const G=Q9(k9(na,"appointments"),Z=>{const z=Z.docs.map(q=>({id:q.id,...q.data()}));n(q=>({...q,appointments:z}))},Z=>{console.error("Firestore sync error:",Z)});return()=>G()},[]);const l=G=>{const Z=k7(G.bp),z=mo.find(H=>H.id===G.selectedHospitalId)||mo[0],q={...e.patient,...G,riskLevel:Z,selectedHospitalId:z.id};localStorage.setItem(Yx,JSON.stringify(q)),n(H=>({...H,patient:q,selectedHospital:z,profileCompleted:!0}))},u=G=>{const Z=mo.find(z=>z.id===G)||mo[0];n(z=>{const q={...z.patient,selectedHospitalId:Z.id};return localStorage.setItem(Yx,JSON.stringify(q)),{...z,patient:q,selectedHospital:Z}})},c=G=>{n(Z=>({...Z,notifications:[{id:Date.now(),message:G},...Z.notifications].slice(0,5)}))},p=G=>{localStorage.setItem(gP,JSON.stringify(G))},f=G=>{localStorage.setItem(yP,JSON.stringify(G))},y=G=>{localStorage.setItem(mP,JSON.stringify(G))},v=G=>{localStorage.setItem(U2,JSON.stringify(G))},b=async({file:G,recordType:Z,notes:z,appointmentId:q,doctorName:H})=>{const ee=await HA(G),re={id:`MR-${Date.now().toString().slice(-8)}`,fileName:(G==null?void 0:G.name)||"record",mimeType:(G==null?void 0:G.type)||"application/octet-stream",previewUrl:ee,recordType:Z,notes:z||"",linkedAppointmentId:q||null,linkedDoctorName:H||"",uploadDate:new Date().toISOString(),source:"user"};return n(ce=>{const xe=[re,...ce.medicalRecords];return v(xe),{...ce,medicalRecords:xe}}),re},S=(G,Z,z)=>{const q={id:`doctor-${Date.now().toString().slice(-8)}`,fullName:G.fullName,gender:G.gender,department:G.department,specialization:G.specialization,experienceYears:Number(G.experienceYears),educationShort:G.educationShort,educationHistory:[{degree:"MBBS",institution:G.mbbsInstitution,year:G.mbbsYear},{degree:G.advancedDegree,institution:G.advancedInstitution,year:G.advancedYear}],consultationFee:Number(G.consultationFee),languages:G.languages.split(",").map(H=>H.trim()).filter(Boolean),profileImage:G.profileImage,availabilityStatus:"Available",weeklyAvailability:G.weeklyAvailability,availableTimeSlots:G.availableTimeSlots,professionalBio:G.professionalBio,workTimeline:[{period:"Current",role:`Consultant, ${z}`}],hospitalAffiliation:z,hospitalId:Z,certifications:["Medical Council Registered"],publications:["Clinical profile available on request"],patientReviews:[]};return n(H=>{const ee=[q,...H.doctors];return p(ee),{...H,doctors:ee}}),c(`Doctor ${q.fullName} added successfully.`),q},x=(G,Z)=>{n(z=>{const q=z.doctors.map(H=>H.id===G?{...H,...Z}:H);return p(q),{...z,doctors:q}})},P=G=>{n(Z=>{const z=Z.doctors.filter(q=>q.id!==G);return p(z),{...Z,doctors:z}})},w=G=>{const Z=G.trim();Z&&n(z=>{if(z.departments.includes(Z))return z;const q=[...z.departments,Z];return f(q),{...z,departments:q}})},T=(G,Z)=>{const z=Z.trim();z&&n(q=>{const H=q.departments.map(re=>re===G?z:re),ee=q.doctors.map(re=>re.department===G?{...re,department:z}:re);return f(H),p(ee),{...q,departments:H,doctors:ee}})},I=G=>{n(Z=>{const z=Z.departments.filter(q=>q!==G);return f(z),{...Z,departments:z}})},N=G=>{n(Z=>{const z=Z.medicalRecords.filter(q=>q.id!==G);return v(z),{...Z,medicalRecords:z}})},M=async({doctor:G,department:Z,date:z,time:q,reason:H,file:ee,recordType:re})=>{i(ge=>({...ge,appointment:!0}));const ce=`APT-${Date.now().toString().slice(-8)}`,xe=await HA(ee),_e={id:ce,patient_id:e.patient.id,doctor_id:G.id,hospital_id:G.hospitalId||"hosp-1",doctorId:G.id,doctorName:G.fullName,department:Z,date:z,time:q,reason:H,consultationFee:G.consultationFee,status:"Upcoming",createdAt:new Date().toISOString(),uploadedMedicalFile:ee?{fileName:ee.name,mimeType:ee.type,previewUrl:xe}:null};if(na)try{await Z9(G_(na,"appointments",_e.id),_e)}catch(ge){console.error("Error adding appointment to DB:",ge)}else n(ge=>{const Je=[_e,...ge.appointments];return y(Je),{...ge,appointments:Je}});return ee&&await b({file:ee,recordType:re||"Appointment Attachment",notes:H,appointmentId:_e.id,doctorName:G.fullName}),c(`Appointment booked with ${G.fullName}.`),i(ge=>({...ge,appointment:!1})),_e},A=G=>{na?X9(G_(na,"appointments",G)).catch(console.error):n(Z=>{const z=Z.appointments.filter(q=>q.id!==G);return y(z),{...Z,appointments:z}}),c("Appointment cancelled.")},O=(G,Z)=>{na?Y9(G_(na,"appointments",G),{status:Z}).catch(console.error):n(z=>{const q=z.appointments.map(H=>H.id===G?{...H,status:Z}:H);return y(q),{...z,appointments:q}}),c(`Appointment marked as ${Z}.`)},k=async G=>{const Z=G==null?void 0:G.trim();if(!Z){n(q=>({...q,patientSymptoms:"",recommendedTests:[],recommendationSummary:""}));return}if(!A7(Z)){n(q=>({...q,patientSymptoms:Z,recommendedTests:[],recommendationSummary:"Please describe your health symptoms (for example: fever, cough, chest pain) so I can help."}));return}if(M7(Z)){n(q=>({...q,patientSymptoms:Z,recommendedTests:[],recommendationSummary:"This sounds like a mild symptom pattern. Start with rest, hydration, posture correction, light stretching, and a simple pain-relief approach if suitable for you. If symptoms worsen, persist beyond a few days, or any red-flag signs appear, consult a doctor promptly."}));return}i(q=>({...q,recommendations:!0}));let z;try{z=await I7(Z),(z==null?void 0:z.isHealthRelated)===!1&&(z={summary:"Please describe your health symptoms (for example: fever, cough, chest pain) so I can help.",tests:[]})}catch(q){console.warn("Gemini failed, trying local backend:",q);try{const H=await O7(Z);z={summary:H.summary,tests:(H.tests||[]).map(ee=>({...ee,priority:ee.priority||"medium"}))}}catch(H){console.warn("Local backend also failed:",H),z={summary:"Unable to generate recommendations right now. Please try again in a moment.",tests:[]}}}n(q=>({...q,patientSymptoms:Z,recommendedTests:z.tests,recommendationSummary:z.summary})),i(q=>({...q,recommendations:!1}))},$=({location:G,slot:Z,insuranceEnabled:z})=>{const q=V7(e,{location:G,slot:Z,insuranceEnabled:z});return n(H=>({...H,draftBooking:q})),q},B=async G=>{const Z=G||e.draftBooking;if(!Z)return null;i(q=>({...q,booking:!0}));const z=await x7({patient:e.patient,...Z,createdAt:new Date().toISOString(),paymentStatus:"pending"});return n(q=>({...q,latestBooking:z})),i(q=>({...q,booking:!1})),z},D=async({method:G,details:Z})=>{if(!e.latestBooking)return{ok:!1,error:"Booking missing."};i(q=>({...q,payment:!0})),s("");const z=await b7({bookingId:e.latestBooking.bookingId,amount:e.latestBooking.bill.total,method:G,details:Z});return z.ok?(n(q=>{const H={...q.latestBooking,paymentStatus:"paid",payment:z};return{...q,latestBooking:H,paymentHistory:[{id:z.paymentId,invoiceId:z.invoiceId,amount:z.amount,method:z.method,date:z.paidAt,bookingId:z.bookingId},...q.paymentHistory]}}),c("Your lab test is scheduled. Payment confirmed."),i(q=>({...q,payment:!1})),z):(s(z.error),i(q=>({...q,payment:!1})),z)},F=()=>{n(G=>G.latestBooking?{...G,latestBooking:{...G.latestBooking,status:"completed"}}:G),c("Your hospital marked the test as completed.")},W=async G=>{if(!e.latestBooking)return null;i(z=>({...z,reportUpload:!0}));const Z=await w7({bookingId:e.latestBooking.bookingId,fileName:G});return n(z=>{const q=[{id:Z.reportId,fileName:Z.fileName,mimeType:"application/pdf",previewUrl:"",recordType:"Lab Report",notes:z.latestBooking.tests.map(H=>H.name).join(", "),linkedAppointmentId:null,linkedDoctorName:"",uploadDate:Z.uploadedAt,source:"hospital"},...z.medicalRecords];return v(q),{...z,reports:[{...Z,hospitalName:z.latestBooking.hospital.name,testNames:z.latestBooking.tests.map(H=>H.name)},...z.reports],medicalRecords:q,latestBooking:{...z.latestBooking,reportStatus:"Available"}}}),i(z=>({...z,reportUpload:!1})),c("New lab report is now available in Medical Records."),Z},Y=U.useMemo(()=>({state:e,hospitals:mo,loading:r,paymentError:a,updatePatientProfile:l,setPatientSelectedHospital:u,addDoctor:S,updateDoctor:x,removeDoctor:P,addDepartment:w,editDepartment:T,deleteDepartment:I,addAppointment:M,cancelAppointment:A,updateAppointmentStatus:O,addMedicalRecord:b,deleteMedicalRecord:N,pushNotification:c,loadRecommendations:k,saveDraftBooking:$,confirmBooking:B,payForBooking:D,markTestCompleted:F,uploadReport:W}),[e,r,a]);return h.jsx(V2.Provider,{value:Y,children:t})}function Xt(){const t=U.useContext(V2);if(!t)throw new Error("useApp must be used inside AppProvider");return t}function z7(){var u;const t=tr(),{state:e,hospitals:n,updatePatientProfile:r}=Xt(),[i,a]=U.useState({name:e.patient.name||"",selectedHospitalId:e.patient.selectedHospitalId||((u=n[0])==null?void 0:u.id)||"",dob:e.patient.dob||"",bloodGroup:e.patient.bloodGroup||"",gender:e.patient.gender||"",emergencyContact:e.patient.emergencyContact||"",lastCheckupDate:e.patient.lastCheckupDate||"",bp:e.patient.bp||""}),s=(c,p)=>{a(f=>({...f,[c]:p}))},l=c=>{c.preventDefault(),r(i),t("/dashboard")};return h.jsx("div",{className:"page-shell",children:h.jsxs("section",{className:"card mx-auto w-full max-w-3xl",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Welcome Setup"}),h.jsx("h2",{className:"mt-1 text-2xl font-bold",children:"Complete your patient details"}),h.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Fill these details once. They will be saved and used automatically in your dashboard."})]}),h.jsxs("form",{className:"grid gap-4 sm:grid-cols-2",onSubmit:l,children:[h.jsxs("label",{className:"text-sm text-slate-700 sm:col-span-2",children:["Full Name",h.jsx("input",{className:"input mt-1",value:i.name,onChange:c=>s("name",c.target.value),required:!0})]}),h.jsxs("label",{className:"text-sm text-slate-700 sm:col-span-2",children:["Select Contract Hospital",h.jsx("select",{className:"input mt-1",value:i.selectedHospitalId,onChange:c=>s("selectedHospitalId",c.target.value),required:!0,children:n.map(c=>h.jsx("option",{value:c.id,children:c.name},c.id))})]}),h.jsxs("label",{className:"text-sm text-slate-700",children:["Date of Birth",h.jsx("input",{type:"date",className:"input mt-1",value:i.dob,onChange:c=>s("dob",c.target.value),required:!0})]}),h.jsxs("label",{className:"text-sm text-slate-700",children:["Blood Group",h.jsxs("select",{className:"input mt-1",value:i.bloodGroup,onChange:c=>s("bloodGroup",c.target.value),required:!0,children:[h.jsx("option",{value:"",children:"Select"}),h.jsx("option",{value:"A+",children:"A+"}),h.jsx("option",{value:"A-",children:"A-"}),h.jsx("option",{value:"B+",children:"B+"}),h.jsx("option",{value:"B-",children:"B-"}),h.jsx("option",{value:"AB+",children:"AB+"}),h.jsx("option",{value:"AB-",children:"AB-"}),h.jsx("option",{value:"O+",children:"O+"}),h.jsx("option",{value:"O-",children:"O-"})]})]}),h.jsxs("label",{className:"text-sm text-slate-700",children:["Gender",h.jsxs("select",{className:"input mt-1",value:i.gender,onChange:c=>s("gender",c.target.value),required:!0,children:[h.jsx("option",{value:"",children:"Select"}),h.jsx("option",{value:"Male",children:"Male"}),h.jsx("option",{value:"Female",children:"Female"}),h.jsx("option",{value:"Other",children:"Other"})]})]}),h.jsxs("label",{className:"text-sm text-slate-700",children:["Last Checkup Date",h.jsx("input",{type:"date",className:"input mt-1",value:i.lastCheckupDate,onChange:c=>s("lastCheckupDate",c.target.value),required:!0})]}),h.jsxs("label",{className:"text-sm text-slate-700",children:["Emergency Contact",h.jsx("input",{className:"input mt-1",value:i.emergencyContact,onChange:c=>s("emergencyContact",c.target.value),required:!0})]}),h.jsxs("label",{className:"text-sm text-slate-700",children:["Blood Pressure (e.g. 120/80)",h.jsx("input",{className:"input mt-1",value:i.bp,onChange:c=>s("bp",c.target.value),required:!0})]}),h.jsx("div",{className:"sm:col-span-2",children:h.jsx("button",{type:"submit",className:"btn-primary w-full",children:"Save Details & Continue"})})]})]})})}const Z2="pc_hospital_requests",Qx="pc_hospital_accounts",Jx="pc_platform_logs",kd=["Fortis Hospital","CityCare Multi-Speciality Hospital","Max Hospital"],qA=[{id:"hosp-1",hospitalName:"CityCare Multi-Speciality Hospital",registrationNumber:"MH-REG-1024",address:"12 Heartline Ave",city:"Mumbai",state:"Maharashtra",contactEmail:"admin@citycarehospital.com",phone:"+91 90000 11111",adminName:"Rahul Mehta",adminRole:"Operations Manager",password:"Hospital@123",status:"Active",approvedAt:"2026-01-10T10:00:00.000Z"}];function uv(t,e=[]){try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch{return e}}function cv(t,e){localStorage.setItem(t,JSON.stringify(e))}function jh(){return uv(Z2,[])}function Y2(t){cv(Z2,t)}function Ou(){const t=uv(Qx,[]),n=t.some(r=>{var i;return((i=r.contactEmail)==null?void 0:i.trim().toLowerCase())===qA[0].contactEmail})?t:[...t,...qA];return cv(Qx,n),n}function X2(t){cv(Qx,t)}function Jd(t,e="system"){const n=uv(Jx,[]),r={id:`LOG-${Date.now().toString().slice(-8)}`,action:t,actor:e,createdAt:new Date().toISOString()},i=[r,...n].slice(0,100);return cv(Jx,i),r}function ZA(){return uv(Jx,[])}function H7(t){var p,f;const e=jh(),n=(p=t.contactEmail)==null?void 0:p.trim().toLowerCase(),r=(f=t.hospitalName)==null?void 0:f.trim();if(!kd.includes(r))return{ok:!1,error:"Please select a valid hospital from the approved list."};const i=e.some(y=>{var v;return((v=y.contactEmail)==null?void 0:v.trim().toLowerCase())===n}),a=Ou(),s=a.some(y=>{var v;return((v=y.contactEmail)==null?void 0:v.trim().toLowerCase())===n}),l=a.some(y=>y.hospitalName===r&&y.status==="Active"),u=e.some(y=>y.hospitalName===r&&y.status==="Pending Approval");if(l)return{ok:!1,error:"This hospital already has an active admin."};if(u)return{ok:!1,error:"A signup request for this hospital is already pending approval."};if(i||s)return{ok:!1,error:"This admin email is already registered or pending approval."};const c={id:`REQ-${Date.now().toString().slice(-8)}`,...t,hospitalName:r,contactEmail:n,status:"Pending Approval",submittedAt:new Date().toISOString(),reviewNote:""};return Y2([c,...e]),Jd(`New hospital signup request: ${t.hospitalName}`,t.adminName),{ok:!0,request:c}}function W7(t,e,n=""){const r=jh(),i=r.find(s=>s.id===t);if(!i)return{ok:!1,error:"Request not found."};const a=r.map(s=>s.id===t?{...s,status:e==="approve"?"Approved":e==="reject"?"Rejected":"More Info Requested",reviewNote:n,reviewedAt:new Date().toISOString()}:s);if(Y2(a),e==="approve"){const s=Ou();if(!s.some(u=>u.contactEmail===i.contactEmail)){const u={id:`HOSP-${Date.now().toString().slice(-8)}`,hospitalName:i.hospitalName,registrationNumber:i.registrationNumber,address:i.address,city:i.city,state:i.state,contactEmail:i.contactEmail,phone:i.phone,adminName:i.adminName,adminRole:i.adminRole,password:i.password,licenseFileName:i.licenseFileName,status:"Active",approvedAt:new Date().toISOString()};X2([u,...s])}Jd(`Hospital approved: ${i.hospitalName}`,"super-admin")}return e==="reject"&&Jd(`Hospital rejected: ${i.hospitalName}`,"super-admin"),e==="more-info"&&Jd(`More info requested: ${i.hospitalName}`,"super-admin"),{ok:!0}}function G7(t,e){const r=Ou().map(i=>i.id===t?{...i,status:e}:i);return X2(r),Jd(`Hospital status updated (${e}): ${t}`,"super-admin"),r}const Z_={email:"oompathania@gmail.com",password:"abcd123",name:"Platform Owner"},K7=[{email:"dr.vikram@fortis.com",password:"Password123!",name:"Dr. Vikram Malhotra",doctorName:"Dr. Vikram Malhotra",department:"Cardiology",hospitalName:"Fortis Hospital",hospitalId:"hosp-2",role:"doctor",doctorId:"hosp-2-cardiology-1"},{email:"dr.arjun@fortis.com",password:"Password123!",name:"Dr. Arjun Mehta",doctorName:"Dr. Arjun Mehta",department:"Pulmonology",hospitalName:"Fortis Hospital",hospitalId:"hosp-2",role:"doctor",doctorId:"hosp-2-pulmonology-1"},{email:"dr.amit@citycare.com",password:"Password123!",name:"Dr. Amit Verma",doctorName:"Dr. Amit Verma",department:"General Medicine",hospitalName:"CityCare Multi-Speciality Hospital",hospitalId:"hosp-1",role:"doctor",doctorId:"hosp-1-general-medicine-1"},{email:"dr.rajat@citycare.com",password:"Password123!",name:"Dr. Rajat Khanna",doctorName:"Dr. Rajat Khanna",department:"Neurology",hospitalName:"CityCare Multi-Speciality Hospital",hospitalId:"hosp-1",role:"doctor",doctorId:"hosp-1-neurology-1"},{email:"dr.rajiv@max.com",password:"Password123!",name:"Dr. Rajiv Kapoor",doctorName:"Dr. Rajiv Kapoor",department:"Oncology",hospitalName:"Max Hospital",hospitalId:"hosp-3",role:"doctor",doctorId:"hosp-3-oncology-1"},{email:"dr.mohit@max.com",password:"Password123!",name:"Dr. Mohit Agarwal",doctorName:"Dr. Mohit Agarwal",department:"Endocrinology",hospitalName:"Max Hospital",hospitalId:"hosp-3",role:"doctor",doctorId:"hosp-3-endocrinology-1"}],Q2=U.createContext(null),ls="pc_auth_session";function vP(){try{return window.sessionStorage}catch{return null}}function _P(){try{return window.localStorage}catch{return null}}function hd(t){const e=btoa(JSON.stringify({alg:"HS256",typ:"JWT"})),n=btoa(JSON.stringify({...t,iat:Date.now()})),r=btoa("mock-signature");return`${e}.${n}.${r}`}function q7(t){return t==="super-admin"?"/super-admin-dashboard":t==="hospital-admin"?"/doctor-dashboard":t==="doctor"?"/doctor-workspace":"/welcome"}function J2(){try{const t=vP(),e=_P(),n=t==null?void 0:t.getItem(ls);if(n)return JSON.parse(n);const r=e==null?void 0:e.getItem(ls);return r?(t==null||t.setItem(ls,r),e==null||e.removeItem(ls),JSON.parse(r)):n?JSON.parse(n):null}catch{return null}}function Ll(t){const e=vP(),n=_P();e==null||e.setItem(ls,JSON.stringify(t)),n==null||n.removeItem(ls)}function Z7(){const t=vP(),e=_P();t==null||t.removeItem(ls),e==null||e.removeItem(ls)}function Y7(t){const e=J2();if(!e)return null;const n=t(e);return Ll(n),n}function YA(t){return t.length>=8&&/[A-Z]/.test(t)&&/[0-9]/.test(t)&&/[^A-Za-z0-9]/.test(t)}function X7({children:t}){const[e,n]=U.useState(null),[r,i]=U.useState(!0);U.useEffect(()=>{const S=J2();S&&n(S),i(!1)},[]);const a=async(S,x)=>{var T;if(!YA(x))throw new Error("Password must be at least 8 chars and include uppercase, number, and special character.");let P;if(!Ql||!co)P={uid:`patient-${Date.now()}`,email:S};else try{P=(await n8(co,S,x)).user}catch(I){console.warn("[Auth] Firebase signup failed, using mock auth:",I.code),P={uid:`patient-${Date.now()}`,email:S}}const w={id:P.uid,email:P.email,name:((T=P.email)==null?void 0:T.split("@")[0])||"Patient",role:"patient",needsHospitalSelection:!0,token:hd({role:"patient",email:P.email}),loginAt:new Date().toISOString()};return Ll(w),n(w),{user:w}},s=async(S,x)=>{var T;let P;if(!Ql||!co)P={uid:`patient-${Date.now()}`,email:S};else try{P=(await r8(co,S,x)).user}catch(I){console.warn("[Auth] Firebase login failed, using mock auth:",I.code),P={uid:`patient-${Date.now()}`,email:S}}const w={id:P.uid,email:P.email,name:((T=P.email)==null?void 0:T.split("@")[0])||"Patient",role:"patient",needsHospitalSelection:!0,token:hd({role:"patient",email:P.email}),loginAt:new Date().toISOString()};return Ll(w),n(w),{user:w}},l=async(S,x)=>{if(S!==Z_.email||x!==Z_.password)throw new Error("Invalid credentials");const P={id:"super-admin-1",email:S,name:Z_.name,role:"super-admin",token:hd({role:"super-admin",email:S}),loginAt:new Date().toISOString()};return Ll(P),n(P),P},u=async S=>YA(S.password)?H7(S):{ok:!1,error:"Password must be at least 8 chars and include uppercase, number, and special character."},c=async(S,x)=>{const P=S.trim().toLowerCase(),w=Ou().find(N=>{var M;return((M=N.contactEmail)==null?void 0:M.trim().toLowerCase())===P}),T=jh().find(N=>{var M;return((M=N.contactEmail)==null?void 0:M.trim().toLowerCase())===P});if(!w)throw(T==null?void 0:T.status)==="Pending Approval"?new Error("Your hospital account is pending super admin approval."):(T==null?void 0:T.status)==="Rejected"?new Error(`Hospital registration rejected. ${T.reviewNote||""}`.trim()):(T==null?void 0:T.status)==="More Info Requested"?new Error(`More information required. ${T.reviewNote||""}`.trim()):new Error("Hospital account not found. Please complete hospital signup first.");if(w.password!==x)throw new Error("Invalid email or password.");if(w.status!=="Active")throw new Error(`Account is ${w.status}. Please contact super admin.`);const I={id:w.id,email:w.contactEmail,name:w.adminName,role:"hospital-admin",hospitalId:w.id,hospitalName:w.hospitalName,token:hd({role:"hospital-admin",hospitalId:w.id,email:S}),loginAt:new Date().toISOString()};return Ll(I),n(I),I},p=async(S,x)=>{const P=S.trim().toLowerCase(),w=K7.find(T=>T.email.toLowerCase()===P&&T.password===x);if(w){const T={id:w.doctorId,email:w.email,name:w.name,doctorName:w.doctorName,doctorId:w.doctorId,department:w.department,role:"doctor",hospitalId:w.hospitalId,hospitalName:w.hospitalName,token:hd({role:"doctor",hospitalId:w.hospitalId,email:w.email}),loginAt:new Date().toISOString()};return Ll(T),n(T),T}throw new Error("Invalid doctor credentials.")},f=async()=>{Z7(),n(null)},y=()=>{const S=Y7(x=>({...x,needsHospitalSelection:!1}));S&&n(S)},v=async S=>{if(!S)throw new Error("Please provide your email.");return!Ql||!co?{ok:!0}:(await t8(co,S),{ok:!0})},b=U.useMemo(()=>({currentUser:e,authLoading:r,isFirebaseConfigured:Ql,firebaseConfigError:$2,signup:a,login:s,superAdminLogin:l,hospitalSignup:u,hospitalAdminLogin:c,doctorLogin:p,forgotPassword:v,logout:f,completeHospitalSelection:y,getRoleHomeRoute:q7}),[e,r]);return h.jsx(Q2.Provider,{value:b,children:t})}function _r(){const t=U.useContext(Q2);if(!t)throw new Error("useAuth must be used inside AuthProvider");return t}function Q7({patientName:t}){const{logout:e}=_r(),{state:n}=Xt();return h.jsxs("section",{className:"card flex flex-wrap items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("img",{src:"https://images.unsplash.com/photo-1633332755192-727a05c4013d?auto=format&fit=crop&w=160&q=80",alt:"Patient profile",className:"h-14 w-14 rounded-full border-2 border-med-100 object-cover"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-med-600",children:"Smart Reception Desk"}),h.jsxs("h1",{className:"text-2xl font-bold",children:["Good Morning, ",t||"Patient"]}),h.jsx("p",{className:"text-sm text-slate-600",children:"How can we assist you today?"})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("button",{type:"button",className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 transition hover:bg-slate-50","aria-label":"Notifications",children:[" ",h.jsx("span",{className:"ml-1 font-semibold",children:n.notifications.length})]}),h.jsx("button",{type:"button",className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600 transition hover:bg-slate-50","aria-label":"Settings",children:""}),h.jsx("button",{type:"button",className:"btn-secondary",onClick:e,children:"Logout"})]})]})}function J7(t){if(!t)return"--";const e=new Date(t);if(Number.isNaN(e.getTime()))return"--";const n=Date.now()-e.getTime(),r=new Date(n);return Math.abs(r.getUTCFullYear()-1970)}const eW={low:"bg-emerald-100 text-emerald-700",medium:"bg-amber-100 text-amber-700",high:"bg-red-100 text-red-700"};function tW({patient:t}){const e=J7(t.dob),n=t.riskLevel||"low";return h.jsxs("section",{className:"card grid gap-4 lg:grid-cols-3",children:[h.jsxs("div",{className:"lg:col-span-2",children:[h.jsx("h2",{className:"text-lg font-semibold",children:"Patient Summary"}),h.jsxs("div",{className:"mt-3 grid gap-3 text-sm sm:grid-cols-2",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Full Name:"})," ",t.name]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Age:"})," ",e]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Blood Group:"})," ",t.bloodGroup||"--"]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Gender:"})," ",t.gender||"--"]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Emergency Contact:"})," ",t.emergencyContact||"--"]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Last Checkup Date:"})," ",t.lastCheckupDate?new Date(t.lastCheckupDate).toLocaleDateString():"--"]})]})]}),h.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Clinical Risk Indicator"}),h.jsxs("span",{className:`mt-2 inline-flex rounded-full px-3 py-1 text-xs font-semibold uppercase ${eW[n]}`,children:[n," Risk"]}),h.jsx("p",{className:"mt-4 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"AI Status"}),h.jsxs("p",{className:"mt-1 inline-flex items-center gap-1 rounded-full bg-med-100 px-3 py-1 text-xs font-semibold text-med-700",children:[h.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-med-600"})," AI Monitoring Active"]})]})]})}function nW({actions:t}){return h.jsxs("section",{className:"card",children:[h.jsxs("div",{className:"mb-4 flex items-end justify-between",children:[h.jsx("h2",{className:"text-lg font-semibold",children:"Quick Actions"}),h.jsx("p",{className:"text-xs text-slate-500",children:"Smart receptionist shortcuts"})]}),h.jsx("div",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-3",children:t.map(e=>h.jsxs(Qe,{to:e.to,className:"group rounded-2xl border border-slate-100 bg-white p-4 shadow-sm transition duration-200 hover:-translate-y-0.5 hover:shadow-card",children:[h.jsx("p",{className:"text-2xl",children:e.icon}),h.jsx("h3",{className:"mt-2 text-sm font-semibold text-slate-800",children:e.title}),h.jsx("p",{className:"mt-1 text-xs text-slate-600",children:e.description})]},e.id))})]})}const rW={available:"bg-emerald-100 text-emerald-700",booked:"bg-red-100 text-red-700"};function iW({doctors:t}){return h.jsxs("section",{className:"card",children:[h.jsxs("div",{className:"mb-4 flex items-end justify-between",children:[h.jsx("h2",{className:"text-lg font-semibold",children:"Doctors Available Today"}),h.jsx("p",{className:"text-xs text-slate-500",children:"Slide to view more doctors"})]}),h.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:t.map(e=>h.jsxs("article",{className:"min-w-[260px] rounded-2xl border border-slate-100 p-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("img",{src:e.image,alt:e.name,className:"h-12 w-12 rounded-full object-cover"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold",children:e.name}),h.jsx("p",{className:"text-xs text-slate-600",children:e.department})]})]}),h.jsxs("p",{className:"mt-3 text-xs text-slate-600",children:["Next Slot: ",e.nextSlot]}),h.jsx("span",{className:`mt-2 inline-flex rounded-full px-2.5 py-1 text-xs font-semibold uppercase ${rW[e.status]}`,children:e.status==="available"?"Available":"Fully Booked"}),h.jsx(Qe,{className:"btn-secondary mt-3 w-full",to:"/appointments",children:"Book Now"})]},e.id))})]})}function eR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=eR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ze(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=eR(t))&&(r&&(r+=" "),r+=e);return r}var aW=Array.isArray,nr=aW,sW=typeof Pd=="object"&&Pd&&Pd.Object===Object&&Pd,tR=sW,oW=tR,lW=typeof self=="object"&&self&&self.Object===Object&&self,uW=oW||lW||Function("return this")(),zi=uW,cW=zi,dW=cW.Symbol,Of=dW,XA=Of,nR=Object.prototype,hW=nR.hasOwnProperty,fW=nR.toString,fd=XA?XA.toStringTag:void 0;function pW(t){var e=hW.call(t,fd),n=t[fd];try{t[fd]=void 0;var r=!0}catch{}var i=fW.call(t);return r&&(e?t[fd]=n:delete t[fd]),i}var mW=pW,gW=Object.prototype,yW=gW.toString;function vW(t){return yW.call(t)}var _W=vW,QA=Of,xW=mW,bW=_W,wW="[object Null]",PW="[object Undefined]",JA=QA?QA.toStringTag:void 0;function SW(t){return t==null?t===void 0?PW:wW:JA&&JA in Object(t)?xW(t):bW(t)}var ka=SW;function EW(t){return t!=null&&typeof t=="object"}var Da=EW,TW=ka,AW=Da,MW="[object Symbol]";function NW(t){return typeof t=="symbol"||AW(t)&&TW(t)==MW}var fc=NW,IW=nr,CW=fc,OW=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jW=/^\w*$/;function kW(t,e){if(IW(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||CW(t)?!0:jW.test(t)||!OW.test(t)||e!=null&&t in Object(e)}var xP=kW;function DW(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Vs=DW;const pc=dt(Vs);var RW=ka,LW=Vs,$W="[object AsyncFunction]",FW="[object Function]",BW="[object GeneratorFunction]",VW="[object Proxy]";function UW(t){if(!LW(t))return!1;var e=RW(t);return e==FW||e==BW||e==$W||e==VW}var bP=UW;const ze=dt(bP);var zW=zi,HW=zW["__core-js_shared__"],WW=HW,Y_=WW,eM=function(){var t=/[^.]+$/.exec(Y_&&Y_.keys&&Y_.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function GW(t){return!!eM&&eM in t}var KW=GW,qW=Function.prototype,ZW=qW.toString;function YW(t){if(t!=null){try{return ZW.call(t)}catch{}try{return t+""}catch{}}return""}var rR=YW,XW=bP,QW=KW,JW=Vs,eG=rR,tG=/[\\^$.*+?()[\]{}|]/g,nG=/^\[object .+?Constructor\]$/,rG=Function.prototype,iG=Object.prototype,aG=rG.toString,sG=iG.hasOwnProperty,oG=RegExp("^"+aG.call(sG).replace(tG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lG(t){if(!JW(t)||QW(t))return!1;var e=XW(t)?oG:nG;return e.test(eG(t))}var uG=lG;function cG(t,e){return t==null?void 0:t[e]}var dG=cG,hG=uG,fG=dG;function pG(t,e){var n=fG(t,e);return hG(n)?n:void 0}var Xo=pG,mG=Xo,gG=mG(Object,"create"),dv=gG,tM=dv;function yG(){this.__data__=tM?tM(null):{},this.size=0}var vG=yG;function _G(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var xG=_G,bG=dv,wG="__lodash_hash_undefined__",PG=Object.prototype,SG=PG.hasOwnProperty;function EG(t){var e=this.__data__;if(bG){var n=e[t];return n===wG?void 0:n}return SG.call(e,t)?e[t]:void 0}var TG=EG,AG=dv,MG=Object.prototype,NG=MG.hasOwnProperty;function IG(t){var e=this.__data__;return AG?e[t]!==void 0:NG.call(e,t)}var CG=IG,OG=dv,jG="__lodash_hash_undefined__";function kG(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=OG&&e===void 0?jG:e,this}var DG=kG,RG=vG,LG=xG,$G=TG,FG=CG,BG=DG;function mc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mc.prototype.clear=RG;mc.prototype.delete=LG;mc.prototype.get=$G;mc.prototype.has=FG;mc.prototype.set=BG;var VG=mc;function UG(){this.__data__=[],this.size=0}var zG=UG;function HG(t,e){return t===e||t!==t&&e!==e}var wP=HG,WG=wP;function GG(t,e){for(var n=t.length;n--;)if(WG(t[n][0],e))return n;return-1}var hv=GG,KG=hv,qG=Array.prototype,ZG=qG.splice;function YG(t){var e=this.__data__,n=KG(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ZG.call(e,n,1),--this.size,!0}var XG=YG,QG=hv;function JG(t){var e=this.__data__,n=QG(e,t);return n<0?void 0:e[n][1]}var eK=JG,tK=hv;function nK(t){return tK(this.__data__,t)>-1}var rK=nK,iK=hv;function aK(t,e){var n=this.__data__,r=iK(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var sK=aK,oK=zG,lK=XG,uK=eK,cK=rK,dK=sK;function gc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gc.prototype.clear=oK;gc.prototype.delete=lK;gc.prototype.get=uK;gc.prototype.has=cK;gc.prototype.set=dK;var fv=gc,hK=Xo,fK=zi,pK=hK(fK,"Map"),PP=pK,nM=VG,mK=fv,gK=PP;function yK(){this.size=0,this.__data__={hash:new nM,map:new(gK||mK),string:new nM}}var vK=yK;function _K(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var xK=_K,bK=xK;function wK(t,e){var n=t.__data__;return bK(e)?n[typeof e=="string"?"string":"hash"]:n.map}var pv=wK,PK=pv;function SK(t){var e=PK(this,t).delete(t);return this.size-=e?1:0,e}var EK=SK,TK=pv;function AK(t){return TK(this,t).get(t)}var MK=AK,NK=pv;function IK(t){return NK(this,t).has(t)}var CK=IK,OK=pv;function jK(t,e){var n=OK(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var kK=jK,DK=vK,RK=EK,LK=MK,$K=CK,FK=kK;function yc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yc.prototype.clear=DK;yc.prototype.delete=RK;yc.prototype.get=LK;yc.prototype.has=$K;yc.prototype.set=FK;var SP=yc,iR=SP,BK="Expected a function";function EP(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(BK);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(EP.Cache||iR),n}EP.Cache=iR;var aR=EP;const VK=dt(aR);var UK=aR,zK=500;function HK(t){var e=UK(t,function(r){return n.size===zK&&n.clear(),r}),n=e.cache;return e}var WK=HK,GK=WK,KK=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qK=/\\(\\)?/g,ZK=GK(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(KK,function(n,r,i,a){e.push(i?a.replace(qK,"$1"):r||n)}),e}),YK=ZK;function XK(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var TP=XK,rM=Of,QK=TP,JK=nr,eq=fc,iM=rM?rM.prototype:void 0,aM=iM?iM.toString:void 0;function sR(t){if(typeof t=="string")return t;if(JK(t))return QK(t,sR)+"";if(eq(t))return aM?aM.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var tq=sR,nq=tq;function rq(t){return t==null?"":nq(t)}var oR=rq,iq=nr,aq=xP,sq=YK,oq=oR;function lq(t,e){return iq(t)?t:aq(t,e)?[t]:sq(oq(t))}var lR=lq,uq=fc;function cq(t){if(typeof t=="string"||uq(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var mv=cq,dq=lR,hq=mv;function fq(t,e){e=dq(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[hq(e[n++])];return n&&n==r?t:void 0}var AP=fq,pq=AP;function mq(t,e,n){var r=t==null?void 0:pq(t,e);return r===void 0?n:r}var uR=mq;const Fr=dt(uR);function gq(t){return t==null}var yq=gq;const Fe=dt(yq);var vq=ka,_q=nr,xq=Da,bq="[object String]";function wq(t){return typeof t=="string"||!_q(t)&&xq(t)&&vq(t)==bq}var Pq=wq;const Uo=dt(Pq);var cR={exports:{}},at={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MP=Symbol.for("react.element"),NP=Symbol.for("react.portal"),gv=Symbol.for("react.fragment"),yv=Symbol.for("react.strict_mode"),vv=Symbol.for("react.profiler"),_v=Symbol.for("react.provider"),xv=Symbol.for("react.context"),Sq=Symbol.for("react.server_context"),bv=Symbol.for("react.forward_ref"),wv=Symbol.for("react.suspense"),Pv=Symbol.for("react.suspense_list"),Sv=Symbol.for("react.memo"),Ev=Symbol.for("react.lazy"),Eq=Symbol.for("react.offscreen"),dR;dR=Symbol.for("react.module.reference");function Hr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case MP:switch(t=t.type,t){case gv:case vv:case yv:case wv:case Pv:return t;default:switch(t=t&&t.$$typeof,t){case Sq:case xv:case bv:case Ev:case Sv:case _v:return t;default:return e}}case NP:return e}}}at.ContextConsumer=xv;at.ContextProvider=_v;at.Element=MP;at.ForwardRef=bv;at.Fragment=gv;at.Lazy=Ev;at.Memo=Sv;at.Portal=NP;at.Profiler=vv;at.StrictMode=yv;at.Suspense=wv;at.SuspenseList=Pv;at.isAsyncMode=function(){return!1};at.isConcurrentMode=function(){return!1};at.isContextConsumer=function(t){return Hr(t)===xv};at.isContextProvider=function(t){return Hr(t)===_v};at.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===MP};at.isForwardRef=function(t){return Hr(t)===bv};at.isFragment=function(t){return Hr(t)===gv};at.isLazy=function(t){return Hr(t)===Ev};at.isMemo=function(t){return Hr(t)===Sv};at.isPortal=function(t){return Hr(t)===NP};at.isProfiler=function(t){return Hr(t)===vv};at.isStrictMode=function(t){return Hr(t)===yv};at.isSuspense=function(t){return Hr(t)===wv};at.isSuspenseList=function(t){return Hr(t)===Pv};at.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===gv||t===vv||t===yv||t===wv||t===Pv||t===Eq||typeof t=="object"&&t!==null&&(t.$$typeof===Ev||t.$$typeof===Sv||t.$$typeof===_v||t.$$typeof===xv||t.$$typeof===bv||t.$$typeof===dR||t.getModuleId!==void 0)};at.typeOf=Hr;cR.exports=at;var Tq=cR.exports,Aq=ka,Mq=Da,Nq="[object Number]";function Iq(t){return typeof t=="number"||Mq(t)&&Aq(t)==Nq}var hR=Iq;const Cq=dt(hR);var Oq=hR;function jq(t){return Oq(t)&&t!=+t}var kq=jq;const jf=dt(kq);var di=function(e){return e===0?0:e>0?1:-1},xo=function(e){return Uo(e)&&e.indexOf("%")===e.length-1},fe=function(e){return Cq(e)&&!jf(e)},Dq=function(e){return Fe(e)},an=function(e){return fe(e)||Uo(e)},Rq=0,kf=function(e){var n=++Rq;return"".concat(e||"").concat(n)},zo=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fe(e)&&!Uo(e))return r;var a;if(xo(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return jf(a)&&(a=r),i&&a>n&&(a=n),a},$l=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Lq=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},li=function(e,n){return fe(e)&&fe(n)?function(r){return e+r*(n-e)}:function(){return n}};function bg(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Fr(r,e))===n})}var $q=function(e,n){return fe(e)&&fe(n)?e-n:Uo(e)&&Uo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function fu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function eb(t){"@babel/helpers - typeof";return eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eb(t)}var Fq=["viewBox","children"],Bq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],sM=["points","pathLength"],X_={svg:Fq,polygon:sM,polyline:sM},IP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],wg=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(U.isValidElement(e)&&(r=e.props),!pc(r))return null;var i={};return Object.keys(r).forEach(function(a){IP.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},Vq=function(e,n,r){return function(i){return e(n,r,i),null}},Pg=function(e,n,r){if(!pc(e)||eb(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];IP.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Vq(s,n,r))}),i},Uq=["children"],zq=["children"];function oM(t,e){if(t==null)return{};var n=Hq(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tb(t){"@babel/helpers - typeof";return tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tb(t)}var lM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},pa=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},uM=null,Q_=null,CP=function t(e){if(e===uM&&Array.isArray(Q_))return Q_;var n=[];return U.Children.forEach(e,function(r){Fe(r)||(Tq.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Q_=n,uM=e,n};function Br(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return pa(i)}):r=[pa(e)],CP(t).forEach(function(i){var a=Fr(i,"type.displayName")||Fr(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function cr(t,e){var n=Br(t,e);return n&&n[0]}var cM=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!fe(r)||r<=0||!fe(i)||i<=0)},Wq=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Gq=function(e){return e&&e.type&&Uo(e.type)&&Wq.indexOf(e.type)>=0},Kq=function(e){return e&&tb(e)==="object"&&"clipDot"in e},qq=function(e,n,r,i){var a,s=(a=X_==null?void 0:X_[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!ze(e)&&(i&&s.includes(n)||Bq.includes(n))||r&&IP.includes(n)},Ke=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(U.isValidElement(e)&&(i=e.props),!pc(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;qq((l=i)===null||l===void 0?void 0:l[s],s,n,r)&&(a[s]=i[s])}),a},nb=function t(e,n){if(e===n)return!0;var r=U.Children.count(e);if(r!==U.Children.count(n))return!1;if(r===0)return!0;if(r===1)return dM(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!dM(a,s))return!1}return!0},dM=function(e,n){if(Fe(e)&&Fe(n))return!0;if(!Fe(e)&&!Fe(n)){var r=e.props||{},i=r.children,a=oM(r,Uq),s=n.props||{},l=s.children,u=oM(s,zq);return i&&l?fu(a,u)&&nb(i,l):!i&&!l?fu(a,u):!1}return!1},hM=function(e,n){var r=[],i={};return CP(e).forEach(function(a,s){if(Gq(a))r.push(a);else if(a){var l=pa(a.type),u=n[l]||{},c=u.handler,p=u.once;if(c&&(!p||!i[l])){var f=c(a,l,s);r.push(f),i[l]=!0}}}),r},Zq=function(e){var n=e&&e.type;return n&&lM[n]?lM[n]:null},Yq=function(e,n){return CP(n).indexOf(e)},Xq=["children","width","height","viewBox","className","style","title","desc"];function rb(){return rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rb.apply(this,arguments)}function Qq(t,e){if(t==null)return{};var n=Jq(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ib(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,l=t.title,u=t.desc,c=Qq(t,Xq),p=i||{width:n,height:r,x:0,y:0},f=Ze("recharts-surface",a);return X.createElement("svg",rb({},Ke(c,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),X.createElement("title",null,l),X.createElement("desc",null,u),e)}var eZ=["children","className"];function ab(){return ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ab.apply(this,arguments)}function tZ(t,e){if(t==null)return{};var n=nZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Bt=X.forwardRef(function(t,e){var n=t.children,r=t.className,i=tZ(t,eZ),a=Ze("recharts-layer",r);return X.createElement("g",ab({className:a},Ke(i,!0),{ref:e}),n)}),Mo=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function rZ(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var iZ=rZ,aZ=iZ;function sZ(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:aZ(t,e,n)}var oZ=sZ,lZ="\\ud800-\\udfff",uZ="\\u0300-\\u036f",cZ="\\ufe20-\\ufe2f",dZ="\\u20d0-\\u20ff",hZ=uZ+cZ+dZ,fZ="\\ufe0e\\ufe0f",pZ="\\u200d",mZ=RegExp("["+pZ+lZ+hZ+fZ+"]");function gZ(t){return mZ.test(t)}var fR=gZ;function yZ(t){return t.split("")}var vZ=yZ,pR="\\ud800-\\udfff",_Z="\\u0300-\\u036f",xZ="\\ufe20-\\ufe2f",bZ="\\u20d0-\\u20ff",wZ=_Z+xZ+bZ,PZ="\\ufe0e\\ufe0f",SZ="["+pR+"]",sb="["+wZ+"]",ob="\\ud83c[\\udffb-\\udfff]",EZ="(?:"+sb+"|"+ob+")",mR="[^"+pR+"]",gR="(?:\\ud83c[\\udde6-\\uddff]){2}",yR="[\\ud800-\\udbff][\\udc00-\\udfff]",TZ="\\u200d",vR=EZ+"?",_R="["+PZ+"]?",AZ="(?:"+TZ+"(?:"+[mR,gR,yR].join("|")+")"+_R+vR+")*",MZ=_R+vR+AZ,NZ="(?:"+[mR+sb+"?",sb,gR,yR,SZ].join("|")+")",IZ=RegExp(ob+"(?="+ob+")|"+NZ+MZ,"g");function CZ(t){return t.match(IZ)||[]}var OZ=CZ,jZ=vZ,kZ=fR,DZ=OZ;function RZ(t){return kZ(t)?DZ(t):jZ(t)}var LZ=RZ,$Z=oZ,FZ=fR,BZ=LZ,VZ=oR;function UZ(t){return function(e){e=VZ(e);var n=FZ(e)?BZ(e):void 0,r=n?n[0]:e.charAt(0),i=n?$Z(n,1).join(""):e.slice(1);return r[t]()+i}}var zZ=UZ,HZ=zZ,WZ=HZ("toUpperCase"),GZ=WZ;const Tv=dt(GZ);function ft(t){return function(){return t}}const xR=Math.cos,Sg=Math.sin,vi=Math.sqrt,Eg=Math.PI,Av=2*Eg,lb=Math.PI,ub=2*lb,ho=1e-6,KZ=ub-ho;function bR(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function qZ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return bR;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ZZ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?bR:qZ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,u=r-e,c=i-n,p=s-e,f=l-n,y=p*p+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>ho)if(!(Math.abs(f*u-c*p)>ho)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-s,b=i-l,S=u*u+c*c,x=v*v+b*b,P=Math.sqrt(S),w=Math.sqrt(y),T=a*Math.tan((lb-Math.acos((S+y-x)/(2*P*w)))/2),I=T/w,N=T/P;Math.abs(I-1)>ho&&this._append`L${e+I*p},${n+I*f}`,this._append`A${a},${a},0,0,${+(f*v>p*b)},${this._x1=e+N*u},${this._y1=n+N*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),c=e+l,p=n+u,f=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${c},${p}`:(Math.abs(this._x1-c)>ho||Math.abs(this._y1-p)>ho)&&this._append`L${c},${p}`,r&&(y<0&&(y=y%ub+ub),y>KZ?this._append`A${r},${r},0,1,${f},${e-l},${n-u}A${r},${r},0,1,${f},${this._x1=c},${this._y1=p}`:y>ho&&this._append`A${r},${r},0,${+(y>=lb)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function OP(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new ZZ(e)}function jP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function wR(t){this._context=t}wR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Mv(t){return new wR(t)}function PR(t){return t[0]}function SR(t){return t[1]}function ER(t,e){var n=ft(!0),r=null,i=Mv,a=null,s=OP(l);t=typeof t=="function"?t:t===void 0?PR:ft(t),e=typeof e=="function"?e:e===void 0?SR:ft(e);function l(u){var c,p=(u=jP(u)).length,f,y=!1,v;for(r==null&&(a=i(v=s())),c=0;c<=p;++c)!(c<p&&n(f=u[c],c,u))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(f,c,u),+e(f,c,u));if(v)return a=null,v+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:ft(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:ft(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:ft(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),l):r},l}function Wp(t,e,n){var r=null,i=ft(!0),a=null,s=Mv,l=null,u=OP(c);t=typeof t=="function"?t:t===void 0?PR:ft(+t),e=typeof e=="function"?e:ft(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?SR:ft(+n);function c(f){var y,v,b,S=(f=jP(f)).length,x,P=!1,w,T=new Array(S),I=new Array(S);for(a==null&&(l=s(w=u())),y=0;y<=S;++y){if(!(y<S&&i(x=f[y],y,f))===P)if(P=!P)v=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=y-1;b>=v;--b)l.point(T[b],I[b]);l.lineEnd(),l.areaEnd()}P&&(T[y]=+t(x,y,f),I[y]=+e(x,y,f),l.point(r?+r(x,y,f):T[y],n?+n(x,y,f):I[y]))}if(w)return l=null,w+""||null}function p(){return ER().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:ft(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ft(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ft(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:ft(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ft(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ft(+f),c):n},c.lineX0=c.lineY0=function(){return p().x(t).y(e)},c.lineY1=function(){return p().x(t).y(n)},c.lineX1=function(){return p().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ft(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(l=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=l=null:l=s(a=f),c):a},c}class TR{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function YZ(t){return new TR(t,!0)}function XZ(t){return new TR(t,!1)}const kP={draw(t,e){const n=vi(e/Eg);t.moveTo(n,0),t.arc(0,0,n,0,Av)}},QZ={draw(t,e){const n=vi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},AR=vi(1/3),JZ=AR*2,eY={draw(t,e){const n=vi(e/JZ),r=n*AR;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},tY={draw(t,e){const n=vi(e),r=-n/2;t.rect(r,r,n,n)}},nY=.8908130915292852,MR=Sg(Eg/10)/Sg(7*Eg/10),rY=Sg(Av/10)*MR,iY=-xR(Av/10)*MR,aY={draw(t,e){const n=vi(e*nY),r=rY*n,i=iY*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=Av*a/5,l=xR(s),u=Sg(s);t.lineTo(u*n,-l*n),t.lineTo(l*r-u*i,u*r+l*i)}t.closePath()}},J_=vi(3),sY={draw(t,e){const n=-vi(e/(J_*3));t.moveTo(0,n*2),t.lineTo(-J_*n,-n),t.lineTo(J_*n,-n),t.closePath()}},Nr=-.5,Ir=vi(3)/2,cb=1/vi(12),oY=(cb/2+1)*3,lY={draw(t,e){const n=vi(e/oY),r=n/2,i=n*cb,a=r,s=n*cb+n,l=-a,u=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(l,u),t.lineTo(Nr*r-Ir*i,Ir*r+Nr*i),t.lineTo(Nr*a-Ir*s,Ir*a+Nr*s),t.lineTo(Nr*l-Ir*u,Ir*l+Nr*u),t.lineTo(Nr*r+Ir*i,Nr*i-Ir*r),t.lineTo(Nr*a+Ir*s,Nr*s-Ir*a),t.lineTo(Nr*l+Ir*u,Nr*u-Ir*l),t.closePath()}};function uY(t,e){let n=null,r=OP(i);t=typeof t=="function"?t:ft(t||kP),e=typeof e=="function"?e:ft(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ft(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ft(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Tg(){}function Ag(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function NR(t){this._context=t}NR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ag(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ag(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cY(t){return new NR(t)}function IR(t){this._context=t}IR.prototype={areaStart:Tg,areaEnd:Tg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ag(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dY(t){return new IR(t)}function CR(t){this._context=t}CR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ag(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hY(t){return new CR(t)}function OR(t){this._context=t}OR.prototype={areaStart:Tg,areaEnd:Tg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fY(t){return new OR(t)}function fM(t){return t<0?-1:1}function pM(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(a*i+s*r)/(r+i);return(fM(a)+fM(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function mM(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function e0(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,s-l*n,a,s)}function Mg(t){this._context=t}Mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:e0(this,this._t0,mM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,e0(this,mM(this,n=pM(this,t,e)),n);break;default:e0(this,this._t0,n=pM(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function jR(t){this._context=new kR(t)}(jR.prototype=Object.create(Mg.prototype)).point=function(t,e){Mg.prototype.point.call(this,e,t)};function kR(t){this._context=t}kR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function pY(t){return new Mg(t)}function mY(t){return new jR(t)}function DR(t){this._context=t}DR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=gM(t),i=gM(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function gM(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function gY(t){return new DR(t)}function Nv(t,e){this._context=t,this._t=e}Nv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function yY(t){return new Nv(t,.5)}function vY(t){return new Nv(t,0)}function _Y(t){return new Nv(t,1)}function ju(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,l=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function db(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function xY(t,e){return t[e]}function bY(t){const e=[];return e.key=t,e}function wY(){var t=ft([]),e=db,n=ju,r=xY;function i(a){var s=Array.from(t.apply(this,arguments),bY),l,u=s.length,c=-1,p;for(const f of a)for(l=0,++c;l<u;++l)(s[l][c]=[0,+r(f,s[l].key,c,a)]).data=f;for(l=0,p=jP(e(s));l<u;++l)s[p[l]].index=l;return n(s,p),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ft(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ft(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?db:typeof a=="function"?a:ft(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??ju,i):n},i}function PY(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}ju(t,e)}}function SY(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}ju(t,e)}}function EY(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var l=0,u=0,c=0;l<s;++l){for(var p=t[e[l]],f=p[r][1]||0,y=p[r-1][1]||0,v=(f-y)/2,b=0;b<l;++b){var S=t[e[b]],x=S[r][1]||0,P=S[r-1][1]||0;v+=x-P}u+=f,c+=v*f}i[r-1][1]+=i[r-1][0]=n,u&&(n-=c/u)}i[r-1][1]+=i[r-1][0]=n,ju(t,e)}}function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}var TY=["type","size","sizeType"];function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hb.apply(this,arguments)}function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){AY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AY(t,e,n){return e=MY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MY(t){var e=NY(t,"string");return kh(e)=="symbol"?e:e+""}function NY(t,e){if(kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IY(t,e){if(t==null)return{};var n=CY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var RR={symbolCircle:kP,symbolCross:QZ,symbolDiamond:eY,symbolSquare:tY,symbolStar:aY,symbolTriangle:sY,symbolWye:lY},OY=Math.PI/180,jY=function(e){var n="symbol".concat(Tv(e));return RR[n]||kP},kY=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*OY;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},DY=function(e,n){RR["symbol".concat(Tv(e))]=n},DP=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,u=IY(e,TY),c=vM(vM({},u),{},{type:r,size:a,sizeType:l}),p=function(){var x=jY(r),P=uY().type(x).size(kY(a,l,r));return P()},f=c.className,y=c.cx,v=c.cy,b=Ke(c,!0);return y===+y&&v===+v&&a===+a?X.createElement("path",hb({},b,{className:Ze("recharts-symbols",f),transform:"translate(".concat(y,", ").concat(v,")"),d:p()})):null};DP.registerSymbol=DY;function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function fb(){return fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fb.apply(this,arguments)}function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(n),!0).forEach(function(r){Dh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$R(r.key),r)}}function FY(t,e,n){return e&&$Y(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BY(t,e,n){return e=Ng(e),VY(t,LR()?Reflect.construct(e,n||[],Ng(t).constructor):e.apply(t,n))}function VY(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UY(t)}function UY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LR=function(){return!!t})()}function Ng(t){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ng(t)}function zY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pb(t,e)}function pb(t,e){return pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pb(t,e)}function Dh(t,e,n){return e=$R(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $R(t){var e=HY(t,"string");return ku(e)=="symbol"?e:e+""}function HY(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cr=32,RP=function(t){function e(){return LY(this,e),BY(this,e,arguments)}return zY(e,t),FY(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Cr/2,s=Cr/6,l=Cr/3,u=r.inactive?i:r.color;if(r.type==="plainline")return X.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Cr,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return X.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Cr,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return X.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Cr/8,"h").concat(Cr,"v").concat(Cr*3/4,"h").concat(-Cr,"z"),className:"recharts-legend-icon"});if(X.isValidElement(r.legendIcon)){var c=RY({},r);return delete c.legendIcon,X.cloneElement(r.legendIcon,c)}return X.createElement(DP,{fill:u,cx:a,cy:a,size:Cr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,u=i.formatter,c=i.inactiveColor,p={x:0,y:0,width:Cr,height:Cr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(v,b){var S=v.formatter||u,x=Ze(Dh(Dh({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",v.inactive));if(v.type==="none")return null;var P=ze(v.value)?null:v.value;Mo(!ze(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=v.inactive?c:v.color;return X.createElement("li",fb({className:x,style:f,key:"legend-item-".concat(b)},Pg(r.props,v,b)),X.createElement(ib,{width:s,height:s,viewBox:p,style:y},r.renderIcon(v)),X.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},S?S(P,v,b):P))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return X.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(U.PureComponent);Dh(RP,"displayName","Legend");Dh(RP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var WY=fv;function GY(){this.__data__=new WY,this.size=0}var KY=GY;function qY(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var ZY=qY;function YY(t){return this.__data__.get(t)}var XY=YY;function QY(t){return this.__data__.has(t)}var JY=QY,eX=fv,tX=PP,nX=SP,rX=200;function iX(t,e){var n=this.__data__;if(n instanceof eX){var r=n.__data__;if(!tX||r.length<rX-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new nX(r)}return n.set(t,e),this.size=n.size,this}var aX=iX,sX=fv,oX=KY,lX=ZY,uX=XY,cX=JY,dX=aX;function vc(t){var e=this.__data__=new sX(t);this.size=e.size}vc.prototype.clear=oX;vc.prototype.delete=lX;vc.prototype.get=uX;vc.prototype.has=cX;vc.prototype.set=dX;var FR=vc,hX="__lodash_hash_undefined__";function fX(t){return this.__data__.set(t,hX),this}var pX=fX;function mX(t){return this.__data__.has(t)}var gX=mX,yX=SP,vX=pX,_X=gX;function Ig(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new yX;++e<n;)this.add(t[e])}Ig.prototype.add=Ig.prototype.push=vX;Ig.prototype.has=_X;var BR=Ig;function xX(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var VR=xX;function bX(t,e){return t.has(e)}var UR=bX,wX=BR,PX=VR,SX=UR,EX=1,TX=2;function AX(t,e,n,r,i,a){var s=n&EX,l=t.length,u=e.length;if(l!=u&&!(s&&u>l))return!1;var c=a.get(t),p=a.get(e);if(c&&p)return c==e&&p==t;var f=-1,y=!0,v=n&TX?new wX:void 0;for(a.set(t,e),a.set(e,t);++f<l;){var b=t[f],S=e[f];if(r)var x=s?r(S,b,f,e,t,a):r(b,S,f,t,e,a);if(x!==void 0){if(x)continue;y=!1;break}if(v){if(!PX(e,function(P,w){if(!SX(v,w)&&(b===P||i(b,P,n,r,a)))return v.push(w)})){y=!1;break}}else if(!(b===S||i(b,S,n,r,a))){y=!1;break}}return a.delete(t),a.delete(e),y}var zR=AX,MX=zi,NX=MX.Uint8Array,IX=NX;function CX(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var OX=CX;function jX(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var LP=jX,xM=Of,bM=IX,kX=wP,DX=zR,RX=OX,LX=LP,$X=1,FX=2,BX="[object Boolean]",VX="[object Date]",UX="[object Error]",zX="[object Map]",HX="[object Number]",WX="[object RegExp]",GX="[object Set]",KX="[object String]",qX="[object Symbol]",ZX="[object ArrayBuffer]",YX="[object DataView]",wM=xM?xM.prototype:void 0,t0=wM?wM.valueOf:void 0;function XX(t,e,n,r,i,a,s){switch(n){case YX:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ZX:return!(t.byteLength!=e.byteLength||!a(new bM(t),new bM(e)));case BX:case VX:case HX:return kX(+t,+e);case UX:return t.name==e.name&&t.message==e.message;case WX:case KX:return t==e+"";case zX:var l=RX;case GX:var u=r&$X;if(l||(l=LX),t.size!=e.size&&!u)return!1;var c=s.get(t);if(c)return c==e;r|=FX,s.set(t,e);var p=DX(l(t),l(e),r,i,a,s);return s.delete(t),p;case qX:if(t0)return t0.call(t)==t0.call(e)}return!1}var QX=XX;function JX(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var HR=JX,eQ=HR,tQ=nr;function nQ(t,e,n){var r=e(t);return tQ(t)?r:eQ(r,n(t))}var rQ=nQ;function iQ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var aQ=iQ;function sQ(){return[]}var oQ=sQ,lQ=aQ,uQ=oQ,cQ=Object.prototype,dQ=cQ.propertyIsEnumerable,PM=Object.getOwnPropertySymbols,hQ=PM?function(t){return t==null?[]:(t=Object(t),lQ(PM(t),function(e){return dQ.call(t,e)}))}:uQ,fQ=hQ;function pQ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var mQ=pQ,gQ=ka,yQ=Da,vQ="[object Arguments]";function _Q(t){return yQ(t)&&gQ(t)==vQ}var xQ=_Q,SM=xQ,bQ=Da,WR=Object.prototype,wQ=WR.hasOwnProperty,PQ=WR.propertyIsEnumerable,SQ=SM(function(){return arguments}())?SM:function(t){return bQ(t)&&wQ.call(t,"callee")&&!PQ.call(t,"callee")},$P=SQ,Cg={exports:{}};function EQ(){return!1}var TQ=EQ;Cg.exports;(function(t,e){var n=zi,r=TQ,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,l=s?n.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||r;t.exports=c})(Cg,Cg.exports);var GR=Cg.exports,AQ=9007199254740991,MQ=/^(?:0|[1-9]\d*)$/;function NQ(t,e){var n=typeof t;return e=e??AQ,!!e&&(n=="number"||n!="symbol"&&MQ.test(t))&&t>-1&&t%1==0&&t<e}var FP=NQ,IQ=9007199254740991;function CQ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=IQ}var BP=CQ,OQ=ka,jQ=BP,kQ=Da,DQ="[object Arguments]",RQ="[object Array]",LQ="[object Boolean]",$Q="[object Date]",FQ="[object Error]",BQ="[object Function]",VQ="[object Map]",UQ="[object Number]",zQ="[object Object]",HQ="[object RegExp]",WQ="[object Set]",GQ="[object String]",KQ="[object WeakMap]",qQ="[object ArrayBuffer]",ZQ="[object DataView]",YQ="[object Float32Array]",XQ="[object Float64Array]",QQ="[object Int8Array]",JQ="[object Int16Array]",eJ="[object Int32Array]",tJ="[object Uint8Array]",nJ="[object Uint8ClampedArray]",rJ="[object Uint16Array]",iJ="[object Uint32Array]",vt={};vt[YQ]=vt[XQ]=vt[QQ]=vt[JQ]=vt[eJ]=vt[tJ]=vt[nJ]=vt[rJ]=vt[iJ]=!0;vt[DQ]=vt[RQ]=vt[qQ]=vt[LQ]=vt[ZQ]=vt[$Q]=vt[FQ]=vt[BQ]=vt[VQ]=vt[UQ]=vt[zQ]=vt[HQ]=vt[WQ]=vt[GQ]=vt[KQ]=!1;function aJ(t){return kQ(t)&&jQ(t.length)&&!!vt[OQ(t)]}var sJ=aJ;function oJ(t){return function(e){return t(e)}}var KR=oJ,Og={exports:{}};Og.exports;(function(t,e){var n=tR,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,l=function(){try{var u=i&&i.require&&i.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();t.exports=l})(Og,Og.exports);var lJ=Og.exports,uJ=sJ,cJ=KR,EM=lJ,TM=EM&&EM.isTypedArray,dJ=TM?cJ(TM):uJ,qR=dJ,hJ=mQ,fJ=$P,pJ=nr,mJ=GR,gJ=FP,yJ=qR,vJ=Object.prototype,_J=vJ.hasOwnProperty;function xJ(t,e){var n=pJ(t),r=!n&&fJ(t),i=!n&&!r&&mJ(t),a=!n&&!r&&!i&&yJ(t),s=n||r||i||a,l=s?hJ(t.length,String):[],u=l.length;for(var c in t)(e||_J.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||gJ(c,u)))&&l.push(c);return l}var bJ=xJ,wJ=Object.prototype;function PJ(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||wJ;return t===n}var SJ=PJ;function EJ(t,e){return function(n){return t(e(n))}}var ZR=EJ,TJ=ZR,AJ=TJ(Object.keys,Object),MJ=AJ,NJ=SJ,IJ=MJ,CJ=Object.prototype,OJ=CJ.hasOwnProperty;function jJ(t){if(!NJ(t))return IJ(t);var e=[];for(var n in Object(t))OJ.call(t,n)&&n!="constructor"&&e.push(n);return e}var kJ=jJ,DJ=bP,RJ=BP;function LJ(t){return t!=null&&RJ(t.length)&&!DJ(t)}var Iv=LJ,$J=bJ,FJ=kJ,BJ=Iv;function VJ(t){return BJ(t)?$J(t):FJ(t)}var VP=VJ,UJ=rQ,zJ=fQ,HJ=VP;function WJ(t){return UJ(t,HJ,zJ)}var GJ=WJ,AM=GJ,KJ=1,qJ=Object.prototype,ZJ=qJ.hasOwnProperty;function YJ(t,e,n,r,i,a){var s=n&KJ,l=AM(t),u=l.length,c=AM(e),p=c.length;if(u!=p&&!s)return!1;for(var f=u;f--;){var y=l[f];if(!(s?y in e:ZJ.call(e,y)))return!1}var v=a.get(t),b=a.get(e);if(v&&b)return v==e&&b==t;var S=!0;a.set(t,e),a.set(e,t);for(var x=s;++f<u;){y=l[f];var P=t[y],w=e[y];if(r)var T=s?r(w,P,y,e,t,a):r(P,w,y,t,e,a);if(!(T===void 0?P===w||i(P,w,n,r,a):T)){S=!1;break}x||(x=y=="constructor")}if(S&&!x){var I=t.constructor,N=e.constructor;I!=N&&"constructor"in t&&"constructor"in e&&!(typeof I=="function"&&I instanceof I&&typeof N=="function"&&N instanceof N)&&(S=!1)}return a.delete(t),a.delete(e),S}var XJ=YJ,QJ=Xo,JJ=zi,eee=QJ(JJ,"DataView"),tee=eee,nee=Xo,ree=zi,iee=nee(ree,"Promise"),aee=iee,see=Xo,oee=zi,lee=see(oee,"Set"),YR=lee,uee=Xo,cee=zi,dee=uee(cee,"WeakMap"),hee=dee,mb=tee,gb=PP,yb=aee,vb=YR,_b=hee,XR=ka,_c=rR,MM="[object Map]",fee="[object Object]",NM="[object Promise]",IM="[object Set]",CM="[object WeakMap]",OM="[object DataView]",pee=_c(mb),mee=_c(gb),gee=_c(yb),yee=_c(vb),vee=_c(_b),fo=XR;(mb&&fo(new mb(new ArrayBuffer(1)))!=OM||gb&&fo(new gb)!=MM||yb&&fo(yb.resolve())!=NM||vb&&fo(new vb)!=IM||_b&&fo(new _b)!=CM)&&(fo=function(t){var e=XR(t),n=e==fee?t.constructor:void 0,r=n?_c(n):"";if(r)switch(r){case pee:return OM;case mee:return MM;case gee:return NM;case yee:return IM;case vee:return CM}return e});var _ee=fo,n0=FR,xee=zR,bee=QX,wee=XJ,jM=_ee,kM=nr,DM=GR,Pee=qR,See=1,RM="[object Arguments]",LM="[object Array]",Gp="[object Object]",Eee=Object.prototype,$M=Eee.hasOwnProperty;function Tee(t,e,n,r,i,a){var s=kM(t),l=kM(e),u=s?LM:jM(t),c=l?LM:jM(e);u=u==RM?Gp:u,c=c==RM?Gp:c;var p=u==Gp,f=c==Gp,y=u==c;if(y&&DM(t)){if(!DM(e))return!1;s=!0,p=!1}if(y&&!p)return a||(a=new n0),s||Pee(t)?xee(t,e,n,r,i,a):bee(t,e,u,n,r,i,a);if(!(n&See)){var v=p&&$M.call(t,"__wrapped__"),b=f&&$M.call(e,"__wrapped__");if(v||b){var S=v?t.value():t,x=b?e.value():e;return a||(a=new n0),i(S,x,n,r,a)}}return y?(a||(a=new n0),wee(t,e,n,r,i,a)):!1}var Aee=Tee,Mee=Aee,FM=Da;function QR(t,e,n,r,i){return t===e?!0:t==null||e==null||!FM(t)&&!FM(e)?t!==t&&e!==e:Mee(t,e,n,r,QR,i)}var UP=QR,Nee=FR,Iee=UP,Cee=1,Oee=2;function jee(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var l=n[i];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<a;){l=n[i];var u=l[0],c=t[u],p=l[1];if(s&&l[2]){if(c===void 0&&!(u in t))return!1}else{var f=new Nee;if(r)var y=r(c,p,u,t,e,f);if(!(y===void 0?Iee(p,c,Cee|Oee,r,f):y))return!1}}return!0}var kee=jee,Dee=Vs;function Ree(t){return t===t&&!Dee(t)}var JR=Ree,Lee=JR,$ee=VP;function Fee(t){for(var e=$ee(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Lee(i)]}return e}var Bee=Fee;function Vee(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var eL=Vee,Uee=kee,zee=Bee,Hee=eL;function Wee(t){var e=zee(t);return e.length==1&&e[0][2]?Hee(e[0][0],e[0][1]):function(n){return n===t||Uee(n,t,e)}}var Gee=Wee;function Kee(t,e){return t!=null&&e in Object(t)}var qee=Kee,Zee=lR,Yee=$P,Xee=nr,Qee=FP,Jee=BP,ete=mv;function tte(t,e,n){e=Zee(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=ete(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&Jee(i)&&Qee(s,i)&&(Xee(t)||Yee(t)))}var nte=tte,rte=qee,ite=nte;function ate(t,e){return t!=null&&ite(t,e,rte)}var ste=ate,ote=UP,lte=uR,ute=ste,cte=xP,dte=JR,hte=eL,fte=mv,pte=1,mte=2;function gte(t,e){return cte(t)&&dte(e)?hte(fte(t),e):function(n){var r=lte(n,t);return r===void 0&&r===e?ute(n,t):ote(e,r,pte|mte)}}var yte=gte;function vte(t){return t}var xc=vte;function _te(t){return function(e){return e==null?void 0:e[t]}}var xte=_te,bte=AP;function wte(t){return function(e){return bte(e,t)}}var Pte=wte,Ste=xte,Ete=Pte,Tte=xP,Ate=mv;function Mte(t){return Tte(t)?Ste(Ate(t)):Ete(t)}var Nte=Mte,Ite=Gee,Cte=yte,Ote=xc,jte=nr,kte=Nte;function Dte(t){return typeof t=="function"?t:t==null?Ote:typeof t=="object"?jte(t)?Cte(t[0],t[1]):Ite(t):kte(t)}var bc=Dte;function Rte(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var Lte=Rte;function $te(t){return t!==t}var Fte=$te;function Bte(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Vte=Bte,Ute=Lte,zte=Fte,Hte=Vte;function Wte(t,e,n){return e===e?Hte(t,e,n):Ute(t,zte,n)}var Gte=Wte,Kte=Gte;function qte(t,e){var n=t==null?0:t.length;return!!n&&Kte(t,e,0)>-1}var Zte=qte;function Yte(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Xte=Yte;function Qte(){}var Jte=Qte,r0=YR,ene=Jte,tne=LP,nne=1/0,rne=r0&&1/tne(new r0([,-0]))[1]==nne?function(t){return new r0(t)}:ene,ine=rne,ane=BR,sne=Zte,one=Xte,lne=UR,une=ine,cne=LP,dne=200;function hne(t,e,n){var r=-1,i=sne,a=t.length,s=!0,l=[],u=l;if(n)s=!1,i=one;else if(a>=dne){var c=e?null:une(t);if(c)return cne(c);s=!1,i=lne,u=new ane}else u=e?[]:l;e:for(;++r<a;){var p=t[r],f=e?e(p):p;if(p=n||p!==0?p:0,s&&f===f){for(var y=u.length;y--;)if(u[y]===f)continue e;e&&u.push(f),l.push(p)}else i(u,f,n)||(u!==l&&u.push(f),l.push(p))}return l}var fne=hne,pne=bc,mne=fne;function gne(t,e){return t&&t.length?mne(t,pne(e)):[]}var yne=gne;const BM=dt(yne);function tL(t,e,n){return e===!0?BM(t,n):ze(e)?BM(t,e):t}function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}var vne=["ref"];function VM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ta(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(n),!0).forEach(function(r){Cv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rL(r.key),r)}}function xne(t,e,n){return e&&UM(t.prototype,e),n&&UM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bne(t,e,n){return e=jg(e),wne(t,nL()?Reflect.construct(e,n||[],jg(t).constructor):e.apply(t,n))}function wne(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pne(t)}function Pne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nL=function(){return!!t})()}function jg(t){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jg(t)}function Sne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xb(t,e)}function xb(t,e){return xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xb(t,e)}function Cv(t,e,n){return e=rL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rL(t){var e=Ene(t,"string");return Du(e)=="symbol"?e:e+""}function Ene(t,e){if(Du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Tne(t,e){if(t==null)return{};var n=Ane(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ane(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mne(t){return t.value}function Nne(t,e){if(X.isValidElement(t))return X.cloneElement(t,e);if(typeof t=="function")return X.createElement(t,e);e.ref;var n=Tne(e,vne);return X.createElement(RP,n)}var zM=1,pu=function(t){function e(){var n;_ne(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=bne(this,e,[].concat(i)),Cv(n,"lastBoundingBox",{width:-1,height:-1}),n}return Sne(e,t),xne(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>zM||Math.abs(i.height-this.lastBoundingBox.height)>zM)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ta({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,u=i.margin,c=i.chartWidth,p=i.chartHeight,f,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var v=this.getBBoxSnapshot();f={left:((c||0)-v.width)/2}}else f=s==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();y={top:((p||0)-b.height)/2}}else y=l==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return ta(ta({},f),y)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,l=i.height,u=i.wrapperStyle,c=i.payloadUniqBy,p=i.payload,f=ta(ta({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(u)),u);return X.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(v){r.wrapperNode=v}},Nne(a,ta(ta({},this.props),{},{payload:tL(p,c,Mne)})))}}],[{key:"getWithHeight",value:function(r,i){var a=ta(ta({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&fe(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(U.PureComponent);Cv(pu,"displayName","Legend");Cv(pu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var HM=Of,Ine=$P,Cne=nr,WM=HM?HM.isConcatSpreadable:void 0;function One(t){return Cne(t)||Ine(t)||!!(WM&&t&&t[WM])}var jne=One,kne=HR,Dne=jne;function iL(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=Dne),i||(i=[]);++a<s;){var l=t[a];e>0&&n(l)?e>1?iL(l,e-1,n,r,i):kne(i,l):r||(i[i.length]=l)}return i}var aL=iL;function Rne(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),l=s.length;l--;){var u=s[t?l:++i];if(n(a[u],u,a)===!1)break}return e}}var Lne=Rne,$ne=Lne,Fne=$ne(),Bne=Fne,Vne=Bne,Une=VP;function zne(t,e){return t&&Vne(t,e,Une)}var sL=zne,Hne=Iv;function Wne(t,e){return function(n,r){if(n==null)return n;if(!Hne(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var Gne=Wne,Kne=sL,qne=Gne,Zne=qne(Kne),zP=Zne,Yne=zP,Xne=Iv;function Qne(t,e){var n=-1,r=Xne(t)?Array(t.length):[];return Yne(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var oL=Qne;function Jne(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var ere=Jne,GM=fc;function tre(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=GM(t),s=e!==void 0,l=e===null,u=e===e,c=GM(e);if(!l&&!c&&!a&&t>e||a&&s&&u&&!l&&!c||r&&s&&u||!n&&u||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||l&&n&&i||!s&&i||!u)return-1}return 0}var nre=tre,rre=nre;function ire(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,l=n.length;++r<s;){var u=rre(i[r],a[r]);if(u){if(r>=l)return u;var c=n[r];return u*(c=="desc"?-1:1)}}return t.index-e.index}var are=ire,i0=TP,sre=AP,ore=bc,lre=oL,ure=ere,cre=KR,dre=are,hre=xc,fre=nr;function pre(t,e,n){e.length?e=i0(e,function(a){return fre(a)?function(s){return sre(s,a.length===1?a[0]:a)}:a}):e=[hre];var r=-1;e=i0(e,cre(ore));var i=lre(t,function(a,s,l){var u=i0(e,function(c){return c(a)});return{criteria:u,index:++r,value:a}});return ure(i,function(a,s){return dre(a,s,n)})}var mre=pre;function gre(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var yre=gre,vre=yre,KM=Math.max;function _re(t,e,n){return e=KM(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=KM(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(s),vre(t,this,l)}}var xre=_re;function bre(t){return function(){return t}}var wre=bre,Pre=Xo,Sre=function(){try{var t=Pre(Object,"defineProperty");return t({},"",{}),t}catch{}}(),lL=Sre,Ere=wre,qM=lL,Tre=xc,Are=qM?function(t,e){return qM(t,"toString",{configurable:!0,enumerable:!1,value:Ere(e),writable:!0})}:Tre,Mre=Are,Nre=800,Ire=16,Cre=Date.now;function Ore(t){var e=0,n=0;return function(){var r=Cre(),i=Ire-(r-n);if(n=r,i>0){if(++e>=Nre)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var jre=Ore,kre=Mre,Dre=jre,Rre=Dre(kre),Lre=Rre,$re=xc,Fre=xre,Bre=Lre;function Vre(t,e){return Bre(Fre(t,e,$re),t+"")}var Ure=Vre,zre=wP,Hre=Iv,Wre=FP,Gre=Vs;function Kre(t,e,n){if(!Gre(n))return!1;var r=typeof e;return(r=="number"?Hre(n)&&Wre(e,n.length):r=="string"&&e in n)?zre(n[e],t):!1}var Ov=Kre,qre=aL,Zre=mre,Yre=Ure,ZM=Ov,Xre=Yre(function(t,e){if(t==null)return[];var n=e.length;return n>1&&ZM(t,e[0],e[1])?e=[]:n>2&&ZM(e[0],e[1],e[2])&&(e=[e[0]]),Zre(t,qre(e,1),[])}),Qre=Xre;const HP=dt(Qre);function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bb.apply(this,arguments)}function Jre(t,e){return rie(t)||nie(t,e)||tie(t,e)||eie()}function eie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tie(t,e){if(t){if(typeof t=="string")return YM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YM(t,e)}}function YM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],u=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(p){c=!0,i=p}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return l}}function rie(t){if(Array.isArray(t))return t}function XM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(n),!0).forEach(function(r){iie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iie(t,e,n){return e=aie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aie(t){var e=sie(t,"string");return Rh(e)=="symbol"?e:e+""}function sie(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oie(t){return Array.isArray(t)&&an(t[0])&&an(t[1])?t.join(" ~ "):t}var lie=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,u=e.labelStyle,c=u===void 0?{}:u,p=e.payload,f=e.formatter,y=e.itemSorter,v=e.wrapperClassName,b=e.labelClassName,S=e.label,x=e.labelFormatter,P=e.accessibilityLayer,w=P===void 0?!1:P,T=function(){if(p&&p.length){var D={padding:0,margin:0},F=(y?HP(p,y):p).map(function(W,Y){if(W.type==="none")return null;var G=a0({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},l),Z=W.formatter||f||oie,z=W.value,q=W.name,H=z,ee=q;if(Z&&H!=null&&ee!=null){var re=Z(z,q,W,Y,p);if(Array.isArray(re)){var ce=Jre(re,2);H=ce[0],ee=ce[1]}else H=re}return X.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:G},an(ee)?X.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,an(ee)?X.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,X.createElement("span",{className:"recharts-tooltip-item-value"},H),X.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return X.createElement("ul",{className:"recharts-tooltip-item-list",style:D},F)}return null},I=a0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),N=a0({margin:0},c),M=!Fe(S),A=M?S:"",O=Ze("recharts-default-tooltip",v),k=Ze("recharts-tooltip-label",b);M&&x&&p!==void 0&&p!==null&&(A=x(S,p));var $=w?{role:"status","aria-live":"assertive"}:{};return X.createElement("div",bb({className:O,style:I},$),X.createElement("p",{className:k,style:N},X.isValidElement(A)?A:"".concat(A)),T())};function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function Kp(t,e,n){return e=uie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uie(t){var e=cie(t,"string");return Lh(e)=="symbol"?e:e+""}function cie(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pd="recharts-tooltip-wrapper",die={visibility:"hidden"};function hie(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ze(pd,Kp(Kp(Kp(Kp({},"".concat(pd,"-right"),fe(n)&&e&&fe(e.x)&&n>=e.x),"".concat(pd,"-left"),fe(n)&&e&&fe(e.x)&&n<e.x),"".concat(pd,"-bottom"),fe(r)&&e&&fe(e.y)&&r>=e.y),"".concat(pd,"-top"),fe(r)&&e&&fe(e.y)&&r<e.y))}function QM(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,l=t.tooltipDimension,u=t.viewBox,c=t.viewBoxDimension;if(a&&fe(a[r]))return a[r];var p=n[r]-l-i,f=n[r]+i;if(e[r])return s[r]?p:f;if(s[r]){var y=p,v=u[r];return y<v?Math.max(f,u[r]):Math.max(p,u[r])}var b=f+l,S=u[r]+c;return b>S?Math.max(p,u[r]):Math.max(f,u[r])}function fie(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function pie(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,u=t.viewBox,c,p,f;return s.height>0&&s.width>0&&n?(p=QM({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),f=QM({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),c=fie({translateX:p,translateY:f,useTranslate3d:l})):c=die,{cssProperties:c,cssClasses:hie({translateX:p,translateY:f,coordinate:n})}}function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function JM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(n),!0).forEach(function(r){Pb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cL(r.key),r)}}function yie(t,e,n){return e&&gie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vie(t,e,n){return e=kg(e),_ie(t,uL()?Reflect.construct(e,n||[],kg(t).constructor):e.apply(t,n))}function _ie(t,e){if(e&&(Ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xie(t)}function xie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uL=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(t)}function bie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wb(t,e)}function wb(t,e){return wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wb(t,e)}function Pb(t,e,n){return e=cL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cL(t){var e=wie(t,"string");return Ru(e)=="symbol"?e:e+""}function wie(t,e){if(Ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tN=1,Pie=function(t){function e(){var n;mie(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=vie(this,e,[].concat(i)),Pb(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Pb(n,"handleKeyDown",function(s){if(s.key==="Escape"){var l,u,c,p;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(u=n.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&l!==void 0?l:0,y:(c=(p=n.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&c!==void 0?c:0}})}}),n}return bie(e,t),yie(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>tN||Math.abs(r.height-this.state.lastBoundingBox.height)>tN)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,u=i.animationEasing,c=i.children,p=i.coordinate,f=i.hasPayload,y=i.isAnimationActive,v=i.offset,b=i.position,S=i.reverseDirection,x=i.useTranslate3d,P=i.viewBox,w=i.wrapperStyle,T=pie({allowEscapeViewBox:s,coordinate:p,offsetTopLeft:v,position:b,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:P}),I=T.cssClasses,N=T.cssProperties,M=eN(eN({transition:y&&a?"transform ".concat(l,"ms ").concat(u):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return X.createElement("div",{tabIndex:-1,className:I,style:M,ref:function(O){r.wrapperNode=O}},c)}}])}(U.PureComponent),Sie=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},wc={isSsr:Sie()};function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){WP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hL(r.key),r)}}function Aie(t,e,n){return e&&Tie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mie(t,e,n){return e=Dg(e),Nie(t,dL()?Reflect.construct(e,n||[],Dg(t).constructor):e.apply(t,n))}function Nie(t,e){if(e&&(Lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iie(t)}function Iie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dL=function(){return!!t})()}function Dg(t){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dg(t)}function Cie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sb(t,e)}function Sb(t,e){return Sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sb(t,e)}function WP(t,e,n){return e=hL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hL(t){var e=Oie(t,"string");return Lu(e)=="symbol"?e:e+""}function Oie(t,e){if(Lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jie(t){return t.dataKey}function kie(t,e){return X.isValidElement(t)?X.cloneElement(t,e):typeof t=="function"?X.createElement(t,e):X.createElement(lie,e)}var Ai=function(t){function e(){return Eie(this,e),Mie(this,e,arguments)}return Cie(e,t),Aie(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,u=i.animationEasing,c=i.content,p=i.coordinate,f=i.filterNull,y=i.isAnimationActive,v=i.offset,b=i.payload,S=i.payloadUniqBy,x=i.position,P=i.reverseDirection,w=i.useTranslate3d,T=i.viewBox,I=i.wrapperStyle,N=b??[];f&&N.length&&(N=tL(b.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),S,jie));var M=N.length>0;return X.createElement(Pie,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:y,active:a,coordinate:p,hasPayload:M,offset:v,position:x,reverseDirection:P,useTranslate3d:w,viewBox:T,wrapperStyle:I},kie(c,rN(rN({},this.props),{},{payload:N})))}}])}(U.PureComponent);WP(Ai,"displayName","Tooltip");WP(Ai,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Die=zi,Rie=function(){return Die.Date.now()},Lie=Rie,$ie=/\s/;function Fie(t){for(var e=t.length;e--&&$ie.test(t.charAt(e)););return e}var Bie=Fie,Vie=Bie,Uie=/^\s+/;function zie(t){return t&&t.slice(0,Vie(t)+1).replace(Uie,"")}var Hie=zie,Wie=Hie,iN=Vs,Gie=fc,aN=NaN,Kie=/^[-+]0x[0-9a-f]+$/i,qie=/^0b[01]+$/i,Zie=/^0o[0-7]+$/i,Yie=parseInt;function Xie(t){if(typeof t=="number")return t;if(Gie(t))return aN;if(iN(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=iN(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Wie(t);var n=qie.test(t);return n||Zie.test(t)?Yie(t.slice(2),n?2:8):Kie.test(t)?aN:+t}var fL=Xie,Qie=Vs,s0=Lie,sN=fL,Jie="Expected a function",eae=Math.max,tae=Math.min;function nae(t,e,n){var r,i,a,s,l,u,c=0,p=!1,f=!1,y=!0;if(typeof t!="function")throw new TypeError(Jie);e=sN(e)||0,Qie(n)&&(p=!!n.leading,f="maxWait"in n,a=f?eae(sN(n.maxWait)||0,e):a,y="trailing"in n?!!n.trailing:y);function v(M){var A=r,O=i;return r=i=void 0,c=M,s=t.apply(O,A),s}function b(M){return c=M,l=setTimeout(P,e),p?v(M):s}function S(M){var A=M-u,O=M-c,k=e-A;return f?tae(k,a-O):k}function x(M){var A=M-u,O=M-c;return u===void 0||A>=e||A<0||f&&O>=a}function P(){var M=s0();if(x(M))return w(M);l=setTimeout(P,S(M))}function w(M){return l=void 0,y&&r?v(M):(r=i=void 0,s)}function T(){l!==void 0&&clearTimeout(l),c=0,r=u=i=l=void 0}function I(){return l===void 0?s:w(s0())}function N(){var M=s0(),A=x(M);if(r=arguments,i=this,u=M,A){if(l===void 0)return b(u);if(f)return clearTimeout(l),l=setTimeout(P,e),v(u)}return l===void 0&&(l=setTimeout(P,e)),s}return N.cancel=T,N.flush=I,N}var rae=nae,iae=rae,aae=Vs,sae="Expected a function";function oae(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(sae);return aae(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),iae(t,e,{leading:r,maxWait:e,trailing:i})}var lae=oae;const pL=dt(lae);function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function oN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(n),!0).forEach(function(r){uae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uae(t,e,n){return e=cae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cae(t){var e=dae(t,"string");return $h(e)=="symbol"?e:e+""}function dae(t,e){if($h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hae(t,e){return gae(t)||mae(t,e)||pae(t,e)||fae()}function fae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pae(t,e){if(t){if(typeof t=="string")return lN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lN(t,e)}}function lN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],u=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(p){c=!0,i=p}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return l}}function gae(t){if(Array.isArray(t))return t}var yae=U.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,l=t.height,u=l===void 0?"100%":l,c=t.minWidth,p=c===void 0?0:c,f=t.minHeight,y=t.maxHeight,v=t.children,b=t.debounce,S=b===void 0?0:b,x=t.id,P=t.className,w=t.onResize,T=t.style,I=T===void 0?{}:T,N=U.useRef(null),M=U.useRef();M.current=w,U.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var A=U.useState({containerWidth:i.width,containerHeight:i.height}),O=hae(A,2),k=O[0],$=O[1],B=U.useCallback(function(F,W){$(function(Y){var G=Math.round(F),Z=Math.round(W);return Y.containerWidth===G&&Y.containerHeight===Z?Y:{containerWidth:G,containerHeight:Z}})},[]);U.useEffect(function(){var F=function(q){var H,ee=q[0].contentRect,re=ee.width,ce=ee.height;B(re,ce),(H=M.current)===null||H===void 0||H.call(M,re,ce)};S>0&&(F=pL(F,S,{trailing:!0,leading:!1}));var W=new ResizeObserver(F),Y=N.current.getBoundingClientRect(),G=Y.width,Z=Y.height;return B(G,Z),W.observe(N.current),function(){W.disconnect()}},[B,S]);var D=U.useMemo(function(){var F=k.containerWidth,W=k.containerHeight;if(F<0||W<0)return null;Mo(xo(s)||xo(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,u),Mo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Y=xo(s)?F:s,G=xo(u)?W:u;n&&n>0&&(Y?G=Y/n:G&&(Y=G*n),y&&G>y&&(G=y)),Mo(Y>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,G,s,u,p,f,n);var Z=!Array.isArray(v)&&pa(v.type).endsWith("Chart");return X.Children.map(v,function(z){return X.isValidElement(z)?U.cloneElement(z,qp({width:Y,height:G},Z?{style:qp({height:"100%",width:"100%",maxHeight:G,maxWidth:Y},z.props.style)}:{})):z})},[n,v,u,y,f,p,k,s]);return X.createElement("div",{id:x?"".concat(x):void 0,className:Ze("recharts-responsive-container",P),style:qp(qp({},I),{},{width:s,height:u,minWidth:p,minHeight:f,maxHeight:y}),ref:N},D)}),mL=function(e){return null};mL.displayName="Cell";function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function uN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uN(Object(n),!0).forEach(function(r){vae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vae(t,e,n){return e=_ae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ae(t){var e=xae(t,"string");return Fh(e)=="symbol"?e:e+""}function xae(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Il={widthCache:{},cacheCount:0},bae=2e3,wae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cN="recharts_measurement_span";function Pae(t){var e=Eb({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var eh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||wc.isSsr)return{width:0,height:0};var r=Pae(n),i=JSON.stringify({text:e,copyStyle:r});if(Il.widthCache[i])return Il.widthCache[i];try{var a=document.getElementById(cN);a||(a=document.createElement("span"),a.setAttribute("id",cN),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Eb(Eb({},wae),r);Object.assign(a.style,s),a.textContent="".concat(e);var l=a.getBoundingClientRect(),u={width:l.width,height:l.height};return Il.widthCache[i]=u,++Il.cacheCount>bae&&(Il.cacheCount=0,Il.widthCache={}),u}catch{return{width:0,height:0}}},Sae=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function Rg(t,e){return Mae(t)||Aae(t,e)||Tae(t,e)||Eae()}function Eae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tae(t,e){if(t){if(typeof t=="string")return dN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dN(t,e)}}function dN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Aae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],u=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(p){c=!0,i=p}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return l}}function Mae(t){if(Array.isArray(t))return t}function Nae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cae(r.key),r)}}function Iae(t,e,n){return e&&hN(t.prototype,e),n&&hN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cae(t){var e=Oae(t,"string");return Bh(e)=="symbol"?e:e+""}function Oae(t,e){if(Bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,kae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Dae=Object.keys(gL),Jl="NaN";function Rae(t,e){return t*gL[e]}var Zp=function(){function t(e,n){Nae(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!jae.test(n)&&(this.num=NaN,this.unit=""),Dae.includes(n)&&(this.num=Rae(e,n),this.unit="px")}return Iae(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=kae.exec(n))!==null&&r!==void 0?r:[],a=Rg(i,3),s=a[1],l=a[2];return new t(parseFloat(s),l??"")}}])}();function yL(t){if(t.includes(Jl))return Jl;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=fN.exec(e))!==null&&n!==void 0?n:[],i=Rg(r,4),a=i[1],s=i[2],l=i[3],u=Zp.parse(a??""),c=Zp.parse(l??""),p=s==="*"?u.multiply(c):u.divide(c);if(p.isNaN())return Jl;e=e.replace(fN,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,y=(f=pN.exec(e))!==null&&f!==void 0?f:[],v=Rg(y,4),b=v[1],S=v[2],x=v[3],P=Zp.parse(b??""),w=Zp.parse(x??""),T=S==="+"?P.add(w):P.subtract(w);if(T.isNaN())return Jl;e=e.replace(pN,T.toString())}return e}var mN=/\(([^()]*)\)/;function Lae(t){for(var e=t;e.includes("(");){var n=mN.exec(e),r=Rg(n,2),i=r[1];e=e.replace(mN,yL(i))}return e}function $ae(t){var e=t.replace(/\s+/g,"");return e=Lae(e),e=yL(e),e}function Fae(t){try{return $ae(t)}catch{return Jl}}function o0(t){var e=Fae(t.slice(5,-1));return e===Jl?"":e}var Bae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Vae=["dx","dy","angle","className","breakAll"];function Tb(){return Tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tb.apply(this,arguments)}function gN(t,e){if(t==null)return{};var n=Uae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yN(t,e){return Gae(t)||Wae(t,e)||Hae(t,e)||zae()}function zae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hae(t,e){if(t){if(typeof t=="string")return vN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vN(t,e)}}function vN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],u=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(p){c=!0,i=p}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return l}}function Gae(t){if(Array.isArray(t))return t}var vL=/[ \f\n\r\t\v\u2028\u2029]+/,_L=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Fe(n)||(r?a=n.toString().split(""):a=n.toString().split(vL));var s=a.map(function(u){return{word:u,width:eh(u,i).width}}),l=r?0:eh("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},Kae=function(e,n,r,i,a){var s=e.maxLines,l=e.children,u=e.style,c=e.breakAll,p=fe(s),f=l,y=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(G,Z){var z=Z.word,q=Z.width,H=G[G.length-1];if(H&&(i==null||a||H.width+q+r<Number(i)))H.words.push(z),H.width+=q+r;else{var ee={words:[z],width:q};G.push(ee)}return G},[])},v=y(n),b=function(Y){return Y.reduce(function(G,Z){return G.width>Z.width?G:Z})};if(!p)return v;for(var S="",x=function(Y){var G=f.slice(0,Y),Z=_L({breakAll:c,style:u,children:G+S}).wordsWithComputedWidth,z=y(Z),q=z.length>s||b(z).width>Number(i);return[q,z]},P=0,w=f.length-1,T=0,I;P<=w&&T<=f.length-1;){var N=Math.floor((P+w)/2),M=N-1,A=x(M),O=yN(A,2),k=O[0],$=O[1],B=x(N),D=yN(B,1),F=D[0];if(!k&&!F&&(P=N+1),k&&F&&(w=N-1),!k&&F){I=$;break}T++}return I||v},_N=function(e){var n=Fe(e)?[]:e.toString().split(vL);return[{words:n}]},qae=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,l=e.maxLines;if((n||r)&&!wc.isSsr){var u,c,p=_L({breakAll:s,children:i,style:a});if(p){var f=p.wordsWithComputedWidth,y=p.spaceWidth;u=f,c=y}else return _N(i);return Kae({breakAll:s,children:i,maxLines:l,style:a},u,c,n,r)}return _N(i)},xN="#808080",Lg=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,u=e.capHeight,c=u===void 0?"0.71em":u,p=e.scaleToFit,f=p===void 0?!1:p,y=e.textAnchor,v=y===void 0?"start":y,b=e.verticalAnchor,S=b===void 0?"end":b,x=e.fill,P=x===void 0?xN:x,w=gN(e,Bae),T=U.useMemo(function(){return qae({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),I=w.dx,N=w.dy,M=w.angle,A=w.className,O=w.breakAll,k=gN(w,Vae);if(!an(r)||!an(a))return null;var $=r+(fe(I)?I:0),B=a+(fe(N)?N:0),D;switch(S){case"start":D=o0("calc(".concat(c,")"));break;case"middle":D=o0("calc(".concat((T.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:D=o0("calc(".concat(T.length-1," * -").concat(l,")"));break}var F=[];if(f){var W=T[0].width,Y=w.width;F.push("scale(".concat((fe(Y)?Y/W:1)/W,")"))}return M&&F.push("rotate(".concat(M,", ").concat($,", ").concat(B,")")),F.length&&(k.transform=F.join(" ")),X.createElement("text",Tb({},Ke(k,!0),{x:$,y:B,className:Ze("recharts-text",A),textAnchor:v,fill:P.includes("url")?xN:P}),T.map(function(G,Z){var z=G.words.join(O?"":" ");return X.createElement("tspan",{x:$,dy:Z===0?D:l,key:"".concat(z,"-").concat(Z)},z)}))};function Ss(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function GP(t){let e,n,r;t.length!==2?(e=Ss,n=(l,u)=>Ss(t(l),u),r=(l,u)=>t(l)-u):(e=t===Ss||t===Zae?t:Yae,n=t,r=t);function i(l,u,c=0,p=l.length){if(c<p){if(e(u,u)!==0)return p;do{const f=c+p>>>1;n(l[f],u)<0?c=f+1:p=f}while(c<p)}return c}function a(l,u,c=0,p=l.length){if(c<p){if(e(u,u)!==0)return p;do{const f=c+p>>>1;n(l[f],u)<=0?c=f+1:p=f}while(c<p)}return c}function s(l,u,c=0,p=l.length){const f=i(l,u,c,p-1);return f>c&&r(l[f-1],u)>-r(l[f],u)?f-1:f}return{left:i,center:s,right:a}}function Yae(){return 0}function xL(t){return t===null?NaN:+t}function*Xae(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Qae=GP(Ss),Df=Qae.right;GP(xL).center;class bN extends Map{constructor(e,n=tse){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(wN(this,e))}has(e){return super.has(wN(this,e))}set(e,n){return super.set(Jae(this,e),n)}delete(e){return super.delete(ese(this,e))}}function wN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Jae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ese({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function tse(t){return t!==null&&typeof t=="object"?t.valueOf():t}function nse(t=Ss){if(t===Ss)return bL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function bL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const rse=Math.sqrt(50),ise=Math.sqrt(10),ase=Math.sqrt(2);function $g(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=rse?10:a>=ise?5:a>=ase?2:1;let l,u,c;return i<0?(c=Math.pow(10,-i)/s,l=Math.round(t*c),u=Math.round(e*c),l/c<t&&++l,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*s,l=Math.round(t/c),u=Math.round(e/c),l*c<t&&++l,u*c>e&&--u),u<l&&.5<=n&&n<2?$g(t,e,n*2):[l,u,c]}function Ab(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?$g(e,t,n):$g(t,e,n);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(s<0)for(let c=0;c<l;++c)u[c]=(a-c)/-s;else for(let c=0;c<l;++c)u[c]=(a-c)*s;else if(s<0)for(let c=0;c<l;++c)u[c]=(i+c)/-s;else for(let c=0;c<l;++c)u[c]=(i+c)*s;return u}function Mb(t,e,n){return e=+e,t=+t,n=+n,$g(t,e,n)[2]}function Nb(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Mb(e,t,n):Mb(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function PN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function SN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function wL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?bL:nse(i);r>n;){if(r-n>600){const u=r-n+1,c=e-n+1,p=Math.log(u),f=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*f*(u-f)/u)*(c-u/2<0?-1:1),v=Math.max(n,Math.floor(e-c*f/u+y)),b=Math.min(r,Math.floor(e+(u-c)*f/u+y));wL(t,e,v,b,i)}const a=t[e];let s=n,l=r;for(md(t,n,e),i(t[r],a)>0&&md(t,n,r);s<l;){for(md(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?md(t,n,l):(++l,md(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function md(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function sse(t,e,n){if(t=Float64Array.from(Xae(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return SN(t);if(e>=1)return PN(t);var r,i=(r-1)*e,a=Math.floor(i),s=PN(wL(t,a).subarray(0,a+1)),l=SN(t.subarray(a+1));return s+(l-s)*(i-a)}}function ose(t,e,n=xL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function lse(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Wr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ra(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ib=Symbol("implicit");function KP(){var t=new bN,e=[],n=[],r=Ib;function i(a){let s=t.get(a);if(s===void 0){if(r!==Ib)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new bN;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return KP(e,n).unknown(r)},Wr.apply(i,arguments),i}function Vh(){var t=KP().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,l=!1,u=0,c=0,p=.5;delete t.unknown;function f(){var y=e().length,v=i<r,b=v?i:r,S=v?r:i;a=(S-b)/Math.max(1,y-u+c*2),l&&(a=Math.floor(a)),b+=(S-b-a*(y-u))*p,s=a*(1-u),l&&(b=Math.round(b),s=Math.round(s));var x=lse(y).map(function(P){return b+a*P});return n(v?x.reverse():x)}return t.domain=function(y){return arguments.length?(e(y),f()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,l=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(y){return arguments.length?(l=!!y,f()):l},t.padding=function(y){return arguments.length?(u=Math.min(1,c=+y),f()):u},t.paddingInner=function(y){return arguments.length?(u=Math.min(1,y),f()):u},t.paddingOuter=function(y){return arguments.length?(c=+y,f()):c},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),f()):p},t.copy=function(){return Vh(e(),[r,i]).round(l).paddingInner(u).paddingOuter(c).align(p)},Wr.apply(f(),arguments)}function PL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return PL(e())},t}function th(){return PL(Vh.apply(null,arguments).paddingInner(1))}function qP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function SL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Rf(){}var Uh=.7,Fg=1/Uh,mu="\\s*([+-]?\\d+)\\s*",zh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",use=/^#([0-9a-f]{3,8})$/,cse=new RegExp(`^rgb\\(${mu},${mu},${mu}\\)$`),dse=new RegExp(`^rgb\\(${$i},${$i},${$i}\\)$`),hse=new RegExp(`^rgba\\(${mu},${mu},${mu},${zh}\\)$`),fse=new RegExp(`^rgba\\(${$i},${$i},${$i},${zh}\\)$`),pse=new RegExp(`^hsl\\(${zh},${$i},${$i}\\)$`),mse=new RegExp(`^hsla\\(${zh},${$i},${$i},${zh}\\)$`),EN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qP(Rf,Hh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:TN,formatHex:TN,formatHex8:gse,formatHsl:yse,formatRgb:AN,toString:AN});function TN(){return this.rgb().formatHex()}function gse(){return this.rgb().formatHex8()}function yse(){return EL(this).formatHsl()}function AN(){return this.rgb().formatRgb()}function Hh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=use.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?MN(e):n===3?new Xn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Yp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Yp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=cse.exec(t))?new Xn(e[1],e[2],e[3],1):(e=dse.exec(t))?new Xn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=hse.exec(t))?Yp(e[1],e[2],e[3],e[4]):(e=fse.exec(t))?Yp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=pse.exec(t))?CN(e[1],e[2]/100,e[3]/100,1):(e=mse.exec(t))?CN(e[1],e[2]/100,e[3]/100,e[4]):EN.hasOwnProperty(t)?MN(EN[t]):t==="transparent"?new Xn(NaN,NaN,NaN,0):null}function MN(t){return new Xn(t>>16&255,t>>8&255,t&255,1)}function Yp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xn(t,e,n,r)}function vse(t){return t instanceof Rf||(t=Hh(t)),t?(t=t.rgb(),new Xn(t.r,t.g,t.b,t.opacity)):new Xn}function Cb(t,e,n,r){return arguments.length===1?vse(t):new Xn(t,e,n,r??1)}function Xn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}qP(Xn,Cb,SL(Rf,{brighter(t){return t=t==null?Fg:Math.pow(Fg,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Uh:Math.pow(Uh,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Xn(No(this.r),No(this.g),No(this.b),Bg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:NN,formatHex:NN,formatHex8:_se,formatRgb:IN,toString:IN}));function NN(){return`#${bo(this.r)}${bo(this.g)}${bo(this.b)}`}function _se(){return`#${bo(this.r)}${bo(this.g)}${bo(this.b)}${bo((isNaN(this.opacity)?1:this.opacity)*255)}`}function IN(){const t=Bg(this.opacity);return`${t===1?"rgb(":"rgba("}${No(this.r)}, ${No(this.g)}, ${No(this.b)}${t===1?")":`, ${t})`}`}function Bg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function No(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function bo(t){return t=No(t),(t<16?"0":"")+t.toString(16)}function CN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ui(t,e,n,r)}function EL(t){if(t instanceof ui)return new ui(t.h,t.s,t.l,t.opacity);if(t instanceof Rf||(t=Hh(t)),!t)return new ui;if(t instanceof ui)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,l=a-i,u=(a+i)/2;return l?(e===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-e)/l+2:s=(e-n)/l+4,l/=u<.5?a+i:2-a-i,s*=60):l=u>0&&u<1?0:s,new ui(s,l,u,t.opacity)}function xse(t,e,n,r){return arguments.length===1?EL(t):new ui(t,e,n,r??1)}function ui(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}qP(ui,xse,SL(Rf,{brighter(t){return t=t==null?Fg:Math.pow(Fg,t),new ui(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Uh:Math.pow(Uh,t),new ui(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Xn(l0(t>=240?t-240:t+120,i,r),l0(t,i,r),l0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ui(ON(this.h),Xp(this.s),Xp(this.l),Bg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Bg(this.opacity);return`${t===1?"hsl(":"hsla("}${ON(this.h)}, ${Xp(this.s)*100}%, ${Xp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ON(t){return t=(t||0)%360,t<0?t+360:t}function Xp(t){return Math.max(0,Math.min(1,t||0))}function l0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ZP=t=>()=>t;function bse(t,e){return function(n){return t+n*e}}function wse(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Pse(t){return(t=+t)==1?TL:function(e,n){return n-e?wse(e,n,t):ZP(isNaN(e)?n:e)}}function TL(t,e){var n=e-t;return n?bse(t,n):ZP(isNaN(t)?e:t)}const jN=function t(e){var n=Pse(e);function r(i,a){var s=n((i=Cb(i)).r,(a=Cb(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),c=TL(i.opacity,a.opacity);return function(p){return i.r=s(p),i.g=l(p),i.b=u(p),i.opacity=c(p),i+""}}return r.gamma=t,r}(1);function Sse(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Ese(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Tse(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Pc(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function Ase(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Vg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Mse(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Pc(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Ob=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,u0=new RegExp(Ob.source,"g");function Nse(t){return function(){return t}}function Ise(t){return function(e){return t(e)+""}}function Cse(t,e){var n=Ob.lastIndex=u0.lastIndex=0,r,i,a,s=-1,l=[],u=[];for(t=t+"",e=e+"";(r=Ob.exec(t))&&(i=u0.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:Vg(r,i)})),n=u0.lastIndex;return n<e.length&&(a=e.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?u[0]?Ise(u[0].x):Nse(e):(e=u.length,function(c){for(var p=0,f;p<e;++p)l[(f=u[p]).i]=f.x(c);return l.join("")})}function Pc(t,e){var n=typeof e,r;return e==null||n==="boolean"?ZP(e):(n==="number"?Vg:n==="string"?(r=Hh(e))?(e=r,jN):Cse:e instanceof Hh?jN:e instanceof Date?Ase:Ese(e)?Sse:Array.isArray(e)?Tse:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Mse:Vg)(t,e)}function YP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ose(t,e){e===void 0&&(e=t,t=Pc);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[l](s-l)}}function jse(t){return function(){return t}}function Ug(t){return+t}var kN=[0,1];function Bn(t){return t}function jb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:jse(isNaN(e)?NaN:.5)}function kse(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Dse(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=jb(i,r),a=n(s,a)):(r=jb(r,i),a=n(a,s)),function(l){return a(r(l))}}function Rse(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=jb(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(l){var u=Df(t,l,1,r)-1;return a[u](i[u](l))}}function Lf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jv(){var t=kN,e=kN,n=Pc,r,i,a,s=Bn,l,u,c;function p(){var y=Math.min(t.length,e.length);return s!==Bn&&(s=kse(t[0],t[y-1])),l=y>2?Rse:Dse,u=c=null,f}function f(y){return y==null||isNaN(y=+y)?a:(u||(u=l(t.map(r),e,n)))(r(s(y)))}return f.invert=function(y){return s(i((c||(c=l(e,t.map(r),Vg)))(y)))},f.domain=function(y){return arguments.length?(t=Array.from(y,Ug),p()):t.slice()},f.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},f.rangeRound=function(y){return e=Array.from(y),n=YP,p()},f.clamp=function(y){return arguments.length?(s=y?!0:Bn,p()):s!==Bn},f.interpolate=function(y){return arguments.length?(n=y,p()):n},f.unknown=function(y){return arguments.length?(a=y,f):a},function(y,v){return r=y,i=v,p()}}function XP(){return jv()(Bn,Bn)}function Lse(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function zg(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function $u(t){return t=zg(Math.abs(t)),t?t[1]:NaN}function $se(t,e){return function(n,r){for(var i=n.length,a=[],s=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Fse(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Bse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wh(t){if(!(e=Bse.exec(t)))throw new Error("invalid format: "+t);var e;return new QP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Wh.prototype=QP.prototype;function QP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}QP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vse(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Hg;function Use(t,e){var n=zg(t,e);if(!n)return Hg=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(Hg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+zg(t,Math.max(0,e+a-1))[0]}function DN(t,e){var n=zg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const RN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Lse,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>DN(t*100,e),r:DN,s:Use,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function LN(t){return t}var $N=Array.prototype.map,FN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zse(t){var e=t.grouping===void 0||t.thousands===void 0?LN:$se($N.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?LN:Fse($N.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(f,y){f=Wh(f);var v=f.fill,b=f.align,S=f.sign,x=f.symbol,P=f.zero,w=f.width,T=f.comma,I=f.precision,N=f.trim,M=f.type;M==="n"?(T=!0,M="g"):RN[M]||(I===void 0&&(I=12),N=!0,M="g"),(P||v==="0"&&b==="=")&&(P=!0,v="0",b="=");var A=(y&&y.prefix!==void 0?y.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():""),O=(x==="$"?r:/[%p]/.test(M)?s:"")+(y&&y.suffix!==void 0?y.suffix:""),k=RN[M],$=/[defgprs%]/.test(M);I=I===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function B(D){var F=A,W=O,Y,G,Z;if(M==="c")W=k(D)+W,D="";else{D=+D;var z=D<0||1/D<0;if(D=isNaN(D)?u:k(Math.abs(D),I),N&&(D=Vse(D)),z&&+D==0&&S!=="+"&&(z=!1),F=(z?S==="("?S:l:S==="-"||S==="("?"":S)+F,W=(M==="s"&&!isNaN(D)&&Hg!==void 0?FN[8+Hg/3]:"")+W+(z&&S==="("?")":""),$){for(Y=-1,G=D.length;++Y<G;)if(Z=D.charCodeAt(Y),48>Z||Z>57){W=(Z===46?i+D.slice(Y+1):D.slice(Y))+W,D=D.slice(0,Y);break}}}T&&!P&&(D=e(D,1/0));var q=F.length+D.length+W.length,H=q<w?new Array(w-q+1).join(v):"";switch(T&&P&&(D=e(H+D,H.length?w-W.length:1/0),H=""),b){case"<":D=F+D+W+H;break;case"=":D=F+H+D+W;break;case"^":D=H.slice(0,q=H.length>>1)+F+D+W+H.slice(q);break;default:D=H+F+D+W;break}return a(D)}return B.toString=function(){return f+""},B}function p(f,y){var v=Math.max(-8,Math.min(8,Math.floor($u(y)/3)))*3,b=Math.pow(10,-v),S=c((f=Wh(f),f.type="f",f),{suffix:FN[8+v/3]});return function(x){return S(b*x)}}return{format:c,formatPrefix:p}}var Qp,JP,AL;Hse({thousands:",",grouping:[3],currency:["$",""]});function Hse(t){return Qp=zse(t),JP=Qp.format,AL=Qp.formatPrefix,Qp}function Wse(t){return Math.max(0,-$u(Math.abs(t)))}function Gse(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($u(e)/3)))*3-$u(Math.abs(t)))}function Kse(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,$u(e)-$u(t))+1}function ML(t,e,n,r){var i=Nb(t,e,n),a;switch(r=Wh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Gse(i,s))&&(r.precision=a),AL(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Kse(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Wse(i))&&(r.precision=a-(r.type==="%")*2);break}}return JP(r)}function Us(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ab(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return ML(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],l=r[a],u,c,p=10;for(l<s&&(c=s,s=l,l=c,c=i,i=a,a=c);p-- >0;){if(c=Mb(s,l,n),c===u)return r[i]=s,r[a]=l,e(r);if(c>0)s=Math.floor(s/c)*c,l=Math.ceil(l/c)*c;else if(c<0)s=Math.ceil(s*c)/c,l=Math.floor(l*c)/c;else break;u=c}return t},t}function Wg(){var t=XP();return t.copy=function(){return Lf(t,Wg())},Wr.apply(t,arguments),Us(t)}function NL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ug),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return NL(t).unknown(e)},t=arguments.length?Array.from(t,Ug):[0,1],Us(n)}function IL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function BN(t){return Math.log(t)}function VN(t){return Math.exp(t)}function qse(t){return-Math.log(-t)}function Zse(t){return-Math.exp(-t)}function Yse(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Xse(t){return t===10?Yse:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Qse(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function UN(t){return(e,n)=>-t(-e,n)}function eS(t){const e=t(BN,VN),n=e.domain;let r=10,i,a;function s(){return i=Qse(r),a=Xse(r),n()[0]<0?(i=UN(i),a=UN(a),t(qse,Zse)):t(BN,VN),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const u=n();let c=u[0],p=u[u.length-1];const f=p<c;f&&([c,p]=[p,c]);let y=i(c),v=i(p),b,S;const x=l==null?10:+l;let P=[];if(!(r%1)&&v-y<x){if(y=Math.floor(y),v=Math.ceil(v),c>0){for(;y<=v;++y)for(b=1;b<r;++b)if(S=y<0?b/a(-y):b*a(y),!(S<c)){if(S>p)break;P.push(S)}}else for(;y<=v;++y)for(b=r-1;b>=1;--b)if(S=y>0?b/a(-y):b*a(y),!(S<c)){if(S>p)break;P.push(S)}P.length*2<x&&(P=Ab(c,p,x))}else P=Ab(y,v,Math.min(v-y,x)).map(a);return f?P.reverse():P},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Wh(u)).precision==null&&(u.trim=!0),u=JP(u)),l===1/0)return u;const c=Math.max(1,r*l/e.ticks().length);return p=>{let f=p/a(Math.round(i(p)));return f*r<r-.5&&(f*=r),f<=c?u(p):""}},e.nice=()=>n(IL(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function CL(){const t=eS(jv()).domain([1,10]);return t.copy=()=>Lf(t,CL()).base(t.base()),Wr.apply(t,arguments),t}function zN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function HN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function tS(t){var e=1,n=t(zN(e),HN(e));return n.constant=function(r){return arguments.length?t(zN(e=+r),HN(e)):e},Us(n)}function OL(){var t=tS(jv());return t.copy=function(){return Lf(t,OL()).constant(t.constant())},Wr.apply(t,arguments)}function WN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Jse(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function eoe(t){return t<0?-t*t:t*t}function nS(t){var e=t(Bn,Bn),n=1;function r(){return n===1?t(Bn,Bn):n===.5?t(Jse,eoe):t(WN(n),WN(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Us(e)}function rS(){var t=nS(jv());return t.copy=function(){return Lf(t,rS()).exponent(t.exponent())},Wr.apply(t,arguments),t}function toe(){return rS.apply(null,arguments).exponent(.5)}function GN(t){return Math.sign(t)*t*t}function noe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function jL(){var t=XP(),e=[0,1],n=!1,r;function i(a){var s=noe(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(GN(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Ug)).map(GN)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return jL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Wr.apply(i,arguments),Us(i)}function kL(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=ose(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Df(n,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Ss),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return kL().domain(t).range(e).unknown(r)},Wr.apply(a,arguments)}function DL(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(u){return u!=null&&u<=u?i[Df(r,u,0,n)]:a}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return s}return s.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},s.invertExtent=function(u){var c=i.indexOf(u);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(u){return arguments.length&&(a=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return DL().domain([t,e]).range(i).unknown(a)},Wr.apply(Us(s),arguments)}function RL(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Df(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return RL().domain(t).range(e).unknown(n)},Wr.apply(i,arguments)}const c0=new Date,d0=new Date;function on(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return u;let c;do u.push(c=new Date(+a)),e(a,l),t(a);while(c<a&&a<s);return u},i.filter=a=>on(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(c0.setTime(+a),d0.setTime(+s),t(c0),t(d0),Math.floor(n(c0,d0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Gg=on(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Gg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?on(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Gg);Gg.range;const ua=1e3,Lr=ua*60,ca=Lr*60,Sa=ca*24,iS=Sa*7,KN=Sa*30,h0=Sa*365,wo=on(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ua)},(t,e)=>(e-t)/ua,t=>t.getUTCSeconds());wo.range;const aS=on(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ua)},(t,e)=>{t.setTime(+t+e*Lr)},(t,e)=>(e-t)/Lr,t=>t.getMinutes());aS.range;const sS=on(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Lr)},(t,e)=>(e-t)/Lr,t=>t.getUTCMinutes());sS.range;const oS=on(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ua-t.getMinutes()*Lr)},(t,e)=>{t.setTime(+t+e*ca)},(t,e)=>(e-t)/ca,t=>t.getHours());oS.range;const lS=on(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ca)},(t,e)=>(e-t)/ca,t=>t.getUTCHours());lS.range;const $f=on(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Lr)/Sa,t=>t.getDate()-1);$f.range;const kv=on(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Sa,t=>t.getUTCDate()-1);kv.range;const LL=on(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Sa,t=>Math.floor(t/Sa));LL.range;function Qo(t){return on(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Lr)/iS)}const Dv=Qo(0),Kg=Qo(1),roe=Qo(2),ioe=Qo(3),Fu=Qo(4),aoe=Qo(5),soe=Qo(6);Dv.range;Kg.range;roe.range;ioe.range;Fu.range;aoe.range;soe.range;function Jo(t){return on(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/iS)}const Rv=Jo(0),qg=Jo(1),ooe=Jo(2),loe=Jo(3),Bu=Jo(4),uoe=Jo(5),coe=Jo(6);Rv.range;qg.range;ooe.range;loe.range;Bu.range;uoe.range;coe.range;const uS=on(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());uS.range;const cS=on(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());cS.range;const Ea=on(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ea.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:on(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ea.range;const Ta=on(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ta.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:on(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ta.range;function $L(t,e,n,r,i,a){const s=[[wo,1,ua],[wo,5,5*ua],[wo,15,15*ua],[wo,30,30*ua],[a,1,Lr],[a,5,5*Lr],[a,15,15*Lr],[a,30,30*Lr],[i,1,ca],[i,3,3*ca],[i,6,6*ca],[i,12,12*ca],[r,1,Sa],[r,2,2*Sa],[n,1,iS],[e,1,KN],[e,3,3*KN],[t,1,h0]];function l(c,p,f){const y=p<c;y&&([c,p]=[p,c]);const v=f&&typeof f.range=="function"?f:u(c,p,f),b=v?v.range(c,+p+1):[];return y?b.reverse():b}function u(c,p,f){const y=Math.abs(p-c)/f,v=GP(([,,x])=>x).right(s,y);if(v===s.length)return t.every(Nb(c/h0,p/h0,f));if(v===0)return Gg.every(Math.max(Nb(c,p,f),1));const[b,S]=s[y/s[v-1][2]<s[v][2]/y?v-1:v];return b.every(S)}return[l,u]}const[doe,hoe]=$L(Ta,cS,Rv,LL,lS,sS),[foe,poe]=$L(Ea,uS,Dv,$f,oS,aS);function f0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function p0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function moe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,u=t.shortMonths,c=yd(i),p=vd(i),f=yd(a),y=vd(a),v=yd(s),b=vd(s),S=yd(l),x=vd(l),P=yd(u),w=vd(u),T={a:Z,A:z,b:q,B:H,c:null,d:JN,e:JN,f:$oe,g:qoe,G:Yoe,H:Doe,I:Roe,j:Loe,L:FL,m:Foe,M:Boe,p:ee,q:re,Q:nI,s:rI,S:Voe,u:Uoe,U:zoe,V:Hoe,w:Woe,W:Goe,x:null,X:null,y:Koe,Y:Zoe,Z:Xoe,"%":tI},I={a:ce,A:xe,b:_e,B:ge,c:null,d:eI,e:eI,f:tle,g:dle,G:fle,H:Qoe,I:Joe,j:ele,L:VL,m:nle,M:rle,p:Je,q:mt,Q:nI,s:rI,S:ile,u:ale,U:sle,V:ole,w:lle,W:ule,x:null,X:null,y:cle,Y:hle,Z:ple,"%":tI},N={a:$,A:B,b:D,B:F,c:W,d:XN,e:XN,f:Coe,g:YN,G:ZN,H:QN,I:QN,j:Aoe,L:Ioe,m:Toe,M:Moe,p:k,q:Eoe,Q:joe,s:koe,S:Noe,u:xoe,U:boe,V:woe,w:_oe,W:Poe,x:Y,X:G,y:YN,Y:ZN,Z:Soe,"%":Ooe};T.x=M(n,T),T.X=M(r,T),T.c=M(e,T),I.x=M(n,I),I.X=M(r,I),I.c=M(e,I);function M(he,Se){return function(Ie){var se=[],et=-1,De=0,ht=he.length,gt,Vt,Rn;for(Ie instanceof Date||(Ie=new Date(+Ie));++et<ht;)he.charCodeAt(et)===37&&(se.push(he.slice(De,et)),(Vt=qN[gt=he.charAt(++et)])!=null?gt=he.charAt(++et):Vt=gt==="e"?" ":"0",(Rn=Se[gt])&&(gt=Rn(Ie,Vt)),se.push(gt),De=et+1);return se.push(he.slice(De,et)),se.join("")}}function A(he,Se){return function(Ie){var se=gd(1900,void 0,1),et=O(se,he,Ie+="",0),De,ht;if(et!=Ie.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(Se&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(De=p0(gd(se.y,0,1)),ht=De.getUTCDay(),De=ht>4||ht===0?qg.ceil(De):qg(De),De=kv.offset(De,(se.V-1)*7),se.y=De.getUTCFullYear(),se.m=De.getUTCMonth(),se.d=De.getUTCDate()+(se.w+6)%7):(De=f0(gd(se.y,0,1)),ht=De.getDay(),De=ht>4||ht===0?Kg.ceil(De):Kg(De),De=$f.offset(De,(se.V-1)*7),se.y=De.getFullYear(),se.m=De.getMonth(),se.d=De.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),ht="Z"in se?p0(gd(se.y,0,1)).getUTCDay():f0(gd(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(ht+5)%7:se.w+se.U*7-(ht+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,p0(se)):f0(se)}}function O(he,Se,Ie,se){for(var et=0,De=Se.length,ht=Ie.length,gt,Vt;et<De;){if(se>=ht)return-1;if(gt=Se.charCodeAt(et++),gt===37){if(gt=Se.charAt(et++),Vt=N[gt in qN?Se.charAt(et++):gt],!Vt||(se=Vt(he,Ie,se))<0)return-1}else if(gt!=Ie.charCodeAt(se++))return-1}return se}function k(he,Se,Ie){var se=c.exec(Se.slice(Ie));return se?(he.p=p.get(se[0].toLowerCase()),Ie+se[0].length):-1}function $(he,Se,Ie){var se=v.exec(Se.slice(Ie));return se?(he.w=b.get(se[0].toLowerCase()),Ie+se[0].length):-1}function B(he,Se,Ie){var se=f.exec(Se.slice(Ie));return se?(he.w=y.get(se[0].toLowerCase()),Ie+se[0].length):-1}function D(he,Se,Ie){var se=P.exec(Se.slice(Ie));return se?(he.m=w.get(se[0].toLowerCase()),Ie+se[0].length):-1}function F(he,Se,Ie){var se=S.exec(Se.slice(Ie));return se?(he.m=x.get(se[0].toLowerCase()),Ie+se[0].length):-1}function W(he,Se,Ie){return O(he,e,Se,Ie)}function Y(he,Se,Ie){return O(he,n,Se,Ie)}function G(he,Se,Ie){return O(he,r,Se,Ie)}function Z(he){return s[he.getDay()]}function z(he){return a[he.getDay()]}function q(he){return u[he.getMonth()]}function H(he){return l[he.getMonth()]}function ee(he){return i[+(he.getHours()>=12)]}function re(he){return 1+~~(he.getMonth()/3)}function ce(he){return s[he.getUTCDay()]}function xe(he){return a[he.getUTCDay()]}function _e(he){return u[he.getUTCMonth()]}function ge(he){return l[he.getUTCMonth()]}function Je(he){return i[+(he.getUTCHours()>=12)]}function mt(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var Se=M(he+="",T);return Se.toString=function(){return he},Se},parse:function(he){var Se=A(he+="",!1);return Se.toString=function(){return he},Se},utcFormat:function(he){var Se=M(he+="",I);return Se.toString=function(){return he},Se},utcParse:function(he){var Se=A(he+="",!0);return Se.toString=function(){return he},Se}}}var qN={"-":"",_:" ",0:"0"},mn=/^\s*\d+/,goe=/^%/,yoe=/[\\^$*+?|[\]().{}]/g;function Ye(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function voe(t){return t.replace(yoe,"\\$&")}function yd(t){return new RegExp("^(?:"+t.map(voe).join("|")+")","i")}function vd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function _oe(t,e,n){var r=mn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function xoe(t,e,n){var r=mn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function boe(t,e,n){var r=mn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function woe(t,e,n){var r=mn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Poe(t,e,n){var r=mn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ZN(t,e,n){var r=mn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function YN(t,e,n){var r=mn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Soe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Eoe(t,e,n){var r=mn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Toe(t,e,n){var r=mn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function XN(t,e,n){var r=mn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Aoe(t,e,n){var r=mn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function QN(t,e,n){var r=mn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Moe(t,e,n){var r=mn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Noe(t,e,n){var r=mn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ioe(t,e,n){var r=mn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Coe(t,e,n){var r=mn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ooe(t,e,n){var r=goe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function joe(t,e,n){var r=mn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function koe(t,e,n){var r=mn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function JN(t,e){return Ye(t.getDate(),e,2)}function Doe(t,e){return Ye(t.getHours(),e,2)}function Roe(t,e){return Ye(t.getHours()%12||12,e,2)}function Loe(t,e){return Ye(1+$f.count(Ea(t),t),e,3)}function FL(t,e){return Ye(t.getMilliseconds(),e,3)}function $oe(t,e){return FL(t,e)+"000"}function Foe(t,e){return Ye(t.getMonth()+1,e,2)}function Boe(t,e){return Ye(t.getMinutes(),e,2)}function Voe(t,e){return Ye(t.getSeconds(),e,2)}function Uoe(t){var e=t.getDay();return e===0?7:e}function zoe(t,e){return Ye(Dv.count(Ea(t)-1,t),e,2)}function BL(t){var e=t.getDay();return e>=4||e===0?Fu(t):Fu.ceil(t)}function Hoe(t,e){return t=BL(t),Ye(Fu.count(Ea(t),t)+(Ea(t).getDay()===4),e,2)}function Woe(t){return t.getDay()}function Goe(t,e){return Ye(Kg.count(Ea(t)-1,t),e,2)}function Koe(t,e){return Ye(t.getFullYear()%100,e,2)}function qoe(t,e){return t=BL(t),Ye(t.getFullYear()%100,e,2)}function Zoe(t,e){return Ye(t.getFullYear()%1e4,e,4)}function Yoe(t,e){var n=t.getDay();return t=n>=4||n===0?Fu(t):Fu.ceil(t),Ye(t.getFullYear()%1e4,e,4)}function Xoe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ye(e/60|0,"0",2)+Ye(e%60,"0",2)}function eI(t,e){return Ye(t.getUTCDate(),e,2)}function Qoe(t,e){return Ye(t.getUTCHours(),e,2)}function Joe(t,e){return Ye(t.getUTCHours()%12||12,e,2)}function ele(t,e){return Ye(1+kv.count(Ta(t),t),e,3)}function VL(t,e){return Ye(t.getUTCMilliseconds(),e,3)}function tle(t,e){return VL(t,e)+"000"}function nle(t,e){return Ye(t.getUTCMonth()+1,e,2)}function rle(t,e){return Ye(t.getUTCMinutes(),e,2)}function ile(t,e){return Ye(t.getUTCSeconds(),e,2)}function ale(t){var e=t.getUTCDay();return e===0?7:e}function sle(t,e){return Ye(Rv.count(Ta(t)-1,t),e,2)}function UL(t){var e=t.getUTCDay();return e>=4||e===0?Bu(t):Bu.ceil(t)}function ole(t,e){return t=UL(t),Ye(Bu.count(Ta(t),t)+(Ta(t).getUTCDay()===4),e,2)}function lle(t){return t.getUTCDay()}function ule(t,e){return Ye(qg.count(Ta(t)-1,t),e,2)}function cle(t,e){return Ye(t.getUTCFullYear()%100,e,2)}function dle(t,e){return t=UL(t),Ye(t.getUTCFullYear()%100,e,2)}function hle(t,e){return Ye(t.getUTCFullYear()%1e4,e,4)}function fle(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Bu(t):Bu.ceil(t),Ye(t.getUTCFullYear()%1e4,e,4)}function ple(){return"+0000"}function tI(){return"%"}function nI(t){return+t}function rI(t){return Math.floor(+t/1e3)}var Cl,zL,HL;mle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mle(t){return Cl=moe(t),zL=Cl.format,Cl.parse,HL=Cl.utcFormat,Cl.utcParse,Cl}function gle(t){return new Date(t)}function yle(t){return t instanceof Date?+t:+new Date(+t)}function dS(t,e,n,r,i,a,s,l,u,c){var p=XP(),f=p.invert,y=p.domain,v=c(".%L"),b=c(":%S"),S=c("%I:%M"),x=c("%I %p"),P=c("%a %d"),w=c("%b %d"),T=c("%B"),I=c("%Y");function N(M){return(u(M)<M?v:l(M)<M?b:s(M)<M?S:a(M)<M?x:r(M)<M?i(M)<M?P:w:n(M)<M?T:I)(M)}return p.invert=function(M){return new Date(f(M))},p.domain=function(M){return arguments.length?y(Array.from(M,yle)):y().map(gle)},p.ticks=function(M){var A=y();return t(A[0],A[A.length-1],M??10)},p.tickFormat=function(M,A){return A==null?N:c(A)},p.nice=function(M){var A=y();return(!M||typeof M.range!="function")&&(M=e(A[0],A[A.length-1],M??10)),M?y(IL(A,M)):p},p.copy=function(){return Lf(p,dS(t,e,n,r,i,a,s,l,u,c))},p}function vle(){return Wr.apply(dS(foe,poe,Ea,uS,Dv,$f,oS,aS,wo,zL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _le(){return Wr.apply(dS(doe,hoe,Ta,cS,Rv,kv,lS,sS,wo,HL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Lv(){var t=0,e=1,n,r,i,a,s=Bn,l=!1,u;function c(f){return f==null||isNaN(f=+f)?u:s(i===0?.5:(f=(a(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(l=!!f,c):l},c.interpolator=function(f){return arguments.length?(s=f,c):s};function p(f){return function(y){var v,b;return arguments.length?([v,b]=y,s=f(v,b),c):[s(0),s(1)]}}return c.range=p(Pc),c.rangeRound=p(YP),c.unknown=function(f){return arguments.length?(u=f,c):u},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function zs(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function WL(){var t=Us(Lv()(Bn));return t.copy=function(){return zs(t,WL())},Ra.apply(t,arguments)}function GL(){var t=eS(Lv()).domain([1,10]);return t.copy=function(){return zs(t,GL()).base(t.base())},Ra.apply(t,arguments)}function KL(){var t=tS(Lv());return t.copy=function(){return zs(t,KL()).constant(t.constant())},Ra.apply(t,arguments)}function hS(){var t=nS(Lv());return t.copy=function(){return zs(t,hS()).exponent(t.exponent())},Ra.apply(t,arguments)}function xle(){return hS.apply(null,arguments).exponent(.5)}function qL(){var t=[],e=Bn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Df(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ss),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>sse(t,a/r))},n.copy=function(){return qL(e).domain(t)},Ra.apply(n,arguments)}function $v(){var t=0,e=.5,n=1,r=1,i,a,s,l,u,c=Bn,p,f=!1,y;function v(S){return isNaN(S=+S)?y:(S=.5+((S=+p(S))-a)*(r*S<r*a?l:u),c(f?Math.max(0,Math.min(1,S)):S))}v.domain=function(S){return arguments.length?([t,e,n]=S,i=p(t=+t),a=p(e=+e),s=p(n=+n),l=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,v):[t,e,n]},v.clamp=function(S){return arguments.length?(f=!!S,v):f},v.interpolator=function(S){return arguments.length?(c=S,v):c};function b(S){return function(x){var P,w,T;return arguments.length?([P,w,T]=x,c=Ose(S,[P,w,T]),v):[c(0),c(.5),c(1)]}}return v.range=b(Pc),v.rangeRound=b(YP),v.unknown=function(S){return arguments.length?(y=S,v):y},function(S){return p=S,i=S(t),a=S(e),s=S(n),l=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,v}}function ZL(){var t=Us($v()(Bn));return t.copy=function(){return zs(t,ZL())},Ra.apply(t,arguments)}function YL(){var t=eS($v()).domain([.1,1,10]);return t.copy=function(){return zs(t,YL()).base(t.base())},Ra.apply(t,arguments)}function XL(){var t=tS($v());return t.copy=function(){return zs(t,XL()).constant(t.constant())},Ra.apply(t,arguments)}function fS(){var t=nS($v());return t.copy=function(){return zs(t,fS()).exponent(t.exponent())},Ra.apply(t,arguments)}function ble(){return fS.apply(null,arguments).exponent(.5)}const iI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Vh,scaleDiverging:ZL,scaleDivergingLog:YL,scaleDivergingPow:fS,scaleDivergingSqrt:ble,scaleDivergingSymlog:XL,scaleIdentity:NL,scaleImplicit:Ib,scaleLinear:Wg,scaleLog:CL,scaleOrdinal:KP,scalePoint:th,scalePow:rS,scaleQuantile:kL,scaleQuantize:DL,scaleRadial:jL,scaleSequential:WL,scaleSequentialLog:GL,scaleSequentialPow:hS,scaleSequentialQuantile:qL,scaleSequentialSqrt:xle,scaleSequentialSymlog:KL,scaleSqrt:toe,scaleSymlog:OL,scaleThreshold:RL,scaleTime:vle,scaleUtc:_le,tickFormat:ML},Symbol.toStringTag,{value:"Module"}));var wle=fc;function Ple(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(l===void 0?s===s&&!wle(s):n(s,l)))var l=s,u=a}return u}var QL=Ple;function Sle(t,e){return t>e}var Ele=Sle,Tle=QL,Ale=Ele,Mle=xc;function Nle(t){return t&&t.length?Tle(t,Mle,Ale):void 0}var Ile=Nle;const Fv=dt(Ile);function Cle(t,e){return t<e}var Ole=Cle,jle=QL,kle=Ole,Dle=xc;function Rle(t){return t&&t.length?jle(t,Dle,kle):void 0}var Lle=Rle;const Bv=dt(Lle);var $le=TP,Fle=bc,Ble=oL,Vle=nr;function Ule(t,e){var n=Vle(t)?$le:Ble;return n(t,Fle(e))}var zle=Ule,Hle=aL,Wle=zle;function Gle(t,e){return Hle(Wle(t,e),1)}var Kle=Gle;const qle=dt(Kle);var Zle=UP;function Yle(t,e){return Zle(t,e)}var Xle=Yle;const Vv=dt(Xle);var Sc=1e9,Qle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mS,Tt=!0,zr="[DecimalError] ",Io=zr+"Invalid argument: ",pS=zr+"Exponent out of range: ",Ec=Math.floor,po=Math.pow,Jle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dr,hn=1e7,_t=7,JL=9007199254740991,Zg=Ec(JL/_t),ve={};ve.absoluteValue=ve.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ve.comparedTo=ve.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ve.decimalPlaces=ve.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*_t;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ve.dividedBy=ve.div=function(t){return ma(this,new this.constructor(t))};ve.dividedToIntegerBy=ve.idiv=function(t){var e=this,n=e.constructor;return ct(ma(e,new n(t),0,1),n.precision)};ve.equals=ve.eq=function(t){return!this.cmp(t)};ve.exponent=function(){return Yt(this)};ve.greaterThan=ve.gt=function(t){return this.cmp(t)>0};ve.greaterThanOrEqualTo=ve.gte=function(t){return this.cmp(t)>=0};ve.isInteger=ve.isint=function(){return this.e>this.d.length-2};ve.isNegative=ve.isneg=function(){return this.s<0};ve.isPositive=ve.ispos=function(){return this.s>0};ve.isZero=function(){return this.s===0};ve.lessThan=ve.lt=function(t){return this.cmp(t)<0};ve.lessThanOrEqualTo=ve.lte=function(t){return this.cmp(t)<1};ve.logarithm=ve.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(dr))throw Error(zr+"NaN");if(n.s<1)throw Error(zr+(n.s?"NaN":"-Infinity"));return n.eq(dr)?new r(0):(Tt=!1,e=ma(Gh(n,a),Gh(t,a),a),Tt=!0,ct(e,i))};ve.minus=ve.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?n$(e,t):e$(e,(t.s=-t.s,t))};ve.modulo=ve.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(zr+"NaN");return n.s?(Tt=!1,e=ma(n,t,0,1).times(t),Tt=!0,n.minus(e)):ct(new r(n),i)};ve.naturalExponential=ve.exp=function(){return t$(this)};ve.naturalLogarithm=ve.ln=function(){return Gh(this)};ve.negated=ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ve.plus=ve.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?e$(e,t):n$(e,(t.s=-t.s,t))};ve.precision=ve.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Io+t);if(e=Yt(i)+1,r=i.d.length-1,n=r*_t+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ve.squareRoot=ve.sqrt=function(){var t,e,n,r,i,a,s,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(zr+"NaN")}for(t=Yt(l),Tt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Ni(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ec((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=s=n+3;;)if(a=r,r=a.plus(ma(l,a,s+2)).times(.5),Ni(a.d).slice(0,s)===(e=Ni(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(ct(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;s+=4}return Tt=!0,ct(r,n)};ve.times=ve.mul=function(t){var e,n,r,i,a,s,l,u,c,p=this,f=p.constructor,y=p.d,v=(t=new f(t)).d;if(!p.s||!t.s)return new f(0);for(t.s*=p.s,n=p.e+t.e,u=y.length,c=v.length,u<c&&(a=y,y=v,v=a,s=u,u=c,c=s),a=[],s=u+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=u+r;i>r;)l=a[i]+v[r]*y[i-r-1]+e,a[i--]=l%hn|0,e=l/hn|0;a[i]=(a[i]+e)%hn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Tt?ct(t,f.precision):t};ve.toDecimalPlaces=ve.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ui(t,0,Sc),e===void 0?e=r.rounding:Ui(e,0,8),ct(n,t+Yt(n)+1,e))};ve.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ho(r,!0):(Ui(t,0,Sc),e===void 0?e=i.rounding:Ui(e,0,8),r=ct(new i(r),t+1,e),n=Ho(r,!0,t+1)),n};ve.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Ho(i):(Ui(t,0,Sc),e===void 0?e=a.rounding:Ui(e,0,8),r=ct(new a(i),t+Yt(i)+1,e),n=Ho(r.abs(),!1,t+Yt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ve.toInteger=ve.toint=function(){var t=this,e=t.constructor;return ct(new e(t),Yt(t)+1,e.rounding)};ve.toNumber=function(){return+this};ve.toPower=ve.pow=function(t){var e,n,r,i,a,s,l=this,u=l.constructor,c=12,p=+(t=new u(t));if(!t.s)return new u(dr);if(l=new u(l),!l.s){if(t.s<1)throw Error(zr+"Infinity");return l}if(l.eq(dr))return l;if(r=u.precision,t.eq(dr))return ct(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=l.s,s){if((n=p<0?-p:p)<=JL){for(i=new u(dr),e=Math.ceil(r/_t+4),Tt=!1;n%2&&(i=i.times(l),sI(i.d,e)),n=Ec(n/2),n!==0;)l=l.times(l),sI(l.d,e);return Tt=!0,t.s<0?new u(dr).div(i):ct(i,r)}}else if(a<0)throw Error(zr+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Tt=!1,i=t.times(Gh(l,r+c)),Tt=!0,i=t$(i),i.s=a,i};ve.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Yt(i),r=Ho(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ui(t,1,Sc),e===void 0?e=a.rounding:Ui(e,0,8),i=ct(new a(i),t,e),n=Yt(i),r=Ho(i,t<=n||n<=a.toExpNeg,t)),r};ve.toSignificantDigits=ve.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ui(t,1,Sc),e===void 0?e=r.rounding:Ui(e,0,8)),ct(new r(n),t,e)};ve.toString=ve.valueOf=ve.val=ve.toJSON=ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Yt(t),n=t.constructor;return Ho(t,e<=n.toExpNeg||e>=n.toExpPos)};function e$(t,e){var n,r,i,a,s,l,u,c,p=t.constructor,f=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Tt?ct(e,f):e;if(u=t.d,c=e.d,s=t.e,i=e.e,u=u.slice(),a=s-i,a){for(a<0?(r=u,a=-a,l=c.length):(r=c,i=s,l=u.length),s=Math.ceil(f/_t),l=s>l?s+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=u.length,a=c.length,l-a<0&&(a=l,r=c,c=u,u=r),n=0;a;)n=(u[--a]=u[a]+c[a]+n)/hn|0,u[a]%=hn;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,Tt?ct(e,f):e}function Ui(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Io+t)}function Ni(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=_t-r.length,n&&(a+=Xa(n)),a+=r;s=t[e],r=s+"",n=_t-r.length,n&&(a+=Xa(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ma=function(){function t(r,i){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%hn|0,s=a/hn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var l,u;if(a!=s)u=a>s?1:-1;else for(l=u=0;l<a;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*hn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var l,u,c,p,f,y,v,b,S,x,P,w,T,I,N,M,A,O,k=r.constructor,$=r.s==i.s?1:-1,B=r.d,D=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(zr+"Division by zero");for(u=r.e-i.e,A=D.length,N=B.length,v=new k($),b=v.d=[],c=0;D[c]==(B[c]||0);)++c;if(D[c]>(B[c]||0)&&--u,a==null?w=a=k.precision:s?w=a+(Yt(r)-Yt(i))+1:w=a,w<0)return new k(0);if(w=w/_t+2|0,c=0,A==1)for(p=0,D=D[0],w++;(c<N||p)&&w--;c++)T=p*hn+(B[c]||0),b[c]=T/D|0,p=T%D|0;else{for(p=hn/(D[0]+1)|0,p>1&&(D=t(D,p),B=t(B,p),A=D.length,N=B.length),I=A,S=B.slice(0,A),x=S.length;x<A;)S[x++]=0;O=D.slice(),O.unshift(0),M=D[0],D[1]>=hn/2&&++M;do p=0,l=e(D,S,A,x),l<0?(P=S[0],A!=x&&(P=P*hn+(S[1]||0)),p=P/M|0,p>1?(p>=hn&&(p=hn-1),f=t(D,p),y=f.length,x=S.length,l=e(f,S,y,x),l==1&&(p--,n(f,A<y?O:D,y))):(p==0&&(l=p=1),f=D.slice()),y=f.length,y<x&&f.unshift(0),n(S,f,x),l==-1&&(x=S.length,l=e(D,S,A,x),l<1&&(p++,n(S,A<x?O:D,x))),x=S.length):l===0&&(p++,S=[0]),b[c++]=p,l&&S[0]?S[x++]=B[I]||0:(S=[B[I]],x=1);while((I++<N||S[0]!==void 0)&&w--)}return b[0]||b.shift(),v.e=u,ct(v,s?a+Yt(v)+1:a)}}();function t$(t,e){var n,r,i,a,s,l,u=0,c=0,p=t.constructor,f=p.precision;if(Yt(t)>16)throw Error(pS+Yt(t));if(!t.s)return new p(dr);for(Tt=!1,l=f,s=new p(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(po(2,c))/Math.LN10*2+5|0,l+=r,n=i=a=new p(dr),p.precision=l;;){if(i=ct(i.times(t),l),n=n.times(++u),s=a.plus(ma(i,n,l)),Ni(s.d).slice(0,l)===Ni(a.d).slice(0,l)){for(;c--;)a=ct(a.times(a),l);return p.precision=f,e==null?(Tt=!0,ct(a,f)):a}a=s}}function Yt(t){for(var e=t.e*_t,n=t.d[0];n>=10;n/=10)e++;return e}function m0(t,e,n){if(e>t.LN10.sd())throw Tt=!0,n&&(t.precision=n),Error(zr+"LN10 precision limit exceeded");return ct(new t(t.LN10),e)}function Xa(t){for(var e="";t--;)e+="0";return e}function Gh(t,e){var n,r,i,a,s,l,u,c,p,f=1,y=10,v=t,b=v.d,S=v.constructor,x=S.precision;if(v.s<1)throw Error(zr+(v.s?"NaN":"-Infinity"));if(v.eq(dr))return new S(0);if(e==null?(Tt=!1,c=x):c=e,v.eq(10))return e==null&&(Tt=!0),m0(S,c);if(c+=y,S.precision=c,n=Ni(b),r=n.charAt(0),a=Yt(v),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=Ni(v.d),r=n.charAt(0),f++;a=Yt(v),r>1?(v=new S("0."+n),a++):v=new S(r+"."+n.slice(1))}else return u=m0(S,c+2,x).times(a+""),v=Gh(new S(r+"."+n.slice(1)),c-y).plus(u),S.precision=x,e==null?(Tt=!0,ct(v,x)):v;for(l=s=v=ma(v.minus(dr),v.plus(dr),c),p=ct(v.times(v),c),i=3;;){if(s=ct(s.times(p),c),u=l.plus(ma(s,new S(i),c)),Ni(u.d).slice(0,c)===Ni(l.d).slice(0,c))return l=l.times(2),a!==0&&(l=l.plus(m0(S,c+2,x).times(a+""))),l=ma(l,new S(f),c),S.precision=x,e==null?(Tt=!0,ct(l,x)):l;l=u,i+=2}}function aI(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ec(n/_t),t.d=[],r=(n+1)%_t,n<0&&(r+=_t),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=_t;r<i;)t.d.push(+e.slice(r,r+=_t));e=e.slice(r),r=_t-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Tt&&(t.e>Zg||t.e<-Zg))throw Error(pS+n)}else t.s=0,t.e=0,t.d=[0];return t}function ct(t,e,n){var r,i,a,s,l,u,c,p,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=_t,i=e,c=f[p=0];else{if(p=Math.ceil((r+1)/_t),a=f.length,p>=a)return t;for(c=a=f[p],s=1;a>=10;a/=10)s++;r%=_t,i=r-_t+s}if(n!==void 0&&(a=po(10,s-i-1),l=c/a%10|0,u=e<0||f[p+1]!==void 0||c%a,u=n<4?(l||u)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?c/po(10,s-i):0:f[p-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return u?(a=Yt(t),f.length=1,e=e-a-1,f[0]=po(10,(_t-e%_t)%_t),t.e=Ec(-e/_t)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=p,a=1,p--):(f.length=p+1,a=po(10,_t-r),f[p]=i>0?(c/po(10,s-i)%po(10,i)|0)*a:0),u)for(;;)if(p==0){(f[0]+=a)==hn&&(f[0]=1,++t.e);break}else{if(f[p]+=a,f[p]!=hn)break;f[p--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Tt&&(t.e>Zg||t.e<-Zg))throw Error(pS+Yt(t));return t}function n$(t,e){var n,r,i,a,s,l,u,c,p,f,y=t.constructor,v=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Tt?ct(e,v):e;if(u=t.d,f=e.d,r=e.e,c=t.e,u=u.slice(),s=c-r,s){for(p=s<0,p?(n=u,s=-s,l=f.length):(n=f,r=c,l=u.length),i=Math.max(Math.ceil(v/_t),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=f.length,p=i<l,p&&(l=i),i=0;i<l;i++)if(u[i]!=f[i]){p=u[i]<f[i];break}s=0}for(p&&(n=u,u=f,f=n,e.s=-e.s),l=u.length,i=f.length-l;i>0;--i)u[l++]=0;for(i=f.length;i>s;){if(u[--i]<f[i]){for(a=i;a&&u[--a]===0;)u[a]=hn-1;--u[a],u[i]+=hn}u[i]-=f[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,Tt?ct(e,v):e):new y(0)}function Ho(t,e,n){var r,i=Yt(t),a=Ni(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Xa(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Xa(-i-1)+a,n&&(r=n-s)>0&&(a+=Xa(r))):i>=s?(a+=Xa(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Xa(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Xa(r))),t.s<0?"-"+a:a}function sI(t,e){if(t.length>e)return t.length=e,!0}function r$(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Io+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return aI(s,a.toString())}else if(typeof a!="string")throw Error(Io+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Jle.test(a))aI(s,a);else throw Error(Io+a)}if(i.prototype=ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=r$,i.config=i.set=eue,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function eue(t){if(!t||typeof t!="object")throw Error(zr+"Object expected");var e,n,r,i=["precision",1,Sc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ec(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Io+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Io+n+": "+r);return this}var mS=r$(Qle);dr=new mS(1);const lt=mS;function tue(t){return aue(t)||iue(t)||rue(t)||nue()}function nue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rue(t,e){if(t){if(typeof t=="string")return kb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kb(t,e)}}function iue(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function aue(t){if(Array.isArray(t))return kb(t)}function kb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sue=function(e){return e},i$={},a$=function(e){return e===i$},oI=function(e){return function n(){return arguments.length===0||arguments.length===1&&a$(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},oue=function t(e,n){return e===1?n:oI(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==i$}).length;return s>=e?n.apply(void 0,i):t(e-s,oI(function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var p=i.map(function(f){return a$(f)?u.shift():f});return n.apply(void 0,tue(p).concat(u))}))})},Uv=function(e){return oue(e.length,e)},Db=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},lue=Uv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),uue=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return sue;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,u){return u(l)},a.apply(void 0,arguments))}},Rb=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},s$=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(l,u){return l===n[u]})||(n=a,r=e.apply(void 0,a)),r}};function cue(t){var e;return t===0?e=1:e=Math.floor(new lt(t).abs().log(10).toNumber())+1,e}function due(t,e,n){for(var r=new lt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var hue=Uv(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),fue=Uv(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),pue=Uv(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const zv={rangeStep:due,getDigitCount:cue,interpolateNumber:hue,uninterpolateNumber:fue,uninterpolateTruncation:pue};function Lb(t){return yue(t)||gue(t)||o$(t)||mue()}function mue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gue(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function yue(t){if(Array.isArray(t))return $b(t)}function Kh(t,e){return xue(t)||_ue(t,e)||o$(t,e)||vue()}function vue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o$(t,e){if(t){if(typeof t=="string")return $b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $b(t,e)}}function $b(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _ue(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(u){i=!0,a=u}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function xue(t){if(Array.isArray(t))return t}function l$(t){var e=Kh(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function u$(t,e,n){if(t.lte(0))return new lt(0);var r=zv.getDigitCount(t.toNumber()),i=new lt(10).pow(r),a=t.div(i),s=r!==1?.05:.1,l=new lt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),u=l.mul(i);return e?u:new lt(Math.ceil(u))}function bue(t,e,n){var r=1,i=new lt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new lt(10).pow(zv.getDigitCount(t)-1),i=new lt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new lt(Math.floor(t)))}else t===0?i=new lt(Math.floor((e-1)/2)):n||(i=new lt(Math.floor(t)));var s=Math.floor((e-1)/2),l=uue(lue(function(u){return i.add(new lt(u-s).mul(r)).toNumber()}),Db);return l(0,e)}function c$(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new lt(0),tickMin:new lt(0),tickMax:new lt(0)};var a=u$(new lt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new lt(0):(s=new lt(t).add(e).div(2),s=s.sub(new lt(s).mod(a)));var l=Math.ceil(s.sub(t).div(a).toNumber()),u=Math.ceil(new lt(e).sub(s).div(a).toNumber()),c=l+u+1;return c>n?c$(t,e,n,r,i+1):(c<n&&(u=e>0?u+(n-c):u,l=e>0?l:l+(n-c)),{step:a,tickMin:s.sub(new lt(l).mul(a)),tickMax:s.add(new lt(u).mul(a))})}function wue(t){var e=Kh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=l$([n,r]),u=Kh(l,2),c=u[0],p=u[1];if(c===-1/0||p===1/0){var f=p===1/0?[c].concat(Lb(Db(0,i-1).map(function(){return 1/0}))):[].concat(Lb(Db(0,i-1).map(function(){return-1/0})),[p]);return n>r?Rb(f):f}if(c===p)return bue(c,i,a);var y=c$(c,p,s,a),v=y.step,b=y.tickMin,S=y.tickMax,x=zv.rangeStep(b,S.add(new lt(.1).mul(v)),v);return n>r?Rb(x):x}function Pue(t,e){var n=Kh(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=l$([r,i]),l=Kh(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0)return[r,i];if(u===c)return[u];var p=Math.max(e,2),f=u$(new lt(c).sub(u).div(p-1),a,0),y=[].concat(Lb(zv.rangeStep(new lt(u),new lt(c).sub(new lt(.99).mul(f)),f)),[c]);return r>i?Rb(y):y}var Sue=s$(wue),Eue=s$(Pue),Tue="Invariant failed";function Wo(t,e){throw new Error(Tue)}var Aue=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function Yg(){return Yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yg.apply(this,arguments)}function Mue(t,e){return Oue(t)||Cue(t,e)||Iue(t,e)||Nue()}function Nue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iue(t,e){if(t){if(typeof t=="string")return lI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lI(t,e)}}function lI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],u=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(p){c=!0,i=p}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return l}}function Oue(t){if(Array.isArray(t))return t}function jue(t,e){if(t==null)return{};var n=kue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Due(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f$(r.key),r)}}function Lue(t,e,n){return e&&Rue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ue(t,e,n){return e=Xg(e),Fue(t,d$()?Reflect.construct(e,n||[],Xg(t).constructor):e.apply(t,n))}function Fue(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bue(t)}function Bue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d$=function(){return!!t})()}function Xg(t){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xg(t)}function Vue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fb(t,e)}function Fb(t,e){return Fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fb(t,e)}function h$(t,e,n){return e=f$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f$(t){var e=Uue(t,"string");return Vu(e)=="symbol"?e:e+""}function Uue(t,e){if(Vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ff=function(t){function e(){return Due(this,e),$ue(this,e,arguments)}return Vue(e,t),Lue(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,l=r.dataKey,u=r.data,c=r.dataPointFormatter,p=r.xAxis,f=r.yAxis,y=jue(r,Aue),v=Ke(y,!1);this.props.direction==="x"&&p.type!=="number"&&Wo();var b=u.map(function(S){var x=c(S,l),P=x.x,w=x.y,T=x.value,I=x.errorVal;if(!I)return null;var N=[],M,A;if(Array.isArray(I)){var O=Mue(I,2);M=O[0],A=O[1]}else M=A=I;if(a==="vertical"){var k=p.scale,$=w+i,B=$+s,D=$-s,F=k(T-M),W=k(T+A);N.push({x1:W,y1:B,x2:W,y2:D}),N.push({x1:F,y1:$,x2:W,y2:$}),N.push({x1:F,y1:B,x2:F,y2:D})}else if(a==="horizontal"){var Y=f.scale,G=P+i,Z=G-s,z=G+s,q=Y(T-M),H=Y(T+A);N.push({x1:Z,y1:H,x2:z,y2:H}),N.push({x1:G,y1:q,x2:G,y2:H}),N.push({x1:Z,y1:q,x2:z,y2:q})}return X.createElement(Bt,Yg({className:"recharts-errorBar",key:"bar-".concat(N.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},v),N.map(function(ee){return X.createElement("line",Yg({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return X.createElement(Bt,{className:"recharts-errorBars"},b)}}])}(X.Component);h$(Ff,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});h$(Ff,"displayName","ErrorBar");function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){zue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zue(t,e,n){return e=Hue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hue(t){var e=Wue(t,"string");return qh(e)=="symbol"?e:e+""}function Wue(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var p$=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=cr(n,pu);if(!s)return null;var l=pu.defaultProps,u=l!==void 0?ao(ao({},l),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(r||[]).reduce(function(p,f){var y=f.item,v=f.props,b=v.sectors||v.data||[];return p.concat(b.map(function(S){return{type:s.props.iconType||y.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):c=(r||[]).map(function(p){var f=p.item,y=f.type.defaultProps,v=y!==void 0?ao(ao({},y),f.props):{},b=v.dataKey,S=v.name,x=v.legendType,P=v.hide;return{inactive:P,dataKey:b,type:u.iconType||x||"square",color:gS(f),value:S||b,payload:v}}),ao(ao(ao({},u),pu.getWithHeight(s,i)),{},{payload:c,item:s})};function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function cI(t){return Zue(t)||que(t)||Kue(t)||Gue()}function Gue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kue(t,e){if(t){if(typeof t=="string")return Bb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bb(t,e)}}function que(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zue(t){if(Array.isArray(t))return Bb(t)}function Bb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){gu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gu(t,e,n){return e=Yue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yue(t){var e=Xue(t,"string");return Zh(e)=="symbol"?e:e+""}function Xue(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gr(t,e,n){return Fe(t)||Fe(e)?n:an(e)?Fr(t,e,n):ze(e)?e(t):n}function nh(t,e,n,r){var i=qle(t,function(l){return gr(l,e)});if(n==="number"){var a=i.filter(function(l){return fe(l)||parseFloat(l)});return a.length?[Bv(a),Fv(a)]:[1/0,-1/0]}var s=r?i.filter(function(l){return!Fe(l)}):i;return s.map(function(l){return an(l)||l instanceof Date?l:""})}var Que=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var u=a.range,c=0;c<l;c++){var p=c>0?i[c-1].coordinate:i[l-1].coordinate,f=i[c].coordinate,y=c>=l-1?i[0].coordinate:i[c+1].coordinate,v=void 0;if(di(f-p)!==di(y-f)){var b=[];if(di(y-f)===di(u[1]-u[0])){v=y;var S=f+u[1]-u[0];b[0]=Math.min(S,(S+p)/2),b[1]=Math.max(S,(S+p)/2)}else{v=p;var x=y+u[1]-u[0];b[0]=Math.min(f,(x+f)/2),b[1]=Math.max(f,(x+f)/2)}var P=[Math.min(f,(v+f)/2),Math.max(f,(v+f)/2)];if(e>P[0]&&e<=P[1]||e>=b[0]&&e<=b[1]){s=i[c].index;break}}else{var w=Math.min(p,y),T=Math.max(p,y);if(e>(w+f)/2&&e<=(T+f)/2){s=i[c].index;break}}}else for(var I=0;I<l;I++)if(I===0&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I>0&&I<l-1&&e>(r[I].coordinate+r[I-1].coordinate)/2&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I===l-1&&e>(r[I].coordinate+r[I-1].coordinate)/2){s=r[I].index;break}return s},gS=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Rt(Rt({},e.type.defaultProps),e.props):e.props,s=a.stroke,l=a.fill,u;switch(i){case"Line":u=s;break;case"Area":case"Radar":u=s&&s!=="none"?s:l;break;default:u=l;break}return u},Jue=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),u=0,c=l.length;u<c;u++)for(var p=a[l[u]].stackGroups,f=Object.keys(p),y=0,v=f.length;y<v;y++){var b=p[f[y]],S=b.items,x=b.cateAxisId,P=S.filter(function(A){return pa(A.type).indexOf("Bar")>=0});if(P&&P.length){var w=P[0].type.defaultProps,T=w!==void 0?Rt(Rt({},w),P[0].props):P[0].props,I=T.barSize,N=T[x];s[N]||(s[N]=[]);var M=Fe(I)?n:I;s[N].push({item:P[0],stackList:P.slice(1),barSize:Fe(M)?void 0:zo(M,r,0)})}}return s},ece=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,l=e.maxBarSize,u=s.length;if(u<1)return null;var c=zo(n,i,0,!0),p,f=[];if(s[0].barSize===+s[0].barSize){var y=!1,v=i/u,b=s.reduce(function(I,N){return I+N.barSize||0},0);b+=(u-1)*c,b>=i&&(b-=(u-1)*c,c=0),b>=i&&v>0&&(y=!0,v*=.9,b=u*v);var S=(i-b)/2>>0,x={offset:S-c,size:0};p=s.reduce(function(I,N){var M={item:N.item,position:{offset:x.offset+x.size+c,size:y?v:N.barSize}},A=[].concat(cI(I),[M]);return x=A[A.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){A.push({item:O,position:x})}),A},f)}else{var P=zo(r,i,0,!0);i-2*P-(u-1)*c<=0&&(c=0);var w=(i-2*P-(u-1)*c)/u;w>1&&(w>>=0);var T=l===+l?Math.min(w,l):w;p=s.reduce(function(I,N,M){var A=[].concat(cI(I),[{item:N.item,position:{offset:P+(w+c)*M+(w-T)/2,size:T}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){A.push({item:O,position:A[A.length-1].position})}),A},f)}return p},tce=function(e,n,r,i){var a=r.children,s=r.width,l=r.margin,u=s-(l.left||0)-(l.right||0),c=p$({children:a,legendWidth:u});if(c){var p=i||{},f=p.width,y=p.height,v=c.align,b=c.verticalAlign,S=c.layout;if((S==="vertical"||S==="horizontal"&&b==="middle")&&v!=="center"&&fe(e[v]))return Rt(Rt({},e),{},gu({},v,e[v]+(f||0)));if((S==="horizontal"||S==="vertical"&&v==="center")&&b!=="middle"&&fe(e[b]))return Rt(Rt({},e),{},gu({},b,e[b]+(y||0)))}return e},nce=function(e,n,r){return Fe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},m$=function(e,n,r,i,a){var s=n.props.children,l=Br(s,Ff).filter(function(c){return nce(i,a,c.props.direction)});if(l&&l.length){var u=l.map(function(c){return c.props.dataKey});return e.reduce(function(c,p){var f=gr(p,r);if(Fe(f))return c;var y=Array.isArray(f)?[Bv(f),Fv(f)]:[f,f],v=u.reduce(function(b,S){var x=gr(p,S,0),P=y[0]-Math.abs(Array.isArray(x)?x[0]:x),w=y[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(P,b[0]),Math.max(w,b[1])]},[1/0,-1/0]);return[Math.min(v[0],c[0]),Math.max(v[1],c[1])]},[1/0,-1/0])}return null},rce=function(e,n,r,i,a){var s=n.map(function(l){return m$(e,l,r,a,i)}).filter(function(l){return!Fe(l)});return s&&s.length?s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]):null},g$=function(e,n,r,i,a){var s=n.map(function(u){var c=u.props.dataKey;return r==="number"&&c&&m$(e,u,c,i)||nh(e,c,r,a)});if(r==="number")return s.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]);var l={};return s.reduce(function(u,c){for(var p=0,f=c.length;p<f;p++)l[c[p]]||(l[c[p]]=!0,u.push(c[p]));return u},[])},y$=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Po=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,l=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/u:0;if(c=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?di(l[0]-l[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(f){var y=a?a.indexOf(f):f;return{coordinate:i(y)+c,value:f,offset:c}});return p.filter(function(f){return!jf(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,y){return{coordinate:i(f)+c,value:f,index:y,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,y){return{coordinate:i(f)+c,value:a?a[f]:f,index:y,offset:c}})},g0=new WeakMap,Jp=function(e,n){if(typeof n!="function")return e;g0.has(e)||g0.set(e,new WeakMap);var r=g0.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},ice=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Vh(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Wg(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:th(),realScaleType:"point"}:a==="category"?{scale:Vh(),realScaleType:"band"}:{scale:Wg(),realScaleType:"linear"};if(Uo(i)){var u="scale".concat(Tv(i));return{scale:(iI[u]||th)(),realScaleType:iI[u]?u:"point"}}return ze(i)?{scale:i}:{scale:th(),realScaleType:"point"}},hI=1e-4,ace=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-hI,s=Math.max(i[0],i[1])+hI,l=e(n[0]),u=e(n[r-1]);(l<a||l>s||u<a||u>s)&&e.domain([n[0],n[r-1]])}},sce=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},oce=function(e,n){if(!n||n.length!==2||!fe(n[0])||!fe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!fe(e[0])||e[0]<r)&&(a[0]=r),(!fe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},lce=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,l=0;l<n;++l){var u=jf(e[l][r][1])?e[l][r][0]:e[l][r][1];u>=0?(e[l][r][0]=a,e[l][r][1]=a+u,a=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+u,s=e[l][r][1])}},uce=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var l=jf(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},cce={sign:lce,expand:PY,none:ju,silhouette:SY,wiggle:EY,positive:uce},dce=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),a=cce[r],s=wY().keys(i).value(function(l,u){return+gr(l,u,0)}).order(db).offset(a);return s(e)},hce=function(e,n,r,i,a,s){if(!e)return null;var l=s?n.reverse():n,u={},c=l.reduce(function(f,y){var v,b=(v=y.type)!==null&&v!==void 0&&v.defaultProps?Rt(Rt({},y.type.defaultProps),y.props):y.props,S=b.stackId,x=b.hide;if(x)return f;var P=b[r],w=f[P]||{hasStack:!1,stackGroups:{}};if(an(S)){var T=w.stackGroups[S]||{numericAxisId:r,cateAxisId:i,items:[]};T.items.push(y),w.hasStack=!0,w.stackGroups[S]=T}else w.stackGroups[kf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[y]};return Rt(Rt({},f),{},gu({},P,w))},u),p={};return Object.keys(c).reduce(function(f,y){var v=c[y];if(v.hasStack){var b={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(S,x){var P=v.stackGroups[x];return Rt(Rt({},S),{},gu({},x,{numericAxisId:r,cateAxisId:i,items:P.items,stackedData:dce(e,P.items,a)}))},b)}return Rt(Rt({},f),{},gu({},y,v))},p)},fce=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,l=n.allowDecimals,u=r||n.scale;if(u!=="auto"&&u!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var p=Sue(c,a,l);return e.domain([Bv(p),Fv(p)]),{niceTicks:p}}if(a&&i==="number"){var f=e.domain(),y=Eue(f,a,l);return{niceTicks:y}}return null};function fI(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Fe(i[e.dataKey])){var l=bg(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=gr(i,Fe(s)?e.dataKey:s);return Fe(u)?null:e.scale(u)}var pI=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var u=gr(s,n.dataKey,n.domain[l]);return Fe(u)?null:n.scale(u)-a/2+i},pce=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},mce=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Rt(Rt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(an(a)){var s=n[a];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},gce=function(e){return e.reduce(function(n,r){return[Bv(r.concat([n[0]]).filter(fe)),Fv(r.concat([n[1]]).filter(fe))]},[1/0,-1/0])},v$=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],l=s.stackedData,u=l.reduce(function(c,p){var f=gce(p.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},mI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Vb=function(e,n,r){if(ze(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(fe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(mI.test(e[0])){var a=+mI.exec(e[0])[1];i[0]=n[0]-a}else ze(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(fe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(gI.test(e[1])){var s=+gI.exec(e[1])[1];i[1]=n[1]+s}else ze(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Qg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=HP(n,function(f){return f.coordinate}),s=1/0,l=1,u=a.length;l<u;l++){var c=a[l],p=a[l-1];s=Math.min((c.coordinate||0)-(p.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},yI=function(e,n,r){return!e||!e.length||Vv(e,Fr(r,"type.defaultProps.domain"))?n:e},_$=function(e,n){var r=e.type.defaultProps?Rt(Rt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,l=r.formatter,u=r.tooltipType,c=r.chartType,p=r.hide;return Rt(Rt({},Ke(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:gS(e),value:gr(n,i),type:u,payload:n,chartType:c,hide:p})};function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){yce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yce(t,e,n){return e=vce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vce(t){var e=_ce(t,"string");return Yh(e)=="symbol"?e:e+""}function _ce(t,e){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jg=Math.PI/180,xce=function(e){return e*180/Math.PI},bn=function(e,n,r,i){return{x:e+Math.cos(-Jg*i)*r,y:n+Math.sin(-Jg*i)*r}},bce=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},wce=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,l=bce({x:r,y:i},{x:a,y:s});if(l<=0)return{radius:l};var u=(r-a)/l,c=Math.acos(u);return i>s&&(c=2*Math.PI-c),{radius:l,angle:xce(c),angleInRadian:c}},Pce=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},Sce=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),l=Math.min(a,s);return e+l*360},xI=function(e,n){var r=e.x,i=e.y,a=wce({x:r,y:i},n),s=a.radius,l=a.angle,u=n.innerRadius,c=n.outerRadius;if(s<u||s>c)return!1;if(s===0)return!0;var p=Pce(n),f=p.startAngle,y=p.endAngle,v=l,b;if(f<=y){for(;v>y;)v-=360;for(;v<f;)v+=360;b=v>=f&&v<=y}else{for(;v>f;)v-=360;for(;v<y;)v+=360;b=v>=y&&v<=f}return b?_I(_I({},n),{},{radius:s,angle:Sce(v,n)}):null};function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}var Ece=["offset"];function Tce(t){return Ice(t)||Nce(t)||Mce(t)||Ace()}function Ace(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mce(t,e){if(t){if(typeof t=="string")return Ub(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ub(t,e)}}function Nce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ice(t){if(Array.isArray(t))return Ub(t)}function Ub(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cce(t,e){if(t==null)return{};var n=Oce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Oce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){jce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jce(t,e,n){return e=kce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kce(t){var e=Dce(t,"string");return Xh(e)=="symbol"?e:e+""}function Dce(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qh(){return Qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qh.apply(this,arguments)}var Rce=function(e){var n=e.value,r=e.formatter,i=Fe(e.children)?n:e.children;return ze(r)?r(i):i},Lce=function(e,n){var r=di(n-e),i=Math.min(Math.abs(n-e),360);return r*i},$ce=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,l=e.className,u=a,c=u.cx,p=u.cy,f=u.innerRadius,y=u.outerRadius,v=u.startAngle,b=u.endAngle,S=u.clockWise,x=(f+y)/2,P=Lce(v,b),w=P>=0?1:-1,T,I;i==="insideStart"?(T=v+w*s,I=S):i==="insideEnd"?(T=b-w*s,I=!S):i==="end"&&(T=b+w*s,I=S),I=P<=0?I:!I;var N=bn(c,p,x,T),M=bn(c,p,x,T+(I?1:-1)*359),A="M".concat(N.x,",").concat(N.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(I?0:1,`,
    `).concat(M.x,",").concat(M.y),O=Fe(e.id)?kf("recharts-radial-line-"):e.id;return X.createElement("text",Qh({},r,{dominantBaseline:"central",className:Ze("recharts-radial-bar-label",l)}),X.createElement("defs",null,X.createElement("path",{id:O,d:A})),X.createElement("textPath",{xlinkHref:"#".concat(O)},n))},Fce=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,l=a.cy,u=a.innerRadius,c=a.outerRadius,p=a.startAngle,f=a.endAngle,y=(p+f)/2;if(i==="outside"){var v=bn(s,l,c+r,y),b=v.x,S=v.y;return{x:b,y:S,textAnchor:b>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(u+c)/2,P=bn(s,l,x,y),w=P.x,T=P.y;return{x:w,y:T,textAnchor:"middle",verticalAnchor:"middle"}},Bce=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,l=s.x,u=s.y,c=s.width,p=s.height,f=p>=0?1:-1,y=f*i,v=f>0?"end":"start",b=f>0?"start":"end",S=c>=0?1:-1,x=S*i,P=S>0?"end":"start",w=S>0?"start":"end";if(a==="top"){var T={x:l+c/2,y:u-f*i,textAnchor:"middle",verticalAnchor:v};return en(en({},T),r?{height:Math.max(u-r.y,0),width:c}:{})}if(a==="bottom"){var I={x:l+c/2,y:u+p+y,textAnchor:"middle",verticalAnchor:b};return en(en({},I),r?{height:Math.max(r.y+r.height-(u+p),0),width:c}:{})}if(a==="left"){var N={x:l-x,y:u+p/2,textAnchor:P,verticalAnchor:"middle"};return en(en({},N),r?{width:Math.max(N.x-r.x,0),height:p}:{})}if(a==="right"){var M={x:l+c+x,y:u+p/2,textAnchor:w,verticalAnchor:"middle"};return en(en({},M),r?{width:Math.max(r.x+r.width-M.x,0),height:p}:{})}var A=r?{width:c,height:p}:{};return a==="insideLeft"?en({x:l+x,y:u+p/2,textAnchor:w,verticalAnchor:"middle"},A):a==="insideRight"?en({x:l+c-x,y:u+p/2,textAnchor:P,verticalAnchor:"middle"},A):a==="insideTop"?en({x:l+c/2,y:u+y,textAnchor:"middle",verticalAnchor:b},A):a==="insideBottom"?en({x:l+c/2,y:u+p-y,textAnchor:"middle",verticalAnchor:v},A):a==="insideTopLeft"?en({x:l+x,y:u+y,textAnchor:w,verticalAnchor:b},A):a==="insideTopRight"?en({x:l+c-x,y:u+y,textAnchor:P,verticalAnchor:b},A):a==="insideBottomLeft"?en({x:l+x,y:u+p-y,textAnchor:w,verticalAnchor:v},A):a==="insideBottomRight"?en({x:l+c-x,y:u+p-y,textAnchor:P,verticalAnchor:v},A):pc(a)&&(fe(a.x)||xo(a.x))&&(fe(a.y)||xo(a.y))?en({x:l+zo(a.x,c),y:u+zo(a.y,p),textAnchor:"end",verticalAnchor:"end"},A):en({x:l+c/2,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Vce=function(e){return"cx"in e&&fe(e.cx)};function On(t){var e=t.offset,n=e===void 0?5:e,r=Cce(t,Ece),i=en({offset:n},r),a=i.viewBox,s=i.position,l=i.value,u=i.children,c=i.content,p=i.className,f=p===void 0?"":p,y=i.textBreakAll;if(!a||Fe(l)&&Fe(u)&&!U.isValidElement(c)&&!ze(c))return null;if(U.isValidElement(c))return U.cloneElement(c,i);var v;if(ze(c)){if(v=U.createElement(c,i),U.isValidElement(v))return v}else v=Rce(i);var b=Vce(a),S=Ke(i,!0);if(b&&(s==="insideStart"||s==="insideEnd"||s==="end"))return $ce(i,v,S);var x=b?Fce(i):Bce(i);return X.createElement(Lg,Qh({className:Ze("recharts-label",f)},S,x,{breakAll:y}),v)}On.displayName="Label";var x$=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,l=e.r,u=e.radius,c=e.innerRadius,p=e.outerRadius,f=e.x,y=e.y,v=e.top,b=e.left,S=e.width,x=e.height,P=e.clockWise,w=e.labelViewBox;if(w)return w;if(fe(S)&&fe(x)){if(fe(f)&&fe(y))return{x:f,y,width:S,height:x};if(fe(v)&&fe(b))return{x:v,y:b,width:S,height:x}}return fe(f)&&fe(y)?{x:f,y,width:0,height:0}:fe(n)&&fe(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:p||u||l||0,clockWise:P}:e.viewBox?e.viewBox:{}},Uce=function(e,n){return e?e===!0?X.createElement(On,{key:"label-implicit",viewBox:n}):an(e)?X.createElement(On,{key:"label-implicit",viewBox:n,value:e}):U.isValidElement(e)?e.type===On?U.cloneElement(e,{key:"label-implicit",viewBox:n}):X.createElement(On,{key:"label-implicit",content:e,viewBox:n}):ze(e)?X.createElement(On,{key:"label-implicit",content:e,viewBox:n}):pc(e)?X.createElement(On,Qh({viewBox:n},e,{key:"label-implicit"})):null:null},zce=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=x$(e),s=Br(i,On).map(function(u,c){return U.cloneElement(u,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return s;var l=Uce(e.label,n||a);return[l].concat(Tce(s))};On.parseViewBox=x$;On.renderCallByParent=zce;function Hce(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Wce=Hce;const Gce=dt(Wce);function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}var Kce=["valueAccessor"],qce=["data","dataKey","clockWise","id","textBreakAll"];function Zce(t){return Jce(t)||Qce(t)||Xce(t)||Yce()}function Yce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xce(t,e){if(t){if(typeof t=="string")return zb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zb(t,e)}}function Qce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jce(t){if(Array.isArray(t))return zb(t)}function zb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ey(){return ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ey.apply(this,arguments)}function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){ede(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ede(t,e,n){return e=tde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tde(t){var e=nde(t,"string");return Jh(e)=="symbol"?e:e+""}function nde(t,e){if(Jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SI(t,e){if(t==null)return{};var n=rde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ide=function(e){return Array.isArray(e.value)?Gce(e.value):e.value};function Es(t){var e=t.valueAccessor,n=e===void 0?ide:e,r=SI(t,Kce),i=r.data,a=r.dataKey,s=r.clockWise,l=r.id,u=r.textBreakAll,c=SI(r,qce);return!i||!i.length?null:X.createElement(Bt,{className:"recharts-label-list"},i.map(function(p,f){var y=Fe(a)?n(p,f):gr(p&&p.payload,a),v=Fe(l)?{}:{id:"".concat(l,"-").concat(f)};return X.createElement(On,ey({},Ke(p,!0),c,v,{parentViewBox:p.parentViewBox,value:y,textBreakAll:u,viewBox:On.parseViewBox(Fe(s)?p:PI(PI({},p),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Es.displayName="LabelList";function ade(t,e){return t?t===!0?X.createElement(Es,{key:"labelList-implicit",data:e}):X.isValidElement(t)||ze(t)?X.createElement(Es,{key:"labelList-implicit",data:e,content:t}):pc(t)?X.createElement(Es,ey({data:e},t,{key:"labelList-implicit"})):null:null}function sde(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Br(r,Es).map(function(s,l){return U.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var a=ade(t.label,e);return[a].concat(Zce(i))}Es.renderCallByParent=sde;function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function Hb(){return Hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hb.apply(this,arguments)}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){ode(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ode(t,e,n){return e=lde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lde(t){var e=ude(t,"string");return ef(e)=="symbol"?e:e+""}function ude(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cde=function(e,n){var r=di(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},em=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,l=e.isExternal,u=e.cornerRadius,c=e.cornerIsExternal,p=u*(l?1:-1)+i,f=Math.asin(u/p)/Jg,y=c?a:a+s*f,v=bn(n,r,p,y),b=bn(n,r,i,y),S=c?a-s*f:a,x=bn(n,r,p*Math.cos(f*Jg),S);return{center:v,circleTangency:b,lineTangency:x,theta:f}},b$=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,l=e.endAngle,u=cde(s,l),c=s+u,p=bn(n,r,a,s),f=bn(n,r,a,c),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var v=bn(n,r,i,s),b=bn(n,r,i,c);y+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=c),`,
            `).concat(v.x,",").concat(v.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},dde=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,u=e.cornerIsExternal,c=e.startAngle,p=e.endAngle,f=di(p-c),y=em({cx:n,cy:r,radius:a,angle:c,sign:f,cornerRadius:s,cornerIsExternal:u}),v=y.circleTangency,b=y.lineTangency,S=y.theta,x=em({cx:n,cy:r,radius:a,angle:p,sign:-f,cornerRadius:s,cornerIsExternal:u}),P=x.circleTangency,w=x.lineTangency,T=x.theta,I=u?Math.abs(c-p):Math.abs(c-p)-S-T;if(I<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):b$({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:p});var N="M ".concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var M=em({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),A=M.circleTangency,O=M.lineTangency,k=M.theta,$=em({cx:n,cy:r,radius:i,angle:p,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),B=$.circleTangency,D=$.lineTangency,F=$.theta,W=u?Math.abs(c-p):Math.abs(c-p)-k-F;if(W<0&&s===0)return"".concat(N,"L").concat(n,",").concat(r,"Z");N+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else N+="L".concat(n,",").concat(r,"Z");return N},hde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},w$=function(e){var n=TI(TI({},hde),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,l=n.cornerRadius,u=n.forceCornerRadius,c=n.cornerIsExternal,p=n.startAngle,f=n.endAngle,y=n.className;if(s<a||p===f)return null;var v=Ze("recharts-sector",y),b=s-a,S=zo(l,b,0,!0),x;return S>0&&Math.abs(p-f)<360?x=dde({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(S,b/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:p,endAngle:f}):x=b$({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:p,endAngle:f}),X.createElement("path",Hb({},Ke(n,!0),{className:v,d:x,role:"img"}))};function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function Wb(){return Wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wb.apply(this,arguments)}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){fde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fde(t,e,n){return e=pde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pde(t){var e=mde(t,"string");return tf(e)=="symbol"?e:e+""}function mde(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NI={curveBasisClosed:dY,curveBasisOpen:hY,curveBasis:cY,curveBumpX:YZ,curveBumpY:XZ,curveLinearClosed:fY,curveLinear:Mv,curveMonotoneX:pY,curveMonotoneY:mY,curveNatural:gY,curveStep:yY,curveStepAfter:_Y,curveStepBefore:vY},tm=function(e){return e.x===+e.x&&e.y===+e.y},_d=function(e){return e.x},xd=function(e){return e.y},gde=function(e,n){if(ze(e))return e;var r="curve".concat(Tv(e));return(r==="curveMonotone"||r==="curveBump")&&n?NI["".concat(r).concat(n==="vertical"?"Y":"X")]:NI[r]||Mv},yde=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,l=e.layout,u=e.connectNulls,c=u===void 0?!1:u,p=gde(r,l),f=c?a.filter(function(S){return tm(S)}):a,y;if(Array.isArray(s)){var v=c?s.filter(function(S){return tm(S)}):s,b=f.map(function(S,x){return MI(MI({},S),{},{base:v[x]})});return l==="vertical"?y=Wp().y(xd).x1(_d).x0(function(S){return S.base.x}):y=Wp().x(_d).y1(xd).y0(function(S){return S.base.y}),y.defined(tm).curve(p),y(b)}return l==="vertical"&&fe(s)?y=Wp().y(xd).x1(_d).x0(s):fe(s)?y=Wp().x(_d).y1(xd).y0(s):y=ER().x(_d).y(xd),y.defined(tm).curve(p),y(f)},Gb=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?yde(e):i;return U.createElement("path",Wb({},Ke(e,!1),wg(e),{className:Ze("recharts-curve",n),d:s,ref:a}))},P$={exports:{}},vde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_de=vde,xde=_de;function S$(){}function E$(){}E$.resetWarningCache=S$;var bde=function(){function t(r,i,a,s,l,u){if(u!==xde){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:E$,resetWarningCache:S$};return n.PropTypes=n,n};P$.exports=bde();var wde=P$.exports;const tt=dt(wde),{getOwnPropertyNames:Pde,getOwnPropertySymbols:Sde}=Object,{hasOwnProperty:Ede}=Object.prototype;function y0(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function nm(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),l=a.get(r);if(s&&l)return s===r&&l===n;a.set(n,r),a.set(r,n);const u=t(n,r,i);return a.delete(n),a.delete(r),u}}function Tde(t){return t!=null?t[Symbol.toStringTag]:void 0}function II(t){return Pde(t).concat(Sde(t))}const Ade=Object.hasOwn||((t,e)=>Ede.call(t,e));function el(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Mde="__v",Nde="__o",Ide="_owner",{getOwnPropertyDescriptor:CI,keys:OI}=Object;function Cde(t,e){return t.byteLength===e.byteLength&&ty(new Uint8Array(t),new Uint8Array(e))}function Ode(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function jde(t,e){return t.byteLength===e.byteLength&&ty(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function kde(t,e){return el(t.getTime(),e.getTime())}function Dde(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Rde(t,e){return t===e}function jI(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,l,u=0;for(;(s=a.next())&&!s.done;){const c=e.entries();let p=!1,f=0;for(;(l=c.next())&&!l.done;){if(i[f]){f++;continue}const y=s.value,v=l.value;if(n.equals(y[0],v[0],u,f,t,e,n)&&n.equals(y[1],v[1],y[0],v[0],t,e,n)){p=i[f]=!0;break}f++}if(!p)return!1;u++}return!0}const Lde=el;function $de(t,e,n){const r=OI(t);let i=r.length;if(OI(e).length!==i)return!1;for(;i-- >0;)if(!T$(t,e,n,r[i]))return!1;return!0}function bd(t,e,n){const r=II(t);let i=r.length;if(II(e).length!==i)return!1;let a,s,l;for(;i-- >0;)if(a=r[i],!T$(t,e,n,a)||(s=CI(t,a),l=CI(e,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function Fde(t,e){return el(t.valueOf(),e.valueOf())}function Bde(t,e){return t.source===e.source&&t.flags===e.flags}function kI(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,l;for(;(s=a.next())&&!s.done;){const u=e.values();let c=!1,p=0;for(;(l=u.next())&&!l.done;){if(!i[p]&&n.equals(s.value,l.value,s.value,l.value,t,e,n)){c=i[p]=!0;break}p++}if(!c)return!1}return!0}function ty(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Vde(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function T$(t,e,n,r){return(r===Ide||r===Nde||r===Mde)&&(t.$$typeof||e.$$typeof)?!0:Ade(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Ude="[object ArrayBuffer]",zde="[object Arguments]",Hde="[object Boolean]",Wde="[object DataView]",Gde="[object Date]",Kde="[object Error]",qde="[object Map]",Zde="[object Number]",Yde="[object Object]",Xde="[object RegExp]",Qde="[object Set]",Jde="[object String]",ehe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},the="[object URL]",nhe=Object.prototype.toString;function rhe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:l,areObjectsEqual:u,arePrimitiveWrappersEqual:c,areRegExpsEqual:p,areSetsEqual:f,areTypedArraysEqual:y,areUrlsEqual:v,unknownTagComparators:b}){return function(x,P,w){if(x===P)return!0;if(x==null||P==null)return!1;const T=typeof x;if(T!==typeof P)return!1;if(T!=="object")return T==="number"?l(x,P,w):T==="function"?a(x,P,w):!1;const I=x.constructor;if(I!==P.constructor)return!1;if(I===Object)return u(x,P,w);if(Array.isArray(x))return e(x,P,w);if(I===Date)return r(x,P,w);if(I===RegExp)return p(x,P,w);if(I===Map)return s(x,P,w);if(I===Set)return f(x,P,w);const N=nhe.call(x);if(N===Gde)return r(x,P,w);if(N===Xde)return p(x,P,w);if(N===qde)return s(x,P,w);if(N===Qde)return f(x,P,w);if(N===Yde)return typeof x.then!="function"&&typeof P.then!="function"&&u(x,P,w);if(N===the)return v(x,P,w);if(N===Kde)return i(x,P,w);if(N===zde)return u(x,P,w);if(ehe[N])return y(x,P,w);if(N===Ude)return t(x,P,w);if(N===Wde)return n(x,P,w);if(N===Hde||N===Zde||N===Jde)return c(x,P,w);if(b){let M=b[N];if(!M){const A=Tde(x);A&&(M=b[A])}if(M)return M(x,P,w)}return!1}}function ihe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Cde,areArraysEqual:n?bd:Ode,areDataViewsEqual:jde,areDatesEqual:kde,areErrorsEqual:Dde,areFunctionsEqual:Rde,areMapsEqual:n?y0(jI,bd):jI,areNumbersEqual:Lde,areObjectsEqual:n?bd:$de,arePrimitiveWrappersEqual:Fde,areRegExpsEqual:Bde,areSetsEqual:n?y0(kI,bd):kI,areTypedArraysEqual:n?y0(ty,bd):ty,areUrlsEqual:Vde,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=nm(r.areArraysEqual),a=nm(r.areMapsEqual),s=nm(r.areObjectsEqual),l=nm(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return r}function ahe(t){return function(e,n,r,i,a,s,l){return t(e,n,l)}}function she({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(l,u){const{cache:c=t?new WeakMap:void 0,meta:p}=n();return e(l,u,{cache:c,equals:r,meta:p,strict:i})};if(t)return function(l,u){return e(l,u,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(l,u){return e(l,u,a)}}const ohe=Hs();Hs({strict:!0});Hs({circular:!0});Hs({circular:!0,strict:!0});Hs({createInternalComparator:()=>el});Hs({strict:!0,createInternalComparator:()=>el});Hs({circular:!0,createInternalComparator:()=>el});Hs({circular:!0,createInternalComparator:()=>el,strict:!0});function Hs(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=ihe(t),s=rhe(a),l=n?n(s):ahe(s);return she({circular:e,comparator:s,createState:r,equals:l,strict:i})}function lhe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function DI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):lhe(i)};requestAnimationFrame(r)}function Kb(t){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(t)}function uhe(t){return fhe(t)||hhe(t)||dhe(t)||che()}function che(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dhe(t,e){if(t){if(typeof t=="string")return RI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RI(t,e)}}function RI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fhe(t){if(Array.isArray(t))return t}function phe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,l=uhe(s),u=l[0],c=l.slice(1);if(typeof u=="number"){DI(i.bind(null,c),u);return}i(u),DI(i.bind(null,c));return}Kb(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){A$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A$(t,e,n){return e=mhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mhe(t){var e=ghe(t,"string");return nf(e)==="symbol"?e:String(e)}function ghe(t,e){if(nf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yhe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},vhe=function(e){return e},_he=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},rh=function(e,n){return Object.keys(n).reduce(function(r,i){return $I($I({},r),{},A$({},i,e(i,n[i])))},{})},FI=function(e,n,r){return e.map(function(i){return"".concat(_he(i)," ").concat(n,"ms ").concat(r)}).join(",")};function xhe(t,e){return Phe(t)||whe(t,e)||M$(t,e)||bhe()}function bhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function whe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],u=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(p){c=!0,i=p}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return l}}function Phe(t){if(Array.isArray(t))return t}function She(t){return Ahe(t)||The(t)||M$(t)||Ehe()}function Ehe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M$(t,e){if(t){if(typeof t=="string")return qb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qb(t,e)}}function The(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ahe(t){if(Array.isArray(t))return qb(t)}function qb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ny=1e-4,N$=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},I$=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},BI=function(e,n){return function(r){var i=N$(e,n);return I$(i,r)}},Mhe=function(e,n){return function(r){var i=N$(e,n),a=[].concat(She(i.map(function(s,l){return s*l}).slice(1)),[0]);return I$(a,r)}},VI=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var u=n[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var c=u[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),p=xhe(c,4);i=p[0],a=p[1],s=p[2],l=p[3]}}}var f=BI(i,s),y=BI(a,l),v=Mhe(i,s),b=function(P){return P>1?1:P<0?0:P},S=function(P){for(var w=P>1?1:P,T=w,I=0;I<8;++I){var N=f(T)-w,M=v(T);if(Math.abs(N-w)<ny||M<ny)return y(T);T=b(T-N/M)}return y(T)};return S.isStepper=!1,S},Nhe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,u=function(p,f,y){var v=-(p-f)*r,b=y*a,S=y+(v-b)*l/1e3,x=y*l/1e3+p;return Math.abs(x-f)<ny&&Math.abs(S)<ny?[f,0]:[x,S]};return u.isStepper=!0,u.dt=l,u},Ihe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return VI(i);case"spring":return Nhe();default:if(i.split("(")[0]==="cubic-bezier")return VI(i)}return typeof i=="function"?i:null};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function UI(t){return jhe(t)||Ohe(t)||C$(t)||Che()}function Che(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ohe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jhe(t){if(Array.isArray(t))return Yb(t)}function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){Zb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zb(t,e,n){return e=khe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function khe(t){var e=Dhe(t,"string");return rf(e)==="symbol"?e:String(e)}function Dhe(t,e){if(rf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rhe(t,e){return Fhe(t)||$he(t,e)||C$(t,e)||Lhe()}function Lhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C$(t,e){if(t){if(typeof t=="string")return Yb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yb(t,e)}}function Yb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $he(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],u=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(p){c=!0,i=p}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return l}}function Fhe(t){if(Array.isArray(t))return t}var ry=function(e,n,r){return e+(n-e)*r},Xb=function(e){var n=e.from,r=e.to;return n!==r},Bhe=function t(e,n,r){var i=rh(function(a,s){if(Xb(s)){var l=e(s.from,s.to,s.velocity),u=Rhe(l,2),c=u[0],p=u[1];return yn(yn({},s),{},{from:c,velocity:p})}return s},n);return r<1?rh(function(a,s){return Xb(s)?yn(yn({},s),{},{velocity:ry(s.velocity,i[a].velocity,r),from:ry(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const Vhe=function(t,e,n,r,i){var a=yhe(t,e),s=a.reduce(function(x,P){return yn(yn({},x),{},Zb({},P,[t[P],e[P]]))},{}),l=a.reduce(function(x,P){return yn(yn({},x),{},Zb({},P,{from:t[P],velocity:0,to:e[P]}))},{}),u=-1,c,p,f=function(){return null},y=function(){return rh(function(P,w){return w.from},l)},v=function(){return!Object.values(l).filter(Xb).length},b=function(P){c||(c=P);var w=P-c,T=w/n.dt;l=Bhe(n,l,T),i(yn(yn(yn({},t),e),y())),c=P,v()||(u=requestAnimationFrame(f))},S=function(P){p||(p=P);var w=(P-p)/r,T=rh(function(N,M){return ry.apply(void 0,UI(M).concat([n(w)]))},s);if(i(yn(yn(yn({},t),e),T)),w<1)u=requestAnimationFrame(f);else{var I=rh(function(N,M){return ry.apply(void 0,UI(M).concat([n(1)]))},s);i(yn(yn(yn({},t),e),I))}};return f=n.isStepper?b:S,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(u)}}};function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}var Uhe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function zhe(t,e){if(t==null)return{};var n=Hhe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hhe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function v0(t){return qhe(t)||Khe(t)||Ghe(t)||Whe()}function Whe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ghe(t,e){if(t){if(typeof t=="string")return Qb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qb(t,e)}}function Khe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qhe(t){if(Array.isArray(t))return Qb(t)}function Qb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(n),!0).forEach(function(r){Dd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dd(t,e,n){return e=O$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O$(r.key),r)}}function Xhe(t,e,n){return e&&Yhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function O$(t){var e=Qhe(t,"string");return Uu(e)==="symbol"?e:String(e)}function Qhe(t,e){if(Uu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jb(t,e)}function Jb(t,e){return Jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jb(t,e)}function efe(t){var e=tfe();return function(){var r=iy(t),i;if(e){var a=iy(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return ew(this,i)}}function ew(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tw(t)}function tw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tfe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iy(t){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iy(t)}var Aa=function(t){Jhe(n,t);var e=efe(n);function n(r,i){var a;Zhe(this,n),a=e.call(this,r,i);var s=a.props,l=s.isActive,u=s.attributeName,c=s.from,p=s.to,f=s.steps,y=s.children,v=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(tw(a)),a.changeStyle=a.changeStyle.bind(tw(a)),!l||v<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:p}),ew(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof y=="function")return a.state={style:c},ew(a);a.state={style:u?Dd({},u,c):c}}else a.state={style:{}};return a}return Xhe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,u=a.attributeName,c=a.shouldReAnimate,p=a.to,f=a.from,y=this.state.style;if(l){if(!s){var v={style:u?Dd({},u,p):p};this.state&&y&&(u&&y[u]!==p||!u&&y!==p)&&this.setState(v);return}if(!(ohe(i.to,p)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=b||c?f:i.to;if(this.state&&y){var x={style:u?Dd({},u,S):S};(u&&y[u]!==S||!u&&y!==S)&&this.setState(x)}this.runAnimation(ti(ti({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,u=i.duration,c=i.easing,p=i.begin,f=i.onAnimationEnd,y=i.onAnimationStart,v=Vhe(s,l,Ihe(c),u,this.changeStyle),b=function(){a.stopJSAnimation=v()};this.manager.start([y,p,b,u,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,u=i.onAnimationStart,c=s[0],p=c.style,f=c.duration,y=f===void 0?0:f,v=function(S,x,P){if(P===0)return S;var w=x.duration,T=x.easing,I=T===void 0?"ease":T,N=x.style,M=x.properties,A=x.onAnimationEnd,O=P>0?s[P-1]:x,k=M||Object.keys(N);if(typeof I=="function"||I==="spring")return[].concat(v0(S),[a.runJSAnimation.bind(a,{from:O.style,to:N,duration:w,easing:I}),w]);var $=FI(k,w,I),B=ti(ti(ti({},O.style),N),{},{transition:$});return[].concat(v0(S),[B,w,A]).filter(vhe)};return this.manager.start([u].concat(v0(s.reduce(v,[p,Math.max(y,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=phe());var a=i.begin,s=i.duration,l=i.attributeName,u=i.to,c=i.easing,p=i.onAnimationStart,f=i.onAnimationEnd,y=i.steps,v=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof c=="function"||typeof v=="function"||c==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var S=l?Dd({},l,u):u,x=FI(Object.keys(S),s,c);b.start([p,a,ti(ti({},S),{},{transition:x}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=zhe(i,Uhe),c=U.Children.count(a),p=this.state.style;if(typeof a=="function")return a(p);if(!l||c===0||s<=0)return a;var f=function(v){var b=v.props,S=b.style,x=S===void 0?{}:S,P=b.className,w=U.cloneElement(v,ti(ti({},u),{},{style:ti(ti({},x),p),className:P}));return w};return c===1?f(U.Children.only(a)):X.createElement("div",null,U.Children.map(a,function(y){return f(y)}))}}]),n}(U.PureComponent);Aa.displayName="Animate";Aa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Aa.propTypes={from:tt.oneOfType([tt.object,tt.string]),to:tt.oneOfType([tt.object,tt.string]),attributeName:tt.string,duration:tt.number,begin:tt.number,easing:tt.oneOfType([tt.string,tt.func]),steps:tt.arrayOf(tt.shape({duration:tt.number.isRequired,style:tt.object.isRequired,easing:tt.oneOfType([tt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),tt.func]),properties:tt.arrayOf("string"),onAnimationEnd:tt.func})),children:tt.oneOfType([tt.node,tt.func]),isActive:tt.bool,canBegin:tt.bool,onAnimationEnd:tt.func,shouldReAnimate:tt.bool,onAnimationStart:tt.func,onAnimationReStart:tt.func};function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function ay(){return ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ay.apply(this,arguments)}function nfe(t,e){return sfe(t)||afe(t,e)||ife(t,e)||rfe()}function rfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ife(t,e){if(t){if(typeof t=="string")return WI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WI(t,e)}}function WI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function afe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],u=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(p){c=!0,i=p}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return l}}function sfe(t){if(Array.isArray(t))return t}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){ofe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ofe(t,e,n){return e=lfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lfe(t){var e=ufe(t,"string");return af(e)=="symbol"?e:e+""}function ufe(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qI=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,u=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,p;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],y=0,v=4;y<v;y++)f[y]=a[y]>s?s:a[y];p="M".concat(e,",").concat(n+l*f[0]),f[0]>0&&(p+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+u*f[0],",").concat(n)),p+="L ".concat(e+r-u*f[1],",").concat(n),f[1]>0&&(p+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+l*f[1])),p+="L ".concat(e+r,",").concat(n+i-l*f[2]),f[2]>0&&(p+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-u*f[2],",").concat(n+i)),p+="L ".concat(e+u*f[3],",").concat(n+i),f[3]>0&&(p+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-l*f[3])),p+="Z"}else if(s>0&&a===+a&&a>0){var b=Math.min(s,a);p="M ".concat(e,",").concat(n+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e+u*b,",").concat(n,`
            L `).concat(e+r-u*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e+r,",").concat(n+l*b,`
            L `).concat(e+r,",").concat(n+i-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e+r-u*b,",").concat(n+i,`
            L `).concat(e+u*b,",").concat(n+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e,",").concat(n+i-l*b," Z")}else p="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return p},cfe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,l=n.width,u=n.height;if(Math.abs(l)>0&&Math.abs(u)>0){var c=Math.min(a,a+l),p=Math.max(a,a+l),f=Math.min(s,s+u),y=Math.max(s,s+u);return r>=c&&r<=p&&i>=f&&i<=y}return!1},dfe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yS=function(e){var n=KI(KI({},dfe),e),r=U.useRef(),i=U.useState(-1),a=nfe(i,2),s=a[0],l=a[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&l(I)}catch{}},[]);var u=n.x,c=n.y,p=n.width,f=n.height,y=n.radius,v=n.className,b=n.animationEasing,S=n.animationDuration,x=n.animationBegin,P=n.isAnimationActive,w=n.isUpdateAnimationActive;if(u!==+u||c!==+c||p!==+p||f!==+f||p===0||f===0)return null;var T=Ze("recharts-rectangle",v);return w?X.createElement(Aa,{canBegin:s>0,from:{width:p,height:f,x:u,y:c},to:{width:p,height:f,x:u,y:c},duration:S,animationEasing:b,isActive:w},function(I){var N=I.width,M=I.height,A=I.x,O=I.y;return X.createElement(Aa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:S,isActive:P,easing:b},X.createElement("path",ay({},Ke(n,!0),{className:T,d:qI(A,O,N,M,y),ref:r})))}):X.createElement("path",ay({},Ke(n,!0),{className:T,d:qI(u,c,p,f,y)}))};function nw(){return nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nw.apply(this,arguments)}var vS=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=Ze("recharts-dot",a);return n===+n&&r===+r&&i===+i?U.createElement("circle",nw({},Ke(e,!1),wg(e),{className:s,cx:n,cy:r,r:i})):null};function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}var hfe=["x","y","top","left","width","height","className"];function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rw.apply(this,arguments)}function ZI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ffe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(n),!0).forEach(function(r){pfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pfe(t,e,n){return e=mfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mfe(t){var e=gfe(t,"string");return sf(e)=="symbol"?e:e+""}function gfe(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yfe(t,e){if(t==null)return{};var n=vfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _fe=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},xfe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,l=s===void 0?0:s,u=e.left,c=u===void 0?0:u,p=e.width,f=p===void 0?0:p,y=e.height,v=y===void 0?0:y,b=e.className,S=yfe(e,hfe),x=ffe({x:r,y:a,top:l,left:c,width:f,height:v},S);return!fe(r)||!fe(a)||!fe(f)||!fe(v)||!fe(l)||!fe(c)?null:X.createElement("path",rw({},Ke(x,!0),{className:Ze("recharts-cross",b),d:_fe(r,a,f,v,l,c)}))},bfe=ZR,wfe=bfe(Object.getPrototypeOf,Object),Pfe=wfe,Sfe=ka,Efe=Pfe,Tfe=Da,Afe="[object Object]",Mfe=Function.prototype,Nfe=Object.prototype,j$=Mfe.toString,Ife=Nfe.hasOwnProperty,Cfe=j$.call(Object);function Ofe(t){if(!Tfe(t)||Sfe(t)!=Afe)return!1;var e=Efe(t);if(e===null)return!0;var n=Ife.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&j$.call(n)==Cfe}var jfe=Ofe;const kfe=dt(jfe);var Dfe=ka,Rfe=Da,Lfe="[object Boolean]";function $fe(t){return t===!0||t===!1||Rfe(t)&&Dfe(t)==Lfe}var Ffe=$fe;const Bfe=dt(Ffe);function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function sy(){return sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sy.apply(this,arguments)}function Vfe(t,e){return Wfe(t)||Hfe(t,e)||zfe(t,e)||Ufe()}function Ufe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zfe(t,e){if(t){if(typeof t=="string")return YI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YI(t,e)}}function YI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],u=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(p){c=!0,i=p}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return l}}function Wfe(t){if(Array.isArray(t))return t}function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){Gfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gfe(t,e,n){return e=Kfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kfe(t){var e=qfe(t,"string");return of(e)=="symbol"?e:e+""}function qfe(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JI=function(e,n,r,i,a){var s=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-s/2,",").concat(n+a),l+="L ".concat(e+r-s/2-i,",").concat(n+a),l+="L ".concat(e,",").concat(n," Z"),l},Zfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yfe=function(e){var n=QI(QI({},Zfe),e),r=U.useRef(),i=U.useState(-1),a=Vfe(i,2),s=a[0],l=a[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&l(T)}catch{}},[]);var u=n.x,c=n.y,p=n.upperWidth,f=n.lowerWidth,y=n.height,v=n.className,b=n.animationEasing,S=n.animationDuration,x=n.animationBegin,P=n.isUpdateAnimationActive;if(u!==+u||c!==+c||p!==+p||f!==+f||y!==+y||p===0&&f===0||y===0)return null;var w=Ze("recharts-trapezoid",v);return P?X.createElement(Aa,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:y,x:u,y:c},to:{upperWidth:p,lowerWidth:f,height:y,x:u,y:c},duration:S,animationEasing:b,isActive:P},function(T){var I=T.upperWidth,N=T.lowerWidth,M=T.height,A=T.x,O=T.y;return X.createElement(Aa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:S,easing:b},X.createElement("path",sy({},Ke(n,!0),{className:w,d:JI(A,O,I,N,M),ref:r})))}):X.createElement("g",null,X.createElement("path",sy({},Ke(n,!0),{className:w,d:JI(u,c,p,f,y)})))},Xfe=["option","shapeType","propTransformer","activeClassName","isActive"];function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function Qfe(t,e){if(t==null)return{};var n=Jfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eC(Object(n),!0).forEach(function(r){epe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function epe(t,e,n){return e=tpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tpe(t){var e=npe(t,"string");return lf(e)=="symbol"?e:e+""}function npe(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rpe(t,e){return oy(oy({},e),t)}function ipe(t,e){return t==="symbols"}function tC(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return X.createElement(yS,n);case"trapezoid":return X.createElement(Yfe,n);case"sector":return X.createElement(w$,n);case"symbols":if(ipe(e))return X.createElement(DP,n);break;default:return null}}function ape(t){return U.isValidElement(t)?t.props:t}function spe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?rpe:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,l=t.isActive,u=Qfe(t,Xfe),c;if(U.isValidElement(e))c=U.cloneElement(e,oy(oy({},u),ape(e)));else if(ze(e))c=e(u);else if(kfe(e)&&!Bfe(e)){var p=i(e,u);c=X.createElement(tC,{shapeType:n,elementProps:p})}else{var f=u;c=X.createElement(tC,{shapeType:n,elementProps:f})}return l?X.createElement(Bt,{className:s},c):c}function Hv(t,e){return e!=null&&"trapezoids"in t.props}function Wv(t,e){return e!=null&&"sectors"in t.props}function uf(t,e){return e!=null&&"points"in t.props}function ope(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function lpe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function upe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function cpe(t,e){var n;return Hv(t,e)?n=ope:Wv(t,e)?n=lpe:uf(t,e)&&(n=upe),n}function dpe(t,e){var n;return Hv(t,e)?n="trapezoids":Wv(t,e)?n="sectors":uf(t,e)&&(n="points"),n}function hpe(t,e){if(Hv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Wv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return uf(t,e)?e.payload:{}}function fpe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=dpe(n,e),a=hpe(n,e),s=r.filter(function(u,c){var p=Vv(a,u),f=n.props[i].filter(function(b){var S=cpe(n,e);return S(b,e)}),y=n.props[i].indexOf(f[f.length-1]),v=c===y;return p&&v}),l=r.indexOf(s[s.length-1]);return l}var ppe=Math.ceil,mpe=Math.max;function gpe(t,e,n,r){for(var i=-1,a=mpe(ppe((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var ype=gpe,vpe=fL,nC=1/0,_pe=17976931348623157e292;function xpe(t){if(!t)return t===0?t:0;if(t=vpe(t),t===nC||t===-nC){var e=t<0?-1:1;return e*_pe}return t===t?t:0}var bpe=xpe,wpe=ype,Ppe=Ov,_0=bpe;function Spe(t){return function(e,n,r){return r&&typeof r!="number"&&Ppe(e,n,r)&&(n=r=void 0),e=_0(e),n===void 0?(n=e,e=0):n=_0(n),r=r===void 0?e<n?1:-1:_0(r),wpe(e,n,r,t)}}var Epe=Spe,Tpe=Epe,Ape=Tpe(),Mpe=Ape;const ly=dt(Mpe);function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function rC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rC(Object(n),!0).forEach(function(r){k$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k$(t,e,n){return e=Npe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Npe(t){var e=Ipe(t,"string");return cf(e)=="symbol"?e:e+""}function Ipe(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cpe=["Webkit","Moz","O","ms"],Ope=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Cpe.reduce(function(a,s){return iC(iC({},a),{},k$({},s+r,n))},{});return i[e]=n,i};function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function uy(){return uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uy.apply(this,arguments)}function aC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aC(Object(n),!0).forEach(function(r){or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R$(r.key),r)}}function kpe(t,e,n){return e&&sC(t.prototype,e),n&&sC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dpe(t,e,n){return e=cy(e),Rpe(t,D$()?Reflect.construct(e,n||[],cy(t).constructor):e.apply(t,n))}function Rpe(t,e){if(e&&(zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lpe(t)}function Lpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D$=function(){return!!t})()}function cy(t){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cy(t)}function $pe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iw(t,e)}function iw(t,e){return iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iw(t,e)}function or(t,e,n){return e=R$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R$(t){var e=Fpe(t,"string");return zu(e)=="symbol"?e:e+""}function Fpe(t,e){if(zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bpe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var u=n.length,c=th().domain(ly(0,u)).range([a,a+s-l]),p=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:p}},oC=function(e){return e.changedTouches&&!!e.changedTouches.length},Hu=function(t){function e(n){var r;return jpe(this,e),r=Dpe(this,e,[n]),or(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),or(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),or(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),or(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),or(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),or(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),or(r,"handleSlideDragStart",function(i){var a=oC(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return $pe(e,t),kpe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,l=this.props,u=l.gap,c=l.data,p=c.length-1,f=Math.min(i,a),y=Math.max(i,a),v=e.getIndexInRange(s,f),b=e.getIndexInRange(s,y);return{startIndex:v-v%u,endIndex:b===p?p:b-b%u}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,u=gr(a[r],l,r);return ze(s)?s(u,r):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,u=this.props,c=u.x,p=u.width,f=u.travellerWidth,y=u.startIndex,v=u.endIndex,b=u.onChange,S=r.pageX-a;S>0?S=Math.min(S,c+p-f-l,c+p-f-s):S<0&&(S=Math.max(S,c-s,c-l));var x=this.getIndex({startX:s+S,endX:l+S});(x.startIndex!==y||x.endIndex!==v)&&b&&b(x),this.setState({startX:s+S,endX:l+S,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=oC(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,u=i.startX,c=this.state[s],p=this.props,f=p.x,y=p.width,v=p.travellerWidth,b=p.onChange,S=p.gap,x=p.data,P={startX:this.state.startX,endX:this.state.endX},w=r.pageX-a;w>0?w=Math.min(w,f+y-v-c):w<0&&(w=Math.max(w,f-c)),P[s]=c+w;var T=this.getIndex(P),I=T.startIndex,N=T.endIndex,M=function(){var O=x.length-1;return s==="startX"&&(l>u?I%S===0:N%S===0)||l<u&&N===O||s==="endX"&&(l>u?N%S===0:I%S===0)||l>u&&N===O};this.setState(or(or({},s,c+w),"brushMoveStartX",r.pageX),function(){b&&M()&&b(T)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,l=s.scaleValues,u=s.startX,c=s.endX,p=this.state[i],f=l.indexOf(p);if(f!==-1){var y=f+r;if(!(y===-1||y>=l.length)){var v=l[y];i==="startX"&&v>=c||i==="endX"&&v<=u||this.setState(or({},i,v),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,u=r.fill,c=r.stroke;return X.createElement("rect",{stroke:c,fill:u,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,u=r.data,c=r.children,p=r.padding,f=U.Children.only(c);return f?X.cloneElement(f,{x:i,y:a,width:s,height:l,margin:p,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,l=this,u=this.props,c=u.y,p=u.travellerWidth,f=u.height,y=u.traveller,v=u.ariaLabel,b=u.data,S=u.startIndex,x=u.endIndex,P=Math.max(r,this.props.x),w=x0(x0({},Ke(this.props,!1)),{},{x:P,y:c,width:p,height:f}),T=v||"Min value: ".concat((a=b[S])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=b[x])===null||s===void 0?void 0:s.name);return X.createElement(Bt,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,w))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,l=a.height,u=a.stroke,c=a.travellerWidth,p=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return X.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:p,y:s,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,l=r.height,u=r.travellerWidth,c=r.stroke,p=this.state,f=p.startX,y=p.endX,v=5,b={pointerEvents:"none",fill:c};return X.createElement(Bt,{className:"recharts-brush-texts"},X.createElement(Lg,uy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,y)-v,y:s+l/2},b),this.getTextOfTick(i)),X.createElement(Lg,uy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,y)+u+v,y:s+l/2},b),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,l=r.x,u=r.y,c=r.width,p=r.height,f=r.alwaysShowText,y=this.state,v=y.startX,b=y.endX,S=y.isTextActive,x=y.isSlideMoving,P=y.isTravellerMoving,w=y.isTravellerFocused;if(!i||!i.length||!fe(l)||!fe(u)||!fe(c)||!fe(p)||c<=0||p<=0)return null;var T=Ze("recharts-brush",a),I=X.Children.count(s)===1,N=Ope("userSelect","none");return X.createElement(Bt,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(v,b),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(b,"endX"),(S||x||P||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,l=r.height,u=r.stroke,c=Math.floor(a+l/2)-1;return X.createElement(X.Fragment,null,X.createElement("rect",{x:i,y:a,width:s,height:l,fill:u,stroke:"none"}),X.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),X.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return X.isValidElement(r)?a=X.cloneElement(r,i):ze(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,l=r.x,u=r.travellerWidth,c=r.updateId,p=r.startIndex,f=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return x0({prevData:a,prevTravellerWidth:u,prevUpdateId:c,prevX:l,prevWidth:s},a&&a.length?Bpe({data:a,width:s,x:l,travellerWidth:u,startIndex:p,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([l,l+s-u]);var y=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:a,prevTravellerWidth:u,prevUpdateId:c,prevX:l,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,l=a-1;l-s>1;){var u=Math.floor((s+l)/2);r[u]>i?l=u:s=u}return i>=r[l]?l:s}}])}(U.PureComponent);or(Hu,"displayName","Brush");or(Hu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Vpe=zP;function Upe(t,e){var n;return Vpe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var zpe=Upe,Hpe=VR,Wpe=bc,Gpe=zpe,Kpe=nr,qpe=Ov;function Zpe(t,e,n){var r=Kpe(t)?Hpe:Gpe;return n&&qpe(t,e,n)&&(e=void 0),r(t,Wpe(e))}var Ype=Zpe;const Xpe=dt(Ype);var Fi=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},lC=lL;function Qpe(t,e,n){e=="__proto__"&&lC?lC(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Jpe=Qpe,eme=Jpe,tme=sL,nme=bc;function rme(t,e){var n={};return e=nme(e),tme(t,function(r,i,a){eme(n,i,e(r,i,a))}),n}var ime=rme;const ame=dt(ime);function sme(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var ome=sme,lme=zP;function ume(t,e){var n=!0;return lme(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var cme=ume,dme=ome,hme=cme,fme=bc,pme=nr,mme=Ov;function gme(t,e,n){var r=pme(t)?dme:hme;return n&&mme(t,e,n)&&(e=void 0),r(t,fme(e))}var yme=gme;const vme=dt(yme);var _me=["x","y"];function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(this,arguments)}function uC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(n),!0).forEach(function(r){xme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xme(t,e,n){return e=bme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bme(t){var e=wme(t,"string");return df(e)=="symbol"?e:e+""}function wme(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pme(t,e){if(t==null)return{};var n=Sme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Eme(t,e){var n=t.x,r=t.y,i=Pme(t,_me),a="".concat(n),s=parseInt(a,10),l="".concat(r),u=parseInt(l,10),c="".concat(e.height||i.height),p=parseInt(c,10),f="".concat(e.width||i.width),y=parseInt(f,10);return wd(wd(wd(wd(wd({},e),i),s?{x:s}:{}),u?{y:u}:{}),{},{height:p,width:y,name:e.name,radius:e.radius})}function cC(t){return X.createElement(spe,aw({shapeType:"rectangle",propTransformer:Eme,activeClassName:"recharts-active-bar"},t))}var Tme=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=fe(r)||Dq(r);return a?e(r,i):(a||Wo(),n)}},Ame=["value","background"],L$;function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function Mme(t,e){if(t==null)return{};var n=Nme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dy(){return dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dy.apply(this,arguments)}function dC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(n),!0).forEach(function(r){us(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ime(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F$(r.key),r)}}function Cme(t,e,n){return e&&hC(t.prototype,e),n&&hC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ome(t,e,n){return e=hy(e),jme(t,$$()?Reflect.construct(e,n||[],hy(t).constructor):e.apply(t,n))}function jme(t,e){if(e&&(Wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kme(t)}function kme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($$=function(){return!!t})()}function hy(t){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hy(t)}function Dme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sw(t,e)}function sw(t,e){return sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sw(t,e)}function us(t,e,n){return e=F$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F$(t){var e=Rme(t,"string");return Wu(e)=="symbol"?e:e+""}function Rme(t,e){if(Wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bf=function(t){function e(){var n;Ime(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ome(this,e,[].concat(i)),us(n,"state",{isAnimationFinished:!1}),us(n,"id",kf("recharts-bar-")),us(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),us(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return Dme(e,t),Cme(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,l=a.dataKey,u=a.activeIndex,c=a.activeBar,p=Ke(this.props,!1);return r&&r.map(function(f,y){var v=y===u,b=v?c:s,S=Gt(Gt(Gt({},p),f),{},{isActive:v,option:b,index:y,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return X.createElement(Bt,dy({className:"recharts-bar-rectangle"},Pg(i.props,f,y),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(y)}),X.createElement(cC,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,u=i.animationBegin,c=i.animationDuration,p=i.animationEasing,f=i.animationId,y=this.state.prevData;return X.createElement(Aa,{begin:u,duration:c,isActive:l,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t,S=a.map(function(x,P){var w=y&&y[P];if(w){var T=li(w.x,x.x),I=li(w.y,x.y),N=li(w.width,x.width),M=li(w.height,x.height);return Gt(Gt({},x),{},{x:T(b),y:I(b),width:N(b),height:M(b)})}if(s==="horizontal"){var A=li(0,x.height),O=A(b);return Gt(Gt({},x),{},{y:x.y+x.height-O,height:O})}var k=li(0,x.width),$=k(b);return Gt(Gt({},x),{},{width:$})});return X.createElement(Bt,null,r.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Vv(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,u=Ke(this.props.background,!1);return a.map(function(c,p){c.value;var f=c.background,y=Mme(c,Ame);if(!f)return null;var v=Gt(Gt(Gt(Gt(Gt({},y),{},{fill:"#eee"},f),u),Pg(r.props,c,p)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:p,className:"recharts-bar-background-rectangle"});return X.createElement(cC,dy({key:"background-bar-".concat(p),option:r.props.background,isActive:p===l},v))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,u=a.yAxis,c=a.layout,p=a.children,f=Br(p,Ff);if(!f)return null;var y=c==="vertical"?s[0].height/2:s[0].width/2,v=function(x,P){var w=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:w,errorVal:gr(x,P)}},b={clipPath:r?"url(#clipPath-".concat(i,")"):null};return X.createElement(Bt,b,f.map(function(S){return X.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:s,xAxis:l,yAxis:u,layout:c,offset:y,dataPointFormatter:v})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,l=r.xAxis,u=r.yAxis,c=r.left,p=r.top,f=r.width,y=r.height,v=r.isAnimationActive,b=r.background,S=r.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,P=Ze("recharts-bar",s),w=l&&l.allowDataOverflow,T=u&&u.allowDataOverflow,I=w||T,N=Fe(S)?this.id:S;return X.createElement(Bt,{className:P},w||T?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(N)},X.createElement("rect",{x:w?c:c-f/2,y:T?p:p-y/2,width:w?f:f*2,height:T?y:y*2}))):null,X.createElement(Bt,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(N,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,N),(!v||x)&&Es.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(U.PureComponent);L$=Bf;us(Bf,"displayName","Bar");us(Bf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});us(Bf,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,l=t.xAxisTicks,u=t.yAxisTicks,c=t.stackedData,p=t.dataStartIndex,f=t.displayedData,y=t.offset,v=sce(r,n);if(!v)return null;var b=e.layout,S=n.type.defaultProps,x=S!==void 0?Gt(Gt({},S),n.props):n.props,P=x.dataKey,w=x.children,T=x.minPointSize,I=b==="horizontal"?s:a,N=c?I.scale.domain():null,M=pce({numericAxis:I}),A=Br(w,mL),O=f.map(function(k,$){var B,D,F,W,Y,G;c?B=oce(c[p+$],N):(B=gr(k,P),Array.isArray(B)||(B=[M,B]));var Z=Tme(T,L$.defaultProps.minPointSize)(B[1],$);if(b==="horizontal"){var z,q=[s.scale(B[0]),s.scale(B[1])],H=q[0],ee=q[1];D=pI({axis:a,ticks:l,bandSize:i,offset:v.offset,entry:k,index:$}),F=(z=ee??H)!==null&&z!==void 0?z:void 0,W=v.size;var re=H-ee;if(Y=Number.isNaN(re)?0:re,G={x:D,y:s.y,width:W,height:s.height},Math.abs(Z)>0&&Math.abs(Y)<Math.abs(Z)){var ce=di(Y||Z)*(Math.abs(Z)-Math.abs(Y));F-=ce,Y+=ce}}else{var xe=[a.scale(B[0]),a.scale(B[1])],_e=xe[0],ge=xe[1];if(D=_e,F=pI({axis:s,ticks:u,bandSize:i,offset:v.offset,entry:k,index:$}),W=ge-_e,Y=v.size,G={x:a.x,y:F,width:a.width,height:Y},Math.abs(Z)>0&&Math.abs(W)<Math.abs(Z)){var Je=di(W||Z)*(Math.abs(Z)-Math.abs(W));W+=Je}}return Gt(Gt(Gt({},k),{},{x:D,y:F,width:W,height:Y,value:c?B:B[1],payload:k,background:G},A&&A[$]&&A[$].props),{},{tooltipPayload:[_$(n,k)],tooltipPosition:{x:D+W/2,y:F+Y/2}})});return Gt({data:O,layout:b},y)});function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function Lme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B$(r.key),r)}}function $me(t,e,n){return e&&fC(t.prototype,e),n&&fC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pC(Object(n),!0).forEach(function(r){Gv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gv(t,e,n){return e=B$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B$(t){var e=Fme(t,"string");return hf(e)=="symbol"?e:e+""}function Fme(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bme=function(e,n,r,i,a){var s=e.width,l=e.height,u=e.layout,c=e.children,p=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},y=!!cr(c,Bf);return p.reduce(function(v,b){var S=n[b],x=S.orientation,P=S.domain,w=S.padding,T=w===void 0?{}:w,I=S.mirror,N=S.reversed,M="".concat(x).concat(I?"Mirror":""),A,O,k,$,B;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var D=P[1]-P[0],F=1/0,W=S.categoricalDomain.sort($q);if(W.forEach(function(xe,_e){_e>0&&(F=Math.min((xe||0)-(W[_e-1]||0),F))}),Number.isFinite(F)){var Y=F/D,G=S.layout==="vertical"?r.height:r.width;if(S.padding==="gap"&&(A=Y*G/2),S.padding==="no-gap"){var Z=zo(e.barCategoryGap,Y*G),z=Y*G/2;A=z-Z-(z-Z)/G*Z}}}i==="xAxis"?O=[r.left+(T.left||0)+(A||0),r.left+r.width-(T.right||0)-(A||0)]:i==="yAxis"?O=u==="horizontal"?[r.top+r.height-(T.bottom||0),r.top+(T.top||0)]:[r.top+(T.top||0)+(A||0),r.top+r.height-(T.bottom||0)-(A||0)]:O=S.range,N&&(O=[O[1],O[0]]);var q=ice(S,a,y),H=q.scale,ee=q.realScaleType;H.domain(P).range(O),ace(H);var re=fce(H,ii(ii({},S),{},{realScaleType:ee}));i==="xAxis"?(B=x==="top"&&!I||x==="bottom"&&I,k=r.left,$=f[M]-B*S.height):i==="yAxis"&&(B=x==="left"&&!I||x==="right"&&I,k=f[M]-B*S.width,$=r.top);var ce=ii(ii(ii({},S),re),{},{realScaleType:ee,x:k,y:$,scale:H,width:i==="xAxis"?r.width:S.width,height:i==="yAxis"?r.height:S.height});return ce.bandSize=Qg(ce,re),!S.hide&&i==="xAxis"?f[M]+=(B?-1:1)*ce.height:S.hide||(f[M]+=(B?-1:1)*ce.width),ii(ii({},v),{},Gv({},b,ce))},{})},V$=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},Vme=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return V$({x:n,y:r},{x:i,y:a})},U$=function(){function t(e){Lme(this,t),this.scale=e}return $me(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Gv(U$,"EPS",1e-4);var _S=function(e){var n=Object.keys(e).reduce(function(r,i){return ii(ii({},r),{},Gv({},i,U$.create(e[i])))},{});return ii(ii({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return ame(i,function(u,c){return n[c].apply(u,{bandAware:s,position:l})})},isInRange:function(i){return vme(i,function(a,s){return n[s].isInRange(a)})}})};function Ume(t){return(t%180+180)%180}var zme=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Ume(i),s=a*Math.PI/180,l=Math.atan(r/n),u=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(u)},Hme=VK(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),z$=U.createContext(void 0),H$=U.createContext(void 0),W$=U.createContext(void 0),Wme=U.createContext({}),G$=U.createContext(void 0),K$=U.createContext(0),q$=U.createContext(0),mC=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,l=e.children,u=e.width,c=e.height,p=Hme(a);return X.createElement(z$.Provider,{value:r},X.createElement(H$.Provider,{value:i},X.createElement(Wme.Provider,{value:a},X.createElement(W$.Provider,{value:p},X.createElement(G$.Provider,{value:s},X.createElement(K$.Provider,{value:c},X.createElement(q$.Provider,{value:u},l)))))))},Gme=function(){return U.useContext(G$)},Z$=function(e){var n=U.useContext(z$);n==null&&Wo();var r=n[e];return r==null&&Wo(),r},Y$=function(e){var n=U.useContext(H$);n==null&&Wo();var r=n[e];return r==null&&Wo(),r},Kme=function(){var e=U.useContext(W$);return e},X$=function(){return U.useContext(q$)},Q$=function(){return U.useContext(K$)};function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function qme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e3(r.key),r)}}function Yme(t,e,n){return e&&Zme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xme(t,e,n){return e=fy(e),Qme(t,J$()?Reflect.construct(e,n||[],fy(t).constructor):e.apply(t,n))}function Qme(t,e){if(e&&(Gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jme(t)}function Jme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J$=function(){return!!t})()}function fy(t){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fy(t)}function ege(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ow(t,e)}function ow(t,e){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ow(t,e)}function gC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gC(Object(n),!0).forEach(function(r){xS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xS(t,e,n){return e=e3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e3(t){var e=tge(t,"string");return Gu(e)=="symbol"?e:e+""}function tge(t,e){if(Gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nge(t,e){return sge(t)||age(t,e)||ige(t,e)||rge()}function rge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ige(t,e){if(t){if(typeof t=="string")return vC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vC(t,e)}}function vC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function age(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],u=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(p){c=!0,i=p}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return l}}function sge(t){if(Array.isArray(t))return t}function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(this,arguments)}var oge=function(e,n){var r;return X.isValidElement(e)?r=X.cloneElement(e,n):ze(e)?r=e(n):r=X.createElement("line",lw({},n,{className:"recharts-reference-line-line"})),r},lge=function(e,n,r,i,a,s,l,u,c){var p=a.x,f=a.y,y=a.width,v=a.height;if(r){var b=c.y,S=e.y.apply(b,{position:s});if(Fi(c,"discard")&&!e.y.isInRange(S))return null;var x=[{x:p+y,y:S},{x:p,y:S}];return u==="left"?x.reverse():x}if(n){var P=c.x,w=e.x.apply(P,{position:s});if(Fi(c,"discard")&&!e.x.isInRange(w))return null;var T=[{x:w,y:f+v},{x:w,y:f}];return l==="top"?T.reverse():T}if(i){var I=c.segment,N=I.map(function(M){return e.apply(M,{position:s})});return Fi(c,"discard")&&Xpe(N,function(M){return!e.isInRange(M)})?null:N}return null};function uge(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,l=t.className,u=t.alwaysShow,c=Gme(),p=Z$(i),f=Y$(a),y=Kme();if(!c||!y)return null;Mo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=_S({x:p.scale,y:f.scale}),b=an(e),S=an(n),x=r&&r.length===2,P=lge(v,b,S,x,y,t.position,p.orientation,f.orientation,t);if(!P)return null;var w=nge(P,2),T=w[0],I=T.x,N=T.y,M=w[1],A=M.x,O=M.y,k=Fi(t,"hidden")?"url(#".concat(c,")"):void 0,$=yC(yC({clipPath:k},Ke(t,!0)),{},{x1:I,y1:N,x2:A,y2:O});return X.createElement(Bt,{className:Ze("recharts-reference-line",l)},oge(s,$),On.renderCallByParent(t,Vme({x1:I,y1:N,x2:A,y2:O})))}var bS=function(t){function e(){return qme(this,e),Xme(this,e,arguments)}return ege(e,t),Yme(e,[{key:"render",value:function(){return X.createElement(uge,this.props)}}])}(X.Component);xS(bS,"displayName","ReferenceLine");xS(bS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(this,arguments)}function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function _C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(n),!0).forEach(function(r){Kv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n3(r.key),r)}}function hge(t,e,n){return e&&dge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fge(t,e,n){return e=py(e),pge(t,t3()?Reflect.construct(e,n||[],py(t).constructor):e.apply(t,n))}function pge(t,e){if(e&&(Ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mge(t)}function mge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t3=function(){return!!t})()}function py(t){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},py(t)}function gge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cw(t,e)}function cw(t,e){return cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cw(t,e)}function Kv(t,e,n){return e=n3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n3(t){var e=yge(t,"string");return Ku(e)=="symbol"?e:e+""}function yge(t,e){if(Ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vge=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=_S({x:i.scale,y:a.scale}),l=s.apply({x:n,y:r},{bandAware:!0});return Fi(e,"discard")&&!s.isInRange(l)?null:l},qv=function(t){function e(){return cge(this,e),fge(this,e,arguments)}return gge(e,t),hge(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,l=r.alwaysShow,u=r.clipPathId,c=an(i),p=an(a);if(Mo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!p)return null;var f=vge(this.props);if(!f)return null;var y=f.x,v=f.y,b=this.props,S=b.shape,x=b.className,P=Fi(this.props,"hidden")?"url(#".concat(u,")"):void 0,w=xC(xC({clipPath:P},Ke(this.props,!0)),{},{cx:y,cy:v});return X.createElement(Bt,{className:Ze("recharts-reference-dot",x)},e.renderDot(S,w),On.renderCallByParent(this.props,{x:y-s,y:v-s,width:2*s,height:2*s}))}}])}(X.Component);Kv(qv,"displayName","ReferenceDot");Kv(qv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Kv(qv,"renderDot",function(t,e){var n;return X.isValidElement(t)?n=X.cloneElement(t,e):ze(t)?n=t(e):n=X.createElement(vS,uw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dw.apply(this,arguments)}function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function bC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bC(Object(n),!0).forEach(function(r){Zv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i3(r.key),r)}}function bge(t,e,n){return e&&xge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wge(t,e,n){return e=my(e),Pge(t,r3()?Reflect.construct(e,n||[],my(t).constructor):e.apply(t,n))}function Pge(t,e){if(e&&(qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sge(t)}function Sge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r3=function(){return!!t})()}function my(t){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},my(t)}function Ege(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hw(t,e)}function hw(t,e){return hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hw(t,e)}function Zv(t,e,n){return e=i3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i3(t){var e=Tge(t,"string");return qu(e)=="symbol"?e:e+""}function Tge(t,e){if(qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Age=function(e,n,r,i,a){var s=a.x1,l=a.x2,u=a.y1,c=a.y2,p=a.xAxis,f=a.yAxis;if(!p||!f)return null;var y=_S({x:p.scale,y:f.scale}),v={x:e?y.x.apply(s,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(u,{position:"start"}):y.y.rangeMin},b={x:n?y.x.apply(l,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(c,{position:"end"}):y.y.rangeMax};return Fi(a,"discard")&&(!y.isInRange(v)||!y.isInRange(b))?null:V$(v,b)},Yv=function(t){function e(){return _ge(this,e),wge(this,e,arguments)}return Ege(e,t),bge(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,l=r.y2,u=r.className,c=r.alwaysShow,p=r.clipPathId;Mo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=an(i),y=an(a),v=an(s),b=an(l),S=this.props.shape;if(!f&&!y&&!v&&!b&&!S)return null;var x=Age(f,y,v,b,this.props);if(!x&&!S)return null;var P=Fi(this.props,"hidden")?"url(#".concat(p,")"):void 0;return X.createElement(Bt,{className:Ze("recharts-reference-area",u)},e.renderRect(S,wC(wC({clipPath:P},Ke(this.props,!0)),x)),On.renderCallByParent(this.props,x))}}])}(X.Component);Zv(Yv,"displayName","ReferenceArea");Zv(Yv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Zv(Yv,"renderRect",function(t,e){var n;return X.isValidElement(t)?n=X.cloneElement(t,e):ze(t)?n=t(e):n=X.createElement(yS,dw({},e,{className:"recharts-reference-area-rect"})),n});function a3(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Mge(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return zme(r,n)}function Nge(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,l=t.height;return e===1?{start:r?i:a,end:r?i+s:a+l}:{start:r?i+s:a+l,end:r?i:a}}function gy(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Ige(t,e){return a3(t,e+1)}function Cge(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,l=e.end,u=0,c=1,p=s,f=function(){var b=r==null?void 0:r[u];if(b===void 0)return{v:a3(r,c)};var S=u,x,P=function(){return x===void 0&&(x=n(b,S)),x},w=b.coordinate,T=u===0||gy(t,w,P,p,l);T||(u=0,p=s,c+=1),T&&(p=w+t*(P()/2+i),u+=c)},y;c<=a.length;)if(y=f(),y)return y.v;return[]}function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function PC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PC(Object(n),!0).forEach(function(r){Oge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oge(t,e,n){return e=jge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jge(t){var e=kge(t,"string");return ff(e)=="symbol"?e:e+""}function kge(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dge(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end,c=function(y){var v=a[y],b,S=function(){return b===void 0&&(b=n(v,y)),b};if(y===s-1){var x=t*(v.coordinate+t*S()/2-u);a[y]=v=Mn(Mn({},v),{},{tickCoord:x>0?v.coordinate-x*t:v.coordinate})}else a[y]=v=Mn(Mn({},v),{},{tickCoord:v.coordinate});var P=gy(t,v.tickCoord,S,l,u);P&&(u=v.tickCoord-t*(S()/2+i),a[y]=Mn(Mn({},v),{},{isShow:!0}))},p=s-1;p>=0;p--)c(p);return a}function Rge(t,e,n,r,i,a){var s=(r||[]).slice(),l=s.length,u=e.start,c=e.end;if(a){var p=r[l-1],f=n(p,l-1),y=t*(p.coordinate+t*f/2-c);s[l-1]=p=Mn(Mn({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate});var v=gy(t,p.tickCoord,function(){return f},u,c);v&&(c=p.tickCoord-t*(f/2+i),s[l-1]=Mn(Mn({},p),{},{isShow:!0}))}for(var b=a?l-1:l,S=function(w){var T=s[w],I,N=function(){return I===void 0&&(I=n(T,w)),I};if(w===0){var M=t*(T.coordinate-t*N()/2-u);s[w]=T=Mn(Mn({},T),{},{tickCoord:M<0?T.coordinate-M*t:T.coordinate})}else s[w]=T=Mn(Mn({},T),{},{tickCoord:T.coordinate});var A=gy(t,T.tickCoord,N,u,c);A&&(u=T.tickCoord+t*(N()/2+i),s[w]=Mn(Mn({},T),{},{isShow:!0}))},x=0;x<b;x++)S(x);return s}function Lge(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,l=t.orientation,u=t.interval,c=t.tickFormatter,p=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(fe(u)||wc.isSsr)return Ige(i,typeof u=="number"&&fe(u)?u:0);var y=[],v=l==="top"||l==="bottom"?"width":"height",b=p&&v==="width"?eh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=function(T,I){var N=ze(c)?c(T.value,I):T.value;return v==="width"?Mge(eh(N,{fontSize:e,letterSpacing:n}),b,f):eh(N,{fontSize:e,letterSpacing:n})[v]},x=i.length>=2?di(i[1].coordinate-i[0].coordinate):1,P=Nge(a,x,v);return u==="equidistantPreserveStart"?Cge(x,P,S,i,s):(u==="preserveStart"||u==="preserveStartEnd"?y=Rge(x,P,S,i,s,u==="preserveStartEnd"):y=Dge(x,P,S,i,s),y.filter(function(w){return w.isShow}))}var $ge=["viewBox"],Fge=["viewBox"],Bge=["ticks"];function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eu.apply(this,arguments)}function SC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SC(Object(n),!0).forEach(function(r){wS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b0(t,e){if(t==null)return{};var n=Vge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Uge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o3(r.key),r)}}function zge(t,e,n){return e&&EC(t.prototype,e),n&&EC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hge(t,e,n){return e=yy(e),Wge(t,s3()?Reflect.construct(e,n||[],yy(t).constructor):e.apply(t,n))}function Wge(t,e){if(e&&(Zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gge(t)}function Gge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s3=function(){return!!t})()}function yy(t){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yy(t)}function Kge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fw(t,e)}function fw(t,e){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fw(t,e)}function wS(t,e,n){return e=o3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o3(t){var e=qge(t,"string");return Zu(e)=="symbol"?e:e+""}function qge(t,e){if(Zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xv=function(t){function e(n){var r;return Uge(this,e),r=Hge(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Kge(e,t),zge(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=b0(r,$ge),l=this.props,u=l.viewBox,c=b0(l,Fge);return!fu(a,u)||!fu(s,c)||!fu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,l=i.width,u=i.height,c=i.orientation,p=i.tickSize,f=i.mirror,y=i.tickMargin,v,b,S,x,P,w,T=f?-1:1,I=r.tickSize||p,N=fe(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":v=b=r.coordinate,x=s+ +!f*u,S=x-T*I,w=S-T*y,P=N;break;case"left":S=x=r.coordinate,b=a+ +!f*l,v=b-T*I,P=v-T*y,w=N;break;case"right":S=x=r.coordinate,b=a+ +f*l,v=b+T*I,P=v+T*y,w=N;break;default:v=b=r.coordinate,x=s+ +f*u,S=x+T*I,w=S+T*y,P=N;break}return{line:{x1:v,y1:S,x2:b,y2:x},tick:{x:P,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,u=r.orientation,c=r.mirror,p=r.axisLine,f=Qt(Qt(Qt({},Ke(this.props,!1)),Ke(p,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var y=+(u==="top"&&!c||u==="bottom"&&c);f=Qt(Qt({},f),{},{x1:i,y1:a+y*l,x2:i+s,y2:a+y*l})}else{var v=+(u==="left"&&!c||u==="right"&&c);f=Qt(Qt({},f),{},{x1:i+v*s,y1:a,x2:i+v*s,y2:a+l})}return X.createElement("line",eu({},f,{className:Ze("recharts-cartesian-axis-line",Fr(p,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,l=this.props,u=l.tickLine,c=l.stroke,p=l.tick,f=l.tickFormatter,y=l.unit,v=Lge(Qt(Qt({},this.props),{},{ticks:r}),i,a),b=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),x=Ke(this.props,!1),P=Ke(p,!1),w=Qt(Qt({},x),{},{fill:"none"},Ke(u,!1)),T=v.map(function(I,N){var M=s.getTickLineCoord(I),A=M.line,O=M.tick,k=Qt(Qt(Qt(Qt({textAnchor:b,verticalAnchor:S},x),{},{stroke:"none",fill:c},P),O),{},{index:N,payload:I,visibleTicksCount:v.length,tickFormatter:f});return X.createElement(Bt,eu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},Pg(s.props,I,N)),u&&X.createElement("line",eu({},w,A,{className:Ze("recharts-cartesian-axis-tick-line",Fr(u,"className"))})),p&&e.renderTickItem(p,k,"".concat(ze(f)?f(I.value,N):I.value).concat(y||"")))});return X.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,u=i.ticksGenerator,c=i.className,p=i.hide;if(p)return null;var f=this.props,y=f.ticks,v=b0(f,Bge),b=y;return ze(u)&&(b=y&&y.length>0?u(this.props):u(v)),s<=0||l<=0||!b||!b.length?null:X.createElement(Bt,{className:Ze("recharts-cartesian-axis",c),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),On.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,l=Ze(i.className,"recharts-cartesian-axis-tick-value");return X.isValidElement(r)?s=X.cloneElement(r,Qt(Qt({},i),{},{className:l})):ze(r)?s=r(Qt(Qt({},i),{},{className:l})):s=X.createElement(Lg,eu({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(U.Component);wS(Xv,"displayName","CartesianAxis");wS(Xv,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Zge=["type","layout","connectNulls","ref"],Yge=["key"];function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function TC(t,e){if(t==null)return{};var n=Xge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ih(){return ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ih.apply(this,arguments)}function AC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AC(Object(n),!0).forEach(function(r){ai(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ol(t){return tye(t)||eye(t)||Jge(t)||Qge()}function Qge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jge(t,e){if(t){if(typeof t=="string")return pw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pw(t,e)}}function eye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tye(t){if(Array.isArray(t))return pw(t)}function pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u3(r.key),r)}}function rye(t,e,n){return e&&MC(t.prototype,e),n&&MC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iye(t,e,n){return e=vy(e),aye(t,l3()?Reflect.construct(e,n||[],vy(t).constructor):e.apply(t,n))}function aye(t,e){if(e&&(Yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sye(t)}function sye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l3=function(){return!!t})()}function vy(t){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vy(t)}function oye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mw(t,e)}function mw(t,e){return mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mw(t,e)}function ai(t,e,n){return e=u3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u3(t){var e=lye(t,"string");return Yu(e)=="symbol"?e:e+""}function lye(t,e){if(Yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vf=function(t){function e(){var n;nye(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=iye(this,e,[].concat(i)),ai(n,"state",{isAnimationFinished:!0,totalLength:0}),ai(n,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),ai(n,"getStrokeDasharray",function(s,l,u){var c=u.reduce(function(P,w){return P+w});if(!c)return n.generateSimpleStrokeDasharray(l,s);for(var p=Math.floor(s/c),f=s%c,y=l-s,v=[],b=0,S=0;b<u.length;S+=u[b],++b)if(S+u[b]>f){v=[].concat(Ol(u.slice(0,b)),[f-S]);break}var x=v.length%2===0?[0,y]:[y];return[].concat(Ol(e.repeat(u,p)),Ol(v),x).map(function(P){return"".concat(P,"px")}).join(", ")}),ai(n,"id",kf("recharts-line-")),ai(n,"pathRef",function(s){n.mainCurve=s}),ai(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ai(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return oye(e,t),rye(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,l=a.xAxis,u=a.yAxis,c=a.layout,p=a.children,f=Br(p,Ff);if(!f)return null;var y=function(S,x){return{x:S.x,y:S.y,value:S.value,errorVal:gr(S.payload,x)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return X.createElement(Bt,v,f.map(function(b){return X.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:s,xAxis:l,yAxis:u,layout:c,dataPointFormatter:y})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.dot,c=l.points,p=l.dataKey,f=Ke(this.props,!1),y=Ke(u,!0),v=c.map(function(S,x){var P=sr(sr(sr({key:"dot-".concat(x),r:3},f),y),{},{index:x,cx:S.x,cy:S.y,value:S.value,dataKey:p,payload:S.payload,points:c});return e.renderDotItem(u,P)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return X.createElement(Bt,ih({className:"recharts-line-dots",key:"dots"},b),v)}},{key:"renderCurveStatically",value:function(r,i,a,s){var l=this.props,u=l.type,c=l.layout,p=l.connectNulls;l.ref;var f=TC(l,Zge),y=sr(sr(sr({},Ke(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:u,layout:c,connectNulls:p});return X.createElement(Gb,ih({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,l=s.points,u=s.strokeDasharray,c=s.isAnimationActive,p=s.animationBegin,f=s.animationDuration,y=s.animationEasing,v=s.animationId,b=s.animateNewValues,S=s.width,x=s.height,P=this.state,w=P.prevPoints,T=P.totalLength;return X.createElement(Aa,{begin:p,duration:f,isActive:c,easing:y,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var N=I.t;if(w){var M=w.length/l.length,A=l.map(function(D,F){var W=Math.floor(F*M);if(w[W]){var Y=w[W],G=li(Y.x,D.x),Z=li(Y.y,D.y);return sr(sr({},D),{},{x:G(N),y:Z(N)})}if(b){var z=li(S*2,D.x),q=li(x/2,D.y);return sr(sr({},D),{},{x:z(N),y:q(N)})}return sr(sr({},D),{},{x:D.x,y:D.y})});return a.renderCurveStatically(A,r,i)}var O=li(0,T),k=O(N),$;if(u){var B="".concat(u).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});$=a.getStrokeDasharray(k,T,B)}else $=a.generateSimpleStrokeDasharray(T,k);return a.renderCurveStatically(l,r,i,{strokeDasharray:$})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,l=a.isAnimationActive,u=this.state,c=u.prevPoints,p=u.totalLength;return l&&s&&s.length&&(!c&&p>0||!Vv(c,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,l=i.points,u=i.className,c=i.xAxis,p=i.yAxis,f=i.top,y=i.left,v=i.width,b=i.height,S=i.isAnimationActive,x=i.id;if(a||!l||!l.length)return null;var P=this.state.isAnimationFinished,w=l.length===1,T=Ze("recharts-line",u),I=c&&c.allowDataOverflow,N=p&&p.allowDataOverflow,M=I||N,A=Fe(x)?this.id:x,O=(r=Ke(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=O.r,$=k===void 0?3:k,B=O.strokeWidth,D=B===void 0?2:B,F=Kq(s)?s:{},W=F.clipDot,Y=W===void 0?!0:W,G=$*2+D;return X.createElement(Bt,{className:T},I||N?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(A)},X.createElement("rect",{x:I?y:y-v/2,y:N?f:f-b/2,width:I?v:v*2,height:N?b:b*2})),!Y&&X.createElement("clipPath",{id:"clipPath-dots-".concat(A)},X.createElement("rect",{x:y-G/2,y:f-G/2,width:v+G,height:b+G}))):null,!w&&this.renderCurve(M,A),this.renderErrorBar(M,A),(w||s)&&this.renderDots(M,Y,A),(!S||P)&&Es.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Ol(r),[0]):r,s=[],l=0;l<i;++l)s=[].concat(Ol(s),Ol(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(X.isValidElement(r))a=X.cloneElement(r,i);else if(ze(r))a=r(i);else{var s=i.key,l=TC(i,Yge),u=Ze("recharts-line-dot",typeof r!="boolean"?r.className:"");a=X.createElement(vS,ih({key:s},l,{className:u}))}return a}}])}(U.PureComponent);ai(Vf,"displayName","Line");ai(Vf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!wc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ai(Vf,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,l=t.bandSize,u=t.displayedData,c=t.offset,p=e.layout,f=u.map(function(y,v){var b=gr(y,s);return p==="horizontal"?{x:fI({axis:n,ticks:i,bandSize:l,entry:y,index:v}),y:Fe(b)?null:r.scale(b),value:b,payload:y}:{x:Fe(b)?null:n.scale(b),y:fI({axis:r,ticks:a,bandSize:l,entry:y,index:v}),value:b,payload:y}});return sr({points:f,layout:p},c)});function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function uye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h3(r.key),r)}}function dye(t,e,n){return e&&cye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hye(t,e,n){return e=_y(e),fye(t,c3()?Reflect.construct(e,n||[],_y(t).constructor):e.apply(t,n))}function fye(t,e){if(e&&(Xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pye(t)}function pye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c3=function(){return!!t})()}function _y(t){return _y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_y(t)}function mye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gw(t,e)}function gw(t,e){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gw(t,e)}function d3(t,e,n){return e=h3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h3(t){var e=gye(t,"string");return Xu(e)=="symbol"?e:e+""}function gye(t,e){if(Xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yw.apply(this,arguments)}function yye(t){var e=t.xAxisId,n=X$(),r=Q$(),i=Z$(e);return i==null?null:U.createElement(Xv,yw({},i,{className:Ze("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Po(s,!0)}}))}var PS=function(t){function e(){return uye(this,e),hye(this,e,arguments)}return mye(e,t),dye(e,[{key:"render",value:function(){return U.createElement(yye,this.props)}}])}(U.Component);d3(PS,"displayName","XAxis");d3(PS,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function vye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m3(r.key),r)}}function xye(t,e,n){return e&&_ye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bye(t,e,n){return e=xy(e),wye(t,f3()?Reflect.construct(e,n||[],xy(t).constructor):e.apply(t,n))}function wye(t,e){if(e&&(Qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pye(t)}function Pye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f3=function(){return!!t})()}function xy(t){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xy(t)}function Sye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vw(t,e)}function vw(t,e){return vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vw(t,e)}function p3(t,e,n){return e=m3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m3(t){var e=Eye(t,"string");return Qu(e)=="symbol"?e:e+""}function Eye(t,e){if(Qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_w.apply(this,arguments)}var Tye=function(e){var n=e.yAxisId,r=X$(),i=Q$(),a=Y$(n);return a==null?null:U.createElement(Xv,_w({},a,{className:Ze("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return Po(l,!0)}}))},SS=function(t){function e(){return vye(this,e),bye(this,e,arguments)}return Sye(e,t),xye(e,[{key:"render",value:function(){return U.createElement(Tye,this.props)}}])}(U.Component);p3(SS,"displayName","YAxis");p3(SS,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function NC(t){return Iye(t)||Nye(t)||Mye(t)||Aye()}function Aye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mye(t,e){if(t){if(typeof t=="string")return xw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xw(t,e)}}function Nye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Iye(t){if(Array.isArray(t))return xw(t)}function xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bw=function(e,n,r,i,a){var s=Br(e,bS),l=Br(e,qv),u=[].concat(NC(s),NC(l)),c=Br(e,Yv),p="".concat(i,"Id"),f=i[0],y=n;if(u.length&&(y=u.reduce(function(S,x){if(x.props[p]===r&&Fi(x.props,"extendDomain")&&fe(x.props[f])){var P=x.props[f];return[Math.min(S[0],P),Math.max(S[1],P)]}return S},y)),c.length){var v="".concat(f,"1"),b="".concat(f,"2");y=c.reduce(function(S,x){if(x.props[p]===r&&Fi(x.props,"extendDomain")&&fe(x.props[v])&&fe(x.props[b])){var P=x.props[v],w=x.props[b];return[Math.min(S[0],P,w),Math.max(S[1],P,w)]}return S},y)}return a&&a.length&&(y=a.reduce(function(S,x){return fe(x)?[Math.min(S[0],x),Math.max(S[1],x)]:S},y)),y},g3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,c,p){this.fn=u,this.context=c,this.once=p||!1}function a(u,c,p,f,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new i(p,f||u,y),b=n?n+c:c;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],v]:u._events[b].push(v):(u._events[b]=v,u._eventsCount++),u}function s(u,c){--u._eventsCount===0?u._events=new r:delete u._events[c]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],p,f;if(this._eventsCount===0)return c;for(f in p=this._events)e.call(p,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(p)):c},l.prototype.listeners=function(c){var p=n?n+c:c,f=this._events[p];if(!f)return[];if(f.fn)return[f.fn];for(var y=0,v=f.length,b=new Array(v);y<v;y++)b[y]=f[y].fn;return b},l.prototype.listenerCount=function(c){var p=n?n+c:c,f=this._events[p];return f?f.fn?1:f.length:0},l.prototype.emit=function(c,p,f,y,v,b){var S=n?n+c:c;if(!this._events[S])return!1;var x=this._events[S],P=arguments.length,w,T;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),P){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,p),!0;case 3:return x.fn.call(x.context,p,f),!0;case 4:return x.fn.call(x.context,p,f,y),!0;case 5:return x.fn.call(x.context,p,f,y,v),!0;case 6:return x.fn.call(x.context,p,f,y,v,b),!0}for(T=1,w=new Array(P-1);T<P;T++)w[T-1]=arguments[T];x.fn.apply(x.context,w)}else{var I=x.length,N;for(T=0;T<I;T++)switch(x[T].once&&this.removeListener(c,x[T].fn,void 0,!0),P){case 1:x[T].fn.call(x[T].context);break;case 2:x[T].fn.call(x[T].context,p);break;case 3:x[T].fn.call(x[T].context,p,f);break;case 4:x[T].fn.call(x[T].context,p,f,y);break;default:if(!w)for(N=1,w=new Array(P-1);N<P;N++)w[N-1]=arguments[N];x[T].fn.apply(x[T].context,w)}}return!0},l.prototype.on=function(c,p,f){return a(this,c,p,f,!1)},l.prototype.once=function(c,p,f){return a(this,c,p,f,!0)},l.prototype.removeListener=function(c,p,f,y){var v=n?n+c:c;if(!this._events[v])return this;if(!p)return s(this,v),this;var b=this._events[v];if(b.fn)b.fn===p&&(!y||b.once)&&(!f||b.context===f)&&s(this,v);else{for(var S=0,x=[],P=b.length;S<P;S++)(b[S].fn!==p||y&&!b[S].once||f&&b[S].context!==f)&&x.push(b[S]);x.length?this._events[v]=x.length===1?x[0]:x:s(this,v)}return this},l.prototype.removeAllListeners=function(c){var p;return c?(p=n?n+c:c,this._events[p]&&s(this,p)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(g3);var Cye=g3.exports;const Oye=dt(Cye);var w0=new Oye,P0="recharts.syncMouseEvents";function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function jye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y3(r.key),r)}}function Dye(t,e,n){return e&&kye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S0(t,e,n){return e=y3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y3(t){var e=Rye(t,"string");return pf(e)=="symbol"?e:e+""}function Rye(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lye=function(){function t(){jye(this,t),S0(this,"activeIndex",0),S0(this,"coordinateList",[]),S0(this,"layout","horizontal")}return Dye(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,l=s===void 0?null:s,u=n.layout,c=u===void 0?null:u,p=n.offset,f=p===void 0?null:p,y=n.mouseHandlerCallback,v=y===void 0?null:y;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,u=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,p=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+u+c,y=s+this.offset.top+l/2+p;this.mouseHandlerCallback({pageX:f,pageY:y})}}}])}();function $ye(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&fe(r)&&fe(i))return!0}return!1}function Fye(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function v3(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=bn(e,n,r,i),l=bn(e,n,r,a);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Bye(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,u=e.cy,c=e.innerRadius,p=e.outerRadius,f=e.angle,y=bn(l,u,c,f),v=bn(l,u,p,f);r=y.x,i=y.y,a=v.x,s=v.y}else return v3(e);return[{x:r,y:i},{x:a,y:s}]}function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function IC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IC(Object(n),!0).forEach(function(r){Vye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vye(t,e,n){return e=Uye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uye(t){var e=zye(t,"string");return mf(e)=="symbol"?e:e+""}function zye(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hye(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,l=t.activePayload,u=t.offset,c=t.activeTooltipIndex,p=t.tooltipAxisBandSize,f=t.layout,y=t.chartName,v=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!v||!a||!s||y!=="ScatterChart"&&i!=="axis")return null;var b,S=Gb;if(y==="ScatterChart")b=s,S=xfe;else if(y==="BarChart")b=Fye(f,s,u,p),S=yS;else if(f==="radial"){var x=v3(s),P=x.cx,w=x.cy,T=x.radius,I=x.startAngle,N=x.endAngle;b={cx:P,cy:w,startAngle:I,endAngle:N,innerRadius:T,outerRadius:T},S=w$}else b={points:Bye(f,s,u)},S=Gb;var M=rm(rm(rm(rm({stroke:"#ccc",pointerEvents:"none"},u),b),Ke(v,!1)),{},{payload:l,payloadIndex:c,className:Ze("recharts-tooltip-cursor",v.className)});return U.isValidElement(v)?U.cloneElement(v,M):U.createElement(S,M)}var Wye=["item"],Gye=["children","className","width","height","style","compact","title","desc"];function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tu.apply(this,arguments)}function CC(t,e){return Zye(t)||qye(t,e)||x3(t,e)||Kye()}function Kye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],u=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(p){c=!0,i=p}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return l}}function Zye(t){if(Array.isArray(t))return t}function OC(t,e){if(t==null)return{};var n=Yye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b3(r.key),r)}}function Jye(t,e,n){return e&&Qye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eve(t,e,n){return e=by(e),tve(t,_3()?Reflect.construct(e,n||[],by(t).constructor):e.apply(t,n))}function tve(t,e){if(e&&(Ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nve(t)}function nve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_3=function(){return!!t})()}function by(t){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},by(t)}function rve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ww(t,e)}function ww(t,e){return ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ww(t,e)}function ec(t){return sve(t)||ave(t)||x3(t)||ive()}function ive(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x3(t,e){if(t){if(typeof t=="string")return Pw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pw(t,e)}}function ave(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sve(t){if(Array.isArray(t))return Pw(t)}function Pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jC(Object(n),!0).forEach(function(r){Ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ee(t,e,n){return e=b3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b3(t){var e=ove(t,"string");return Ju(e)=="symbol"?e:e+""}function ove(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lve={xAxis:["bottom","top"],yAxis:["left","right"]},uve={width:"100%",height:"100%"},w3={x:0,y:0};function im(t){return t}var cve=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},dve=function(e,n,r,i){var a=n.find(function(p){return p&&p.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,l=i.radius;return ie(ie(ie({},i),bn(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var u=a.coordinate,c=i.angle;return ie(ie(ie({},i),bn(i.cx,i.cy,u,c)),{},{angle:c,radius:u})}return w3},Qv=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(l,u){var c=u.props.data;return c&&c.length?[].concat(ec(l),ec(c)):l},[]);return s.length>0?s:e&&e.length&&fe(i)&&fe(a)?e.slice(i,a+1):[]};function P3(t){return t==="number"?[0,"auto"]:void 0}var Sw=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,l=Qv(n,e);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(u,c){var p,f=(p=c.props.data)!==null&&p!==void 0?p:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(s.dataKey&&!s.allowDuplicatedCategory){var v=f===void 0?l:f;y=bg(v,s.dataKey,i)}else y=f&&f[r]||l[r];return y?[].concat(ec(u),[_$(c,y)]):u},[])},kC=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=cve(a,r),l=e.orderedTooltipTicks,u=e.tooltipAxis,c=e.tooltipTicks,p=Que(s,l,c,u);if(p>=0&&c){var f=c[p]&&c[p].value,y=Sw(e,n,p,f),v=dve(r,l,p,a);return{activeTooltipIndex:p,activeLabel:f,activePayload:y,activeCoordinate:v}}return null},hve=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,u=n.dataStartIndex,c=n.dataEndIndex,p=e.layout,f=e.children,y=e.stackOffset,v=y$(p,a);return r.reduce(function(b,S){var x,P=S.type.defaultProps!==void 0?ie(ie({},S.type.defaultProps),S.props):S.props,w=P.type,T=P.dataKey,I=P.allowDataOverflow,N=P.allowDuplicatedCategory,M=P.scale,A=P.ticks,O=P.includeHidden,k=P[s];if(b[k])return b;var $=Qv(e.data,{graphicalItems:i.filter(function(re){var ce,xe=s in re.props?re.props[s]:(ce=re.type.defaultProps)===null||ce===void 0?void 0:ce[s];return xe===k}),dataStartIndex:u,dataEndIndex:c}),B=$.length,D,F,W;$ye(P.domain,I,w)&&(D=Vb(P.domain,null,I),v&&(w==="number"||M!=="auto")&&(W=nh($,T,"category")));var Y=P3(w);if(!D||D.length===0){var G,Z=(G=P.domain)!==null&&G!==void 0?G:Y;if(T){if(D=nh($,T,w),w==="category"&&v){var z=Lq(D);N&&z?(F=D,D=ly(0,B)):N||(D=yI(Z,D,S).reduce(function(re,ce){return re.indexOf(ce)>=0?re:[].concat(ec(re),[ce])},[]))}else if(w==="category")N?D=D.filter(function(re){return re!==""&&!Fe(re)}):D=yI(Z,D,S).reduce(function(re,ce){return re.indexOf(ce)>=0||ce===""||Fe(ce)?re:[].concat(ec(re),[ce])},[]);else if(w==="number"){var q=rce($,i.filter(function(re){var ce,xe,_e=s in re.props?re.props[s]:(ce=re.type.defaultProps)===null||ce===void 0?void 0:ce[s],ge="hide"in re.props?re.props.hide:(xe=re.type.defaultProps)===null||xe===void 0?void 0:xe.hide;return _e===k&&(O||!ge)}),T,a,p);q&&(D=q)}v&&(w==="number"||M!=="auto")&&(W=nh($,T,"category"))}else v?D=ly(0,B):l&&l[k]&&l[k].hasStack&&w==="number"?D=y==="expand"?[0,1]:v$(l[k].stackGroups,u,c):D=g$($,i.filter(function(re){var ce=s in re.props?re.props[s]:re.type.defaultProps[s],xe="hide"in re.props?re.props.hide:re.type.defaultProps.hide;return ce===k&&(O||!xe)}),w,p,!0);if(w==="number")D=bw(f,D,k,a,A),Z&&(D=Vb(Z,D,I));else if(w==="category"&&Z){var H=Z,ee=D.every(function(re){return H.indexOf(re)>=0});ee&&(D=H)}}return ie(ie({},b),{},Ee({},k,ie(ie({},P),{},{axisType:a,domain:D,categoricalDomain:W,duplicateDomain:F,originalDomain:(x=P.domain)!==null&&x!==void 0?x:Y,isCategorical:v,layout:p})))},{})},fve=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,u=n.dataStartIndex,c=n.dataEndIndex,p=e.layout,f=e.children,y=Qv(e.data,{graphicalItems:r,dataStartIndex:u,dataEndIndex:c}),v=y.length,b=y$(p,a),S=-1;return r.reduce(function(x,P){var w=P.type.defaultProps!==void 0?ie(ie({},P.type.defaultProps),P.props):P.props,T=w[s],I=P3("number");if(!x[T]){S++;var N;return b?N=ly(0,v):l&&l[T]&&l[T].hasStack?(N=v$(l[T].stackGroups,u,c),N=bw(f,N,T,a)):(N=Vb(I,g$(y,r.filter(function(M){var A,O,k=s in M.props?M.props[s]:(A=M.type.defaultProps)===null||A===void 0?void 0:A[s],$="hide"in M.props?M.props.hide:(O=M.type.defaultProps)===null||O===void 0?void 0:O.hide;return k===T&&!$}),"number",p),i.defaultProps.allowDataOverflow),N=bw(f,N,T,a)),ie(ie({},x),{},Ee({},T,ie(ie({axisType:a},i.defaultProps),{},{hide:!0,orientation:Fr(lve,"".concat(a,".").concat(S%2),null),domain:N,originalDomain:I,isCategorical:b,layout:p})))}return x},{})},pve=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,l=n.stackGroups,u=n.dataStartIndex,c=n.dataEndIndex,p=e.children,f="".concat(i,"Id"),y=Br(p,a),v={};return y&&y.length?v=hve(e,{axes:y,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:u,dataEndIndex:c}):s&&s.length&&(v=fve(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:u,dataEndIndex:c})),v},mve=function(e){var n=$l(e),r=Po(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:HP(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Qg(n,r)}},DC=function(e){var n=e.children,r=e.defaultShowTooltip,i=cr(n,Hu),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},gve=function(e){return!e||!e.length?!1:e.some(function(n){var r=pa(n&&n.type);return r&&r.indexOf("Bar")>=0})},RC=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},yve=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,l=e.yAxisMap,u=l===void 0?{}:l,c=r.width,p=r.height,f=r.children,y=r.margin||{},v=cr(f,Hu),b=cr(f,pu),S=Object.keys(u).reduce(function(N,M){var A=u[M],O=A.orientation;return!A.mirror&&!A.hide?ie(ie({},N),{},Ee({},O,N[O]+A.width)):N},{left:y.left||0,right:y.right||0}),x=Object.keys(s).reduce(function(N,M){var A=s[M],O=A.orientation;return!A.mirror&&!A.hide?ie(ie({},N),{},Ee({},O,Fr(N,"".concat(O))+A.height)):N},{top:y.top||0,bottom:y.bottom||0}),P=ie(ie({},x),S),w=P.bottom;v&&(P.bottom+=v.props.height||Hu.defaultProps.height),b&&n&&(P=tce(P,i,r,n));var T=c-P.left-P.right,I=p-P.top-P.bottom;return ie(ie({brushBottom:w},P),{},{width:Math.max(T,0),height:Math.max(I,0)})},vve=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},_ve=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,u=e.axisComponents,c=e.legendContent,p=e.formatAxisMap,f=e.defaultProps,y=function(P,w){var T=w.graphicalItems,I=w.stackGroups,N=w.offset,M=w.updateId,A=w.dataStartIndex,O=w.dataEndIndex,k=P.barSize,$=P.layout,B=P.barGap,D=P.barCategoryGap,F=P.maxBarSize,W=RC($),Y=W.numericAxisName,G=W.cateAxisName,Z=gve(T),z=[];return T.forEach(function(q,H){var ee=Qv(P.data,{graphicalItems:[q],dataStartIndex:A,dataEndIndex:O}),re=q.type.defaultProps!==void 0?ie(ie({},q.type.defaultProps),q.props):q.props,ce=re.dataKey,xe=re.maxBarSize,_e=re["".concat(Y,"Id")],ge=re["".concat(G,"Id")],Je={},mt=u.reduce(function(Hn,xr){var _i=w["".concat(xr.axisType,"Map")],La=re["".concat(xr.axisType,"Id")];_i&&_i[La]||xr.axisType==="zAxis"||Wo();var Ws=_i[La];return ie(ie({},Hn),{},Ee(Ee({},xr.axisType,Ws),"".concat(xr.axisType,"Ticks"),Po(Ws)))},Je),he=mt[G],Se=mt["".concat(G,"Ticks")],Ie=I&&I[_e]&&I[_e].hasStack&&mce(q,I[_e].stackGroups),se=pa(q.type).indexOf("Bar")>=0,et=Qg(he,Se),De=[],ht=Z&&Jue({barSize:k,stackGroups:I,totalSize:vve(mt,G)});if(se){var gt,Vt,Rn=Fe(xe)?F:xe,Gr=(gt=(Vt=Qg(he,Se,!0))!==null&&Vt!==void 0?Vt:Rn)!==null&&gt!==void 0?gt:0;De=ece({barGap:B,barCategoryGap:D,bandSize:Gr!==et?Gr:et,sizeList:ht[ge],maxBarSize:Rn}),Gr!==et&&(De=De.map(function(Hn){return ie(ie({},Hn),{},{position:ie(ie({},Hn.position),{},{offset:Hn.position.offset-Gr/2})})}))}var Kr=q&&q.type&&q.type.getComposedData;Kr&&z.push({props:ie(ie({},Kr(ie(ie({},mt),{},{displayedData:ee,props:P,dataKey:ce,item:q,bandSize:et,barPosition:De,offset:N,stackedData:Ie,layout:$,dataStartIndex:A,dataEndIndex:O}))),{},Ee(Ee(Ee({key:q.key||"item-".concat(H)},Y,mt[Y]),G,mt[G]),"animationId",M)),childIndex:Yq(q,P.children),item:q})}),z},v=function(P,w){var T=P.props,I=P.dataStartIndex,N=P.dataEndIndex,M=P.updateId;if(!cM({props:T}))return null;var A=T.children,O=T.layout,k=T.stackOffset,$=T.data,B=T.reverseStackOrder,D=RC(O),F=D.numericAxisName,W=D.cateAxisName,Y=Br(A,r),G=hce($,Y,"".concat(F,"Id"),"".concat(W,"Id"),k,B),Z=u.reduce(function(re,ce){var xe="".concat(ce.axisType,"Map");return ie(ie({},re),{},Ee({},xe,pve(T,ie(ie({},ce),{},{graphicalItems:Y,stackGroups:ce.axisType===F&&G,dataStartIndex:I,dataEndIndex:N}))))},{}),z=yve(ie(ie({},Z),{},{props:T,graphicalItems:Y}),w==null?void 0:w.legendBBox);Object.keys(Z).forEach(function(re){Z[re]=p(T,Z[re],z,re.replace("Map",""),n)});var q=Z["".concat(W,"Map")],H=mve(q),ee=y(T,ie(ie({},Z),{},{dataStartIndex:I,dataEndIndex:N,updateId:M,graphicalItems:Y,stackGroups:G,offset:z}));return ie(ie({formattedGraphicalItems:ee,graphicalItems:Y,offset:z,stackGroups:G},H),Z)},b=function(x){function P(w){var T,I,N;return Xye(this,P),N=eve(this,P,[w]),Ee(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ee(N,"accessibilityManager",new Lye),Ee(N,"handleLegendBBoxUpdate",function(M){if(M){var A=N.state,O=A.dataStartIndex,k=A.dataEndIndex,$=A.updateId;N.setState(ie({legendBBox:M},v({props:N.props,dataStartIndex:O,dataEndIndex:k,updateId:$},ie(ie({},N.state),{},{legendBBox:M}))))}}),Ee(N,"handleReceiveSyncEvent",function(M,A,O){if(N.props.syncId===M){if(O===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(A)}}),Ee(N,"handleBrushChange",function(M){var A=M.startIndex,O=M.endIndex;if(A!==N.state.dataStartIndex||O!==N.state.dataEndIndex){var k=N.state.updateId;N.setState(function(){return ie({dataStartIndex:A,dataEndIndex:O},v({props:N.props,dataStartIndex:A,dataEndIndex:O,updateId:k},N.state))}),N.triggerSyncEvent({dataStartIndex:A,dataEndIndex:O})}}),Ee(N,"handleMouseEnter",function(M){var A=N.getMouseInfo(M);if(A){var O=ie(ie({},A),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var k=N.props.onMouseEnter;ze(k)&&k(O,M)}}),Ee(N,"triggeredAfterMouseMove",function(M){var A=N.getMouseInfo(M),O=A?ie(ie({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(O),N.triggerSyncEvent(O);var k=N.props.onMouseMove;ze(k)&&k(O,M)}),Ee(N,"handleItemMouseEnter",function(M){N.setState(function(){return{isTooltipActive:!0,activeItem:M,activePayload:M.tooltipPayload,activeCoordinate:M.tooltipPosition||{x:M.cx,y:M.cy}}})}),Ee(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Ee(N,"handleMouseMove",function(M){M.persist(),N.throttleTriggeredAfterMouseMove(M)}),Ee(N,"handleMouseLeave",function(M){N.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};N.setState(A),N.triggerSyncEvent(A);var O=N.props.onMouseLeave;ze(O)&&O(A,M)}),Ee(N,"handleOuterEvent",function(M){var A=Zq(M),O=Fr(N.props,"".concat(A));if(A&&ze(O)){var k,$;/.*touch.*/i.test(A)?$=N.getMouseInfo(M.changedTouches[0]):$=N.getMouseInfo(M),O((k=$)!==null&&k!==void 0?k:{},M)}}),Ee(N,"handleClick",function(M){var A=N.getMouseInfo(M);if(A){var O=ie(ie({},A),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var k=N.props.onClick;ze(k)&&k(O,M)}}),Ee(N,"handleMouseDown",function(M){var A=N.props.onMouseDown;if(ze(A)){var O=N.getMouseInfo(M);A(O,M)}}),Ee(N,"handleMouseUp",function(M){var A=N.props.onMouseUp;if(ze(A)){var O=N.getMouseInfo(M);A(O,M)}}),Ee(N,"handleTouchMove",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(M.changedTouches[0])}),Ee(N,"handleTouchStart",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&N.handleMouseDown(M.changedTouches[0])}),Ee(N,"handleTouchEnd",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&N.handleMouseUp(M.changedTouches[0])}),Ee(N,"handleDoubleClick",function(M){var A=N.props.onDoubleClick;if(ze(A)){var O=N.getMouseInfo(M);A(O,M)}}),Ee(N,"handleContextMenu",function(M){var A=N.props.onContextMenu;if(ze(A)){var O=N.getMouseInfo(M);A(O,M)}}),Ee(N,"triggerSyncEvent",function(M){N.props.syncId!==void 0&&w0.emit(P0,N.props.syncId,M,N.eventEmitterSymbol)}),Ee(N,"applySyncEvent",function(M){var A=N.props,O=A.layout,k=A.syncMethod,$=N.state.updateId,B=M.dataStartIndex,D=M.dataEndIndex;if(M.dataStartIndex!==void 0||M.dataEndIndex!==void 0)N.setState(ie({dataStartIndex:B,dataEndIndex:D},v({props:N.props,dataStartIndex:B,dataEndIndex:D,updateId:$},N.state)));else if(M.activeTooltipIndex!==void 0){var F=M.chartX,W=M.chartY,Y=M.activeTooltipIndex,G=N.state,Z=G.offset,z=G.tooltipTicks;if(!Z)return;if(typeof k=="function")Y=k(z,M);else if(k==="value"){Y=-1;for(var q=0;q<z.length;q++)if(z[q].value===M.activeLabel){Y=q;break}}var H=ie(ie({},Z),{},{x:Z.left,y:Z.top}),ee=Math.min(F,H.x+H.width),re=Math.min(W,H.y+H.height),ce=z[Y]&&z[Y].value,xe=Sw(N.state,N.props.data,Y),_e=z[Y]?{x:O==="horizontal"?z[Y].coordinate:ee,y:O==="horizontal"?re:z[Y].coordinate}:w3;N.setState(ie(ie({},M),{},{activeLabel:ce,activeCoordinate:_e,activePayload:xe,activeTooltipIndex:Y}))}else N.setState(M)}),Ee(N,"renderCursor",function(M){var A,O=N.state,k=O.isTooltipActive,$=O.activeCoordinate,B=O.activePayload,D=O.offset,F=O.activeTooltipIndex,W=O.tooltipAxisBandSize,Y=N.getTooltipEventType(),G=(A=M.props.active)!==null&&A!==void 0?A:k,Z=N.props.layout,z=M.key||"_recharts-cursor";return X.createElement(Hye,{key:z,activeCoordinate:$,activePayload:B,activeTooltipIndex:F,chartName:n,element:M,isActive:G,layout:Z,offset:D,tooltipAxisBandSize:W,tooltipEventType:Y})}),Ee(N,"renderPolarAxis",function(M,A,O){var k=Fr(M,"type.axisType"),$=Fr(N.state,"".concat(k,"Map")),B=M.type.defaultProps,D=B!==void 0?ie(ie({},B),M.props):M.props,F=$&&$[D["".concat(k,"Id")]];return U.cloneElement(M,ie(ie({},F),{},{className:Ze(k,F.className),key:M.key||"".concat(A,"-").concat(O),ticks:Po(F,!0)}))}),Ee(N,"renderPolarGrid",function(M){var A=M.props,O=A.radialLines,k=A.polarAngles,$=A.polarRadius,B=N.state,D=B.radiusAxisMap,F=B.angleAxisMap,W=$l(D),Y=$l(F),G=Y.cx,Z=Y.cy,z=Y.innerRadius,q=Y.outerRadius;return U.cloneElement(M,{polarAngles:Array.isArray(k)?k:Po(Y,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray($)?$:Po(W,!0).map(function(H){return H.coordinate}),cx:G,cy:Z,innerRadius:z,outerRadius:q,key:M.key||"polar-grid",radialLines:O})}),Ee(N,"renderLegend",function(){var M=N.state.formattedGraphicalItems,A=N.props,O=A.children,k=A.width,$=A.height,B=N.props.margin||{},D=k-(B.left||0)-(B.right||0),F=p$({children:O,formattedGraphicalItems:M,legendWidth:D,legendContent:c});if(!F)return null;var W=F.item,Y=OC(F,Wye);return U.cloneElement(W,ie(ie({},Y),{},{chartWidth:k,chartHeight:$,margin:B,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Ee(N,"renderTooltip",function(){var M,A=N.props,O=A.children,k=A.accessibilityLayer,$=cr(O,Ai);if(!$)return null;var B=N.state,D=B.isTooltipActive,F=B.activeCoordinate,W=B.activePayload,Y=B.activeLabel,G=B.offset,Z=(M=$.props.active)!==null&&M!==void 0?M:D;return U.cloneElement($,{viewBox:ie(ie({},G),{},{x:G.left,y:G.top}),active:Z,label:Y,payload:Z?W:[],coordinate:F,accessibilityLayer:k})}),Ee(N,"renderBrush",function(M){var A=N.props,O=A.margin,k=A.data,$=N.state,B=$.offset,D=$.dataStartIndex,F=$.dataEndIndex,W=$.updateId;return U.cloneElement(M,{key:M.key||"_recharts-brush",onChange:Jp(N.handleBrushChange,M.props.onChange),data:k,x:fe(M.props.x)?M.props.x:B.left,y:fe(M.props.y)?M.props.y:B.top+B.height+B.brushBottom-(O.bottom||0),width:fe(M.props.width)?M.props.width:B.width,startIndex:D,endIndex:F,updateId:"brush-".concat(W)})}),Ee(N,"renderReferenceElement",function(M,A,O){if(!M)return null;var k=N,$=k.clipPathId,B=N.state,D=B.xAxisMap,F=B.yAxisMap,W=B.offset,Y=M.type.defaultProps||{},G=M.props,Z=G.xAxisId,z=Z===void 0?Y.xAxisId:Z,q=G.yAxisId,H=q===void 0?Y.yAxisId:q;return U.cloneElement(M,{key:M.key||"".concat(A,"-").concat(O),xAxis:D[z],yAxis:F[H],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:$})}),Ee(N,"renderActivePoints",function(M){var A=M.item,O=M.activePoint,k=M.basePoint,$=M.childIndex,B=M.isRange,D=[],F=A.props.key,W=A.item.type.defaultProps!==void 0?ie(ie({},A.item.type.defaultProps),A.item.props):A.item.props,Y=W.activeDot,G=W.dataKey,Z=ie(ie({index:$,dataKey:G,cx:O.x,cy:O.y,r:4,fill:gS(A.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Ke(Y,!1)),wg(Y));return D.push(P.renderActiveDot(Y,Z,"".concat(F,"-activePoint-").concat($))),k?D.push(P.renderActiveDot(Y,ie(ie({},Z),{},{cx:k.x,cy:k.y}),"".concat(F,"-basePoint-").concat($))):B&&D.push(null),D}),Ee(N,"renderGraphicChild",function(M,A,O){var k=N.filterFormatItem(M,A,O);if(!k)return null;var $=N.getTooltipEventType(),B=N.state,D=B.isTooltipActive,F=B.tooltipAxis,W=B.activeTooltipIndex,Y=B.activeLabel,G=N.props.children,Z=cr(G,Ai),z=k.props,q=z.points,H=z.isRange,ee=z.baseLine,re=k.item.type.defaultProps!==void 0?ie(ie({},k.item.type.defaultProps),k.item.props):k.item.props,ce=re.activeDot,xe=re.hide,_e=re.activeBar,ge=re.activeShape,Je=!!(!xe&&D&&Z&&(ce||_e||ge)),mt={};$!=="axis"&&Z&&Z.props.trigger==="click"?mt={onClick:Jp(N.handleItemMouseEnter,M.props.onClick)}:$!=="axis"&&(mt={onMouseLeave:Jp(N.handleItemMouseLeave,M.props.onMouseLeave),onMouseEnter:Jp(N.handleItemMouseEnter,M.props.onMouseEnter)});var he=U.cloneElement(M,ie(ie({},k.props),mt));function Se(xr){return typeof F.dataKey=="function"?F.dataKey(xr.payload):null}if(Je)if(W>=0){var Ie,se;if(F.dataKey&&!F.allowDuplicatedCategory){var et=typeof F.dataKey=="function"?Se:"payload.".concat(F.dataKey.toString());Ie=bg(q,et,Y),se=H&&ee&&bg(ee,et,Y)}else Ie=q==null?void 0:q[W],se=H&&ee&&ee[W];if(ge||_e){var De=M.props.activeIndex!==void 0?M.props.activeIndex:W;return[U.cloneElement(M,ie(ie(ie({},k.props),mt),{},{activeIndex:De})),null,null]}if(!Fe(Ie))return[he].concat(ec(N.renderActivePoints({item:k,activePoint:Ie,basePoint:se,childIndex:W,isRange:H})))}else{var ht,gt=(ht=N.getItemByXY(N.state.activeCoordinate))!==null&&ht!==void 0?ht:{graphicalItem:he},Vt=gt.graphicalItem,Rn=Vt.item,Gr=Rn===void 0?M:Rn,Kr=Vt.childIndex,Hn=ie(ie(ie({},k.props),mt),{},{activeIndex:Kr});return[U.cloneElement(Gr,Hn),null,null]}return H?[he,null,null]:[he,null]}),Ee(N,"renderCustomized",function(M,A,O){return U.cloneElement(M,ie(ie({key:"recharts-customized-".concat(O)},N.props),N.state))}),Ee(N,"renderMap",{CartesianGrid:{handler:im,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:im},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:im},YAxis:{handler:im},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((T=w.id)!==null&&T!==void 0?T:kf("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=pL(N.triggeredAfterMouseMove,(I=w.throttleDelay)!==null&&I!==void 0?I:1e3/60),N.state={},N}return rve(P,x),Jye(P,[{key:"componentDidMount",value:function(){var T,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,I=T.children,N=T.data,M=T.height,A=T.layout,O=cr(I,Ai);if(O){var k=O.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,B=Sw(this.state,N,k,$),D=this.state.tooltipTicks[k].coordinate,F=(this.state.offset.top+M)/2,W=A==="horizontal",Y=W?{x:D,y:F}:{y:D,x:F},G=this.state.formattedGraphicalItems.find(function(z){var q=z.item;return q.type.name==="Scatter"});G&&(Y=ie(ie({},Y),G.props.points[k].tooltipPosition),B=G.props.points[k].tooltipPayload);var Z={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:$,activePayload:B,activeCoordinate:Y};this.setState(Z),this.renderCursor(O),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var N,M;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0}})}return null}},{key:"componentDidUpdate",value:function(T){nb([cr(T.children,Ai)],[cr(this.props.children,Ai)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=cr(this.props.children,Ai);if(T&&typeof T.props.shared=="boolean"){var I=T.props.shared?"axis":"item";return l.indexOf(I)>=0?I:a}return a}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var I=this.container,N=I.getBoundingClientRect(),M=Sae(N),A={chartX:Math.round(T.pageX-M.left),chartY:Math.round(T.pageY-M.top)},O=N.width/I.offsetWidth||1,k=this.inRange(A.chartX,A.chartY,O);if(!k)return null;var $=this.state,B=$.xAxisMap,D=$.yAxisMap,F=this.getTooltipEventType(),W=kC(this.state,this.props.data,this.props.layout,k);if(F!=="axis"&&B&&D){var Y=$l(B).scale,G=$l(D).scale,Z=Y&&Y.invert?Y.invert(A.chartX):null,z=G&&G.invert?G.invert(A.chartY):null;return ie(ie({},A),{},{xValue:Z,yValue:z},W)}return W?ie(ie({},A),W):null}},{key:"inRange",value:function(T,I){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=this.props.layout,A=T/N,O=I/N;if(M==="horizontal"||M==="vertical"){var k=this.state.offset,$=A>=k.left&&A<=k.left+k.width&&O>=k.top&&O<=k.top+k.height;return $?{x:A,y:O}:null}var B=this.state,D=B.angleAxisMap,F=B.radiusAxisMap;if(D&&F){var W=$l(D);return xI({x:A,y:O},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,I=this.getTooltipEventType(),N=cr(T,Ai),M={};N&&I==="axis"&&(N.props.trigger==="click"?M={onClick:this.handleClick}:M={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=wg(this.props,this.handleOuterEvent);return ie(ie({},A),M)}},{key:"addListener",value:function(){w0.on(P0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){w0.removeListener(P0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,I,N){for(var M=this.state.formattedGraphicalItems,A=0,O=M.length;A<O;A++){var k=M[A];if(k.item===T||k.props.key===T.key||I===pa(k.item.type)&&N===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,I=this.state.offset,N=I.left,M=I.top,A=I.height,O=I.width;return X.createElement("defs",null,X.createElement("clipPath",{id:T},X.createElement("rect",{x:N,y:M,height:A,width:O})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(I,N){var M=CC(N,2),A=M[0],O=M[1];return ie(ie({},I),{},Ee({},A,O.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(I,N){var M=CC(N,2),A=M[0],O=M[1];return ie(ie({},I),{},Ee({},A,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[T])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(T){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[T])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(T){var I=this.state,N=I.formattedGraphicalItems,M=I.activeItem;if(N&&N.length)for(var A=0,O=N.length;A<O;A++){var k=N[A],$=k.props,B=k.item,D=B.type.defaultProps!==void 0?ie(ie({},B.type.defaultProps),B.props):B.props,F=pa(B.type);if(F==="Bar"){var W=($.data||[]).find(function(z){return cfe(T,z)});if(W)return{graphicalItem:k,payload:W}}else if(F==="RadialBar"){var Y=($.data||[]).find(function(z){return xI(T,z)});if(Y)return{graphicalItem:k,payload:Y}}else if(Hv(k,M)||Wv(k,M)||uf(k,M)){var G=fpe({graphicalItem:k,activeTooltipItem:M,itemData:D.data}),Z=D.activeIndex===void 0?G:D.activeIndex;return{graphicalItem:ie(ie({},k),{},{childIndex:Z}),payload:uf(k,M)?D.data[G]:k.props.data[G]}}}return null}},{key:"render",value:function(){var T=this;if(!cM(this))return null;var I=this.props,N=I.children,M=I.className,A=I.width,O=I.height,k=I.style,$=I.compact,B=I.title,D=I.desc,F=OC(I,Gye),W=Ke(F,!1);if($)return X.createElement(mC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement(ib,tu({},W,{width:A,height:O,title:B,desc:D}),this.renderClipPath(),hM(N,this.renderMap)));if(this.props.accessibilityLayer){var Y,G;W.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,W.role=(G=this.props.role)!==null&&G!==void 0?G:"application",W.onKeyDown=function(z){T.accessibilityManager.keyboardEvent(z)},W.onFocus=function(){T.accessibilityManager.focus()}}var Z=this.parseEventsOfWrapper();return X.createElement(mC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement("div",tu({className:Ze("recharts-wrapper",M),style:ie({position:"relative",cursor:"default",width:A,height:O},k)},Z,{ref:function(q){T.container=q}}),X.createElement(ib,tu({},W,{width:A,height:O,title:B,desc:D,style:uve}),this.renderClipPath(),hM(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(U.Component);Ee(b,"displayName",n),Ee(b,"defaultProps",ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ee(b,"getDerivedStateFromProps",function(x,P){var w=x.dataKey,T=x.data,I=x.children,N=x.width,M=x.height,A=x.layout,O=x.stackOffset,k=x.margin,$=P.dataStartIndex,B=P.dataEndIndex;if(P.updateId===void 0){var D=DC(x);return ie(ie(ie({},D),{},{updateId:0},v(ie(ie({props:x},D),{},{updateId:0}),P)),{},{prevDataKey:w,prevData:T,prevWidth:N,prevHeight:M,prevLayout:A,prevStackOffset:O,prevMargin:k,prevChildren:I})}if(w!==P.prevDataKey||T!==P.prevData||N!==P.prevWidth||M!==P.prevHeight||A!==P.prevLayout||O!==P.prevStackOffset||!fu(k,P.prevMargin)){var F=DC(x),W={chartX:P.chartX,chartY:P.chartY,isTooltipActive:P.isTooltipActive},Y=ie(ie({},kC(P,T,A)),{},{updateId:P.updateId+1}),G=ie(ie(ie({},F),W),Y);return ie(ie(ie({},G),v(ie({props:x},G),P)),{},{prevDataKey:w,prevData:T,prevWidth:N,prevHeight:M,prevLayout:A,prevStackOffset:O,prevMargin:k,prevChildren:I})}if(!nb(I,P.prevChildren)){var Z,z,q,H,ee=cr(I,Hu),re=ee&&(Z=(z=ee.props)===null||z===void 0?void 0:z.startIndex)!==null&&Z!==void 0?Z:$,ce=ee&&(q=(H=ee.props)===null||H===void 0?void 0:H.endIndex)!==null&&q!==void 0?q:B,xe=re!==$||ce!==B,_e=!Fe(T),ge=_e&&!xe?P.updateId:P.updateId+1;return ie(ie({updateId:ge},v(ie(ie({props:x},P),{},{updateId:ge,dataStartIndex:re,dataEndIndex:ce}),P)),{},{prevChildren:I,dataStartIndex:re,dataEndIndex:ce})}return null}),Ee(b,"renderActiveDot",function(x,P,w){var T;return U.isValidElement(x)?T=U.cloneElement(x,P):ze(x)?T=x(P):T=X.createElement(vS,P),X.createElement(Bt,{className:"recharts-active-dot",key:w},T)});var S=U.forwardRef(function(P,w){return X.createElement(b,tu({},P,{ref:w}))});return S.displayName=b.displayName,S},xve=_ve({chartName:"LineChart",GraphicalChild:Vf,axisComponents:[{axisType:"xAxis",AxisComp:PS},{axisType:"yAxis",AxisComp:SS}],formatAxisMap:Bme});function bve({insight:t}){var e;return(e=t==null?void 0:t.recentSymptoms)!=null&&e.trim()?h.jsxs("section",{className:"card",children:[h.jsx("h2",{className:"text-lg font-semibold",children:"Your AI Health Summary"}),h.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.recentSymptoms}),h.jsxs("div",{className:"mt-4 rounded-xl border border-slate-100 p-3",children:[h.jsxs("div",{className:"flex items-center justify-between text-xs",children:[h.jsx("span",{className:"font-semibold text-slate-600",children:"Risk Score"}),h.jsxs("span",{className:"font-semibold text-med-700",children:[t.riskScore,"%"]})]}),h.jsx("div",{className:"mt-2 h-2.5 rounded-full bg-slate-100",children:h.jsx("div",{className:"h-2.5 rounded-full bg-gradient-to-r from-emerald-400 via-amber-400 to-red-500",style:{width:`${t.riskScore}%`}})})]}),h.jsx("div",{className:"mt-4 h-20 w-full rounded-xl bg-slate-50 p-2",children:h.jsx(yae,{children:h.jsxs(xve,{data:t.trend,children:[h.jsx(Ai,{}),h.jsx(Vf,{type:"monotone",dataKey:"score",stroke:"#1468d6",strokeWidth:2.5,dot:!1})]})})}),h.jsxs("p",{className:"mt-3 text-sm",children:[h.jsx("span",{className:"font-semibold",children:"Recommended Department:"})," ",t.recommendedDepartment]}),h.jsx("p",{className:"mt-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Pending Test Suggestions"}),t.pendingTests.length?h.jsx("ul",{className:"mt-1 list-disc pl-5 text-sm text-slate-700",children:t.pendingTests.map(n=>h.jsx("li",{children:n},n))}):h.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"No pending test suggestions."}),h.jsx(Qe,{to:"/triage",className:"btn-primary mt-4 w-full",children:"View Detailed Analysis"})]}):null}const wve={confirmed:"bg-emerald-100 text-emerald-700",scheduled:"bg-blue-100 text-blue-700",pending:"bg-amber-100 text-amber-700",ready:"bg-teal-100 text-teal-700"};function Pve({events:t}){return h.jsxs("section",{className:"card",children:[h.jsxs("div",{className:"mb-4 flex items-end justify-between",children:[h.jsx("h2",{className:"text-lg font-semibold",children:"Upcoming Events"}),h.jsx("p",{className:"text-xs text-slate-500",children:"Appointments, payments, and reports"})]}),h.jsx("div",{className:"space-y-3",children:t.map(e=>h.jsxs("article",{className:"rounded-2xl border border-slate-100 p-4",children:[h.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:e.type}),h.jsx("span",{className:`rounded-full px-2.5 py-1 text-xs font-semibold uppercase ${wve[e.status]}`,children:e.status})]}),h.jsx("h3",{className:"mt-1 text-sm font-semibold",children:e.title}),h.jsx("p",{className:"mt-1 text-xs text-slate-600",children:e.date}),h.jsx(Qe,{to:e.to,className:"btn-secondary mt-3",children:e.action})]},e.id))})]})}function Sve(){const[t,e]=U.useState(!1),[n,r]=U.useState("");return h.jsxs("div",{className:"fixed bottom-5 right-5 z-50",children:[t?h.jsxs("section",{className:"mb-3 w-80 rounded-2xl border border-slate-200 bg-white p-4 shadow-card",children:[h.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[h.jsx("h3",{className:"text-sm font-semibold",children:"Ask Reception"}),h.jsx("button",{type:"button",className:"text-xs text-slate-500",onClick:()=>e(!1),children:"Close"})]}),h.jsx("div",{className:"rounded-xl bg-slate-50 p-3 text-xs text-slate-600",children:"Hello! I can help with appointments, billing, and report status."}),h.jsxs("div",{className:"mt-3 flex gap-2",children:[h.jsx("input",{className:"input",placeholder:"Type your message...",value:n,onChange:i=>r(i.target.value)}),h.jsx("button",{type:"button",className:"rounded-xl border border-slate-200 px-3 text-lg","aria-label":"Voice input",children:""})]}),h.jsx("button",{type:"button",className:"btn-primary mt-3 w-full",children:"Send"})]}):null,h.jsx("button",{type:"button",className:"btn-primary rounded-full px-5 py-3 shadow-card",onClick:()=>e(i=>!i),children:"Ask Reception"})]})}const Eve=[{id:"ai-assistant",title:"Talk to AI Assistant",description:"Get symptom guidance and triage support instantly.",icon:"",to:"/triage"},{id:"appointment",title:"Book Appointment",description:"Find doctor slots and reserve an OPD consultation.",icon:"",to:"/appointments"},{id:"my-appointments",title:"My Appointments",description:"Track all booked consultations and status updates.",icon:"",to:"/my-appointments"},{id:"ambulance",title:"Request Ambulance",description:"Dispatch nearest hospital ambulance with live tracking simulation.",icon:"",to:"/ambulance"},{id:"lab",title:"Schedule Lab Test",description:"Book diagnostics with transparent billing details.",icon:"",to:"/lab-booking"},{id:"records",title:"View Medical Records",description:"Access reports and download available documents.",icon:"",to:"/medical-records"},{id:"opd",title:"Explore OPD Departments",description:"Browse specialty departments and care pathways.",icon:"",to:"/opd-departments"},{id:"chat-history",title:"Chat History",description:"Review your previous AI and reception conversations.",icon:"",to:"/chat-history"}];oi.slice(0,8).map(t=>({id:t.id,name:t.fullName,department:t.department,image:t.profileImage,nextSlot:t.availableTimeSlots[0]||"Fully booked",status:t.availabilityStatus==="Available"?"available":"booked"}));function Tve(t){return t==="high"?82:t==="medium"?58:22}function Ave(t){if(!t.length)return 0;const e={high:85,medium:60,low:30},n=t.reduce((r,i)=>r+(e[i.priority]||30),0);return Math.round(n/t.length)}function Mve(t){return[{day:"Mon",score:Math.min(100,t+8)},{day:"Tue",score:Math.min(100,t+6)},{day:"Wed",score:Math.min(100,t+4)},{day:"Thu",score:Math.min(100,t+3)},{day:"Fri",score:Math.min(100,t+1)},{day:"Sat",score:t}]}function Nve(t){const e=[];return t.latestBooking&&(e.push({id:"evt-lab-booking",type:"Scheduled Lab Test",title:`${t.latestBooking.tests.map(n=>n.name).join(", ")}`,date:new Date(t.latestBooking.slot).toLocaleString(),status:t.latestBooking.paymentStatus==="paid"?"scheduled":"pending",action:"View Booking",to:"/booking-confirmation"}),t.latestBooking.paymentStatus!=="paid"&&e.push({id:"evt-pending-payment",type:"Pending Payment",title:"Complete your test payment to confirm slot",date:"Action required now",status:"pending",action:"Pay Now",to:"/payment"})),t.reports.length&&e.push({id:"evt-report-ready",type:"Report Ready",title:t.reports[0].fileName,date:`Uploaded ${new Date(t.reports[0].uploadedAt).toLocaleString()}`,status:"ready",action:"Download Report",to:"/medical-records"}),e.length||e.push({id:"evt-empty",type:"No Upcoming Events",title:"No appointments, tests, or pending actions yet.",date:"Use quick actions to start",status:"confirmed",action:"Open AI Assistant",to:"/triage"}),e}function Ive(){var u;const{state:t}=Xt(),e=t.patient.selectedHospitalId||((u=t.selectedHospital)==null?void 0:u.id),n=Tve(t.patient.riskLevel),r=Ave(t.recommendedTests),i=!!(t.patientSymptoms.trim()&&t.recommendationSummary.trim()&&t.recommendedTests.length),a=U.useMemo(()=>({recentSymptoms:t.patientSymptoms,riskScore:r||n,recommendedDepartment:t.recommendedTests.some(c=>c.priority==="high")?"Cardiology OPD":"General Medicine OPD",pendingTests:t.recommendedTests.map(c=>c.name),trend:Mve(r||n)}),[r,n,t.patientSymptoms,t.recommendedTests]),s=U.useMemo(()=>Nve(t),[t]),l=U.useMemo(()=>t.doctors.filter(c=>c.hospitalId===e).slice(0,8).map(c=>({id:c.id,name:c.fullName,department:c.department,image:c.profileImage,nextSlot:c.availableTimeSlots[0]||"Fully booked",status:c.availabilityStatus==="Available"?"available":"booked"})),[e,t.doctors]);return h.jsxs("div",{className:"page-shell space-y-4 pb-24",children:[h.jsx(Q7,{patientName:t.patient.name}),h.jsx(tW,{patient:t.patient}),h.jsxs("section",{className:"grid gap-3 sm:grid-cols-2",children:[h.jsxs("article",{className:"card",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Total Appointments"}),h.jsx("p",{className:"mt-1 text-2xl font-bold text-med-700",children:t.appointments.length})]}),h.jsxs("article",{className:"card",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Total Medical Records"}),h.jsx("p",{className:"mt-1 text-2xl font-bold text-med-700",children:t.medicalRecords.length+t.reports.length})]})]}),h.jsx(nW,{actions:Eve}),h.jsx(iW,{doctors:l}),h.jsx(Pve,{events:s}),i?h.jsx(bve,{insight:a}):null,h.jsx(Sve,{})]})}function Cve({currentStep:t}){const e=[{id:1,label:"Select Department"},{id:2,label:"Select Doctor"},{id:3,label:"Appointment Details"}];return h.jsx("div",{className:"grid gap-2 sm:grid-cols-3",children:e.map(n=>{const r=n.id===t,i=n.id<t;return h.jsxs("div",{className:`rounded-xl border px-3 py-2 text-sm transition ${r?"border-med-500 bg-med-50 text-med-700":i?"border-emerald-300 bg-emerald-50 text-emerald-700":"border-slate-200 text-slate-500"}`,children:[h.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide",children:["Step ",n.id]}),h.jsx("p",{className:"font-semibold",children:n.label})]},n.id)})})}function S3({doctor:t,showSelectButton:e=!0,selected:n=!1,onSelect:r}){const i=t.gender==="Female"?"https://randomuser.me/api/portraits/women/44.jpg":"https://randomuser.me/api/portraits/men/44.jpg";return h.jsxs("article",{className:"rounded-2xl border border-slate-100 bg-white p-4 shadow-sm transition hover:shadow-card",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("img",{src:t.profileImage,alt:t.fullName,className:"h-16 w-16 rounded-xl object-cover",onError:a=>{a.currentTarget.onerror=null,a.currentTarget.src=i}}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-base font-semibold",children:t.fullName}),h.jsx("p",{className:"text-sm text-slate-600",children:t.specialization}),h.jsx("p",{className:"mt-1 text-xs text-slate-500",children:t.department})]}),h.jsx("span",{className:`rounded-full px-2.5 py-1 text-xs font-semibold ${t.availabilityStatus==="Available"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:t.availabilityStatus})]}),h.jsxs("div",{className:"mt-3 grid gap-1 text-xs text-slate-600 sm:grid-cols-2",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Experience:"})," ",t.experienceYears," years"]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Education:"})," ",t.educationShort]}),h.jsxs("p",{className:"sm:col-span-2",children:[h.jsx("span",{className:"font-semibold",children:"Languages:"})," ",t.languages.join(", ")]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Consultation Fee:"})," ",t.consultationFee]})]}),h.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[h.jsx(Qe,{className:"btn-secondary",to:`/doctor/${t.id}`,children:"View Profile"}),e?h.jsx("button",{type:"button",className:`btn-primary ${n?"ring-4 ring-med-100":""}`,onClick:()=>r==null?void 0:r(t),disabled:t.availabilityStatus!=="Available",children:n?"Selected Doctor":"Select Doctor"}):null]})]})}function Ove(){var W;const t=tr(),{state:e,addAppointment:n,loading:r}=Xt(),[i,a]=U.useState(1),[s,l]=U.useState(""),[u,c]=U.useState(null),[p,f]=U.useState(""),[y,v]=U.useState(""),[b,S]=U.useState(""),[x,P]=U.useState(null),[w,T]=U.useState(0),[I,N]=U.useState(!1),[M,A]=U.useState(null),O=e.patient.selectedHospitalId||((W=e.selectedHospital)==null?void 0:W.id),k=U.useMemo(()=>e.doctors.filter(Y=>Y.hospitalId===O),[O,e.doctors]),$=U.useMemo(()=>[...new Set(k.map(Y=>Y.department))],[k]),B=U.useMemo(()=>s?k.filter(Y=>Y.department===s):k,[s,k]),D=(u==null?void 0:u.availableTimeSlots)||[],F=async()=>{var z;if(!u||!p||!y||!b.trim())return;T(0);let Y=0;const G=setInterval(()=>{Y+=20,T(Math.min(Y,90))},120),Z=await n({doctor:u,department:s,date:p,time:y,reason:b,file:x,recordType:"Appointment Attachment"});clearInterval(G),T(100),Z&&(A({appointmentId:Z.id,department:Z.department,doctorName:Z.doctorName,date:Z.date,slot:Z.time,reason:Z.reason,attachment:((z=Z.uploadedMedicalFile)==null?void 0:z.fileName)||"No attachment"}),setTimeout(()=>t("/my-appointments"),900))};return h.jsxs("div",{className:"page-shell space-y-4",children:[h.jsxs("section",{className:"card space-y-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Appointments"}),h.jsx("h2",{className:"mt-1 text-xl font-semibold",children:"Book Appointment"}),h.jsxs("p",{className:"mt-1 text-sm text-slate-600",children:["Complete the booking in 3 quick steps for ",e.selectedHospital.name,"."]})]}),h.jsx(Cve,{currentStep:i}),i===1?h.jsxs("div",{children:[h.jsx("p",{className:"mb-3 text-sm font-semibold",children:"Step 1: Select Department"}),h.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:$.map(Y=>h.jsx("button",{type:"button",onClick:()=>l(Y),className:`rounded-xl border px-3 py-2 text-left text-sm transition ${s===Y?"border-med-500 bg-med-50 text-med-700":"border-slate-200 text-slate-700 hover:bg-slate-50"}`,children:Y},Y))}),h.jsx("div",{className:"mt-4 flex justify-end",children:h.jsx("button",{type:"button",className:"btn-primary",onClick:()=>a(2),disabled:!s,children:"Continue to Doctors"})})]}):null,i===2?h.jsxs("div",{children:[h.jsx("p",{className:"mb-3 text-sm font-semibold",children:"Step 2: Select Doctor"}),h.jsx("div",{className:"grid gap-3",children:B.map(Y=>h.jsx(S3,{doctor:Y,selected:(u==null?void 0:u.id)===Y.id,onSelect:c},Y.id))}),h.jsxs("div",{className:"mt-4 flex justify-between",children:[h.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>a(1),children:"Back"}),h.jsx("button",{type:"button",className:"btn-primary",onClick:()=>a(3),disabled:!u,children:"Continue to Details"})]})]}):null,i===3?h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm font-semibold",children:"Step 3: Appointment Details"}),h.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[h.jsxs("label",{className:"text-sm text-slate-700",children:["Appointment Date",h.jsx("input",{type:"date",className:"input mt-1",value:p,onChange:Y=>f(Y.target.value)})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-700",children:"Available Time Slots"}),h.jsx("div",{className:"mt-1 flex flex-wrap gap-2",children:D.map(Y=>h.jsx("button",{type:"button",className:`rounded-lg border px-3 py-1.5 text-xs transition ${y===Y?"border-med-500 bg-med-50 text-med-700":"border-slate-200 text-slate-700 hover:bg-slate-50"}`,onClick:()=>v(Y),children:Y},Y))})]}),h.jsxs("label",{className:"text-sm text-slate-700 sm:col-span-2",children:["Reason for Visit",h.jsx("textarea",{className:"input mt-1 min-h-[90px]",value:b,onChange:Y=>S(Y.target.value),placeholder:"Briefly describe your concern"})]}),h.jsxs("label",{className:"text-sm text-slate-700 sm:col-span-2",children:["Upload Medical Record (PDF/JPG/PNG)",h.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"input mt-1",onChange:Y=>{var G;return P(((G=Y.target.files)==null?void 0:G[0])||null)}})]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>a(2),children:"Back"}),h.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>N(Y=>!Y),disabled:!u||!p||!y||!b.trim(),children:I?"Hide Summary":"Review Summary"})]}),I?h.jsxs("article",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 text-sm",children:[h.jsx("p",{className:"font-semibold",children:"Confirmation Summary"}),h.jsxs("p",{className:"mt-2",children:[h.jsx("span",{className:"font-semibold",children:"Doctor:"})," ",u==null?void 0:u.fullName]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Department:"})," ",s]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Date:"})," ",p]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Time:"})," ",y]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Reason:"})," ",b]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"File:"})," ",(x==null?void 0:x.name)||"No file uploaded"]}),r.appointment?h.jsxs("div",{className:"mt-3",children:[h.jsx("div",{className:"h-2 rounded-full bg-slate-200",children:h.jsx("div",{className:"h-2 rounded-full bg-med-600 transition-all",style:{width:`${w}%`}})}),h.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Uploading medical file... ",w,"%"]})]}):null]}):null,h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{type:"button",className:"btn-primary",onClick:F,disabled:r.appointment||!I,children:r.appointment?"Confirming...":"Confirm Appointment"})})]}):null]}),M?h.jsxs("section",{className:"card border border-emerald-200 bg-emerald-50",children:[h.jsx("p",{className:"text-sm font-semibold text-emerald-700",children:" Appointment Confirmed Successfully"}),h.jsxs("div",{className:"mt-3 grid gap-2 text-sm sm:grid-cols-2",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Appointment ID:"})," ",M.appointmentId]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Doctor:"})," ",M.doctorName]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Department:"})," ",M.department]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Date & Slot:"})," ",M.date,"  ",M.slot]}),h.jsxs("p",{className:"sm:col-span-2",children:[h.jsx("span",{className:"font-semibold",children:"Reason:"})," ",M.reason]}),h.jsxs("p",{className:"sm:col-span-2",children:[h.jsx("span",{className:"font-semibold",children:"Attachment:"})," ",M.attachment]})]})]}):null]})}function jve(t){const e=new Date(t),n=new Date;return e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()&&e.getDate()===n.getDate()}function kve(t){if(t.status==="Cancelled")return"Cancelled";const e=new Date(t.date),n=new Date;return e<new Date(n.getFullYear(),n.getMonth(),n.getDate())?"Completed":"Upcoming"}function Dve(){const{state:t,cancelAppointment:e}=Xt(),{currentUser:n}=_r(),r=(n==null?void 0:n.role)==="doctor",i=U.useMemo(()=>{let a=[...t.appointments];return r&&n!=null&&n.doctorId&&(a=a.filter(s=>s.doctor_id===n.doctorId)),a.filter(s=>s.status!=="Cancelled").sort((s,l)=>new Date(l.createdAt).getTime()-new Date(s.createdAt).getTime())},[t.appointments,n,r]);return h.jsxs("div",{className:"page-shell space-y-4",children:[h.jsxs("section",{className:"card",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Appointments"}),h.jsx("h2",{className:"mt-1 text-xl font-semibold",children:"My Appointments"}),h.jsxs("p",{className:"mt-1 text-sm text-slate-600",children:["Total appointments: ",i.length]})]}),i.length?h.jsx("section",{className:"space-y-3",children:i.map(a=>{var u;const s=kve(a),l=jve(a.date);return h.jsxs("article",{className:"card",children:[h.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-semibold",children:a.id}),h.jsx("p",{className:"text-base font-semibold",children:r?a.patientName||`Patient ID: ${a.patient_id}`:a.doctorName}),h.jsx("p",{className:"text-sm text-slate-600",children:a.department})]}),h.jsxs("div",{className:"flex gap-2",children:[l?h.jsx("span",{className:"rounded-full bg-blue-100 px-2.5 py-1 text-xs font-semibold text-blue-700",children:"Today"}):null,h.jsx("span",{className:`rounded-full px-2.5 py-1 text-xs font-semibold ${s==="Upcoming"?"bg-emerald-100 text-emerald-700":s==="Completed"?"bg-slate-100 text-slate-700":"bg-red-100 text-red-700"}`,children:s})]})]}),h.jsxs("div",{className:"mt-3 grid gap-2 text-sm sm:grid-cols-2",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Date:"})," ",a.date]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Time:"})," ",a.time]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Consultation Fee:"})," ",a.consultationFee]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Reason:"})," ",a.reason]})]}),a.uploadedMedicalFile?h.jsxs("div",{className:"mt-3 rounded-xl border border-slate-100 bg-slate-50 p-3 text-sm",children:[h.jsx("p",{className:"font-semibold",children:"Uploaded Medical File"}),h.jsx("p",{className:"text-slate-600",children:a.uploadedMedicalFile.fileName}),(u=a.uploadedMedicalFile.mimeType)!=null&&u.startsWith("image/")&&a.uploadedMedicalFile.previewUrl?h.jsx("img",{src:a.uploadedMedicalFile.previewUrl,alt:a.uploadedMedicalFile.fileName,className:"mt-2 h-24 w-24 rounded-lg object-cover"}):h.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Preview available in Medical Records."})]}):null,s!=="Cancelled"?h.jsx("button",{className:"btn-secondary mt-3",type:"button",onClick:()=>e(a.id),children:"Cancel"}):null]},a.id)})}):h.jsx("section",{className:"card",children:h.jsx("p",{className:"text-sm text-slate-500",children:"No appointments booked yet."})})]})}function Rve(){var r;const{state:t}=Xt(),e=t.patient.selectedHospitalId||((r=t.selectedHospital)==null?void 0:r.id),n=[...new Set(t.doctors.filter(i=>i.hospitalId===e).map(i=>i.department))];return h.jsx("div",{className:"page-shell",children:h.jsxs("section",{className:"card",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"OPD Directory"}),h.jsx("h2",{className:"mt-1 text-xl font-semibold",children:"Explore OPD Departments"}),h.jsx("div",{className:"mt-4 grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:n.map(i=>h.jsx(Qe,{to:`/opd-departments/${B2(i)}`,className:"rounded-xl border border-slate-100 px-3 py-2 text-sm text-slate-700 transition hover:bg-slate-50",children:i},i))})]})})}function Lve(){var a;const{departmentSlug:t}=lk(),{state:e}=Xt(),n=_7(t),r=e.patient.selectedHospitalId||((a=e.selectedHospital)==null?void 0:a.id);if(!n)return h.jsx("div",{className:"page-shell",children:h.jsxs("section",{className:"card",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Department not found"}),h.jsx(Qe,{to:"/opd-departments",className:"btn-secondary mt-4",children:"Back to OPD Directory"})]})});const i=e.doctors.filter(s=>s.department===n&&s.hospitalId===r);return h.jsxs("div",{className:"page-shell space-y-4",children:[h.jsxs("section",{className:"card",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Department Doctors"}),h.jsx("h2",{className:"mt-1 text-xl font-semibold",children:n}),h.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Browse doctors and open full profiles."})]}),h.jsx("section",{className:"grid gap-3",children:i.map(s=>h.jsx(S3,{doctor:s,showSelectButton:!1},s.id))})]})}function $ve(){var a;const{id:t}=lk(),{state:e}=Xt(),n=e.patient.selectedHospitalId||((a=e.selectedHospital)==null?void 0:a.id),r=e.doctors.find(s=>s.id===t),i=(r==null?void 0:r.gender)==="Female"?"https://randomuser.me/api/portraits/women/44.jpg":"https://randomuser.me/api/portraits/men/44.jpg";return!r||n&&r.hospitalId!==n?h.jsx("div",{className:"page-shell",children:h.jsxs("section",{className:"card",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Doctor Profile Not Found"}),h.jsx(Qe,{to:"/appointments",className:"btn-secondary mt-4",children:"Back to Appointments"})]})}):h.jsxs("div",{className:"page-shell space-y-4",children:[h.jsx("section",{className:"card",children:h.jsxs("div",{className:"flex flex-wrap items-start gap-4",children:[h.jsx("img",{src:r.profileImage,alt:r.fullName,className:"h-36 w-36 rounded-2xl object-cover",onError:s=>{s.currentTarget.onerror=null,s.currentTarget.src=i}}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Doctor Profile"}),h.jsx("h2",{className:"text-2xl font-bold",children:r.fullName}),h.jsxs("p",{className:"text-sm text-slate-600",children:[r.department,"  ",r.specialization]}),h.jsxs("p",{className:"mt-1 text-sm text-slate-600",children:[r.experienceYears," years experience  ",r.consultationFee," consultation"]}),h.jsx("p",{className:"mt-2 text-sm text-slate-600",children:r.professionalBio}),h.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Hospital Affiliation: ",r.hospitalAffiliation]}),h.jsx(Qe,{to:"/appointments",className:"btn-primary mt-3",children:"Book Appointment"})]})]})}),h.jsxs("section",{className:"grid gap-4 lg:grid-cols-2",children:[h.jsxs("article",{className:"card",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Education History"}),h.jsx("ul",{className:"mt-3 space-y-2 text-sm",children:r.educationHistory.map(s=>h.jsxs("li",{className:"rounded-xl border border-slate-100 p-3",children:[h.jsx("p",{className:"font-semibold",children:s.degree}),h.jsx("p",{className:"text-slate-600",children:s.institution}),h.jsx("p",{className:"text-xs text-slate-500",children:s.year})]},`${s.degree}-${s.year}`))})]}),h.jsxs("article",{className:"card",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Work Experience Timeline"}),h.jsx("ul",{className:"mt-3 space-y-2 text-sm",children:r.workTimeline.map(s=>h.jsxs("li",{className:"rounded-xl border border-slate-100 p-3",children:[h.jsx("p",{className:"font-semibold",children:s.period}),h.jsx("p",{className:"text-slate-600",children:s.role})]},`${s.period}-${s.role}`))})]}),h.jsxs("article",{className:"card",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Certifications"}),h.jsx("ul",{className:"mt-3 list-disc space-y-1 pl-5 text-sm text-slate-700",children:r.certifications.map(s=>h.jsx("li",{children:s},s))})]}),h.jsxs("article",{className:"card",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Research & Publications"}),h.jsx("ul",{className:"mt-3 list-disc space-y-1 pl-5 text-sm text-slate-700",children:r.publications.map(s=>h.jsx("li",{children:s},s))})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Weekly Availability"}),h.jsxs("div",{className:"mt-3 rounded-xl border border-slate-100 bg-slate-50 p-3",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Available Time Slots"}),h.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:(r.availableTimeSlots.length?r.availableTimeSlots:["Fully booked"]).map(s=>h.jsx("span",{className:"rounded-full border border-slate-200 px-3 py-1 text-xs text-slate-700",children:s},s))})]}),h.jsx("div",{className:"mt-3 grid gap-2 sm:grid-cols-2 lg:grid-cols-4",children:Object.entries(r.weeklyAvailability).map(([s,l])=>h.jsxs("div",{className:"rounded-xl border border-slate-100 p-3 text-sm",children:[h.jsx("p",{className:"font-semibold",children:s}),h.jsx("p",{className:"text-slate-600",children:l})]},s))})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Patient Reviews"}),h.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:r.patientReviews.map(s=>h.jsxs("article",{className:"rounded-xl border border-slate-100 p-3",children:[h.jsx("p",{className:"text-sm font-semibold",children:s.reviewer}),h.jsx("p",{className:"text-xs text-amber-600",children:"".repeat(s.rating)}),h.jsx("p",{className:"mt-1 text-sm text-slate-600",children:s.comment})]},`${s.reviewer}-${s.comment}`))})]})]})}function Fve(t){return(t==null?void 0:t.toLowerCase())==="high"?"bg-red-100 text-red-700":(t==null?void 0:t.toLowerCase())==="medium"?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"}function Bve({appointments:t,patientMap:e,onViewDetails:n,onComplete:r,onCancel:i,ongoingId:a,nextId:s}){return t.length?h.jsx("div",{className:"space-y-3",children:t.map(l=>{var f;const u=e[l.patient_id],c=l.id===a,p=l.id===s;return h.jsxs("article",{className:`rounded-2xl border p-4 shadow-sm transition ${c?"border-med-500 bg-med-50":p?"border-blue-300 bg-blue-50":"border-slate-200 bg-white"}`,children:[h.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-semibold text-slate-900",children:l.time}),h.jsx("p",{className:"text-xs text-slate-500",children:c?"Current ongoing appointment":p?"Next appointment":"Scheduled"})]}),h.jsxs("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${Fve(l.riskLevel)}`,children:[l.riskLevel," Risk"]})]}),h.jsxs("div",{className:"mt-3 grid gap-2 text-sm sm:grid-cols-2",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Patient:"})," ",(u==null?void 0:u.fullName)||"Unknown"]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Age:"})," ",(u==null?void 0:u.age)||"-"," yrs"]}),h.jsxs("p",{className:"sm:col-span-2",children:[h.jsx("span",{className:"font-semibold",children:"Reason:"})," ",l.reason]})]}),h.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[((u==null?void 0:u.uploadedFiles)||[]).map(y=>h.jsx("a",{href:y.fileUrl,target:"_blank",rel:"noreferrer",className:"rounded-lg border border-slate-200 bg-slate-50 px-2 py-1 text-xs text-slate-700",children:y.name},y.name)),(f=u==null?void 0:u.uploadedFiles)!=null&&f.length?null:h.jsx("p",{className:"text-xs text-slate-500",children:"No uploaded files"})]}),h.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[h.jsx("button",{className:"btn-secondary",onClick:()=>n(l.patient_id),children:"View Full Details"}),h.jsx("button",{className:"btn-primary",onClick:()=>r(l.id),children:"Mark as Completed"}),h.jsx("button",{className:"btn-secondary",onClick:()=>i(l.id),children:"Cancel"})]})]},l.id)})}):h.jsx("p",{className:"text-sm text-slate-500",children:"No appointments for today."})}const E3="pc_doctor_dashboard_data",Vve="Doctor@123";oi.slice(0,6).map((t,e)=>({doctorId:t.id,email:`doctor${e+1}@prognosiscare.com`,password:Vve}));function Uve(){try{const t=localStorage.getItem(E3);return t?JSON.parse(t):null}catch{return null}}function T3(t){localStorage.setItem(E3,JSON.stringify(t))}function zve(){const t=new Date,e=t.toISOString().slice(0,10),n=new Date(t.getTime()+24*60*60*1e3).toISOString().slice(0,10);new Date(t.getTime()+2*24*60*60*1e3).toISOString().slice(0,10);const r="hosp-2-cardiology-1",i="hosp-2-pulmonology-1",a="hosp-1-general-medicine-1",s=oi.find(b=>b.id===r)||oi[0],l=oi.find(b=>b.id===i)||oi[1],u=oi.find(b=>b.id===a)||oi[2],c=[{id:"PT-3001",doctor_id:s.id,fullName:"Aarav Singh",age:38,gender:"Male",bloodGroup:"B+",phone:"+91 98111 22334",email:"aarav.singh@gmail.com",allergies:["Penicillin"],chronicConditions:["Hypertension"],aiSummary:"Elevated BP trends over 3 months. Lifestyle and medication adherence needed.",medicalHistory:["Hypertension (3 years)","Mild sleep apnea"],uploadedFiles:[{name:"bp-trend-report.pdf",mimeType:"application/pdf",fileUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"}]},{id:"PT-3002",doctor_id:s.id,fullName:"Meera Patil",age:29,gender:"Female",bloodGroup:"O+",phone:"+91 98999 22110",email:"meera.patil@gmail.com",allergies:["None"],chronicConditions:["Hypothyroidism"],aiSummary:"Symptoms suggest thyroid dosage re-evaluation and vitamin profile check.",medicalHistory:["Hypothyroidism"],uploadedFiles:[{name:"thyroid-panel.png",mimeType:"image/png",fileUrl:"https://images.unsplash.com/photo-1581595219315-a187dd40c322?auto=format&fit=crop&w=800&q=80"}]},{id:"PT-3003",doctor_id:l.id,fullName:"Rohan Nair",age:47,gender:"Male",bloodGroup:"A+",phone:"+91 90000 44556",email:"rohan.nair@gmail.com",allergies:["None"],chronicConditions:["Asthma"],aiSummary:"Recurring asthma episodes. Bronchoscopy recommended.",medicalHistory:["Asthma (5 years)"],uploadedFiles:[]},{id:"PT-3004",doctor_id:u.id,fullName:"Suresh Kumar",age:55,gender:"Male",bloodGroup:"AB+",phone:"+91 90000 77889",email:"suresh.kumar@gmail.com",allergies:["Dust"],chronicConditions:["Diabetes"],aiSummary:"Blood sugar levels fluctuating. Diet review needed.",medicalHistory:["Diabetes Type 2"],uploadedFiles:[]}],p=[{id:"DAPT-9001",doctor_id:s.id,patient_id:"PT-3001",date:e,time:"09:30 AM",reason:"High blood pressure follow-up",riskLevel:"High",department:s.department,status:"Upcoming",consultationFee:s.consultationFee,patientName:"Aarav Singh",createdAt:new Date().toISOString()},{id:"DAPT-9002",doctor_id:s.id,patient_id:"PT-3002",date:e,time:"11:15 AM",reason:"Fatigue and thyroid review",riskLevel:"Medium",department:s.department,status:"Upcoming",consultationFee:s.consultationFee,patientName:"Meera Patil",createdAt:new Date().toISOString()},{id:"DAPT-9003",doctor_id:s.id,patient_id:"PT-3002",date:n,time:"02:00 PM",reason:"Medication adjustment review",riskLevel:"Low",department:s.department,status:"Upcoming",consultationFee:s.consultationFee,patientName:"Meera Patil",createdAt:new Date().toISOString()},{id:"DAPT-9004",doctor_id:l.id,patient_id:"PT-3003",date:e,time:"10:45 AM",reason:"Breathing difficulty",riskLevel:"Medium",department:l.department,status:"Upcoming",consultationFee:l.consultationFee,patientName:"Rohan Nair",createdAt:new Date().toISOString()},{id:"DAPT-9005",doctor_id:u.id,patient_id:"PT-3004",date:e,time:"04:00 PM",reason:"General checkup",riskLevel:"Low",department:u.department,status:"Upcoming",consultationFee:u.consultationFee,patientName:"Suresh Kumar",createdAt:new Date().toISOString()}],f=[{id:"DLAB-7001",doctor_id:s.id,patient_id:"PT-3001",testType:"CBC + Lipid Profile",uploadedDate:e,fileName:"lab-report-cbc.pdf",fileUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",status:"Pending",remarks:""},{id:"DLAB-7002",doctor_id:s.id,patient_id:"PT-3002",testType:"TSH & T3/T4 Panel",uploadedDate:n,fileName:"thyroid-lab-report.pdf",fileUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",status:"Pending",remarks:""},{id:"DLAB-7003",doctor_id:l.id,patient_id:"PT-3003",testType:"Spirometry Report",uploadedDate:e,fileName:"spirometry.pdf",fileUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",status:"Pending",remarks:""},{id:"DLAB-7004",doctor_id:u.id,patient_id:"PT-3004",testType:"HbA1c Report",uploadedDate:e,fileName:"hba1c-report.pdf",fileUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",status:"Pending",remarks:""}];return{patients:c,appointments:p,reports:f,prescriptions:[],doctorProfiles:{}}}function Uf(){const t=Uve();if(t)return t;const e=zve();return T3(e),e}function ES(t){const n={...Uf(),...t};return T3(n),n}function Hve(t){const e=Uf();return{patients:e.patients.filter(n=>n.doctor_id===t),appointments:e.appointments.filter(n=>n.doctor_id===t),reports:e.reports.filter(n=>n.doctor_id===t),prescriptions:e.prescriptions.filter(n=>n.doctor_id===t),doctorProfiles:e.doctorProfiles}}function Wve(t,e){const n=Uf(),r={...n.doctorProfiles,[t]:{...n.doctorProfiles[t]||{},...e}};return ES({doctorProfiles:r}),r[t]}function LC(t,e){const r=Uf().appointments.map(i=>i.id===t?{...i,...e}:i);ES({appointments:r})}function $C(t,e){const r=Uf().reports.map(i=>i.id===t?{...i,...e}:i);ES({reports:r})}function so(t){const e=t.match(/(\d{1,2}):(\d{2})\s?(AM|PM)/i);if(!e)return 0;let n=Number(e[1]);const r=Number(e[2]),i=e[3].toUpperCase();return i==="PM"&&n<12&&(n+=12),i==="AM"&&n===12&&(n=0),n*60+r}function Gve(t){return t==="Completed"?"bg-emerald-100 text-emerald-700":t==="Cancelled"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}function Kve(){const{currentUser:t,logout:e}=_r(),{state:n,updateDoctor:r,updateAppointmentStatus:i,cancelAppointment:a,pushNotification:s}=Xt(),l=tr(),[u,c]=U.useState(!0),[p,f]=U.useState(""),y=n.doctors.find(H=>H.id===(t==null?void 0:t.doctorId)),v=U.useMemo(()=>Hve(t==null?void 0:t.doctorId),[t==null?void 0:t.doctorId]),b=U.useMemo(()=>[...n.appointments.filter(ee=>ee.doctorId===(t==null?void 0:t.doctorId)||ee.doctor_id===(t==null?void 0:t.doctorId)),...v.appointments].filter((ee,re,ce)=>ce.findIndex(xe=>xe.id===ee.id)===re),[n.appointments,t==null?void 0:t.doctorId,v.appointments]),S=U.useMemo(()=>Object.fromEntries(v.patients.map(ee=>[ee.id,ee])),[v.patients]),x=new Date().toISOString().slice(0,10),P=b.filter(H=>H.date===x).sort((H,ee)=>so(H.time)-so(ee.time)),w=b.filter(H=>H.date>x||H.date===x&&so(H.time)>=so(new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}))).sort((H,ee)=>`${H.date} ${H.time}`.localeCompare(`${ee.date} ${ee.time}`)),T=so(new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})),I=P.find(H=>Math.abs(so(H.time)-T)<=30),N=P.find(H=>so(H.time)>T),M=v.reports.filter(H=>H.status==="Pending"),A=b.filter(H=>H.status==="Completed").length,O=(y==null?void 0:y.consultationFee)||0,k=P.filter(H=>H.status==="Completed").length*O,$=b.filter(H=>H.status==="Completed").length*O,B=U.useMemo(()=>{var H;return{fee:(y==null?void 0:y.consultationFee)||0,languages:((y==null?void 0:y.languages)||[]).join(", "),bio:(y==null?void 0:y.professionalBio)||"",photo:(y==null?void 0:y.profileImage)||"",availability:((H=y==null?void 0:y.weeklyAvailability)==null?void 0:H.Monday)||"9:00 AM - 5:00 PM"}},[y]),[D,F]=U.useState(B),W=H=>{f(H),s(H),setTimeout(()=>f(""),2500)},Y=H=>{LC(H,{status:"Completed"}),n.appointments.find(re=>re.id===H)&&i(H,"Completed"),W("Appointment marked as completed.")},G=H=>{LC(H,{status:"Cancelled"}),n.appointments.find(re=>re.id===H)&&a(H),W("Appointment cancelled.")},Z=()=>{const H={consultationFee:Number(D.fee),languages:D.languages.split(",").map(ee=>ee.trim()).filter(Boolean),professionalBio:D.bio,profileImage:D.photo,weeklyAvailability:{...(y==null?void 0:y.weeklyAvailability)||{},Monday:D.availability}};r(y.id,H),Wve(y.id,H),W("Doctor profile updated successfully.")},z=H=>{$C(H,{status:"Approved"}),W("Report approved.")},q=H=>{const ee=window.prompt("Add diagnosis remarks:","");ee&&($C(H,{remarks:ee}),W("Remarks added."))};return y?h.jsxs("div",{className:"page-shell space-y-4",children:[p?h.jsx("p",{className:"rounded-xl bg-emerald-50 p-3 text-sm text-emerald-700",children:p}):null,h.jsx("section",{className:"card",children:h.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("img",{src:y.profileImage,alt:y.fullName,className:"h-16 w-16 rounded-full object-cover"}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold",children:y.fullName}),h.jsx("p",{className:"text-sm text-slate-600",children:y.specialization}),h.jsxs("p",{className:"text-xs text-slate-500",children:[y.hospitalAffiliation,"  ",y.experienceYears," years experience"]})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{className:`rounded-xl px-3 py-2 text-sm font-semibold ${u?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-700"}`,onClick:()=>c(H=>!H),children:u?"Online":"Offline"}),h.jsx("button",{className:"btn-secondary",onClick:e,children:"Logout"})]})]})}),h.jsxs("section",{className:"grid gap-4 lg:grid-cols-[2fr,1fr]",children:[h.jsxs("article",{className:"card",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Today's Appointments"}),h.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Timeline view of your schedule."}),h.jsx("div",{className:"mt-4",children:h.jsx(Bve,{appointments:P,patientMap:S,ongoingId:I==null?void 0:I.id,nextId:N==null?void 0:N.id,onViewDetails:H=>l(`/doctor/patient/${H}`),onComplete:Y,onCancel:G})})]}),h.jsxs("article",{className:"card space-y-3",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Earnings Summary"}),h.jsxs("p",{className:"text-sm text-slate-600",children:["Today's earnings: ",k]}),h.jsxs("p",{className:"text-sm text-slate-600",children:["Monthly earnings: ",$]}),h.jsxs("p",{className:"text-sm text-slate-600",children:["Total consultations: ",A]}),h.jsxs("p",{className:"text-sm text-slate-600",children:["Consultation fee: ",O]})]})]}),h.jsxs("section",{className:"grid gap-4 lg:grid-cols-[2fr,1fr]",children:[h.jsxs("article",{className:"card",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Upcoming Schedule"}),h.jsxs("div",{className:"mt-3 space-y-2",children:[w.map(H=>{var ee;return h.jsxs("article",{className:"rounded-xl border border-slate-200 p-3",children:[h.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm font-semibold",children:[H.date,"  ",H.time]}),h.jsxs("p",{className:"text-sm text-slate-600",children:[(ee=S[H.patient_id])==null?void 0:ee.fullName,"  ",H.department]})]}),h.jsx("span",{className:`rounded-full px-2 py-1 text-xs font-semibold ${Gve(H.status)}`,children:H.status})]}),h.jsx("button",{className:"btn-secondary mt-2",onClick:()=>l(`/doctor/patient/${H.patient_id}`),children:"Quick View"})]},H.id)}),w.length?null:h.jsx("p",{className:"text-sm text-slate-500",children:"No upcoming schedule."})]})]}),h.jsxs("article",{className:"card",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Calendar"}),h.jsxs("div",{className:"mt-3 space-y-2 text-sm text-slate-600",children:[[...new Set(w.map(H=>H.date))].slice(0,6).map(H=>h.jsx("p",{className:"rounded-lg bg-slate-100 px-3 py-2",children:H},H)),w.length?null:h.jsx("p",{children:"No upcoming dates."})]})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Pending Lab Reports"}),h.jsxs("div",{className:"mt-3 space-y-2",children:[M.map(H=>{var ee;return h.jsx("article",{className:"rounded-xl border border-slate-200 p-3",children:h.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold",children:(ee=S[H.patient_id])==null?void 0:ee.fullName}),h.jsxs("p",{className:"text-sm text-slate-600",children:[H.testType,"  Uploaded ",H.uploadedDate]})]}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx("a",{href:H.fileUrl,target:"_blank",rel:"noreferrer",className:"btn-secondary",children:"Download"}),h.jsx("button",{className:"btn-secondary",onClick:()=>q(H.id),children:"Add Remarks"}),h.jsx("button",{className:"btn-primary",onClick:()=>z(H.id),children:"Approve"})]})]})},H.id)}),M.length?null:h.jsx("p",{className:"text-sm text-slate-500",children:"No pending lab reports."})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Profile Management"}),h.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:[h.jsx("input",{className:"input",placeholder:"Availability schedule",value:D.availability,onChange:H=>F(ee=>({...ee,availability:H.target.value}))}),h.jsx("input",{className:"input",type:"number",placeholder:"Consultation fee",value:D.fee,onChange:H=>F(ee=>({...ee,fee:H.target.value}))}),h.jsx("input",{className:"input",placeholder:"Languages",value:D.languages,onChange:H=>F(ee=>({...ee,languages:H.target.value}))}),h.jsx("input",{className:"input",placeholder:"Profile photo URL",value:D.photo,onChange:H=>F(ee=>({...ee,photo:H.target.value}))}),h.jsx("textarea",{className:"input sm:col-span-2",rows:3,placeholder:"Short bio",value:D.bio,onChange:H=>F(ee=>({...ee,bio:H.target.value}))})]}),h.jsx("button",{className:"btn-primary mt-3",onClick:Z,children:"Save Profile"})]})]}):h.jsx("div",{className:"page-shell",children:h.jsx("section",{className:"card text-sm text-slate-600",children:"Doctor profile not found. Please contact administrator."})})}function A3(t,e){const n=U.useRef(e);U.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}function qve(t,e,n){e.center!==n.center&&t.setLatLng(e.center),e.radius!=null&&e.radius!==n.radius&&t.setRadius(e.radius)}const Zve=1;function Yve(t){return Object.freeze({__version:Zve,map:t})}function TS(t,e){return Object.freeze({...t,...e})}const M3=U.createContext(null),N3=M3.Provider;function Jv(){const t=U.useContext(M3);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function I3(t){function e(n,r){const{instance:i,context:a}=t(n).current;return U.useImperativeHandle(r,()=>i),n.children==null?null:X.createElement(N3,{value:a},n.children)}return U.forwardRef(e)}function Xve(t){function e(n,r){const[i,a]=U.useState(!1),{instance:s}=t(n,a).current;U.useImperativeHandle(r,()=>s),U.useEffect(function(){i&&s.update()},[s,i,n.children]);const l=s._contentNode;return l?tk.createPortal(n.children,l):null}return U.forwardRef(e)}function Qve(t){function e(n,r){const{instance:i}=t(n).current;return U.useImperativeHandle(r,()=>i),null}return U.forwardRef(e)}function AS(t,e){const n=U.useRef();U.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function e_(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function Jve(t,e){return function(r,i){const a=Jv(),s=t(e_(r,a),a);return A3(a.map,r.attribution),AS(s.current,r.eventHandlers),e(s.current,a,r,i),s}}var Ew={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(Pd,function(n){var r="1.9.4";function i(o){var d,g,_,C;for(g=1,_=arguments.length;g<_;g++){C=arguments[g];for(d in C)o[d]=C[d]}return o}var a=Object.create||function(){function o(){}return function(d){return o.prototype=d,new o}}();function s(o,d){var g=Array.prototype.slice;if(o.bind)return o.bind.apply(o,g.call(arguments,1));var _=g.call(arguments,2);return function(){return o.apply(d,_.length?_.concat(g.call(arguments)):arguments)}}var l=0;function u(o){return"_leaflet_id"in o||(o._leaflet_id=++l),o._leaflet_id}function c(o,d,g){var _,C,R,K;return K=function(){_=!1,C&&(R.apply(g,C),C=!1)},R=function(){_?C=arguments:(o.apply(g,arguments),setTimeout(K,d),_=!0)},R}function p(o,d,g){var _=d[1],C=d[0],R=_-C;return o===_&&g?o:((o-C)%R+R)%R+C}function f(){return!1}function y(o,d){if(d===!1)return o;var g=Math.pow(10,d===void 0?6:d);return Math.round(o*g)/g}function v(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function b(o){return v(o).split(/\s+/)}function S(o,d){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?a(o.options):{});for(var g in d)o.options[g]=d[g];return o.options}function x(o,d,g){var _=[];for(var C in o)_.push(encodeURIComponent(g?C.toUpperCase():C)+"="+encodeURIComponent(o[C]));return(!d||d.indexOf("?")===-1?"?":"&")+_.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function w(o,d){return o.replace(P,function(g,_){var C=d[_];if(C===void 0)throw new Error("No value provided for variable "+g);return typeof C=="function"&&(C=C(d)),C})}var T=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function I(o,d){for(var g=0;g<o.length;g++)if(o[g]===d)return g;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function M(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var A=0;function O(o){var d=+new Date,g=Math.max(0,16-(d-A));return A=d+g,window.setTimeout(o,g)}var k=window.requestAnimationFrame||M("RequestAnimationFrame")||O,$=window.cancelAnimationFrame||M("CancelAnimationFrame")||M("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function B(o,d,g){if(g&&k===O)o.call(d);else return k.call(window,s(o,d))}function D(o){o&&$.call(window,o)}var F={__proto__:null,extend:i,create:a,bind:s,get lastId(){return l},stamp:u,throttle:c,wrapNum:p,falseFn:f,formatNum:y,trim:v,splitWords:b,setOptions:S,getParamString:x,template:w,isArray:T,indexOf:I,emptyImageUrl:N,requestFn:k,cancelFn:$,requestAnimFrame:B,cancelAnimFrame:D};function W(){}W.extend=function(o){var d=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=d.__super__=this.prototype,_=a(g);_.constructor=d,d.prototype=_;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(d[C]=this[C]);return o.statics&&i(d,o.statics),o.includes&&(Y(o.includes),i.apply(null,[_].concat(o.includes))),i(_,o),delete _.statics,delete _.includes,_.options&&(_.options=g.options?a(g.options):{},i(_.options,o.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,K=_._initHooks.length;R<K;R++)_._initHooks[R].call(this)}},d},W.include=function(o){var d=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=d,this.mergeOptions(o.options)),this},W.mergeOptions=function(o){return i(this.prototype.options,o),this},W.addInitHook=function(o){var d=Array.prototype.slice.call(arguments,1),g=typeof o=="function"?o:function(){this[o].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function Y(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=T(o)?o:[o];for(var d=0;d<o.length;d++)o[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(o,d,g){if(typeof o=="object")for(var _ in o)this._on(_,o[_],d);else{o=b(o);for(var C=0,R=o.length;C<R;C++)this._on(o[C],d,g)}return this},off:function(o,d,g){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var _ in o)this._off(_,o[_],d);else{o=b(o);for(var C=arguments.length===1,R=0,K=o.length;R<K;R++)C?this._off(o[R]):this._off(o[R],d,g)}return this},_on:function(o,d,g,_){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(o,d,g)===!1){g===this&&(g=void 0);var C={fn:d,ctx:g};_&&(C.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(C)}},_off:function(o,d,g){var _,C,R;if(this._events&&(_=this._events[o],!!_)){if(arguments.length===1){if(this._firingCount)for(C=0,R=_.length;C<R;C++)_[C].fn=f;delete this._events[o];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var K=this._listens(o,d,g);if(K!==!1){var J=_[K];this._firingCount&&(J.fn=f,this._events[o]=_=_.slice()),_.splice(K,1)}}},fire:function(o,d,g){if(!this.listens(o,g))return this;var _=i({},d,{type:o,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var C=this._events[o];if(C){this._firingCount=this._firingCount+1||1;for(var R=0,K=C.length;R<K;R++){var J=C[R],te=J.fn;J.once&&this.off(o,te,J.ctx),te.call(J.ctx||this,_)}this._firingCount--}}return g&&this._propagateEvent(_),this},listens:function(o,d,g,_){typeof o!="string"&&console.warn('"string" type argument expected');var C=d;typeof d!="function"&&(_=!!d,C=void 0,g=void 0);var R=this._events&&this._events[o];if(R&&R.length&&this._listens(o,C,g)!==!1)return!0;if(_){for(var K in this._eventParents)if(this._eventParents[K].listens(o,d,g,_))return!0}return!1},_listens:function(o,d,g){if(!this._events)return!1;var _=this._events[o]||[];if(!d)return!!_.length;g===this&&(g=void 0);for(var C=0,R=_.length;C<R;C++)if(_[C].fn===d&&_[C].ctx===g)return C;return!1},once:function(o,d,g){if(typeof o=="object")for(var _ in o)this._on(_,o[_],d,!0);else{o=b(o);for(var C=0,R=o.length;C<R;C++)this._on(o[C],d,g,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[u(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[u(o)],this},_propagateEvent:function(o){for(var d in this._eventParents)this._eventParents[d].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var Z=W.extend(G);function z(o,d,g){this.x=g?Math.round(o):o,this.y=g?Math.round(d):d}var q=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};z.prototype={clone:function(){return new z(this.x,this.y)},add:function(o){return this.clone()._add(H(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(H(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new z(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new z(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=q(this.x),this.y=q(this.y),this},distanceTo:function(o){o=H(o);var d=o.x-this.x,g=o.y-this.y;return Math.sqrt(d*d+g*g)},equals:function(o){return o=H(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=H(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function H(o,d,g){return o instanceof z?o:T(o)?new z(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new z(o.x,o.y):new z(o,d,g)}function ee(o,d){if(o)for(var g=d?[o,d]:o,_=0,C=g.length;_<C;_++)this.extend(g[_])}ee.prototype={extend:function(o){var d,g;if(!o)return this;if(o instanceof z||typeof o[0]=="number"||"x"in o)d=g=H(o);else if(o=re(o),d=o.min,g=o.max,!d||!g)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=g.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(o){return H((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return H(this.min.x,this.max.y)},getTopRight:function(){return H(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var d,g;return typeof o[0]=="number"||o instanceof z?o=H(o):o=re(o),o instanceof ee?(d=o.min,g=o.max):d=g=o,d.x>=this.min.x&&g.x<=this.max.x&&d.y>=this.min.y&&g.y<=this.max.y},intersects:function(o){o=re(o);var d=this.min,g=this.max,_=o.min,C=o.max,R=C.x>=d.x&&_.x<=g.x,K=C.y>=d.y&&_.y<=g.y;return R&&K},overlaps:function(o){o=re(o);var d=this.min,g=this.max,_=o.min,C=o.max,R=C.x>d.x&&_.x<g.x,K=C.y>d.y&&_.y<g.y;return R&&K},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var d=this.min,g=this.max,_=Math.abs(d.x-g.x)*o,C=Math.abs(d.y-g.y)*o;return re(H(d.x-_,d.y-C),H(g.x+_,g.y+C))},equals:function(o){return o?(o=re(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function re(o,d){return!o||o instanceof ee?o:new ee(o,d)}function ce(o,d){if(o)for(var g=d?[o,d]:o,_=0,C=g.length;_<C;_++)this.extend(g[_])}ce.prototype={extend:function(o){var d=this._southWest,g=this._northEast,_,C;if(o instanceof _e)_=o,C=o;else if(o instanceof ce){if(_=o._southWest,C=o._northEast,!_||!C)return this}else return o?this.extend(ge(o)||xe(o)):this;return!d&&!g?(this._southWest=new _e(_.lat,_.lng),this._northEast=new _e(C.lat,C.lng)):(d.lat=Math.min(_.lat,d.lat),d.lng=Math.min(_.lng,d.lng),g.lat=Math.max(C.lat,g.lat),g.lng=Math.max(C.lng,g.lng)),this},pad:function(o){var d=this._southWest,g=this._northEast,_=Math.abs(d.lat-g.lat)*o,C=Math.abs(d.lng-g.lng)*o;return new ce(new _e(d.lat-_,d.lng-C),new _e(g.lat+_,g.lng+C))},getCenter:function(){return new _e((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new _e(this.getNorth(),this.getWest())},getSouthEast:function(){return new _e(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof _e||"lat"in o?o=ge(o):o=xe(o);var d=this._southWest,g=this._northEast,_,C;return o instanceof ce?(_=o.getSouthWest(),C=o.getNorthEast()):_=C=o,_.lat>=d.lat&&C.lat<=g.lat&&_.lng>=d.lng&&C.lng<=g.lng},intersects:function(o){o=xe(o);var d=this._southWest,g=this._northEast,_=o.getSouthWest(),C=o.getNorthEast(),R=C.lat>=d.lat&&_.lat<=g.lat,K=C.lng>=d.lng&&_.lng<=g.lng;return R&&K},overlaps:function(o){o=xe(o);var d=this._southWest,g=this._northEast,_=o.getSouthWest(),C=o.getNorthEast(),R=C.lat>d.lat&&_.lat<g.lat,K=C.lng>d.lng&&_.lng<g.lng;return R&&K},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,d){return o?(o=xe(o),this._southWest.equals(o.getSouthWest(),d)&&this._northEast.equals(o.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function xe(o,d){return o instanceof ce?o:new ce(o,d)}function _e(o,d,g){if(isNaN(o)||isNaN(d))throw new Error("Invalid LatLng object: ("+o+", "+d+")");this.lat=+o,this.lng=+d,g!==void 0&&(this.alt=+g)}_e.prototype={equals:function(o,d){if(!o)return!1;o=ge(o);var g=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return g<=(d===void 0?1e-9:d)},toString:function(o){return"LatLng("+y(this.lat,o)+", "+y(this.lng,o)+")"},distanceTo:function(o){return mt.distance(this,ge(o))},wrap:function(){return mt.wrapLatLng(this)},toBounds:function(o){var d=180*o/40075017,g=d/Math.cos(Math.PI/180*this.lat);return xe([this.lat-d,this.lng-g],[this.lat+d,this.lng+g])},clone:function(){return new _e(this.lat,this.lng,this.alt)}};function ge(o,d,g){return o instanceof _e?o:T(o)&&typeof o[0]!="object"?o.length===3?new _e(o[0],o[1],o[2]):o.length===2?new _e(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new _e(o.lat,"lng"in o?o.lng:o.lon,o.alt):d===void 0?null:new _e(o,d,g)}var Je={latLngToPoint:function(o,d){var g=this.projection.project(o),_=this.scale(d);return this.transformation._transform(g,_)},pointToLatLng:function(o,d){var g=this.scale(d),_=this.transformation.untransform(o,g);return this.projection.unproject(_)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var d=this.projection.bounds,g=this.scale(o),_=this.transformation.transform(d.min,g),C=this.transformation.transform(d.max,g);return new ee(_,C)},infinite:!1,wrapLatLng:function(o){var d=this.wrapLng?p(o.lng,this.wrapLng,!0):o.lng,g=this.wrapLat?p(o.lat,this.wrapLat,!0):o.lat,_=o.alt;return new _e(g,d,_)},wrapLatLngBounds:function(o){var d=o.getCenter(),g=this.wrapLatLng(d),_=d.lat-g.lat,C=d.lng-g.lng;if(_===0&&C===0)return o;var R=o.getSouthWest(),K=o.getNorthEast(),J=new _e(R.lat-_,R.lng-C),te=new _e(K.lat-_,K.lng-C);return new ce(J,te)}},mt=i({},Je,{wrapLng:[-180,180],R:6371e3,distance:function(o,d){var g=Math.PI/180,_=o.lat*g,C=d.lat*g,R=Math.sin((d.lat-o.lat)*g/2),K=Math.sin((d.lng-o.lng)*g/2),J=R*R+Math.cos(_)*Math.cos(C)*K*K,te=2*Math.atan2(Math.sqrt(J),Math.sqrt(1-J));return this.R*te}}),he=6378137,Se={R:he,MAX_LATITUDE:85.0511287798,project:function(o){var d=Math.PI/180,g=this.MAX_LATITUDE,_=Math.max(Math.min(g,o.lat),-g),C=Math.sin(_*d);return new z(this.R*o.lng*d,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(o){var d=180/Math.PI;return new _e((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*d,o.x*d/this.R)},bounds:function(){var o=he*Math.PI;return new ee([-o,-o],[o,o])}()};function Ie(o,d,g,_){if(T(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=d,this._c=g,this._d=_}Ie.prototype={transform:function(o,d){return this._transform(o.clone(),d)},_transform:function(o,d){return d=d||1,o.x=d*(this._a*o.x+this._b),o.y=d*(this._c*o.y+this._d),o},untransform:function(o,d){return d=d||1,new z((o.x/d-this._b)/this._a,(o.y/d-this._d)/this._c)}};function se(o,d,g,_){return new Ie(o,d,g,_)}var et=i({},mt,{code:"EPSG:3857",projection:Se,transformation:function(){var o=.5/(Math.PI*Se.R);return se(o,.5,-o,.5)}()}),De=i({},et,{code:"EPSG:900913"});function ht(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function gt(o,d){var g="",_,C,R,K,J,te;for(_=0,R=o.length;_<R;_++){for(J=o[_],C=0,K=J.length;C<K;C++)te=J[C],g+=(C?"L":"M")+te.x+" "+te.y;g+=d?we.svg?"z":"x":""}return g||"M0 0"}var Vt=document.documentElement.style,Rn="ActiveXObject"in window,Gr=Rn&&!document.addEventListener,Kr="msLaunchUri"in navigator&&!("documentMode"in document),Hn=br("webkit"),xr=br("android"),_i=br("android 2")||br("android 3"),La=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ws=xr&&br("Google")&&La<537&&!("AudioNode"in window),Ut=!!window.opera,ln=!Kr&&br("chrome"),Gs=br("gecko")&&!Hn&&!Ut&&!Rn,Hf=!ln&&br("safari"),Tc=br("phantom"),Wf="OTransition"in Vt,Ks=navigator.platform.indexOf("Win")===0,Ac=Rn&&"transition"in Vt,nl="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!_i,rl="MozPerspective"in Vt,n_=!window.L_DISABLE_3D&&(Ac||nl||rl)&&!Wf&&!Tc,qs=typeof orientation<"u"||br("mobile"),Mc=qs&&Hn,Gf=qs&&nl,Nc=!window.PointerEvent&&window.MSPointerEvent,$a=!!(window.PointerEvent||Nc),il="ontouchstart"in window||!!window.TouchEvent,Ic=!window.L_NO_TOUCH&&(il||$a),Hi=qs&&Ut,Kf=qs&&Gs,al=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,qf=function(){var o=!1;try{var d=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",f,d),window.removeEventListener("testPassiveEventSupport",f,d)}catch{}return o}(),Zs=function(){return!!document.createElement("canvas").getContext}(),sl=!!(document.createElementNS&&ht("svg").createSVGRect),gn=!!sl&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Zf=!sl&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var d=o.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}}(),Ys=navigator.platform.indexOf("Mac")===0,Xs=navigator.platform.indexOf("Linux")===0;function br(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var we={ie:Rn,ielt9:Gr,edge:Kr,webkit:Hn,android:xr,android23:_i,androidStock:Ws,opera:Ut,chrome:ln,gecko:Gs,safari:Hf,phantom:Tc,opera12:Wf,win:Ks,ie3d:Ac,webkit3d:nl,gecko3d:rl,any3d:n_,mobile:qs,mobileWebkit:Mc,mobileWebkit3d:Gf,msPointer:Nc,pointer:$a,touch:Ic,touchNative:il,mobileOpera:Hi,mobileGecko:Kf,retina:al,passiveEvents:qf,canvas:Zs,svg:sl,vml:Zf,inlineSvg:gn,mac:Ys,linux:Xs},Wi=we.msPointer?"MSPointerDown":"pointerdown",Yf=we.msPointer?"MSPointerMove":"pointermove",Xf=we.msPointer?"MSPointerUp":"pointerup",Qs=we.msPointer?"MSPointerCancel":"pointercancel",ol={touchstart:Wi,touchmove:Yf,touchend:Xf,touchcancel:Qs},ll={touchstart:cl,touchmove:ul,touchend:ul,touchcancel:ul},qr={},Zr=!1;function Qf(o,d,g){return d==="touchstart"&&ep(),ll[d]?(g=ll[d].bind(this,g),o.addEventListener(ol[d],g,!1),g):(console.warn("wrong event specified:",d),f)}function Jf(o,d,g){if(!ol[d]){console.warn("wrong event specified:",d);return}o.removeEventListener(ol[d],g,!1)}function Cc(o){qr[o.pointerId]=o}function Oc(o){qr[o.pointerId]&&(qr[o.pointerId]=o)}function jc(o){delete qr[o.pointerId]}function ep(){Zr||(document.addEventListener(Wi,Cc,!0),document.addEventListener(Yf,Oc,!0),document.addEventListener(Xf,jc,!0),document.addEventListener(Qs,jc,!0),Zr=!0)}function ul(o,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var g in qr)d.touches.push(qr[g]);d.changedTouches=[d],o(d)}}function cl(o,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&At(d),ul(o,d)}function tp(o){var d={},g,_;for(_ in o)g=o[_],d[_]=g&&g.bind?g.bind(o):g;return o=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var kc=200;function Js(o,d){o.addEventListener("dblclick",d);var g=0,_;function C(R){if(R.detail!==1){_=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var K=Gc(R);if(!(K.some(function(te){return te instanceof HTMLLabelElement&&te.attributes.for})&&!K.some(function(te){return te instanceof HTMLInputElement||te instanceof HTMLSelectElement}))){var J=Date.now();J-g<=kc?(_++,_===2&&d(tp(R))):_=1,g=J}}}return o.addEventListener("click",C),{dblclick:d,simDblclick:C}}function Gi(o,d){o.removeEventListener("dblclick",d.dblclick),o.removeEventListener("click",d.simDblclick)}var eo=qi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),to=qi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Dc=to==="webkitTransition"||to==="OTransition"?to+"End":"transitionend";function Rc(o){return typeof o=="string"?document.getElementById(o):o}function Fa(o,d){var g=o.style[d]||o.currentStyle&&o.currentStyle[d];if((!g||g==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(o,null);g=_?_[d]:null}return g==="auto"?null:g}function Ve(o,d,g){var _=document.createElement(o);return _.className=d||"",g&&g.appendChild(_),_}function ut(o){var d=o.parentNode;d&&d.removeChild(o)}function no(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Ki(o){var d=o.parentNode;d&&d.lastChild!==o&&d.appendChild(o)}function Ba(o){var d=o.parentNode;d&&d.firstChild!==o&&d.insertBefore(o,d.firstChild)}function Lc(o,d){if(o.classList!==void 0)return o.classList.contains(d);var g=wr(o);return g.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(g)}function ke(o,d){if(o.classList!==void 0)for(var g=b(d),_=0,C=g.length;_<C;_++)o.classList.add(g[_]);else if(!Lc(o,d)){var R=wr(o);$c(o,(R?R+" ":"")+d)}}function Pt(o,d){o.classList!==void 0?o.classList.remove(d):$c(o,v((" "+wr(o)+" ").replace(" "+d+" "," ")))}function $c(o,d){o.className.baseVal===void 0?o.className=d:o.className.baseVal=d}function wr(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function kt(o,d){"opacity"in o.style?o.style.opacity=d:"filter"in o.style&&dl(o,d)}function dl(o,d){var g=!1,_="DXImageTransform.Microsoft.Alpha";try{g=o.filters.item(_)}catch{if(d===1)return}d=Math.round(d*100),g?(g.Enabled=d!==100,g.Opacity=d):o.style.filter+=" progid:"+_+"(opacity="+d+")"}function qi(o){for(var d=document.documentElement.style,g=0;g<o.length;g++)if(o[g]in d)return o[g];return!1}function xi(o,d,g){var _=d||new z(0,0);o.style[eo]=(we.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(g?" scale("+g+")":"")}function Ce(o,d){o._leaflet_pos=d,we.any3d?xi(o,d):(o.style.left=d.x+"px",o.style.top=d.y+"px")}function Pr(o){return o._leaflet_pos||new z(0,0)}var Yr,Xr,Fc;if("onselectstart"in document)Yr=function(){Te(window,"selectstart",At)},Xr=function(){st(window,"selectstart",At)};else{var Va=qi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Yr=function(){if(Va){var o=document.documentElement.style;Fc=o[Va],o[Va]="none"}},Xr=function(){Va&&(document.documentElement.style[Va]=Fc,Fc=void 0)}}function Bc(){Te(window,"dragstart",At)}function Vc(){st(window,"dragstart",At)}var hl,Uc;function Zi(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(rr(),hl=o,Uc=o.style.outlineStyle,o.style.outlineStyle="none",Te(window,"keydown",rr))}function rr(){hl&&(hl.style.outlineStyle=Uc,hl=void 0,Uc=void 0,st(window,"keydown",rr))}function zc(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function fl(o){var d=o.getBoundingClientRect();return{x:d.width/o.offsetWidth||1,y:d.height/o.offsetHeight||1,boundingClientRect:d}}var np={__proto__:null,TRANSFORM:eo,TRANSITION:to,TRANSITION_END:Dc,get:Rc,getStyle:Fa,create:Ve,remove:ut,empty:no,toFront:Ki,toBack:Ba,hasClass:Lc,addClass:ke,removeClass:Pt,setClass:$c,getClass:wr,setOpacity:kt,testProp:qi,setTransform:xi,setPosition:Ce,getPosition:Pr,get disableTextSelection(){return Yr},get enableTextSelection(){return Xr},disableImageDrag:Bc,enableImageDrag:Vc,preventOutline:Zi,restoreOutline:rr,getSizedParentNode:zc,getScale:fl};function Te(o,d,g,_){if(d&&typeof d=="object")for(var C in d)Hc(o,C,d[C],g);else{d=b(d);for(var R=0,K=d.length;R<K;R++)Hc(o,d[R],g,_)}return this}var Sr="_leaflet_events";function st(o,d,g,_){if(arguments.length===1)rp(o),delete o[Sr];else if(d&&typeof d=="object")for(var C in d)Wc(o,C,d[C],g);else if(d=b(d),arguments.length===2)rp(o,function(J){return I(d,J)!==-1});else for(var R=0,K=d.length;R<K;R++)Wc(o,d[R],g,_);return this}function rp(o,d){for(var g in o[Sr]){var _=g.split(/\d/)[0];(!d||d(_))&&Wc(o,_,null,null,g)}}var Er={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Hc(o,d,g,_){var C=d+u(g)+(_?"_"+u(_):"");if(o[Sr]&&o[Sr][C])return this;var R=function(J){return g.call(_||o,J||window.event)},K=R;!we.touchNative&&we.pointer&&d.indexOf("touch")===0?R=Qf(o,d,R):we.touch&&d==="dblclick"?R=Js(o,R):"addEventListener"in o?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?o.addEventListener(Er[d]||d,R,we.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(R=function(J){J=J||window.event,Kc(o,J)&&K(J)},o.addEventListener(Er[d],R,!1)):o.addEventListener(d,K,!1):o.attachEvent("on"+d,R),o[Sr]=o[Sr]||{},o[Sr][C]=R}function Wc(o,d,g,_,C){C=C||d+u(g)+(_?"_"+u(_):"");var R=o[Sr]&&o[Sr][C];if(!R)return this;!we.touchNative&&we.pointer&&d.indexOf("touch")===0?Jf(o,d,R):we.touch&&d==="dblclick"?Gi(o,R):"removeEventListener"in o?o.removeEventListener(Er[d]||d,R,!1):o.detachEvent("on"+d,R),o[Sr][C]=null}function Tr(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Ua(o){return Hc(o,"wheel",Tr),this}function za(o){return Te(o,"mousedown touchstart dblclick contextmenu",Tr),o._leaflet_disable_click=!0,this}function At(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function ir(o){return At(o),Tr(o),this}function Gc(o){if(o.composedPath)return o.composedPath();for(var d=[],g=o.target;g;)d.push(g),g=g.parentNode;return d}function pl(o,d){if(!d)return new z(o.clientX,o.clientY);var g=fl(d),_=g.boundingClientRect;return new z((o.clientX-_.left)/g.x-d.clientLeft,(o.clientY-_.top)/g.y-d.clientTop)}var St=we.linux&&we.chrome?window.devicePixelRatio:we.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ip(o){return we.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/St:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Kc(o,d){var g=d.relatedTarget;if(!g)return!0;try{for(;g&&g!==o;)g=g.parentNode}catch{return!1}return g!==o}var ap={__proto__:null,on:Te,off:st,stopPropagation:Tr,disableScrollPropagation:Ua,disableClickPropagation:za,preventDefault:At,stop:ir,getPropagationPath:Gc,getMousePosition:pl,getWheelDelta:ip,isExternalTarget:Kc,addListener:Te,removeListener:st},qc=Z.extend({run:function(o,d,g,_){this.stop(),this._el=o,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Pr(o),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(o){var d=+new Date-this._startTime,g=this._duration*1e3;d<g?this._runFrame(this._easeOut(d/g),o):(this._runFrame(1),this._complete())},_runFrame:function(o,d){var g=this._startPos.add(this._offset.multiplyBy(o));d&&g._round(),Ce(this._el,g),this.fire("step")},_complete:function(){D(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),$e=Z.extend({options:{crs:et,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,d){d=S(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(ge(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=to&&we.any3d&&!we.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Te(this._proxy,Dc,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,d,g){if(d=d===void 0?this._zoom:this._limitZoom(d),o=this._limitCenter(ge(o),d,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=i({animate:g.animate},g.zoom),g.pan=i({animate:g.animate,duration:g.duration},g.pan));var _=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,d,g.zoom):this._tryAnimatedPan(o,g.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(o,d,g.pan&&g.pan.noMoveStart),this},setZoom:function(o,d){return this._loaded?this.setView(this.getCenter(),o,{zoom:d}):(this._zoom=o,this)},zoomIn:function(o,d){return o=o||(we.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,d)},zoomOut:function(o,d){return o=o||(we.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,d)},setZoomAround:function(o,d,g){var _=this.getZoomScale(d),C=this.getSize().divideBy(2),R=o instanceof z?o:this.latLngToContainerPoint(o),K=R.subtract(C).multiplyBy(1-1/_),J=this.containerPointToLatLng(C.add(K));return this.setView(J,d,{zoom:g})},_getBoundsCenterZoom:function(o,d){d=d||{},o=o.getBounds?o.getBounds():xe(o);var g=H(d.paddingTopLeft||d.padding||[0,0]),_=H(d.paddingBottomRight||d.padding||[0,0]),C=this.getBoundsZoom(o,!1,g.add(_));if(C=typeof d.maxZoom=="number"?Math.min(d.maxZoom,C):C,C===1/0)return{center:o.getCenter(),zoom:C};var R=_.subtract(g).divideBy(2),K=this.project(o.getSouthWest(),C),J=this.project(o.getNorthEast(),C),te=this.unproject(K.add(J).divideBy(2).add(R),C);return{center:te,zoom:C}},fitBounds:function(o,d){if(o=xe(o),!o.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(o,d);return this.setView(g.center,g.zoom,d)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,d){return this.setView(o,this._zoom,{pan:d})},panBy:function(o,d){if(o=H(o).round(),d=d||{},!o.x&&!o.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){ke(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,g,d.duration||.25,d.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,d,g){if(g=g||{},g.animate===!1||!we.any3d)return this.setView(o,d,g);this._stop();var _=this.project(this.getCenter()),C=this.project(o),R=this.getSize(),K=this._zoom;o=ge(o),d=d===void 0?K:d;var J=Math.max(R.x,R.y),te=J*this.getZoomScale(K,d),oe=C.distanceTo(_)||1,pe=1.42,Ae=pe*pe;function Le(Ht){var bp=Ht?-1:1,aF=Ht?te:J,sF=te*te-J*J+bp*Ae*Ae*oe*oe,oF=2*aF*Ae*oe,u_=sF/oF,ZS=Math.sqrt(u_*u_+1)-u_,lF=ZS<1e-9?-18:Math.log(ZS);return lF}function $n(Ht){return(Math.exp(Ht)-Math.exp(-Ht))/2}function cn(Ht){return(Math.exp(Ht)+Math.exp(-Ht))/2}function Mr(Ht){return $n(Ht)/cn(Ht)}var Gn=Le(0);function Al(Ht){return J*(cn(Gn)/cn(Gn+pe*Ht))}function tF(Ht){return J*(cn(Gn)*Mr(Gn+pe*Ht)-$n(Gn))/Ae}function nF(Ht){return 1-Math.pow(1-Ht,1.5)}var rF=Date.now(),KS=(Le(1)-Gn)/pe,iF=g.duration?1e3*g.duration:1e3*KS*.8;function qS(){var Ht=(Date.now()-rF)/iF,bp=nF(Ht)*KS;Ht<=1?(this._flyToFrame=B(qS,this),this._move(this.unproject(_.add(C.subtract(_).multiplyBy(tF(bp)/oe)),K),this.getScaleZoom(J/Al(bp),K),{flyTo:!0})):this._move(o,d)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),qS.call(this),this},flyToBounds:function(o,d){var g=this._getBoundsCenterZoom(o,d);return this.flyTo(g.center,g.zoom,d)},setMaxBounds:function(o){return o=xe(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var d=this.options.minZoom;return this.options.minZoom=o,this._loaded&&d!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var d=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&d!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,d){this._enforcingBounds=!0;var g=this.getCenter(),_=this._limitCenter(g,this._zoom,xe(o));return g.equals(_)||this.panTo(_,d),this._enforcingBounds=!1,this},panInside:function(o,d){d=d||{};var g=H(d.paddingTopLeft||d.padding||[0,0]),_=H(d.paddingBottomRight||d.padding||[0,0]),C=this.project(this.getCenter()),R=this.project(o),K=this.getPixelBounds(),J=re([K.min.add(g),K.max.subtract(_)]),te=J.getSize();if(!J.contains(R)){this._enforcingBounds=!0;var oe=R.subtract(J.getCenter()),pe=J.extend(R).getSize().subtract(te);C.x+=oe.x<0?-pe.x:pe.x,C.y+=oe.y<0?-pe.y:pe.y,this.panTo(this.unproject(C),d),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),_=d.divideBy(2).round(),C=g.divideBy(2).round(),R=_.subtract(C);return!R.x&&!R.y?this:(o.animate&&o.pan?this.panBy(R):(o.pan&&this._rawPanBy(R),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=s(this._handleGeolocationResponse,this),g=s(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,g,o):navigator.geolocation.getCurrentPosition(d,g,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var d=o.code,g=o.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var d=o.coords.latitude,g=o.coords.longitude,_=new _e(d,g),C=_.toBounds(o.coords.accuracy*2),R=this._locateOptions;if(R.setView){var K=this.getBoundsZoom(C);this.setView(_,R.maxZoom?Math.min(K,R.maxZoom):K)}var J={latlng:_,bounds:C,timestamp:o.timestamp};for(var te in o.coords)typeof o.coords[te]=="number"&&(J[te]=o.coords[te]);this.fire("locationfound",J)}},addHandler:function(o,d){if(!d)return this;var g=this[o]=new d(this);return this._handlers.push(g),this.options[o]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ut(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(D(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)ut(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,d){var g="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),_=Ve("div",g,d||this._mapPane);return o&&(this._panes[o]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),d=this.unproject(o.getBottomLeft()),g=this.unproject(o.getTopRight());return new ce(d,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,d,g){o=xe(o),g=H(g||[0,0]);var _=this.getZoom()||0,C=this.getMinZoom(),R=this.getMaxZoom(),K=o.getNorthWest(),J=o.getSouthEast(),te=this.getSize().subtract(g),oe=re(this.project(J,_),this.project(K,_)).getSize(),pe=we.any3d?this.options.zoomSnap:1,Ae=te.x/oe.x,Le=te.y/oe.y,$n=d?Math.max(Ae,Le):Math.min(Ae,Le);return _=this.getScaleZoom($n,_),pe&&(_=Math.round(_/(pe/100))*(pe/100),_=d?Math.ceil(_/pe)*pe:Math.floor(_/pe)*pe),Math.max(C,Math.min(R,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,d){var g=this._getTopLeftPoint(o,d);return new ee(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,d){var g=this.options.crs;return d=d===void 0?this._zoom:d,g.scale(o)/g.scale(d)},getScaleZoom:function(o,d){var g=this.options.crs;d=d===void 0?this._zoom:d;var _=g.zoom(o*g.scale(d));return isNaN(_)?1/0:_},project:function(o,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(ge(o),d)},unproject:function(o,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(H(o),d)},layerPointToLatLng:function(o){var d=H(o).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(o){var d=this.project(ge(o))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(ge(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(xe(o))},distance:function(o,d){return this.options.crs.distance(ge(o),ge(d))},containerPointToLayerPoint:function(o){return H(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return H(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var d=this.containerPointToLayerPoint(H(o));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ge(o)))},mouseEventToContainerPoint:function(o){return pl(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var d=this._container=Rc(o);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Te(d,"scroll",this._onScroll,this),this._containerId=u(d)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&we.any3d,ke(o,"leaflet-container"+(we.touch?" leaflet-touch":"")+(we.retina?" leaflet-retina":"")+(we.ielt9?" leaflet-oldie":"")+(we.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=Fa(o,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ce(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ke(o.markerPane,"leaflet-zoom-hide"),ke(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,d,g){Ce(this._mapPane,new z(0,0));var _=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var C=this._zoom!==d;this._moveStart(C,g)._move(o,d)._moveEnd(C),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(o,d){return o&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(o,d,g,_){d===void 0&&(d=this._zoom);var C=this._zoom!==d;return this._zoom=d,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),_?g&&g.pinch&&this.fire("zoom",g):((C||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return D(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Ce(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[u(this._container)]=this;var d=o?st:Te;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),we.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){D(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,d){for(var g=[],_,C=d==="mouseout"||d==="mouseover",R=o.target||o.srcElement,K=!1;R;){if(_=this._targets[u(R)],_&&(d==="click"||d==="preclick")&&this._draggableMoved(_)){K=!0;break}if(_&&_.listens(d,!0)&&(C&&!Kc(R,o)||(g.push(_),C))||R===this._container)break;R=R.parentNode}return!g.length&&!K&&!C&&this.listens(d,!0)&&(g=[this]),g},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var d=o.target||o.srcElement;if(!(!this._loaded||d._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(d))){var g=o.type;g==="mousedown"&&Zi(d),this._fireDOMEvent(o,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,d,g){if(o.type==="click"){var _=i({},o);_.type="preclick",this._fireDOMEvent(_,_.type,g)}var C=this._findEventTargets(o,d);if(g){for(var R=[],K=0;K<g.length;K++)g[K].listens(d,!0)&&R.push(g[K]);C=R.concat(C)}if(C.length){d==="contextmenu"&&At(o);var J=C[0],te={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var oe=J.getLatLng&&(!J._radius||J._radius<=10);te.containerPoint=oe?this.latLngToContainerPoint(J.getLatLng()):this.mouseEventToContainerPoint(o),te.layerPoint=this.containerPointToLayerPoint(te.containerPoint),te.latlng=oe?J.getLatLng():this.layerPointToLatLng(te.layerPoint)}for(K=0;K<C.length;K++)if(C[K].fire(d,te,!0),te.originalEvent._stopped||C[K].options.bubblingMouseEvents===!1&&I(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,d=this._handlers.length;o<d;o++)this._handlers[o].disable()},whenReady:function(o,d){return this._loaded?o.call(d||this,{target:this}):this.on("load",o,d),this},_getMapPanePos:function(){return Pr(this._mapPane)||new z(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,d){var g=o&&d!==void 0?this._getNewPixelOrigin(o,d):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,d){var g=this.getSize()._divideBy(2);return this.project(o,d)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,d,g){var _=this._getNewPixelOrigin(g,d);return this.project(o,d)._subtract(_)},_latLngBoundsToNewLayerBounds:function(o,d,g){var _=this._getNewPixelOrigin(g,d);return re([this.project(o.getSouthWest(),d)._subtract(_),this.project(o.getNorthWest(),d)._subtract(_),this.project(o.getSouthEast(),d)._subtract(_),this.project(o.getNorthEast(),d)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,d,g){if(!g)return o;var _=this.project(o,d),C=this.getSize().divideBy(2),R=new ee(_.subtract(C),_.add(C)),K=this._getBoundsOffset(R,g,d);return Math.abs(K.x)<=1&&Math.abs(K.y)<=1?o:this.unproject(_.add(K),d)},_limitOffset:function(o,d){if(!d)return o;var g=this.getPixelBounds(),_=new ee(g.min.add(o),g.max.add(o));return o.add(this._getBoundsOffset(_,d))},_getBoundsOffset:function(o,d,g){var _=re(this.project(d.getNorthEast(),g),this.project(d.getSouthWest(),g)),C=_.min.subtract(o.min),R=_.max.subtract(o.max),K=this._rebound(C.x,-R.x),J=this._rebound(C.y,-R.y);return new z(K,J)},_rebound:function(o,d){return o+d>0?Math.round(o-d)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(d))},_limitZoom:function(o){var d=this.getMinZoom(),g=this.getMaxZoom(),_=we.any3d?this.options.zoomSnap:1;return _&&(o=Math.round(o/_)*_),Math.max(d,Math.min(g,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,d){var g=this._getCenterOffset(o)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,d),!0)},_createAnimProxy:function(){var o=this._proxy=Ve("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(d){var g=eo,_=this._proxy.style[g];xi(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),_===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ut(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),d=this.getZoom();xi(this._proxy,this.project(o,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,d,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(d),C=this._getCenterOffset(o)._divideBy(1-1/_);return g.animate!==!0&&!this.getSize().contains(C)?!1:(B(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(o,d,!0)},this),!0)},_animateZoom:function(o,d,g,_){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=d,ke(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:d,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ml(o,d){return new $e(o,d)}var Wn=W.extend({options:{position:"topright"},initialize:function(o){S(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var d=this._map;return d&&d.removeControl(this),this.options.position=o,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var d=this._container=this.onAdd(o),g=this.getPosition(),_=o._controlCorners[g];return ke(d,"leaflet-control"),g.indexOf("bottom")!==-1?_.insertBefore(d,_.firstChild):_.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ut(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Ln=function(o){return new Wn(o)};$e.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},d="leaflet-",g=this._controlContainer=Ve("div",d+"control-container",this._container);function _(C,R){var K=d+C+" "+d+R;o[C+R]=Ve("div",K,g)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)ut(this._controlCorners[o]);ut(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zc=Wn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,d,g,_){return g<_?-1:_<g?1:0}},initialize:function(o,d,g){S(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in o)this._addLayer(o[_],_);for(_ in d)this._addLayer(d[_],_,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Wn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,d){return this._addLayer(o,d),this._map?this._update():this},addOverlay:function(o,d){return this._addLayer(o,d,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var d=this._getLayer(u(o));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){ke(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(ke(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",d=this._container=Ve("div",o),g=this.options.collapsed;d.setAttribute("aria-haspopup",!0),za(d),Ua(d);var _=this._section=Ve("section",o+"-list");g&&(this._map.on("click",this.collapse,this),Te(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=Ve("a",o+"-toggle",d);C.href="#",C.title="Layers",C.setAttribute("role","button"),Te(C,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){At(R),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=Ve("div",o+"-base",_),this._separator=Ve("div",o+"-separator",_),this._overlaysList=Ve("div",o+"-overlays",_),d.appendChild(_)},_getLayer:function(o){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&u(this._layers[d].layer)===o)return this._layers[d]},_addLayer:function(o,d,g){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:d,overlay:g}),this.options.sortLayers&&this._layers.sort(s(function(_,C){return this.options.sortFunction(_.layer,C.layer,_.name,C.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;no(this._baseLayersList),no(this._overlaysList),this._layerControlInputs=[];var o,d,g,_,C=0;for(g=0;g<this._layers.length;g++)_=this._layers[g],this._addItem(_),d=d||_.overlay,o=o||!_.overlay,C+=_.overlay?0:1;return this.options.hideSingleBase&&(o=o&&C>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=d&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var d=this._getLayer(u(o.target)),g=d.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;g&&this._map.fire(g,d)},_createRadioElement:function(o,d){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(d?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=g,_.firstChild},_addItem:function(o){var d=document.createElement("label"),g=this._map.hasLayer(o.layer),_;o.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=g):_=this._createRadioElement("leaflet-base-layers_"+u(this),g),this._layerControlInputs.push(_),_.layerId=u(o.layer),Te(_,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+o.name;var R=document.createElement("span");d.appendChild(R),R.appendChild(_),R.appendChild(C);var K=o.overlay?this._overlaysList:this._baseLayersList;return K.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,d,g,_=[],C=[];this._handlingClick=!0;for(var R=o.length-1;R>=0;R--)d=o[R],g=this._getLayer(d.layerId).layer,d.checked?_.push(g):d.checked||C.push(g);for(R=0;R<C.length;R++)this._map.hasLayer(C[R])&&this._map.removeLayer(C[R]);for(R=0;R<_.length;R++)this._map.hasLayer(_[R])||this._map.addLayer(_[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,d,g,_=this._map.getZoom(),C=o.length-1;C>=0;C--)d=o[C],g=this._getLayer(d.layerId).layer,d.disabled=g.options.minZoom!==void 0&&_<g.options.minZoom||g.options.maxZoom!==void 0&&_>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Te(o,"click",At),this.expand();var d=this;setTimeout(function(){st(o,"click",At),d._preventClick=!1})}}),r_=function(o,d,g){return new Zc(o,d,g)},Yi=Wn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var d="leaflet-control-zoom",g=Ve("div",d+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,d+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,d+"-out",g,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,d,g,_,C){var R=Ve("a",g,_);return R.innerHTML=o,R.href="#",R.title=d,R.setAttribute("role","button"),R.setAttribute("aria-label",d),za(R),Te(R,"click",ir),Te(R,"click",C,this),Te(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var o=this._map,d="leaflet-disabled";Pt(this._zoomInButton,d),Pt(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(ke(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(ke(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});$e.mergeOptions({zoomControl:!0}),$e.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Yi,this.addControl(this.zoomControl))});var sp=function(o){return new Yi(o)},gl=Wn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var d="leaflet-control-scale",g=Ve("div",d),_=this.options;return this._addScales(_,d+"-line",g),o.on(_.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),g},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,d,g){o.metric&&(this._mScale=Ve("div",d,g)),o.imperial&&(this._iScale=Ve("div",d,g))},_update:function(){var o=this._map,d=o.getSize().y/2,g=o.distance(o.containerPointToLatLng([0,d]),o.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(g)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var d=this._getRoundNum(o),g=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,g,d/o)},_updateImperial:function(o){var d=o*3.2808399,g,_,C;d>5280?(g=d/5280,_=this._getRoundNum(g),this._updateScale(this._iScale,_+" mi",_/g)):(C=this._getRoundNum(d),this._updateScale(this._iScale,C+" ft",C/d))},_updateScale:function(o,d,g){o.style.width=Math.round(this.options.maxWidth*g)+"px",o.innerHTML=d},_getRoundNum:function(o){var d=Math.pow(10,(Math.floor(o)+"").length-1),g=o/d;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,d*g}}),yl=function(o){return new gl(o)},op='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ha=Wn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(we.inlineSvg?op+" ":"")+"Leaflet</a>"},initialize:function(o){S(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Ve("div","leaflet-control-attribution"),za(this._container);for(var d in o._layers)o._layers[d].getAttribution&&this.addAttribution(o._layers[d].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var d in this._attributions)this._attributions[d]&&o.push(d);var g=[];this.options.prefix&&g.push(this.options.prefix),o.length&&g.push(o.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});$e.mergeOptions({attributionControl:!0}),$e.addInitHook(function(){this.options.attributionControl&&new Ha().addTo(this)});var i_=function(o){return new Ha(o)};Wn.Layers=Zc,Wn.Zoom=Yi,Wn.Scale=gl,Wn.Attribution=Ha,Ln.layers=r_,Ln.zoom=sp,Ln.scale=yl,Ln.attribution=i_;var ar=W.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ar.addTo=function(o,d){return o.addHandler(d,this),this};var ro={Events:G},Yc=we.touch?"touchstart mousedown":"mousedown",Qr=Z.extend({options:{clickTolerance:3},initialize:function(o,d,g,_){S(this,_),this._element=o,this._dragStartTarget=d||o,this._preventOutline=g},enable:function(){this._enabled||(Te(this._dragStartTarget,Yc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qr._dragging===this&&this.finishDrag(!0),st(this._dragStartTarget,Yc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Lc(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Qr._dragging===this&&this.finishDrag();return}if(!(Qr._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Qr._dragging=this,this._preventOutline&&Zi(this._element),Bc(),Yr(),!this._moving)){this.fire("down");var d=o.touches?o.touches[0]:o,g=zc(this._element);this._startPoint=new z(d.clientX,d.clientY),this._startPos=Pr(this._element),this._parentScale=fl(g);var _=o.type==="mousedown";Te(document,_?"mousemove":"touchmove",this._onMove,this),Te(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var d=o.touches&&o.touches.length===1?o.touches[0]:o,g=new z(d.clientX,d.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,At(o),this._moved||(this.fire("dragstart"),this._moved=!0,ke(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ke(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Ce(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Pt(document.body,"leaflet-dragging"),this._lastTarget&&(Pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),st(document,"mousemove touchmove",this._onMove,this),st(document,"mouseup touchend touchcancel",this._onUp,this),Vc(),Xr();var d=this._moved&&this._moving;this._moving=!1,Qr._dragging=!1,d&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function vl(o,d,g){var _,C=[1,4,2,8],R,K,J,te,oe,pe,Ae,Le;for(R=0,pe=o.length;R<pe;R++)o[R]._code=bi(o[R],d);for(J=0;J<4;J++){for(Ae=C[J],_=[],R=0,pe=o.length,K=pe-1;R<pe;K=R++)te=o[R],oe=o[K],te._code&Ae?oe._code&Ae||(Le=un(oe,te,Ae,d,g),Le._code=bi(Le,d),_.push(Le)):(oe._code&Ae&&(Le=un(oe,te,Ae,d,g),Le._code=bi(Le,d),_.push(Le)),_.push(te));o=_}return o}function _l(o,d){var g,_,C,R,K,J,te,oe,pe;if(!o||o.length===0)throw new Error("latlngs not passed");m(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ae=ge([0,0]),Le=xe(o),$n=Le.getNorthWest().distanceTo(Le.getSouthWest())*Le.getNorthEast().distanceTo(Le.getNorthWest());$n<1700&&(Ae=xl(o));var cn=o.length,Mr=[];for(g=0;g<cn;g++){var Gn=ge(o[g]);Mr.push(d.project(ge([Gn.lat-Ae.lat,Gn.lng-Ae.lng])))}for(J=te=oe=0,g=0,_=cn-1;g<cn;_=g++)C=Mr[g],R=Mr[_],K=C.y*R.x-R.y*C.x,te+=(C.x+R.x)*K,oe+=(C.y+R.y)*K,J+=K*3;J===0?pe=Mr[0]:pe=[te/J,oe/J];var Al=d.unproject(H(pe));return ge([Al.lat+Ae.lat,Al.lng+Ae.lng])}function xl(o){for(var d=0,g=0,_=0,C=0;C<o.length;C++){var R=ge(o[C]);d+=R.lat,g+=R.lng,_++}return ge([d/_,g/_])}var bl={__proto__:null,clipPolygon:vl,polygonCenter:_l,centroid:xl};function Xc(o,d){if(!d||!o.length)return o.slice();var g=d*d;return o=up(o,g),o=lp(o,g),o}function Qc(o,d,g){return Math.sqrt(Ar(o,d,g,!0))}function Xi(o,d,g){return Ar(o,d,g)}function lp(o,d){var g=o.length,_=typeof Uint8Array<"u"?Uint8Array:Array,C=new _(g);C[0]=C[g-1]=1,wl(o,C,d,0,g-1);var R,K=[];for(R=0;R<g;R++)C[R]&&K.push(o[R]);return K}function wl(o,d,g,_,C){var R=0,K,J,te;for(J=_+1;J<=C-1;J++)te=Ar(o[J],o[_],o[C],!0),te>R&&(K=J,R=te);R>g&&(d[K]=1,wl(o,d,g,_,K),wl(o,d,g,K,C))}function up(o,d){for(var g=[o[0]],_=1,C=0,R=o.length;_<R;_++)cp(o[_],o[C])>d&&(g.push(o[_]),C=_);return C<R-1&&g.push(o[R-1]),g}var Jc;function io(o,d,g,_,C){var R=_?Jc:bi(o,g),K=bi(d,g),J,te,oe;for(Jc=K;;){if(!(R|K))return[o,d];if(R&K)return!1;J=R||K,te=un(o,d,J,g,C),oe=bi(te,g),J===R?(o=te,R=oe):(d=te,K=oe)}}function un(o,d,g,_,C){var R=d.x-o.x,K=d.y-o.y,J=_.min,te=_.max,oe,pe;return g&8?(oe=o.x+R*(te.y-o.y)/K,pe=te.y):g&4?(oe=o.x+R*(J.y-o.y)/K,pe=J.y):g&2?(oe=te.x,pe=o.y+K*(te.x-o.x)/R):g&1&&(oe=J.x,pe=o.y+K*(J.x-o.x)/R),new z(oe,pe,C)}function bi(o,d){var g=0;return o.x<d.min.x?g|=1:o.x>d.max.x&&(g|=2),o.y<d.min.y?g|=4:o.y>d.max.y&&(g|=8),g}function cp(o,d){var g=d.x-o.x,_=d.y-o.y;return g*g+_*_}function Ar(o,d,g,_){var C=d.x,R=d.y,K=g.x-C,J=g.y-R,te=K*K+J*J,oe;return te>0&&(oe=((o.x-C)*K+(o.y-R)*J)/te,oe>1?(C=g.x,R=g.y):oe>0&&(C+=K*oe,R+=J*oe)),K=o.x-C,J=o.y-R,_?K*K+J*J:new z(C,R)}function m(o){return!T(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function E(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),m(o)}function j(o,d){var g,_,C,R,K,J,te,oe;if(!o||o.length===0)throw new Error("latlngs not passed");m(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var pe=ge([0,0]),Ae=xe(o),Le=Ae.getNorthWest().distanceTo(Ae.getSouthWest())*Ae.getNorthEast().distanceTo(Ae.getNorthWest());Le<1700&&(pe=xl(o));var $n=o.length,cn=[];for(g=0;g<$n;g++){var Mr=ge(o[g]);cn.push(d.project(ge([Mr.lat-pe.lat,Mr.lng-pe.lng])))}for(g=0,_=0;g<$n-1;g++)_+=cn[g].distanceTo(cn[g+1])/2;if(_===0)oe=cn[0];else for(g=0,R=0;g<$n-1;g++)if(K=cn[g],J=cn[g+1],C=K.distanceTo(J),R+=C,R>_){te=(R-_)/C,oe=[J.x-te*(J.x-K.x),J.y-te*(J.y-K.y)];break}var Gn=d.unproject(H(oe));return ge([Gn.lat+pe.lat,Gn.lng+pe.lng])}var V={__proto__:null,simplify:Xc,pointToSegmentDistance:Qc,closestPointOnSegment:Xi,clipSegment:io,_getEdgeIntersection:un,_getBitCode:bi,_sqClosestPointOnSegment:Ar,isFlat:m,_flat:E,polylineCenter:j},Q={project:function(o){return new z(o.lng,o.lat)},unproject:function(o){return new _e(o.y,o.x)},bounds:new ee([-180,-90],[180,90])},ne={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var d=Math.PI/180,g=this.R,_=o.lat*d,C=this.R_MINOR/g,R=Math.sqrt(1-C*C),K=R*Math.sin(_),J=Math.tan(Math.PI/4-_/2)/Math.pow((1-K)/(1+K),R/2);return _=-g*Math.log(Math.max(J,1e-10)),new z(o.lng*d*g,_)},unproject:function(o){for(var d=180/Math.PI,g=this.R,_=this.R_MINOR/g,C=Math.sqrt(1-_*_),R=Math.exp(-o.y/g),K=Math.PI/2-2*Math.atan(R),J=0,te=.1,oe;J<15&&Math.abs(te)>1e-7;J++)oe=C*Math.sin(K),oe=Math.pow((1-oe)/(1+oe),C/2),te=Math.PI/2-2*Math.atan(R*oe)-K,K+=te;return new _e(K*d,o.x*d/g)}},de={__proto__:null,LonLat:Q,Mercator:ne,SphericalMercator:Se},rt=i({},mt,{code:"EPSG:3395",projection:ne,transformation:function(){var o=.5/(Math.PI*ne.R);return se(o,.5,-o,.5)}()}),zt=i({},mt,{code:"EPSG:4326",projection:Q,transformation:se(1/180,1,-1/180,.5)}),We=i({},Je,{projection:Q,transformation:se(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,d){var g=d.lng-o.lng,_=d.lat-o.lat;return Math.sqrt(g*g+_*_)},infinite:!0});Je.Earth=mt,Je.EPSG3395=rt,Je.EPSG3857=et,Je.EPSG900913=De,Je.EPSG4326=zt,Je.Simple=We;var ot=Z.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[u(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[u(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var d=o.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var g=this.getEvents();d.on(g,this),this.once("remove",function(){d.off(g,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});$e.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var d=u(o);return this._layers[d]?this:(this._layers[d]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var d=u(o);return this._layers[d]?(this._loaded&&o.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return u(o)in this._layers},eachLayer:function(o,d){for(var g in this._layers)o.call(d,this._layers[g]);return this},_addLayers:function(o){o=o?T(o)?o:[o]:[];for(var d=0,g=o.length;d<g;d++)this.addLayer(o[d])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[u(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var d=u(o);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,d=-1/0,g=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var C=this._zoomBoundLayers[_].options;o=C.minZoom===void 0?o:Math.min(o,C.minZoom),d=C.maxZoom===void 0?d:Math.max(d,C.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=o===1/0?void 0:o,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Mt=ot.extend({initialize:function(o,d){S(this,d),this._layers={};var g,_;if(o)for(g=0,_=o.length;g<_;g++)this.addLayer(o[g])},addLayer:function(o){var d=this.getLayerId(o);return this._layers[d]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var d=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(o){var d=typeof o=="number"?o:this.getLayerId(o);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var d=Array.prototype.slice.call(arguments,1),g,_;for(g in this._layers)_=this._layers[g],_[o]&&_[o].apply(_,d);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,d){for(var g in this._layers)o.call(d,this._layers[g]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return u(o)}}),Wa=function(o,d){return new Mt(o,d)},Lt=Mt.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Mt.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Mt.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new ce;for(var d in this._layers){var g=this._layers[d];o.extend(g.getBounds?g.getBounds():g.getLatLng())}return o}}),Pl=function(o,d){return new Lt(o,d)},wi=W.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){S(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,d){var g=this._getIconUrl(o);if(!g){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(g,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(_,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(o,d){var g=this.options,_=g[d+"Size"];typeof _=="number"&&(_=[_,_]);var C=H(_),R=H(d==="shadow"&&g.shadowAnchor||g.iconAnchor||C&&C.divideBy(2,!0));o.className="leaflet-marker-"+d+" "+(g.className||""),R&&(o.style.marginLeft=-R.x+"px",o.style.marginTop=-R.y+"px"),C&&(o.style.width=C.x+"px",o.style.height=C.y+"px")},_createImg:function(o,d){return d=d||document.createElement("img"),d.src=o,d},_getIconUrl:function(o){return we.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function R3(o){return new wi(o)}var ed=wi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof ed.imagePath!="string"&&(ed.imagePath=this._detectIconPath()),(this.options.imagePath||ed.imagePath)+wi.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var d=function(g,_,C){var R=_.exec(g);return R&&R[C]};return o=d(o,/^url\((['"])?(.+)\1\)$/,2),o&&d(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Ve("div","leaflet-default-icon-path",document.body),d=Fa(o,"background-image")||Fa(o,"backgroundImage");if(document.body.removeChild(o),d=this._stripUrl(d),d)return d;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),MS=ar.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Qr(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ke(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var d=this._marker,g=d._map,_=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,R=Pr(d._icon),K=g.getPixelBounds(),J=g.getPixelOrigin(),te=re(K.min._subtract(J).add(C),K.max._subtract(J).subtract(C));if(!te.contains(R)){var oe=H((Math.max(te.max.x,R.x)-te.max.x)/(K.max.x-te.max.x)-(Math.min(te.min.x,R.x)-te.min.x)/(K.min.x-te.min.x),(Math.max(te.max.y,R.y)-te.max.y)/(K.max.y-te.max.y)-(Math.min(te.min.y,R.y)-te.min.y)/(K.min.y-te.min.y)).multiplyBy(_);g.panBy(oe,{animate:!1}),this._draggable._newPos._add(oe),this._draggable._startPos._add(oe),Ce(d._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=B(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(D(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,o)))},_onDrag:function(o){var d=this._marker,g=d._shadow,_=Pr(d._icon),C=d._map.layerPointToLatLng(_);g&&Ce(g,_),d._latlng=C,o.latlng=C,o.oldLatLng=this._oldLatLng,d.fire("move",o).fire("drag",o)},_onDragEnd:function(o){D(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),dp=ot.extend({options:{icon:new ed,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,d){S(this,d),this._latlng=ge(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var d=this._latlng;return this._latlng=ge(o),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=o.icon.createIcon(this._icon),_=!1;g!==this._icon&&(this._icon&&this._removeIcon(),_=!0,o.title&&(g.title=o.title),g.tagName==="IMG"&&(g.alt=o.alt||"")),ke(g,d),o.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(g,"focus",this._panOnFocus,this);var C=o.icon.createShadow(this._shadow),R=!1;C!==this._shadow&&(this._removeShadow(),R=!0),C&&(ke(C,d),C.alt=""),this._shadow=C,o.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&R&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&st(this._icon,"focus",this._panOnFocus,this),ut(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ut(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Ce(this._icon,o),this._shadow&&Ce(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var d=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(ke(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),MS)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new MS(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&kt(this._icon,o),this._shadow&&kt(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var d=this.options.icon.options,g=d.iconSize?H(d.iconSize):H(0,0),_=d.iconAnchor?H(d.iconAnchor):H(0,0);o.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:g.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function L3(o,d){return new dp(o,d)}var Ga=ot.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return S(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),hp=Ga.extend({options:{fill:!0,radius:10},initialize:function(o,d){S(this,d),this._latlng=ge(o),this._radius=this.options.radius},setLatLng:function(o){var d=this._latlng;return this._latlng=ge(o),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var d=o&&o.radius||this._radius;return Ga.prototype.setStyle.call(this,o),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,d=this._radiusY||o,g=this._clickTolerance(),_=[o+g,d+g];this._pxBounds=new ee(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function $3(o,d){return new hp(o,d)}var a_=hp.extend({initialize:function(o,d,g){if(typeof d=="number"&&(d=i({},g,{radius:d})),S(this,d),this._latlng=ge(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new ce(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Ga.prototype.setStyle,_project:function(){var o=this._latlng.lng,d=this._latlng.lat,g=this._map,_=g.options.crs;if(_.distance===mt.distance){var C=Math.PI/180,R=this._mRadius/mt.R/C,K=g.project([d+R,o]),J=g.project([d-R,o]),te=K.add(J).divideBy(2),oe=g.unproject(te).lat,pe=Math.acos((Math.cos(R*C)-Math.sin(d*C)*Math.sin(oe*C))/(Math.cos(d*C)*Math.cos(oe*C)))/C;(isNaN(pe)||pe===0)&&(pe=R/Math.cos(Math.PI/180*d)),this._point=te.subtract(g.getPixelOrigin()),this._radius=isNaN(pe)?0:te.x-g.project([oe,o-pe]).x,this._radiusY=te.y-K.y}else{var Ae=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(Ae).x}this._updateBounds()}});function F3(o,d,g){return new a_(o,d,g)}var Qi=Ga.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,d){S(this,d),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var d=1/0,g=null,_=Ar,C,R,K=0,J=this._parts.length;K<J;K++)for(var te=this._parts[K],oe=1,pe=te.length;oe<pe;oe++){C=te[oe-1],R=te[oe];var Ae=_(o,C,R,!0);Ae<d&&(d=Ae,g=_(o,C,R))}return g&&(g.distance=Math.sqrt(d)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return j(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,d){return d=d||this._defaultShape(),o=ge(o),d.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new ce,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return m(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var d=[],g=m(o),_=0,C=o.length;_<C;_++)g?(d[_]=ge(o[_]),this._bounds.extend(d[_])):d[_]=this._convertLatLngs(o[_]);return d},_project:function(){var o=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),d=new z(o,o);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(o,d,g){var _=o[0]instanceof _e,C=o.length,R,K;if(_){for(K=[],R=0;R<C;R++)K[R]=this._map.latLngToLayerPoint(o[R]),g.extend(K[R]);d.push(K)}else for(R=0;R<C;R++)this._projectLatlngs(o[R],d,g)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,g,_,C,R,K,J,te;for(g=0,C=0,R=this._rings.length;g<R;g++)for(te=this._rings[g],_=0,K=te.length;_<K-1;_++)J=io(te[_],te[_+1],o,_,!0),J&&(d[C]=d[C]||[],d[C].push(J[0]),(J[1]!==te[_+1]||_===K-2)&&(d[C].push(J[1]),C++))}},_simplifyPoints:function(){for(var o=this._parts,d=this.options.smoothFactor,g=0,_=o.length;g<_;g++)o[g]=Xc(o[g],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,d){var g,_,C,R,K,J,te=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(g=0,R=this._parts.length;g<R;g++)for(J=this._parts[g],_=0,K=J.length,C=K-1;_<K;C=_++)if(!(!d&&_===0)&&Qc(o,J[C],J[_])<=te)return!0;return!1}});function B3(o,d){return new Qi(o,d)}Qi._flat=E;var Sl=Qi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _l(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var d=Qi.prototype._convertLatLngs.call(this,o),g=d.length;return g>=2&&d[0]instanceof _e&&d[0].equals(d[g-1])&&d.pop(),d},_setLatLngs:function(o){Qi.prototype._setLatLngs.call(this,o),m(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return m(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,d=this.options.weight,g=new z(d,d);if(o=new ee(o.min.subtract(g),o.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,C=this._rings.length,R;_<C;_++)R=vl(this._rings[_],o,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var d=!1,g,_,C,R,K,J,te,oe;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(R=0,te=this._parts.length;R<te;R++)for(g=this._parts[R],K=0,oe=g.length,J=oe-1;K<oe;J=K++)_=g[K],C=g[J],_.y>o.y!=C.y>o.y&&o.x<(C.x-_.x)*(o.y-_.y)/(C.y-_.y)+_.x&&(d=!d);return d||Qi.prototype._containsPoint.call(this,o,!0)}});function V3(o,d){return new Sl(o,d)}var Ji=Lt.extend({initialize:function(o,d){S(this,d),this._layers={},o&&this.addData(o)},addData:function(o){var d=T(o)?o:o.features,g,_,C;if(d){for(g=0,_=d.length;g<_;g++)C=d[g],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var R=this.options;if(R.filter&&!R.filter(o))return this;var K=fp(o,R);return K?(K.feature=gp(o),K.defaultOptions=K.options,this.resetStyle(K),R.onEachFeature&&R.onEachFeature(o,K),this.addLayer(K)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(d){this._setLayerStyle(d,o)},this)},_setLayerStyle:function(o,d){o.setStyle&&(typeof d=="function"&&(d=d(o.feature)),o.setStyle(d))}});function fp(o,d){var g=o.type==="Feature"?o.geometry:o,_=g?g.coordinates:null,C=[],R=d&&d.pointToLayer,K=d&&d.coordsToLatLng||s_,J,te,oe,pe;if(!_&&!g)return null;switch(g.type){case"Point":return J=K(_),NS(R,o,J,d);case"MultiPoint":for(oe=0,pe=_.length;oe<pe;oe++)J=K(_[oe]),C.push(NS(R,o,J,d));return new Lt(C);case"LineString":case"MultiLineString":return te=pp(_,g.type==="LineString"?0:1,K),new Qi(te,d);case"Polygon":case"MultiPolygon":return te=pp(_,g.type==="Polygon"?1:2,K),new Sl(te,d);case"GeometryCollection":for(oe=0,pe=g.geometries.length;oe<pe;oe++){var Ae=fp({geometry:g.geometries[oe],type:"Feature",properties:o.properties},d);Ae&&C.push(Ae)}return new Lt(C);case"FeatureCollection":for(oe=0,pe=g.features.length;oe<pe;oe++){var Le=fp(g.features[oe],d);Le&&C.push(Le)}return new Lt(C);default:throw new Error("Invalid GeoJSON object.")}}function NS(o,d,g,_){return o?o(d,g):new dp(g,_&&_.markersInheritOptions&&_)}function s_(o){return new _e(o[1],o[0],o[2])}function pp(o,d,g){for(var _=[],C=0,R=o.length,K;C<R;C++)K=d?pp(o[C],d-1,g):(g||s_)(o[C]),_.push(K);return _}function o_(o,d){return o=ge(o),o.alt!==void 0?[y(o.lng,d),y(o.lat,d),y(o.alt,d)]:[y(o.lng,d),y(o.lat,d)]}function mp(o,d,g,_){for(var C=[],R=0,K=o.length;R<K;R++)C.push(d?mp(o[R],m(o[R])?0:d-1,g,_):o_(o[R],_));return!d&&g&&C.length>0&&C.push(C[0].slice()),C}function El(o,d){return o.feature?i({},o.feature,{geometry:d}):gp(d)}function gp(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var l_={toGeoJSON:function(o){return El(this,{type:"Point",coordinates:o_(this.getLatLng(),o)})}};dp.include(l_),a_.include(l_),hp.include(l_),Qi.include({toGeoJSON:function(o){var d=!m(this._latlngs),g=mp(this._latlngs,d?1:0,!1,o);return El(this,{type:(d?"Multi":"")+"LineString",coordinates:g})}}),Sl.include({toGeoJSON:function(o){var d=!m(this._latlngs),g=d&&!m(this._latlngs[0]),_=mp(this._latlngs,g?2:d?1:0,!0,o);return d||(_=[_]),El(this,{type:(g?"Multi":"")+"Polygon",coordinates:_})}}),Mt.include({toMultiPoint:function(o){var d=[];return this.eachLayer(function(g){d.push(g.toGeoJSON(o).geometry.coordinates)}),El(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(o){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(o);var g=d==="GeometryCollection",_=[];return this.eachLayer(function(C){if(C.toGeoJSON){var R=C.toGeoJSON(o);if(g)_.push(R.geometry);else{var K=gp(R);K.type==="FeatureCollection"?_.push.apply(_,K.features):_.push(K)}}}),g?El(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function IS(o,d){return new Ji(o,d)}var U3=IS,yp=ot.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,d,g){this._url=o,this._bounds=xe(d),S(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ke(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ut(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Ki(this._image),this},bringToBack:function(){return this._map&&Ba(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=xe(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",d=this._image=o?this._url:Ve("img");if(ke(d,"leaflet-image-layer"),this._zoomAnimated&&ke(d,"leaflet-zoom-animated"),this.options.className&&ke(d,this.options.className),d.onselectstart=f,d.onmousemove=f,d.onload=s(this.fire,this,"load"),d.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(o){var d=this._map.getZoomScale(o.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;xi(this._image,g,d)},_reset:function(){var o=this._image,d=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=d.getSize();Ce(o,d.min),o.style.width=g.x+"px",o.style.height=g.y+"px"},_updateOpacity:function(){kt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),z3=function(o,d,g){return new yp(o,d,g)},CS=yp.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",d=this._image=o?this._url:Ve("video");if(ke(d,"leaflet-image-layer"),this._zoomAnimated&&ke(d,"leaflet-zoom-animated"),this.options.className&&ke(d,this.options.className),d.onselectstart=f,d.onmousemove=f,d.onloadeddata=s(this.fire,this,"load"),o){for(var g=d.getElementsByTagName("source"),_=[],C=0;C<g.length;C++)_.push(g[C].src);this._url=g.length>0?_:[d.src];return}T(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var K=Ve("source");K.src=this._url[R],d.appendChild(K)}}});function H3(o,d,g){return new CS(o,d,g)}var OS=yp.extend({_initImage:function(){var o=this._image=this._url;ke(o,"leaflet-image-layer"),this._zoomAnimated&&ke(o,"leaflet-zoom-animated"),this.options.className&&ke(o,this.options.className),o.onselectstart=f,o.onmousemove=f}});function W3(o,d,g){return new OS(o,d,g)}var Pi=ot.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,d){o&&(o instanceof _e||T(o))?(this._latlng=ge(o),S(this,d)):(S(this,o),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&kt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&kt(this._container,1),this.bringToFront(),this.options.interactive&&(ke(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(kt(this._container,0),this._removeTimeout=setTimeout(s(ut,void 0,this._container),200)):ut(this._container),this.options.interactive&&(Pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=ge(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ki(this._container),this},bringToBack:function(){return this._map&&Ba(this._container),this},_prepareOpen:function(o){var d=this._source;if(!d._map)return!1;if(d instanceof Lt){d=null;var g=this._source._layers;for(var _ in g)if(g[_]._map){d=g[_];break}if(!d)return!1;this._source=d}if(!o)if(d.getCenter)o=d.getCenter();else if(d.getLatLng)o=d.getLatLng();else if(d.getBounds)o=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")o.innerHTML=d;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),d=H(this.options.offset),g=this._getAnchor();this._zoomAnimated?Ce(this._container,o.add(g)):d=d.add(o).add(g);var _=this._containerBottom=-d.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=_+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});$e.include({_initOverlay:function(o,d,g,_){var C=d;return C instanceof o||(C=new o(_).setContent(d)),g&&C.setLatLng(g),C}}),ot.include({_initOverlay:function(o,d,g,_){var C=g;return C instanceof o?(S(C,_),C._source=this):(C=d&&!_?d:new o(_,this),C.setContent(g)),C}});var vp=Pi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Pi.prototype.openOn.call(this,o)},onAdd:function(o){Pi.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ga||this._source.on("preclick",Tr))},onRemove:function(o){Pi.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ga||this._source.off("preclick",Tr))},getEvents:function(){var o=Pi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",d=this._container=Ve("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=Ve("div",o+"-content-wrapper",d);if(this._contentNode=Ve("div",o+"-content",g),za(d),Ua(this._contentNode),Te(d,"contextmenu",Tr),this._tipContainer=Ve("div",o+"-tip-container",d),this._tip=Ve("div",o+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Ve("a",o+"-close-button",d);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Te(_,"click",function(C){At(C),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,d=o.style;d.width="",d.whiteSpace="nowrap";var g=o.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),d.width=g+1+"px",d.whiteSpace="",d.height="";var _=o.offsetHeight,C=this.options.maxHeight,R="leaflet-popup-scrolled";C&&_>C?(d.height=C+"px",ke(o,R)):Pt(o,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var d=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),g=this._getAnchor();Ce(this._container,d.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,d=parseInt(Fa(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+d,_=this._containerWidth,C=new z(this._containerLeft,-g-this._containerBottom);C._add(Pr(this._container));var R=o.layerPointToContainerPoint(C),K=H(this.options.autoPanPadding),J=H(this.options.autoPanPaddingTopLeft||K),te=H(this.options.autoPanPaddingBottomRight||K),oe=o.getSize(),pe=0,Ae=0;R.x+_+te.x>oe.x&&(pe=R.x+_-oe.x+te.x),R.x-pe-J.x<0&&(pe=R.x-J.x),R.y+g+te.y>oe.y&&(Ae=R.y+g-oe.y+te.y),R.y-Ae-J.y<0&&(Ae=R.y-J.y),(pe||Ae)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([pe,Ae]))}},_getAnchor:function(){return H(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),G3=function(o,d){return new vp(o,d)};$e.mergeOptions({closePopupOnClick:!0}),$e.include({openPopup:function(o,d,g){return this._initOverlay(vp,o,d,g).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),ot.include({bindPopup:function(o,d){return this._popup=this._initOverlay(vp,this._popup,o,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Lt||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){ir(o);var d=o.layer||o.target;if(this._popup._source===d&&!(d instanceof Ga)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=d,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var _p=Pi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Pi.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Pi.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Pi.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",d=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ve("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var d,g,_=this._map,C=this._container,R=_.latLngToContainerPoint(_.getCenter()),K=_.layerPointToContainerPoint(o),J=this.options.direction,te=C.offsetWidth,oe=C.offsetHeight,pe=H(this.options.offset),Ae=this._getAnchor();J==="top"?(d=te/2,g=oe):J==="bottom"?(d=te/2,g=0):J==="center"?(d=te/2,g=oe/2):J==="right"?(d=0,g=oe/2):J==="left"?(d=te,g=oe/2):K.x<R.x?(J="right",d=0,g=oe/2):(J="left",d=te+(pe.x+Ae.x)*2,g=oe/2),o=o.subtract(H(d,g,!0)).add(pe).add(Ae),Pt(C,"leaflet-tooltip-right"),Pt(C,"leaflet-tooltip-left"),Pt(C,"leaflet-tooltip-top"),Pt(C,"leaflet-tooltip-bottom"),ke(C,"leaflet-tooltip-"+J),Ce(C,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&kt(this._container,o)},_animateZoom:function(o){var d=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(d)},_getAnchor:function(){return H(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),K3=function(o,d){return new _p(o,d)};$e.include({openTooltip:function(o,d,g){return this._initOverlay(_p,o,d,g).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),ot.include({bindTooltip:function(o,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(_p,this._tooltip,o,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var d=o?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[d](g),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Lt||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var d=typeof o.getElement=="function"&&o.getElement();d&&(Te(d,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Te(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var d=typeof o.getElement=="function"&&o.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var d=o.latlng,g,_;this._tooltip.options.sticky&&o.originalEvent&&(g=this._map.mouseEventToContainerPoint(o.originalEvent),_=this._map.containerPointToLayerPoint(g),d=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(d)}});var jS=wi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var d=o&&o.tagName==="DIV"?o:document.createElement("div"),g=this.options;if(g.html instanceof Element?(no(d),d.appendChild(g.html)):d.innerHTML=g.html!==!1?g.html:"",g.bgPos){var _=H(g.bgPos);d.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function q3(o){return new jS(o)}wi.Default=ed;var td=ot.extend({options:{tileSize:256,opacity:1,updateWhenIdle:we.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){S(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),ut(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ki(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ba(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof z?o:new z(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var d=this.getPane().children,g=-o(-1/0,1/0),_=0,C=d.length,R;_<C;_++)R=d[_].style.zIndex,d[_]!==this._container&&R&&(g=o(g,+R));isFinite(g)&&(this.options.zIndex=g+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!we.ielt9){kt(this._container,this.options.opacity);var o=+new Date,d=!1,g=!1;for(var _ in this._tiles){var C=this._tiles[_];if(!(!C.current||!C.loaded)){var R=Math.min(1,(o-C.loaded)/200);kt(C.el,R),R<1?d=!0:(C.active?g=!0:this._onOpaqueTile(C),C.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),d&&(D(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=Ve("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,d=this.options.maxZoom;if(o!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===o?(this._levels[g].el.style.zIndex=d-Math.abs(o-g),this._onUpdateLevel(g)):(ut(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var _=this._levels[o],C=this._map;return _||(_=this._levels[o]={},_.el=Ve("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=d,_.origin=C.project(C.unproject(C.getPixelOrigin()),o).round(),_.zoom=o,this._setZoomTransform(_,C.getCenter(),C.getZoom()),f(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var o,d,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)d=this._tiles[o],d.retain=d.current;for(o in this._tiles)if(d=this._tiles[o],d.current&&!d.active){var _=d.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var d in this._tiles)this._tiles[d].coords.z===o&&this._removeTile(d)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)ut(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,d,g,_){var C=Math.floor(o/2),R=Math.floor(d/2),K=g-1,J=new z(+C,+R);J.z=+K;var te=this._tileCoordsToKey(J),oe=this._tiles[te];return oe&&oe.active?(oe.retain=!0,!0):(oe&&oe.loaded&&(oe.retain=!0),K>_?this._retainParent(C,R,K,_):!1)},_retainChildren:function(o,d,g,_){for(var C=2*o;C<2*o+2;C++)for(var R=2*d;R<2*d+2;R++){var K=new z(C,R);K.z=g+1;var J=this._tileCoordsToKey(K),te=this._tiles[J];if(te&&te.active){te.retain=!0;continue}else te&&te.loaded&&(te.retain=!0);g+1<_&&this._retainChildren(C,R,g+1,_)}},_resetView:function(o){var d=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var d=this.options;return d.minNativeZoom!==void 0&&o<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<o?d.maxNativeZoom:o},_setView:function(o,d,g,_){var C=Math.round(d);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var R=this.options.updateWhenZooming&&C!==this._tileZoom;(!_||R)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(o),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(o,d)},_setZoomTransforms:function(o,d){for(var g in this._levels)this._setZoomTransform(this._levels[g],o,d)},_setZoomTransform:function(o,d,g){var _=this._map.getZoomScale(g,o.zoom),C=o.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(d,g)).round();we.any3d?xi(o.el,C,_):Ce(o.el,C)},_resetGrid:function(){var o=this._map,d=o.options.crs,g=this._tileSize=this.getTileSize(),_=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,d.wrapLng[0]],_).x/g.x),Math.ceil(o.project([0,d.wrapLng[1]],_).x/g.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([d.wrapLat[0],0],_).y/g.x),Math.ceil(o.project([d.wrapLat[1],0],_).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var d=this._map,g=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),_=d.getZoomScale(g,this._tileZoom),C=d.project(o,this._tileZoom).floor(),R=d.getSize().divideBy(_*2);return new ee(C.subtract(R),C.add(R))},_update:function(o){var d=this._map;if(d){var g=this._clampZoom(d.getZoom());if(o===void 0&&(o=d.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(o),C=this._pxBoundsToTileRange(_),R=C.getCenter(),K=[],J=this.options.keepBuffer,te=new ee(C.getBottomLeft().subtract([J,-J]),C.getTopRight().add([J,-J]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var oe in this._tiles){var pe=this._tiles[oe].coords;(pe.z!==this._tileZoom||!te.contains(new z(pe.x,pe.y)))&&(this._tiles[oe].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(o,g);return}for(var Ae=C.min.y;Ae<=C.max.y;Ae++)for(var Le=C.min.x;Le<=C.max.x;Le++){var $n=new z(Le,Ae);if($n.z=this._tileZoom,!!this._isValidTile($n)){var cn=this._tiles[this._tileCoordsToKey($n)];cn?cn.current=!0:K.push($n)}}if(K.sort(function(Gn,Al){return Gn.distanceTo(R)-Al.distanceTo(R)}),K.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Mr=document.createDocumentFragment();for(Le=0;Le<K.length;Le++)this._addTile(K[Le],Mr);this._level.el.appendChild(Mr)}}}},_isValidTile:function(o){var d=this._map.options.crs;if(!d.infinite){var g=this._globalTileRange;if(!d.wrapLng&&(o.x<g.min.x||o.x>g.max.x)||!d.wrapLat&&(o.y<g.min.y||o.y>g.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(o);return xe(this.options.bounds).overlaps(_)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var d=this._map,g=this.getTileSize(),_=o.scaleBy(g),C=_.add(g),R=d.unproject(_,o.z),K=d.unproject(C,o.z);return[R,K]},_tileCoordsToBounds:function(o){var d=this._tileCoordsToNwSe(o),g=new ce(d[0],d[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var d=o.split(":"),g=new z(+d[0],+d[1]);return g.z=+d[2],g},_removeTile:function(o){var d=this._tiles[o];d&&(ut(d.el),delete this._tiles[o],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){ke(o,"leaflet-tile");var d=this.getTileSize();o.style.width=d.x+"px",o.style.height=d.y+"px",o.onselectstart=f,o.onmousemove=f,we.ielt9&&this.options.opacity<1&&kt(o,this.options.opacity)},_addTile:function(o,d){var g=this._getTilePos(o),_=this._tileCoordsToKey(o),C=this.createTile(this._wrapCoords(o),s(this._tileReady,this,o));this._initTile(C),this.createTile.length<2&&B(s(this._tileReady,this,o,null,C)),Ce(C,g),this._tiles[_]={el:C,coords:o,current:!0},d.appendChild(C),this.fire("tileloadstart",{tile:C,coords:o})},_tileReady:function(o,d,g){d&&this.fire("tileerror",{error:d,tile:g,coords:o});var _=this._tileCoordsToKey(o);g=this._tiles[_],g&&(g.loaded=+new Date,this._map._fadeAnimated?(kt(g.el,0),D(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),d||(ke(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),we.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var d=new z(this._wrapX?p(o.x,this._wrapX):o.x,this._wrapY?p(o.y,this._wrapY):o.y);return d.z=o.z,d},_pxBoundsToTileRange:function(o){var d=this.getTileSize();return new ee(o.min.unscaleBy(d).floor(),o.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Z3(o){return new td(o)}var Tl=td.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,d){this._url=o,d=S(this,d),d.detectRetina&&we.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,d){return this._url===o&&d===void 0&&(d=!0),this._url=o,d||this.redraw(),this},createTile:function(o,d){var g=document.createElement("img");return Te(g,"load",s(this._tileOnLoad,this,d,g)),Te(g,"error",s(this._tileOnError,this,d,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(o),g},getTileUrl:function(o){var d={r:we.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-o.y;this.options.tms&&(d.y=g),d["-y"]=g}return w(this._url,i(d,this.options))},_tileOnLoad:function(o,d){we.ielt9?setTimeout(s(o,this,null,d),0):o(null,d)},_tileOnError:function(o,d,g){var _=this.options.errorTileUrl;_&&d.getAttribute("src")!==_&&(d.src=_),o(g,d)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,d=this.options.maxZoom,g=this.options.zoomReverse,_=this.options.zoomOffset;return g&&(o=d-o),o+_},_getSubdomain:function(o){var d=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var o,d;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(d=this._tiles[o].el,d.onload=f,d.onerror=f,!d.complete)){d.src=N;var g=this._tiles[o].coords;ut(d),delete this._tiles[o],this.fire("tileabort",{tile:d,coords:g})}},_removeTile:function(o){var d=this._tiles[o];if(d)return d.el.setAttribute("src",N),td.prototype._removeTile.call(this,o)},_tileReady:function(o,d,g){if(!(!this._map||g&&g.getAttribute("src")===N))return td.prototype._tileReady.call(this,o,d,g)}});function kS(o,d){return new Tl(o,d)}var DS=Tl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,d){this._url=o;var g=i({},this.defaultWmsParams);for(var _ in d)_ in this.options||(g[_]=d[_]);d=S(this,d);var C=d.detectRetina&&we.retina?2:1,R=this.getTileSize();g.width=R.x*C,g.height=R.y*C,this.wmsParams=g},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,Tl.prototype.onAdd.call(this,o)},getTileUrl:function(o){var d=this._tileCoordsToNwSe(o),g=this._crs,_=re(g.project(d[0]),g.project(d[1])),C=_.min,R=_.max,K=(this._wmsVersion>=1.3&&this._crs===zt?[C.y,C.x,R.y,R.x]:[C.x,C.y,R.x,R.y]).join(","),J=Tl.prototype.getTileUrl.call(this,o);return J+x(this.wmsParams,J,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+K},setParams:function(o,d){return i(this.wmsParams,o),d||this.redraw(),this}});function Y3(o,d){return new DS(o,d)}Tl.WMS=DS,kS.wms=Y3;var ea=ot.extend({options:{padding:.1},initialize:function(o){S(this,o),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ke(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,d){var g=this._map.getZoomScale(d,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,d),R=_.multiplyBy(-g).add(C).subtract(this._map._getNewPixelOrigin(o,d));we.any3d?xi(this._container,R,g):Ce(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,d=this._map.getSize(),g=this._map.containerPointToLayerPoint(d.multiplyBy(-o)).round();this._bounds=new ee(g,g.add(d.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),RS=ea.extend({options:{tolerance:0},getEvents:function(){var o=ea.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ea.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Te(o,"mousemove",this._onMouseMove,this),Te(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Te(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){D(this._redrawRequest),delete this._ctx,ut(this._container),st(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var d in this._layers)o=this._layers[d],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ea.prototype._update.call(this);var o=this._bounds,d=this._container,g=o.getSize(),_=we.retina?2:1;Ce(d,o.min),d.width=_*g.x,d.height=_*g.y,d.style.width=g.x+"px",d.style.height=g.y+"px",we.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){ea.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[u(o)]=o;var d=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var d=o._order,g=d.next,_=d.prev;g?g.prev=_:this._drawLast=_,_?_.next=g:this._drawFirst=g,delete o._order,delete this._layers[u(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var d=o.options.dashArray.split(/[, ]+/),g=[],_,C;for(C=0;C<d.length;C++){if(_=Number(d[C]),isNaN(_))return;g.push(_)}o.options._dashArray=g}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var d=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(o._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(o._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var d=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,d=this._redrawBounds;if(this._ctx.save(),d){var g=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)o=_.layer,(!d||o._pxBounds&&o._pxBounds.intersects(d))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,d){if(this._drawing){var g,_,C,R,K=o._parts,J=K.length,te=this._ctx;if(J){for(te.beginPath(),g=0;g<J;g++){for(_=0,C=K[g].length;_<C;_++)R=K[g][_],te[_?"lineTo":"moveTo"](R.x,R.y);d&&te.closePath()}this._fillStroke(te,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var d=o._point,g=this._ctx,_=Math.max(Math.round(o._radius),1),C=(Math.max(Math.round(o._radiusY),1)||_)/_;C!==1&&(g.save(),g.scale(1,C)),g.beginPath(),g.arc(d.x,d.y/C,_,0,Math.PI*2,!1),C!==1&&g.restore(),this._fillStroke(g,o)}},_fillStroke:function(o,d){var g=d.options;g.fill&&(o.globalAlpha=g.fillOpacity,o.fillStyle=g.fillColor||g.color,o.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(o.setLineDash&&o.setLineDash(d.options&&d.options._dashArray||[]),o.globalAlpha=g.opacity,o.lineWidth=g.weight,o.strokeStyle=g.color,o.lineCap=g.lineCap,o.lineJoin=g.lineJoin,o.stroke())},_onClick:function(o){for(var d=this._map.mouseEventToLayerPoint(o),g,_,C=this._drawFirst;C;C=C.next)g=C.layer,g.options.interactive&&g._containsPoint(d)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(g))&&(_=g);this._fireEvent(_?[_]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,d)}},_handleMouseOut:function(o){var d=this._hoveredLayer;d&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([d],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,d){if(!this._mouseHoverThrottled){for(var g,_,C=this._drawFirst;C;C=C.next)g=C.layer,g.options.interactive&&g._containsPoint(d)&&(_=g);_!==this._hoveredLayer&&(this._handleMouseOut(o),_&&(ke(this._container,"leaflet-interactive"),this._fireEvent([_],o,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,d,g){this._map._fireDOMEvent(d,g||d.type,o)},_bringToFront:function(o){var d=o._order;if(d){var g=d.next,_=d.prev;if(g)g.prev=_;else return;_?_.next=g:g&&(this._drawFirst=g),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(o)}},_bringToBack:function(o){var d=o._order;if(d){var g=d.next,_=d.prev;if(_)_.next=g;else return;g?g.prev=_:_&&(this._drawLast=_),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(o)}}});function LS(o){return we.canvas?new RS(o):null}var nd=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),X3={_initContainer:function(){this._container=Ve("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ea.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var d=o._container=nd("shape");ke(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",o._path=nd("path"),d.appendChild(o._path),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){var d=o._container;this._container.appendChild(d),o.options.interactive&&o.addInteractiveTarget(d)},_removePath:function(o){var d=o._container;ut(d),o.removeInteractiveTarget(d),delete this._layers[u(o)]},_updateStyle:function(o){var d=o._stroke,g=o._fill,_=o.options,C=o._container;C.stroked=!!_.stroke,C.filled=!!_.fill,_.stroke?(d||(d=o._stroke=nd("stroke")),C.appendChild(d),d.weight=_.weight+"px",d.color=_.color,d.opacity=_.opacity,_.dashArray?d.dashStyle=T(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=_.lineCap.replace("butt","flat"),d.joinstyle=_.lineJoin):d&&(C.removeChild(d),o._stroke=null),_.fill?(g||(g=o._fill=nd("fill")),C.appendChild(g),g.color=_.fillColor||_.color,g.opacity=_.fillOpacity):g&&(C.removeChild(g),o._fill=null)},_updateCircle:function(o){var d=o._point.round(),g=Math.round(o._radius),_=Math.round(o._radiusY||g);this._setPath(o,o._empty()?"M0 0":"AL "+d.x+","+d.y+" "+g+","+_+" 0,"+65535*360)},_setPath:function(o,d){o._path.v=d},_bringToFront:function(o){Ki(o._container)},_bringToBack:function(o){Ba(o._container)}},xp=we.vml?nd:ht,rd=ea.extend({_initContainer:function(){this._container=xp("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=xp("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ut(this._container),st(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ea.prototype._update.call(this);var o=this._bounds,d=o.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,g.setAttribute("width",d.x),g.setAttribute("height",d.y)),Ce(g,o.min),g.setAttribute("viewBox",[o.min.x,o.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(o){var d=o._path=xp("path");o.options.className&&ke(d,o.options.className),o.options.interactive&&ke(d,"leaflet-interactive"),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){ut(o._path),o.removeInteractiveTarget(o._path),delete this._layers[u(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var d=o._path,g=o.options;d&&(g.stroke?(d.setAttribute("stroke",g.color),d.setAttribute("stroke-opacity",g.opacity),d.setAttribute("stroke-width",g.weight),d.setAttribute("stroke-linecap",g.lineCap),d.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?d.setAttribute("stroke-dasharray",g.dashArray):d.removeAttribute("stroke-dasharray"),g.dashOffset?d.setAttribute("stroke-dashoffset",g.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),g.fill?(d.setAttribute("fill",g.fillColor||g.color),d.setAttribute("fill-opacity",g.fillOpacity),d.setAttribute("fill-rule",g.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(o,d){this._setPath(o,gt(o._parts,d))},_updateCircle:function(o){var d=o._point,g=Math.max(Math.round(o._radius),1),_=Math.max(Math.round(o._radiusY),1)||g,C="a"+g+","+_+" 0 1,0 ",R=o._empty()?"M0 0":"M"+(d.x-g)+","+d.y+C+g*2+",0 "+C+-g*2+",0 ";this._setPath(o,R)},_setPath:function(o,d){o._path.setAttribute("d",d)},_bringToFront:function(o){Ki(o._path)},_bringToBack:function(o){Ba(o._path)}});we.vml&&rd.include(X3);function $S(o){return we.svg||we.vml?new rd(o):null}$e.include({getRenderer:function(o){var d=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var d=this._paneRenderers[o];return d===void 0&&(d=this._createRenderer({pane:o}),this._paneRenderers[o]=d),d},_createRenderer:function(o){return this.options.preferCanvas&&LS(o)||$S(o)}});var FS=Sl.extend({initialize:function(o,d){Sl.prototype.initialize.call(this,this._boundsToLatLngs(o),d)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=xe(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function Q3(o,d){return new FS(o,d)}rd.create=xp,rd.pointsToPath=gt,Ji.geometryToLayer=fp,Ji.coordsToLatLng=s_,Ji.coordsToLatLngs=pp,Ji.latLngToCoords=o_,Ji.latLngsToCoords=mp,Ji.getFeature=El,Ji.asFeature=gp,$e.mergeOptions({boxZoom:!0});var BS=ar.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){st(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ut(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Yr(),Bc(),this._startPoint=this._map.mouseEventToContainerPoint(o),Te(document,{contextmenu:ir,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Ve("div","leaflet-zoom-box",this._container),ke(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var d=new ee(this._point,this._startPoint),g=d.getSize();Ce(this._box,d.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(ut(this._box),Pt(this._container,"leaflet-crosshair")),Xr(),Vc(),st(document,{contextmenu:ir,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var d=new ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});$e.addInitHook("addHandler","boxZoom",BS),$e.mergeOptions({doubleClickZoom:!0});var VS=ar.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var d=this._map,g=d.getZoom(),_=d.options.zoomDelta,C=o.originalEvent.shiftKey?g-_:g+_;d.options.doubleClickZoom==="center"?d.setZoom(C):d.setZoomAround(o.containerPoint,C)}});$e.addInitHook("addHandler","doubleClickZoom",VS),$e.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var US=ar.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Qr(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}ke(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pt(this._map._container,"leaflet-grab"),Pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=xe(this._map.options.maxBounds);this._offsetLimit=re(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var d=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(d),this._prunePositions(d)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,d){return o-(o-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;o.x<d.min.x&&(o.x=this._viscousLimit(o.x,d.min.x)),o.y<d.min.y&&(o.y=this._viscousLimit(o.y,d.min.y)),o.x>d.max.x&&(o.x=this._viscousLimit(o.x,d.max.x)),o.y>d.max.y&&(o.y=this._viscousLimit(o.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,d=Math.round(o/2),g=this._initialWorldOffset,_=this._draggable._newPos.x,C=(_-d+g)%o+d-g,R=(_+d+g)%o-d-g,K=Math.abs(C+g)<Math.abs(R+g)?C:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=K},_onDragEnd:function(o){var d=this._map,g=d.options,_=!g.inertia||o.noInertia||this._times.length<2;if(d.fire("dragend",o),_)d.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,K=g.easeLinearity,J=C.multiplyBy(K/R),te=J.distanceTo([0,0]),oe=Math.min(g.inertiaMaxSpeed,te),pe=J.multiplyBy(oe/te),Ae=oe/(g.inertiaDeceleration*K),Le=pe.multiplyBy(-Ae/2).round();!Le.x&&!Le.y?d.fire("moveend"):(Le=d._limitOffset(Le,d.options.maxBounds),B(function(){d.panBy(Le,{duration:Ae,easeLinearity:K,noMoveStart:!0,animate:!0})}))}}});$e.addInitHook("addHandler","dragging",US),$e.mergeOptions({keyboard:!0,keyboardPanDelta:80});var zS=ar.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Te(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),st(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,d=document.documentElement,g=o.scrollTop||d.scrollTop,_=o.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(_,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var d=this._panKeys={},g=this.keyCodes,_,C;for(_=0,C=g.left.length;_<C;_++)d[g.left[_]]=[-1*o,0];for(_=0,C=g.right.length;_<C;_++)d[g.right[_]]=[o,0];for(_=0,C=g.down.length;_<C;_++)d[g.down[_]]=[0,o];for(_=0,C=g.up.length;_<C;_++)d[g.up[_]]=[0,-1*o]},_setZoomDelta:function(o){var d=this._zoomKeys={},g=this.keyCodes,_,C;for(_=0,C=g.zoomIn.length;_<C;_++)d[g.zoomIn[_]]=o;for(_=0,C=g.zoomOut.length;_<C;_++)d[g.zoomOut[_]]=-o},_addHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){st(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var d=o.keyCode,g=this._map,_;if(d in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(_=this._panKeys[d],o.shiftKey&&(_=H(_).multiplyBy(3)),g.options.maxBounds&&(_=g._limitOffset(H(_),g.options.maxBounds)),g.options.worldCopyJump){var C=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(_)));g.panTo(C)}else g.panBy(_)}else if(d in this._zoomKeys)g.setZoom(g.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;ir(o)}}});$e.addInitHook("addHandler","keyboard",zS),$e.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var HS=ar.extend({addHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){st(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var d=ip(o),g=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var _=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),_),ir(o)},_performZoom:function(){var o=this._map,d=o.getZoom(),g=this._map.options.zoomSnap||0;o._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,R=g?Math.ceil(C/g)*g:C,K=o._limitZoom(d+(this._delta>0?R:-R))-d;this._delta=0,this._startTime=null,K&&(o.options.scrollWheelZoom==="center"?o.setZoom(d+K):o.setZoomAround(this._lastMousePos,d+K))}});$e.addInitHook("addHandler","scrollWheelZoom",HS);var J3=600;$e.mergeOptions({tapHold:we.touchNative&&we.safari&&we.mobile,tapTolerance:15});var WS=ar.extend({addHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){st(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var d=o.touches[0];this._startPos=this._newPos=new z(d.clientX,d.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(Te(document,"touchend",At),Te(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),J3),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){st(document,"touchend",At),st(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),st(document,"touchend touchcancel contextmenu",this._cancel,this),st(document,"touchmove",this._onMove,this)},_onMove:function(o){var d=o.touches[0];this._newPos=new z(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,d){var g=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});g._simulated=!0,d.target.dispatchEvent(g)}});$e.addInitHook("addHandler","tapHold",WS),$e.mergeOptions({touchZoom:we.touch,bounceAtZoomLimits:!0});var GS=ar.extend({addHooks:function(){ke(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),st(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var d=this._map;if(!(!o.touches||o.touches.length!==2||d._animatingZoom||this._zooming)){var g=d.mouseEventToContainerPoint(o.touches[0]),_=d.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(g.add(_)._divideBy(2))),this._startDist=g.distanceTo(_),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),At(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var d=this._map,g=d.mouseEventToContainerPoint(o.touches[0]),_=d.mouseEventToContainerPoint(o.touches[1]),C=g.distanceTo(_)/this._startDist;if(this._zoom=d.getScaleZoom(C,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&C<1||this._zoom>d.getMaxZoom()&&C>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var R=g._add(_)._divideBy(2)._subtract(this._centerPoint);if(C===1&&R.x===0&&R.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),D(this._animRequest);var K=s(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(K,this,!0),At(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,D(this._animRequest),st(document,"touchmove",this._onTouchMove,this),st(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});$e.addInitHook("addHandler","touchZoom",GS),$e.BoxZoom=BS,$e.DoubleClickZoom=VS,$e.Drag=US,$e.Keyboard=zS,$e.ScrollWheelZoom=HS,$e.TapHold=WS,$e.TouchZoom=GS,n.Bounds=ee,n.Browser=we,n.CRS=Je,n.Canvas=RS,n.Circle=a_,n.CircleMarker=hp,n.Class=W,n.Control=Wn,n.DivIcon=jS,n.DivOverlay=Pi,n.DomEvent=ap,n.DomUtil=np,n.Draggable=Qr,n.Evented=Z,n.FeatureGroup=Lt,n.GeoJSON=Ji,n.GridLayer=td,n.Handler=ar,n.Icon=wi,n.ImageOverlay=yp,n.LatLng=_e,n.LatLngBounds=ce,n.Layer=ot,n.LayerGroup=Mt,n.LineUtil=V,n.Map=$e,n.Marker=dp,n.Mixin=ro,n.Path=Ga,n.Point=z,n.PolyUtil=bl,n.Polygon=Sl,n.Polyline=Qi,n.Popup=vp,n.PosAnimation=qc,n.Projection=de,n.Rectangle=FS,n.Renderer=ea,n.SVG=rd,n.SVGOverlay=OS,n.TileLayer=Tl,n.Tooltip=_p,n.Transformation=Ie,n.Util=F,n.VideoOverlay=CS,n.bind=s,n.bounds=re,n.canvas=LS,n.circle=F3,n.circleMarker=$3,n.control=Ln,n.divIcon=q3,n.extend=i,n.featureGroup=Pl,n.geoJSON=IS,n.geoJson=U3,n.gridLayer=Z3,n.icon=R3,n.imageOverlay=z3,n.latLng=ge,n.latLngBounds=xe,n.layerGroup=Wa,n.map=ml,n.marker=L3,n.point=H,n.polygon=V3,n.polyline=B3,n.popup=G3,n.rectangle=Q3,n.setOptions=S,n.stamp=u,n.svg=$S,n.svgOverlay=W3,n.tileLayer=kS,n.tooltip=K3,n.transformation=se,n.version=r,n.videoOverlay=H3;var eF=window.L;n.noConflict=function(){return window.L=eF,this},window.L=n})})(Ew,Ew.exports);var tl=Ew.exports;const C3=dt(tl);function zf(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function t_(t,e){return e==null?function(r,i){const a=U.useRef();return a.current||(a.current=t(r,i)),a}:function(r,i){const a=U.useRef();a.current||(a.current=t(r,i));const s=U.useRef(r),{instance:l}=a.current;return U.useEffect(function(){s.current!==r&&(e(l,r,s.current),s.current=r)},[l,r,i]),a}}function O3(t,e){U.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function j3(t){return function(n){const r=Jv(),i=t(e_(n,r),r);return A3(r.map,n.attribution),AS(i.current,n.eventHandlers),O3(i.current,r),i}}function e_e(t,e){const n=U.useRef();U.useEffect(function(){if(e.pathOptions!==n.current){const i=e.pathOptions??{};t.instance.setStyle(i),n.current=i}},[t,e])}function t_e(t){return function(n){const r=Jv(),i=t(e_(n,r),r);return AS(i.current,n.eventHandlers),O3(i.current,r),e_e(i.current,n),i}}function n_e(t,e){const n=t_(t,e),r=j3(n);return I3(r)}function r_e(t,e){const n=t_(t),r=Jve(n,e);return Xve(r)}function k3(t,e){const n=t_(t,e),r=t_e(n);return I3(r)}function i_e(t,e){const n=t_(t,e),r=j3(n);return Qve(r)}function a_e(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function s_e(){return Jv().map}const FC=k3(function({center:e,children:n,...r},i){const a=new tl.CircleMarker(e,r);return zf(a,TS(i,{overlayContainer:a}))},qve);function Tw(){return Tw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tw.apply(this,arguments)}function o_e({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:a,placeholder:s,style:l,whenReady:u,zoom:c,...p},f){const[y]=U.useState({className:i,id:a,style:l}),[v,b]=U.useState(null);U.useImperativeHandle(f,()=>(v==null?void 0:v.map)??null,[v]);const S=U.useCallback(P=>{if(P!==null&&v===null){const w=new tl.Map(P,p);n!=null&&c!=null?w.setView(n,c):t!=null&&w.fitBounds(t,e),u!=null&&w.whenReady(u),b(Yve(w))}},[]);U.useEffect(()=>()=>{v==null||v.map.remove()},[v]);const x=v?X.createElement(N3,{value:v},r):s??null;return X.createElement("div",Tw({},y,{ref:S}),x)}const l_e=U.forwardRef(o_e),u_e=n_e(function({position:e,...n},r){const i=new tl.Marker(e,n);return zf(i,TS(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),c_e=k3(function({positions:e,...n},r){const i=new tl.Polyline(e,n);return zf(i,TS(r,{overlayContainer:i}))},function(e,n,r){n.positions!==r.positions&&e.setLatLngs(n.positions)}),E0=r_e(function(e,n){const r=new tl.Popup(e,n.overlayContainer);return zf(r,n)},function(e,n,{position:r},i){U.useEffect(function(){const{instance:s}=e;function l(c){c.popup===s&&(s.update(),i(!0))}function u(c){c.popup===s&&i(!1)}return n.map.on({popupopen:l,popupclose:u}),n.overlayContainer==null?(r!=null&&s.setLatLng(r),s.openOn(n.map)):n.overlayContainer.bindPopup(s),function(){var p;n.map.off({popupopen:l,popupclose:u}),(p=n.overlayContainer)==null||p.unbindPopup(),n.map.removeLayer(s)}},[e,n,i,r])}),d_e=i_e(function({url:e,...n},r){const i=new tl.TileLayer(e,e_(n,r));return zf(i,r)},function(e,n,r){a_e(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)}),T0={"hosp-1":{lat:28.6139,lng:77.209},"hosp-2":{lat:28.5672,lng:77.21},"hosp-3":{lat:28.5355,lng:77.391}};function h_e(t){const e=(t||"").trim().toLowerCase();let n=0;for(let r=0;r<e.length;r+=1)n=(n*31+e.charCodeAt(r))%1e4;return{lat:28.45+n%2200/2200*.35,lng:77.02+Math.floor(n/97)%2500/2500*.45}}function f_e(t,e){const r=(e.lat-t.lat)*Math.PI/180,i=(e.lng-t.lng)*Math.PI/180,a=t.lat*Math.PI/180,s=e.lat*Math.PI/180,l=Math.sin(r/2)*Math.sin(r/2)+Math.sin(i/2)*Math.sin(i/2)*Math.cos(a)*Math.cos(s);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}function p_e(t,e,n){return{lat:t.lat+(e.lat-t.lat)*n,lng:t.lng+(e.lng-t.lng)*n}}async function m_e(t){const e=encodeURIComponent(t),n=await fetch(`https://nominatim.openstreetmap.org/search?format=jsonv2&q=${e}&limit=1`);if(!n.ok)throw new Error("Unable to geocode address.");const r=await n.json();if(!Array.isArray(r)||!r.length)throw new Error("Address not found on map.");return{lat:Number(r[0].lat),lng:Number(r[0].lon)}}const g_e=C3.divIcon({html:'<div style="font-size: 22px;"></div>',className:"ambulance-div-icon",iconSize:[24,24],iconAnchor:[12,12]});function y_e({hospitalPoint:t,patientPoint:e}){const n=s_e();return U.useEffect(()=>{if(!t||!e)return;const r=C3.latLngBounds([t.lat,t.lng],[e.lat,e.lng]);n.fitBounds(r.pad(.35))},[n,t,e]),null}function v_e(){const{hospitals:t}=Xt(),[e,n]=U.useState(""),[r,i]=U.useState(!1),[a,s]=U.useState(null),[l,u]=U.useState(null),[c,p]=U.useState(null),[f,y]=U.useState(0),[v,b]=U.useState(""),[S,x]=U.useState(!1),[P,w]=U.useState(""),T=l?T0[l.id]:null,I=U.useMemo(()=>!T||!a?null:p_e(T,a,f),[T,a,f]);U.useEffect(()=>{if(!r)return;const A=setInterval(()=>{y(O=>{const k=Math.min(O+.05,1),$=Math.max(1,Math.ceil((1-k)*(c||1)));return k>=1?b("Ambulance has arrived at your location. Please stay reachable by phone."):k>.65?b(`Ambulance is nearby. Estimated arrival in ~${$} min.`):k>.3?b(`Ambulance en route. Estimated arrival in ~${$} min.`):b(`Dispatch confirmed from ${l==null?void 0:l.name}. Estimated arrival in ~${$} min.`),k})},1200);return()=>clearInterval(A)},[r,c,l==null?void 0:l.name]);const N=async()=>{const A=e.trim();if(!A)return;w(""),x(!0);let O;try{O=await m_e(A)}catch{O=h_e(A),w("Using approximate map location (simulation) because exact address lookup was unavailable.")}finally{x(!1)}const $=t.map(D=>{const F=T0[D.id]||{lat:28.61,lng:77.21};return{hospital:D,distance:f_e(F,O)}}).sort((D,F)=>D.distance-F.distance)[0],B=Math.max(4,Math.min(25,Math.round($.distance/1.2+3)));s(O),u($.hospital),p(B),y(0),i(!0),b(`Dispatch confirmed from ${$.hospital.name}. Estimated arrival in ~${B} min.`)},M=()=>{i(!1),s(null),u(null),p(null),y(0),b("")};return h.jsxs("div",{className:"page-shell space-y-4 pb-24",children:[h.jsxs("section",{className:"card",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Emergency Support"}),h.jsx("h2",{className:"mt-1 text-2xl font-bold",children:"Request Ambulance"}),h.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Enter your address and we will dispatch the nearest hospital ambulance. This is a live simulation view."}),h.jsxs("label",{className:"mt-4 block text-sm font-medium text-slate-700",children:["Pickup Address",h.jsx("textarea",{className:"input mt-2 min-h-[92px]",placeholder:"Example: House 12, Sector 45, Near Metro Station, Gurugram",value:e,onChange:A=>n(A.target.value)})]}),P?h.jsx("p",{className:"mt-2 text-xs text-amber-700",children:P}):null,h.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[h.jsx("button",{type:"button",className:"btn-primary",onClick:N,disabled:!e.trim()||S,children:S?"Locating Address...":"Request Ambulance"}),r?h.jsx("button",{type:"button",className:"btn-secondary",onClick:M,children:"Reset Simulation"}):null]})]}),h.jsxs("section",{className:"card",children:[h.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Live Ambulance Tracking"}),r&&l?h.jsxs("p",{className:"text-sm text-slate-600",children:["Nearest Hospital: ",h.jsx("span",{className:"font-semibold text-med-700",children:l.name})]}):null]}),h.jsx("div",{className:"mt-4 rounded-2xl border border-slate-200 bg-slate-50 p-3",children:h.jsxs(l_e,{center:[28.6139,77.209],zoom:11,className:"h-[380px] rounded-xl border border-slate-200",children:[h.jsx(d_e,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.map(A=>{const O=T0[A.id]||{lat:28.61,lng:77.21};return h.jsx(FC,{center:[O.lat,O.lng],radius:8,pathOptions:{color:"#0f766e",fillColor:"#14b8a6",fillOpacity:.9},children:h.jsxs(E0,{children:[" ",A.name]})},A.id)}),a?h.jsx(FC,{center:[a.lat,a.lng],radius:8,pathOptions:{color:"#b91c1c",fillColor:"#ef4444",fillOpacity:.9},children:h.jsx(E0,{children:" Patient Pickup Location"})}):null,T&&a?h.jsx(c_e,{positions:[[T.lat,T.lng],[a.lat,a.lng]],pathOptions:{color:"#64748b",dashArray:"6 8"}}):null,I?h.jsx(u_e,{position:[I.lat,I.lng],icon:g_e,children:h.jsx(E0,{children:" Ambulance (Live Simulation)"})}):null,h.jsx(y_e,{hospitalPoint:T,patientPoint:a})]})}),h.jsx("div",{className:"mt-4 rounded-xl border border-slate-200 bg-slate-50 p-3",children:r?h.jsxs(h.Fragment,{children:[h.jsx("p",{className:"text-sm font-medium text-slate-700",children:v}),h.jsx("div",{className:"mt-3 h-2 w-full rounded-full bg-slate-200",children:h.jsx("div",{className:"h-2 rounded-full bg-emerald-500 transition-all duration-700",style:{width:`${Math.round(f*100)}%`}})}),h.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Tracking progress: ",Math.round(f*100),"%"]}),h.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Share this tracking page from your phone to monitor ambulance movement in real-time (simulation)."})]}):h.jsx("p",{className:"text-sm text-slate-600",children:"Enter your address and tap Request Ambulance to start live tracking."})})]})]})}const __e=[{id:1,source:"AI Assistant",text:"Recommended ECG and lipid profile based on symptom pattern.",date:"2026-02-12 09:45 AM"},{id:2,source:"Reception Bot",text:"Your lab booking is confirmed for 20 Feb, 10:30 AM.",date:"2026-02-13 04:10 PM"}];function x_e(){return h.jsx("div",{className:"page-shell",children:h.jsxs("section",{className:"card",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Conversation Log"}),h.jsx("h2",{className:"mt-1 text-xl font-semibold",children:"Chat History"}),h.jsx("div",{className:"mt-4 space-y-3",children:__e.map(t=>h.jsxs("article",{className:"rounded-xl border border-slate-100 p-3",children:[h.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[h.jsx("span",{children:t.source}),h.jsx("span",{children:t.date})]}),h.jsx("p",{className:"mt-2 text-sm text-slate-700",children:t.text})]},t.id))})]})})}const BC={low:"bg-teal-100 text-teal-700",medium:"bg-amber-100 text-amber-700",high:"bg-red-100 text-red-700"};function b_e({level:t}){return h.jsxs("span",{className:`rounded-full px-2.5 py-1 text-xs font-semibold uppercase ${BC[t]||BC.low}`,children:[t," priority"]})}function lr(t){return`${t.toLocaleString("en-IN")}`}function D3({bill:t,title:e="Billing Breakdown"}){return t?h.jsxs("section",{className:"card",children:[h.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[h.jsx("h3",{className:"text-lg font-semibold",children:e}),h.jsx("p",{className:"text-sm text-slate-500",children:"Transparent itemized estimate"})]}),h.jsx("div",{className:"space-y-3",children:t.rows.map(n=>h.jsxs("div",{className:"rounded-xl border border-slate-100 p-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("p",{className:"font-medium",children:n.name}),h.jsx("p",{className:"font-semibold",children:lr(n.total)})]}),h.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-1 text-xs text-slate-600 sm:grid-cols-4",children:[h.jsxs("p",{children:["Price: ",lr(n.basePrice)]}),h.jsxs("p",{children:["After Insurance: ",lr(n.discountedPrice)]}),h.jsxs("p",{children:["Service Fee: ",lr(n.serviceFee)]}),h.jsxs("p",{children:["Tax: ",lr(n.tax)]})]})]},n.name))}),h.jsxs("div",{className:"mt-4 rounded-xl bg-slate-50 p-4 text-sm",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Subtotal"}),h.jsx("span",{children:lr(t.subtotal)})]}),h.jsxs("div",{className:"mt-1 flex justify-between",children:[h.jsx("span",{children:"Service Fees"}),h.jsx("span",{children:lr(t.fees)})]}),h.jsxs("div",{className:"mt-1 flex justify-between",children:[h.jsx("span",{children:"Taxes"}),h.jsx("span",{children:lr(t.taxes)})]}),h.jsxs("div",{className:"mt-3 flex justify-between border-t border-slate-200 pt-3 text-base font-bold text-med-700",children:[h.jsx("span",{children:"Total Payable"}),h.jsx("span",{children:lr(t.total)})]})]})]}):null}function w_e({tests:t=[],summary:e,onProceed:n}){const r=tr(),i=t.reduce((s,l)=>s+l.cost,0),a=()=>{n==null||n(),r("/lab-booking")};return t.length?h.jsxs("section",{className:"card",children:[h.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Recommended Tests"}),h.jsx("p",{className:"mt-1 text-sm text-slate-600",children:e})]}),h.jsxs("div",{className:"rounded-xl bg-med-50 px-4 py-2 text-right",children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-med-700",children:"Estimated Bill"}),h.jsx("p",{className:"text-lg font-bold text-med-700",children:lr(i)})]})]}),h.jsx("div",{className:"mt-4 grid gap-3",children:t.map(s=>h.jsx("article",{className:"rounded-xl border border-slate-100 p-4",children:h.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold",children:s.name}),h.jsx("p",{className:"mt-1 text-sm text-slate-600",children:s.reason})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(b_e,{level:s.priority}),h.jsx("p",{className:"text-sm font-semibold text-slate-700",children:lr(s.cost)})]})]})},s.id))}),h.jsx("div",{className:"mt-5 flex justify-end",children:h.jsx("button",{type:"button",className:"btn-primary",onClick:a,children:"Proceed to Book Test"})})]}):h.jsxs("section",{className:"card",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Recommended Tests"}),h.jsx("p",{className:"mt-2 text-sm text-slate-600",children:e||"No tests are needed right now based on the symptoms provided. If symptoms worsen or continue, consult a doctor."})]})}function P_e(){const{state:t,loading:e,loadRecommendations:n}=Xt(),[r,i]=U.useState(t.patientSymptoms||""),[a,s]=U.useState(""),[l,u]=U.useState(!1),[c,p]=U.useState(!0),[f,y]=U.useState(""),v=U.useRef(null);U.useEffect(()=>{const x=window.SpeechRecognition||window.webkitSpeechRecognition;if(!x){p(!1);return}const P=new x;return P.continuous=!0,P.interimResults=!0,P.lang="en-IN",P.onresult=w=>{let T="",I="";for(let N=w.resultIndex;N<w.results.length;N++){const M=w.results[N][0].transcript;w.results[N].isFinal?T+=M+" ":I+=M}T&&i(N=>N?N+" "+T.trim():T.trim()),y(I)},P.onerror=w=>{console.error("Speech recognition error:",w.error),w.error==="not-allowed"?s("Microphone access denied. Please allow microphone permission."):w.error==="network"?s("Voice recognition requires an internet connection. Please type your symptoms."):w.error==="no-speech"||s(`Voice recognition error: ${w.error}. Please type your symptoms.`),u(!1),y("")},P.onend=()=>{u(!1),y("")},v.current=P,()=>{P.abort()}},[]);const b=U.useCallback(()=>{v.current&&(l?v.current.stop():(s(""),y(""),v.current.start(),u(!0)))},[l]),S=async()=>{var x;if(l&&((x=v.current)==null||x.stop()),!r.trim()){s("Please enter symptoms before running AI analysis.");return}s(""),await n(r)};return h.jsxs("div",{className:"page-shell space-y-4",children:[h.jsxs("section",{className:"card",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"AI Symptom Analysis"}),h.jsx("h2",{className:"mt-1 text-2xl font-bold",children:"Medical Assistant Recommendation Engine"}),h.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Enter your symptoms or ",h.jsx("strong",{children:"tap the mic"})," to speak them aloud."]}),h.jsxs("label",{className:"mt-4 block text-sm font-medium text-slate-700",children:["Symptoms / Concerns",h.jsxs("div",{className:"relative mt-2",children:[h.jsx("textarea",{className:"input min-h-[110px] pr-14",placeholder:"Example: chest discomfort for 2 days, dizziness, high BP readings...",value:r+(f?" "+f:""),onChange:x=>{i(x.target.value),y("")}}),c&&h.jsx("button",{type:"button",onClick:b,title:l?"Stop listening":"Start voice input",className:`absolute right-2 top-2 flex h-10 w-10 items-center justify-center rounded-full transition-all duration-200 ${l?"bg-red-500 text-white shadow-lg shadow-red-200 animate-pulse":"bg-med-100 text-med-700 hover:bg-med-200"}`,children:l?h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("rect",{x:"5",y:"5",width:"10",height:"10",rx:"1"})}):h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M7 4a3 3 0 016 0v4a3 3 0 01-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z",clipRule:"evenodd"})})})]})]}),l&&h.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-red-600 font-medium animate-pulse",children:[h.jsxs("span",{className:"relative flex h-3 w-3",children:[h.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),h.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),"Listening speak your symptoms"]}),!c&&h.jsx("p",{className:"mt-2 text-xs text-amber-600",children:" Voice input is not supported in this browser. Please type your symptoms instead."}),a?h.jsx("p",{className:"mt-2 text-sm text-red-600",children:a}):null,h.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[h.jsx("button",{type:"button",className:"btn-primary",onClick:S,disabled:e.recommendations,children:e.recommendations?"Analyzing Symptoms...":"Analyze Symptoms"}),c&&h.jsx("button",{type:"button",onClick:b,className:`flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-semibold transition-all duration-200 ${l?"bg-red-100 text-red-700 hover:bg-red-200":"bg-med-50 text-med-700 border border-med-300 hover:bg-med-100"}`,children:l?" Stop Recording":" Voice Input"})]})]}),e.recommendations?h.jsx("section",{className:"card text-center",children:h.jsx("p",{className:"text-sm text-slate-600",children:"Analyzing symptoms and building test recommendations..."})}):h.jsx(w_e,{tests:t.recommendedTests,summary:t.recommendationSummary})]})}const am=[{id:"test-cbc",name:"Blood Test (CBC)",cost:750},{id:"test-lipid",name:"Lipid Profile",cost:1400},{id:"test-thyroid",name:"Thyroid Profile",cost:1100},{id:"test-ecg",name:"ECG",cost:1200},{id:"test-xray",name:"Chest X-Ray",cost:950},{id:"test-lft",name:"Liver Function Test",cost:1300}];function S_e(){const t=tr(),{state:e,loading:n,confirmBooking:r,addMedicalRecord:i}=Xt(),[a,s]=U.useState(e.selectedHospital.locations[0]),[l,u]=U.useState("2026-02-20T10:30"),[c,p]=U.useState(am[0].id),[f,y]=U.useState(null),v=am.find(x=>x.id===c)||am[0],b=U.useMemo(()=>{const x=e.selectedHospital.serviceFee,P=e.selectedHospital.taxRate,w=[v].map(M=>{const A=Math.round(M.cost*P);return{name:M.name,basePrice:M.cost,discountedPrice:M.cost,serviceFee:x,tax:A,total:M.cost+x+A}}),T=w.reduce((M,A)=>M+A.discountedPrice,0),I=w.reduce((M,A)=>M+A.serviceFee,0),N=w.reduce((M,A)=>M+A.tax,0);return{rows:w,subtotal:T,fees:I,taxes:N,total:T+I+N}},[v,e.selectedHospital.serviceFee,e.selectedHospital.taxRate]),S=async()=>{const x={tests:[v],hospital:e.selectedHospital,location:a,slot:l,insuranceEnabled:!1,prescriptionName:(f==null?void 0:f.name)||null,bill:b};await r(x),f&&await i({file:f,recordType:"Prescription",notes:`Prescription uploaded for ${v.name}`}),t("/payment")};return h.jsxs("div",{className:"page-shell grid gap-4 lg:grid-cols-5",children:[h.jsxs("section",{className:"card space-y-4 lg:col-span-2",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-med-600",children:"Hospital Booking"}),h.jsx("h2",{className:"text-xl font-semibold",children:e.selectedHospital.name}),h.jsx("p",{className:"text-sm text-slate-600",children:e.selectedHospital.address}),h.jsx("p",{className:"mt-2 text-sm text-slate-600",children:e.selectedHospital.description}),h.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[h.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-medium text-slate-700",children:e.selectedHospital.accreditation}),h.jsxs("span",{className:"rounded-full bg-emerald-100 px-3 py-1 text-xs font-medium text-emerald-700",children:[" ",e.selectedHospital.rating," Rating"]}),h.jsx("span",{className:"rounded-full bg-med-100 px-3 py-1 text-xs font-medium text-med-700",children:e.selectedHospital.emergencySupport})]}),h.jsx("p",{className:"mt-3 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Specialties"}),h.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:e.selectedHospital.specialties.map(x=>h.jsx("span",{className:"rounded-full border border-slate-200 px-3 py-1 text-xs text-slate-700",children:x},x))}),h.jsx("p",{className:"mt-3 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Specialist Units"}),h.jsx("ul",{className:"mt-2 list-disc space-y-1 pl-5 text-xs text-slate-700",children:(e.selectedHospital.specialistUnits||[]).map(x=>h.jsx("li",{children:x},x))}),h.jsx("p",{className:"mt-3 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Key Facilities"}),h.jsx("ul",{className:"mt-2 list-disc space-y-1 pl-5 text-xs text-slate-700",children:(e.selectedHospital.facilities||[]).map(x=>h.jsx("li",{children:x},x))})]}),h.jsxs("div",{children:[h.jsx("p",{className:"mb-2 text-sm font-medium",children:"Select Lab Test"}),h.jsx("select",{className:"input",value:c,onChange:x=>p(x.target.value),children:am.map(x=>h.jsxs("option",{value:x.id,children:[x.name,"  ",x.cost]},x.id))})]}),h.jsxs("label",{className:"block text-sm font-medium text-slate-700",children:["Upload Prescription (optional)",h.jsx("input",{className:"input mt-2",type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:x=>{var P;return y(((P=x.target.files)==null?void 0:P[0])||null)}})]}),h.jsxs("div",{children:[h.jsx("p",{className:"mb-2 text-sm font-medium",children:"Choose Hospital Location"}),h.jsx("select",{className:"input",value:a,onChange:x=>s(x.target.value),children:e.selectedHospital.locations.map(x=>h.jsx("option",{children:x},x))})]}),h.jsxs("label",{className:"block text-sm font-medium text-slate-700",children:["Preferred Date & Time Slot",h.jsx("input",{className:"input mt-2",type:"datetime-local",value:l,onChange:x=>u(x.target.value)})]}),f?h.jsxs("p",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600",children:["Attached prescription: ",f.name]}):null,h.jsxs("div",{className:"flex gap-2 pt-2",children:[h.jsx("button",{className:"btn-primary flex-1",onClick:S,disabled:n.booking,children:n.booking?"Reserving Slot...":"Confirm & Pay"}),h.jsx("button",{className:"btn-secondary",onClick:()=>t("/triage"),children:"Cancel"})]})]}),h.jsxs("div",{className:"lg:col-span-3",children:[h.jsx(D3,{bill:b,title:"Itemized Bill"}),h.jsxs("section",{className:"card mt-4",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Cost Breakdown"}),h.jsxs("div",{className:"mt-3 space-y-1 text-sm text-slate-700",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Test Fee"}),h.jsxs("span",{children:["",v.cost]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Service Charge"}),h.jsxs("span",{children:["",b.fees]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Tax"}),h.jsxs("span",{children:["",b.taxes]})]}),h.jsxs("div",{className:"flex justify-between border-t border-slate-200 pt-2 text-base font-semibold text-med-700",children:[h.jsx("span",{children:"Total"}),h.jsxs("span",{children:["",b.total]})]})]})]})]})]})}function E_e({onSubmit:t,loading:e}){const[n,r]=U.useState("card"),[i,a]=U.useState({cardNumber:"4242 4242 4242 4242",expiry:"12/29",cvv:"123",upi:"patient@upi",netBanking:"HDFC"}),s=l=>{l.preventDefault(),t({method:n,details:i})};return h.jsxs("form",{className:"card space-y-4",onSubmit:s,children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Secure Payment"}),h.jsx("span",{className:"rounded-full bg-emerald-100 px-3 py-1 text-xs font-semibold text-emerald-700",children:" PCI Mock Secure"})]}),h.jsx("div",{className:"grid gap-2 sm:grid-cols-3",children:["card","upi","net-banking"].map(l=>h.jsx("button",{type:"button",onClick:()=>r(l),className:`rounded-xl border px-3 py-2 text-sm font-medium ${n===l?"border-med-500 bg-med-50 text-med-700":"border-slate-200 text-slate-600"}`,children:l==="card"?"Card":l==="upi"?"UPI":"Net Banking"},l))}),n==="card"&&h.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[h.jsxs("label",{className:"text-sm text-slate-600 sm:col-span-2",children:["Card Number",h.jsx("input",{className:"input mt-1",value:i.cardNumber,onChange:l=>a(u=>({...u,cardNumber:l.target.value})),required:!0})]}),h.jsxs("label",{className:"text-sm text-slate-600",children:["Expiry Date",h.jsx("input",{className:"input mt-1",value:i.expiry,onChange:l=>a(u=>({...u,expiry:l.target.value})),required:!0})]}),h.jsxs("label",{className:"text-sm text-slate-600",children:["CVV",h.jsx("input",{className:"input mt-1",value:i.cvv,onChange:l=>a(u=>({...u,cvv:l.target.value})),required:!0})]})]}),n==="upi"&&h.jsxs("label",{className:"text-sm text-slate-600",children:["UPI ID",h.jsx("input",{className:"input mt-1",value:i.upi,onChange:l=>a(u=>({...u,upi:l.target.value})),required:!0})]}),n==="net-banking"&&h.jsxs("label",{className:"text-sm text-slate-600",children:["Bank Name",h.jsx("input",{className:"input mt-1",value:i.netBanking,onChange:l=>a(u=>({...u,netBanking:l.target.value})),required:!0})]}),h.jsx("button",{className:"btn-primary w-full",type:"submit",disabled:e,children:e?"Processing Payment...":"Pay Securely"})]})}function T_e(){const t=tr(),{state:e,loading:n,paymentError:r,payForBooking:i}=Xt(),[a,s]=U.useState(!1),l=e.latestBooking;if(!l)return h.jsx("div",{className:"page-shell",children:h.jsxs("section",{className:"card",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"No Booking Available"}),h.jsx("button",{className:"btn-primary mt-4",onClick:()=>t("/lab-booking"),children:"Back to Lab Booking"})]})});const u=async c=>{(await i(c)).ok&&(s(!0),setTimeout(()=>t("/booking-confirmation"),1300))};return h.jsxs("div",{className:"page-shell grid gap-4 lg:grid-cols-5",children:[h.jsxs("div",{className:"space-y-4 lg:col-span-3",children:[h.jsx(E_e,{onSubmit:u,loading:n.payment}),r&&h.jsxs("section",{className:"rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:[h.jsx("p",{className:"font-semibold",children:"Payment Failed"}),h.jsx("p",{className:"mt-1",children:r}),h.jsx("button",{className:"btn-secondary mt-3",children:"Retry Payment"})]}),a&&h.jsxs("section",{className:"card text-center",children:[h.jsxs("div",{className:"relative mx-auto h-16 w-16 rounded-full bg-emerald-100",children:[h.jsx("div",{className:"absolute inset-0 rounded-full border border-emerald-300 animate-pulseRing"}),h.jsx("p",{className:"pt-5 text-2xl text-emerald-700",children:""})]}),h.jsx("p",{className:"mt-3 font-semibold text-emerald-700",children:"Payment Successful"}),h.jsx("p",{className:"text-sm text-slate-500",children:"Generating invoice and redirecting to booking confirmation..."})]})]}),h.jsxs("div",{className:"space-y-4 lg:col-span-2",children:[h.jsxs("section",{className:"card",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Order Summary"}),h.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Booking ID: ",l.bookingId]}),h.jsx("ul",{className:"mt-3 space-y-2 text-sm",children:l.tests.map(c=>h.jsxs("li",{className:"flex justify-between",children:[h.jsx("span",{children:c.name}),h.jsx("span",{children:lr(c.cost)})]},c.id))}),h.jsxs("div",{className:"mt-4 rounded-xl bg-med-50 p-3",children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-med-700",children:"Total Amount"}),h.jsx("p",{className:"text-xl font-bold text-med-700",children:lr(l.bill.total)})]})]}),h.jsx(D3,{bill:l.bill,title:"Final Billing Details"})]})]})}function A_e(){const{state:t}=Xt(),e=t.latestBooking;if(!e||e.paymentStatus!=="paid")return h.jsx("div",{className:"page-shell",children:h.jsxs("section",{className:"card",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"No Paid Booking Found"}),h.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Complete payment to access booking confirmation."})]})});const n=new Date(e.slot).toLocaleString();return h.jsx("div",{className:"page-shell",children:h.jsxs("section",{className:"card animate-fadeIn",children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-emerald-600",children:"Booking Confirmed"}),h.jsx("h2",{className:"mt-1 text-2xl font-bold",children:"Your Lab Test Is Scheduled"}),h.jsxs("div",{className:"mt-4 grid gap-3 rounded-xl border border-slate-200 p-4 text-sm sm:grid-cols-2",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Booking ID:"})," ",e.bookingId]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Invoice ID:"})," ",e.payment.invoiceId]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Hospital:"})," ",e.hospital.name]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Address:"})," ",e.hospital.address]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Scheduled:"})," ",n]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Payment Status:"})," Paid"]})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("p",{className:"mb-2 text-sm font-semibold",children:"Test Details"}),h.jsx("ul",{className:"space-y-1 text-sm text-slate-700",children:e.tests.map(r=>h.jsxs("li",{children:[" ",r.name]},r.id))})]}),h.jsxs("div",{className:"mt-6 flex flex-wrap gap-2",children:[h.jsx("button",{className:"btn-primary",children:"Download Invoice"}),h.jsx("button",{className:"btn-secondary",children:"Add to Calendar"})]})]})})}function M_e(){const{state:t,addMedicalRecord:e,deleteMedicalRecord:n}=Xt(),[r,i]=U.useState("Prescription"),[a,s]=U.useState(""),[l,u]=U.useState(null),c=U.useMemo(()=>{const f=t.reports.map(v=>{var b;return{id:v.reportId,fileName:v.fileName,recordType:"Lab Report",uploadDate:v.uploadedAt,notes:((b=v.testNames)==null?void 0:b.join(", "))||"",source:"hospital",linkedAppointmentId:null,linkedDoctorName:"",previewUrl:"",mimeType:"application/pdf"}});return[...t.medicalRecords,...f].sort((v,b)=>new Date(b.uploadDate).getTime()-new Date(v.uploadDate).getTime())},[t.medicalRecords,t.reports]),p=async()=>{l&&(await e({file:l,recordType:r,notes:a}),u(null),s(""),i("Prescription"))};return h.jsxs("div",{className:"page-shell space-y-4",children:[h.jsxs("section",{className:"card",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Medical Records"}),h.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"All lab reports and diagnostic documents are listed below."})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Upload New Record"}),h.jsxs("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:[h.jsxs("label",{className:"text-sm text-slate-700 sm:col-span-2",children:["Upload File",h.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"input mt-1",onChange:f=>{var y;return u(((y=f.target.files)==null?void 0:y[0])||null)}})]}),h.jsxs("label",{className:"text-sm text-slate-700",children:["Record Type",h.jsxs("select",{className:"input mt-1",value:r,onChange:f=>i(f.target.value),children:[h.jsx("option",{children:"Prescription"}),h.jsx("option",{children:"Lab Report"}),h.jsx("option",{children:"Discharge Summary"}),h.jsx("option",{children:"Imaging"}),h.jsx("option",{children:"Doctor Note"})]})]}),h.jsxs("label",{className:"text-sm text-slate-700",children:["Notes",h.jsx("input",{className:"input mt-1",value:a,onChange:f=>s(f.target.value)})]})]}),h.jsx("button",{type:"button",className:"btn-primary mt-3",onClick:p,disabled:!l,children:"Save Record"})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Records List"}),c.length?h.jsx("div",{className:"mt-3 space-y-3",children:c.map(f=>h.jsxs("article",{className:"rounded-xl border border-slate-100 p-4",children:[h.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold",children:f.fileName}),h.jsx("p",{className:"text-sm text-slate-600",children:f.recordType}),h.jsxs("p",{className:"text-xs text-slate-500",children:["Uploaded: ",new Date(f.uploadDate).toLocaleString()]}),f.notes?h.jsxs("p",{className:"text-xs text-slate-500",children:["Notes: ",f.notes]}):null]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("a",{className:"btn-secondary",href:f.previewUrl||"#",download:f.fileName,onClick:y=>{f.previewUrl||y.preventDefault()},children:"Download"}),f.source==="user"?h.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>n(f.id),children:"Delete"}):null]})]}),f.linkedDoctorName?h.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Linked appointment: ",f.linkedDoctorName]}):null]},f.id))}):h.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"No records available yet."})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Records Timeline"}),h.jsx("div",{className:"mt-3 space-y-3 border-l-2 border-slate-200 pl-4",children:c.map(f=>h.jsxs("div",{className:"relative",children:[h.jsx("span",{className:"absolute -left-[1.35rem] top-1 h-2.5 w-2.5 rounded-full bg-med-600"}),h.jsxs("p",{className:"text-sm font-semibold",children:[f.recordType,": ",f.fileName]}),h.jsx("p",{className:"text-xs text-slate-500",children:new Date(f.uploadDate).toLocaleString()})]},`timeline-${f.id}`))})]})]})}function N_e(){const{state:t,loading:e,markTestCompleted:n,uploadReport:r}=Xt(),[i,a]=U.useState("cardiac-panel-report.pdf"),s=t.latestBooking;return h.jsxs("div",{className:"page-shell space-y-4",children:[h.jsxs("section",{className:"card",children:[h.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-med-600",children:"Hospital Admin View"}),h.jsx("h2",{className:"text-xl font-semibold",children:"Lab Booking Operations Panel"})]}),s?h.jsxs("section",{className:"card space-y-4",children:[h.jsxs("div",{className:"grid gap-3 rounded-xl border border-slate-100 p-4 text-sm sm:grid-cols-2",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Booking ID:"})," ",s.bookingId]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Patient:"})," ",s.patient.name]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Payment:"})," ",s.paymentStatus]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Schedule:"})," ",new Date(s.slot).toLocaleString()]}),h.jsxs("p",{className:"sm:col-span-2",children:[h.jsx("span",{className:"font-semibold",children:"Tests:"})," ",s.tests.map(l=>l.name).join(", ")]})]}),h.jsx("div",{className:"flex flex-wrap gap-2",children:h.jsx("button",{className:"btn-primary",onClick:n,children:"Mark Test as Completed"})}),h.jsxs("div",{className:"rounded-xl border border-slate-200 p-4",children:[h.jsx("h3",{className:"font-semibold",children:"Upload Test Report (PDF Simulation)"}),h.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[h.jsx("input",{className:"input max-w-sm",value:i,onChange:l=>a(l.target.value)}),h.jsx("button",{className:"btn-primary",onClick:()=>r(i),disabled:e.reportUpload,children:e.reportUpload?"Uploading...":"Upload Report"})]})]})]}):h.jsx("section",{className:"card",children:h.jsx("p",{className:"text-sm text-slate-500",children:"No incoming bookings yet."})})]})}const I_e=["application/pdf","image/jpeg","image/png"];function C_e(){const{hospitalSignup:t}=_r(),[e,n]=U.useState({hospitalName:kd[0],adminName:"",contactEmail:"",phone:"",registrationNumber:"",address:"",city:"",state:"",adminRole:"Hospital Admin",password:"",confirmPassword:""}),[r,i]=U.useState(null),[a,s]=U.useState(!1),[l,u]=U.useState(!1),[c,p]=U.useState(!1),[f,y]=U.useState(""),[v,b]=U.useState({type:"",message:""}),S=(M,A)=>{b({type:M,message:A}),setTimeout(()=>b({type:"",message:""}),3500)},x=M=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(M),P=M=>M.length>=8&&/[A-Z]/.test(M)&&/[0-9]/.test(M)&&/[^A-Za-z0-9]/.test(M),w=M=>new Promise((A,O)=>{const k=new FileReader;k.onload=()=>A(k.result),k.onerror=()=>O(new Error("Unable to read file.")),k.readAsDataURL(M)}),T=M=>{var O;y("");const A=((O=M.target.files)==null?void 0:O[0])||null;if(!A){i(null);return}if(!I_e.includes(A.type)){y("Only PDF, JPG, or PNG files are allowed."),M.target.value="";return}if(A.size>5*1024*1024){y("File size must be 5MB or less."),M.target.value="";return}i(A)},I=()=>kd.includes(e.hospitalName)?x(e.contactEmail)?r?P(e.password)?e.password!==e.confirmPassword?"Passwords do not match.":"":"Password must include 8+ chars, uppercase, number, and special character.":"Please upload a hospital license.":"Please enter a valid work email.":"Please select a valid hospital.",N=async M=>{M.preventDefault(),y("");const A=I();if(A){y(A);return}p(!0);try{const O=await w(r),k=await t({...e,licenseFileName:r.name,licenseFileType:r.type,licenseFileSize:r.size,licenseFileDataUrl:O});if(!k.ok){y(k.error||"Unable to submit hospital registration request."),p(!1);return}S("success","Registration submitted. Status: Pending Approval."),n({hospitalName:kd[0],adminName:"",contactEmail:"",phone:"",registrationNumber:"",address:"",city:"",state:"",adminRole:"Hospital Admin",password:"",confirmPassword:""}),i(null)}catch{y("Unable to process your file. Please try another file.")}finally{p(!1)}};return h.jsx("div",{className:"auth-shell",children:h.jsxs("div",{className:"auth-split",children:[h.jsxs("aside",{className:"auth-brand-panel animate-fadeIn",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.24em] text-blue-100",children:"Hospital Onboarding"}),h.jsx("h1",{className:"mt-3 text-4xl font-bold leading-tight",children:"Secure Admin Registration"}),h.jsx("p",{className:"mt-4 max-w-md text-blue-100/90",children:"Submit your hospital admin request. Access will be enabled only after super admin approval."})]}),h.jsxs("ul",{className:"rounded-2xl border border-white/30 bg-white/10 p-4 text-sm text-blue-50 shadow-lg",children:[h.jsx("li",{children:" Restricted hospital list"}),h.jsx("li",{children:" License validation (PDF/JPG/PNG, max 5MB)"}),h.jsx("li",{children:" Duplicate admin prevention"})]})]}),h.jsx("section",{className:"auth-form-wrap animate-fadeIn",children:h.jsxs("div",{className:"auth-glass-card",children:[v.message?h.jsx("div",{className:`mb-4 rounded-xl p-3 text-sm ${v.type==="success"?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"}`,children:v.message}):null,h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Signup"}),h.jsx("h2",{className:"mt-1 text-3xl font-bold text-slate-900",children:"Hospital Admin Request"}),h.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Complete details for approval workflow verification."}),h.jsxs("form",{className:"mt-6 grid gap-3 sm:grid-cols-2",onSubmit:N,children:[h.jsxs("div",{className:"floating-field sm:col-span-2",children:[h.jsx("select",{className:"floating-input",value:e.hospitalName,onChange:M=>n(A=>({...A,hospitalName:M.target.value})),children:kd.map(M=>h.jsx("option",{value:M,children:M},M))}),h.jsx("span",{className:"floating-label",children:"Hospital"})]}),h.jsxs("div",{className:"floating-field",children:[h.jsx("input",{className:"floating-input",placeholder:"Admin Name",value:e.adminName,onChange:M=>n(A=>({...A,adminName:M.target.value}))}),h.jsx("span",{className:"floating-label",children:"Admin Name"})]}),h.jsxs("div",{className:"floating-field",children:[h.jsx("input",{className:"floating-input",type:"email",placeholder:"Work Email",value:e.contactEmail,onChange:M=>n(A=>({...A,contactEmail:M.target.value}))}),h.jsx("span",{className:"floating-label",children:"Work Email"})]}),h.jsxs("div",{className:"floating-field",children:[h.jsx("input",{className:"floating-input",placeholder:"Phone",value:e.phone,onChange:M=>n(A=>({...A,phone:M.target.value}))}),h.jsx("span",{className:"floating-label",children:"Phone"})]}),h.jsxs("div",{className:"floating-field",children:[h.jsx("input",{className:"floating-input",placeholder:"Registration Number",value:e.registrationNumber,onChange:M=>n(A=>({...A,registrationNumber:M.target.value}))}),h.jsx("span",{className:"floating-label",children:"Registration Number"})]}),h.jsxs("div",{className:"floating-field sm:col-span-2",children:[h.jsx("input",{className:"floating-input",placeholder:"Hospital Address",value:e.address,onChange:M=>n(A=>({...A,address:M.target.value}))}),h.jsx("span",{className:"floating-label",children:"Hospital Address"})]}),h.jsxs("div",{className:"floating-field",children:[h.jsx("input",{className:"floating-input",placeholder:"City",value:e.city,onChange:M=>n(A=>({...A,city:M.target.value}))}),h.jsx("span",{className:"floating-label",children:"City"})]}),h.jsxs("div",{className:"floating-field",children:[h.jsx("input",{className:"floating-input",placeholder:"State",value:e.state,onChange:M=>n(A=>({...A,state:M.target.value}))}),h.jsx("span",{className:"floating-label",children:"State"})]}),h.jsxs("div",{className:"sm:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Upload License (PDF/JPG/PNG, max 5MB)"}),h.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"input mt-2",onChange:T}),r?h.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Selected: ",r.name," (",Math.round(r.size/1024)," KB)"]}):null]}),h.jsxs("div",{className:"floating-field",children:[h.jsx("input",{className:"floating-input pr-12",type:a?"text":"password",placeholder:"Create Password",value:e.password,onChange:M=>n(A=>({...A,password:M.target.value}))}),h.jsx("span",{className:"floating-label",children:"Create Password"}),h.jsx("button",{type:"button",className:"absolute right-3 top-3 text-xs font-semibold text-med-700",onClick:()=>s(M=>!M),children:a?"Hide":"Show"})]}),h.jsxs("div",{className:"floating-field",children:[h.jsx("input",{className:"floating-input pr-12",type:l?"text":"password",placeholder:"Confirm Password",value:e.confirmPassword,onChange:M=>n(A=>({...A,confirmPassword:M.target.value}))}),h.jsx("span",{className:"floating-label",children:"Confirm Password"}),h.jsx("button",{type:"button",className:"absolute right-3 top-3 text-xs font-semibold text-med-700",onClick:()=>u(M=>!M),children:l?"Hide":"Show"})]}),f?h.jsx("p",{className:"sm:col-span-2 rounded-xl bg-red-50 p-3 text-sm text-red-700",children:f}):null,h.jsx("button",{className:"btn-primary sm:col-span-2",type:"submit",disabled:c,children:c?h.jsxs("span",{className:"inline-flex items-center gap-2",children:[h.jsx("span",{className:"spinner"})," Submitting..."]}):"Submit for Approval"})]}),h.jsx("div",{className:"mt-5 border-t border-slate-200 pt-4 text-sm text-slate-600",children:h.jsxs("p",{children:["Already approved?"," ",h.jsx(Qe,{className:"font-semibold text-med-700 transition hover:opacity-80",to:"/login?role=hospital-admin",children:"Login as Hospital Admin"})]})})]})})]})})}function O_e(){return h.jsx(gi,{to:"/hospital-admin-login",replace:!0})}function j_e(){const{currentUser:t,hospitalAdminLogin:e,getRoleHomeRoute:n}=_r(),r=tr(),[i,a]=U.useState({email:"",password:""}),[s,l]=U.useState(!1),[u,c]=U.useState(!1),[p,f]=U.useState("");if(t)return h.jsx(gi,{to:n(t.role),replace:!0});const y=async v=>{v.preventDefault(),f(""),c(!0);try{await e(i.email,i.password),r("/hospital-dashboard")}catch(b){f((b==null?void 0:b.message)||"Invalid credentials")}finally{c(!1)}};return h.jsx("div",{className:"auth-shell",children:h.jsxs("div",{className:"auth-split",children:[h.jsxs("aside",{className:"auth-brand-panel animate-fadeIn",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.24em] text-blue-100",children:"Hospital Admin Access"}),h.jsx("h1",{className:"mt-3 text-4xl font-bold leading-tight",children:"Hospital Management"}),h.jsx("p",{className:"mt-4 max-w-md text-blue-100/90",children:"Manage your hospital profile, doctors, and appointments from a single dashboard."})]}),h.jsx("div",{className:"rounded-2xl border border-white/30 bg-white/10 p-4 text-sm text-blue-50 shadow-lg",children:"Hospital Administration  Staff Management  Analytics"})]}),h.jsx("section",{className:"auth-form-wrap animate-fadeIn",children:h.jsxs("div",{className:"auth-glass-card",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Admin Portal"}),h.jsx("h2",{className:"mt-1 text-3xl font-bold text-slate-900",children:"Hospital Login"}),h.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Sign in to manage your hospital operations."}),h.jsxs("form",{className:"mt-6 space-y-4",onSubmit:y,children:[h.jsxs("div",{className:"floating-field",children:[h.jsx("input",{type:"email",className:"floating-input",placeholder:"Email",value:i.email,onChange:v=>a(b=>({...b,email:v.target.value}))}),h.jsx("span",{className:"floating-label",children:"Email"})]}),h.jsxs("div",{className:"floating-field",children:[h.jsx("input",{type:s?"text":"password",className:"floating-input pr-12",placeholder:"Password",value:i.password,onChange:v=>a(b=>({...b,password:v.target.value}))}),h.jsx("span",{className:"floating-label",children:"Password"}),h.jsx("button",{type:"button",className:"absolute right-3 top-3 text-xs font-semibold text-med-700",onClick:()=>l(v=>!v),children:s?"Hide":"Show"})]}),p?h.jsx("p",{className:"rounded-xl bg-red-50 p-3 text-sm text-red-700",children:p}):null,h.jsx("button",{className:"btn-primary w-full",type:"submit",disabled:u,children:u?h.jsxs("span",{className:"inline-flex items-center gap-2",children:[h.jsx("span",{className:"spinner"})," Signing in..."]}):"Login"})]}),h.jsxs("div",{className:"mt-5 border-t border-slate-200 pt-4 text-sm text-slate-600",children:[h.jsxs("p",{children:["New hospital?"," ",h.jsx(Qe,{className:"font-semibold text-med-700 transition hover:opacity-80",to:"/hospital-signup",children:"Register here"})]}),h.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Are you a doctor?"," ",h.jsx(Qe,{className:"font-semibold text-med-700 transition hover:opacity-80",to:"/doctor-login",children:"Go to Doctor Login"})]})]})]})})]})})}function VC(){var T;const{currentUser:t}=_r(),{state:e,updateAppointmentStatus:n,cancelAppointment:r}=Xt();console.log(" Hospital Dashboard - Current User:",t);const a=U.useMemo(()=>t!=null&&t.hospitalName?e.appointments.filter(I=>{if(I.hospitalName===t.hospitalName)return!0;const N=e.doctors.find(M=>M.id===I.doctor_id);return(N==null?void 0:N.hospitalName)===t.hospitalName}):[],[e.appointments,t==null?void 0:t.hospitalName,e.doctors]);console.log(" Hospital Appointments Found:",a.length),console.log(" Doctor Appointments Found:",a.length);const s=new Date().toISOString().slice(0,10),l=a.filter(I=>I.date===s),u=a.filter(I=>I.date>=s&&I.status!=="Cancelled"),c=a.filter(I=>I.status==="Completed"),p=U.useMemo(()=>{const I={};return a.forEach(N=>{const M=N.patientName||"Unknown Patient";I[M]||(I[M]=[]),I[M].push(N)}),I},[a]),f=I=>{switch(I){case"Completed":return"bg-emerald-100 text-emerald-700";case"Upcoming":return"bg-blue-100 text-blue-700";case"Confirmed":return"bg-blue-100 text-blue-700";case"Cancelled":return"bg-red-100 text-red-700";default:return"bg-slate-100 text-slate-700"}},y=I=>I===s,v=U.useMemo(()=>c.reduce((I,N)=>I+(N.consultationFee||0),0),[c]),b=U.useMemo(()=>u.reduce((I,N)=>I+(N.consultationFee||0),0),[u]),S=a.filter(I=>I.status==="Cancelled"),x=new Set(a.map(I=>I.patientName)).size,P=U.useMemo(()=>[...l].sort((I,N)=>{const M=I.time.toLowerCase().replace(/[^0-9:]/g,""),A=N.time.toLowerCase().replace(/[^0-9:]/g,"");return M.localeCompare(A)}),[l]),w=()=>{localStorage.clear(),window.location.reload()};return h.jsxs("div",{className:"page-shell space-y-4",children:[a.length===0&&h.jsx("div",{className:"card bg-yellow-50 border-yellow-300 border-2",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-yellow-900",children:" No Appointments Found"}),h.jsxs("p",{className:"text-sm text-yellow-800 mt-1",children:["Click the button to refresh and load sample appointment data for Dr. ",t==null?void 0:t.name]})]}),h.jsx("button",{onClick:w,className:"bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-2 px-6 rounded-lg transition-colors",children:" Refresh Data"})]})}),h.jsx("section",{className:"card bg-gradient-to-r from-med-50 to-blue-50 border-med-200",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Hospital Administration"}),h.jsx("h2",{className:"mt-1 text-2xl font-bold text-med-900",children:t==null?void 0:t.hospitalName}),h.jsx("p",{className:"mt-1 text-sm text-slate-700 font-medium",children:"Administrator Dashboard"}),h.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:[" ",t==null?void 0:t.email]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-xs text-slate-500",children:"Today's Date"}),h.jsx("p",{className:"text-sm font-semibold text-med-700",children:new Date().toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]})]})}),h.jsxs("section",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-5",children:[h.jsx("article",{className:"card bg-blue-50 border-blue-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-slate-600 font-medium",children:"Today's Schedule"}),h.jsx("p",{className:"text-3xl font-bold text-blue-700 mt-1",children:l.length}),h.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"appointments"})]}),h.jsx("div",{className:"text-4xl",children:""})]})}),h.jsx("article",{className:"card bg-emerald-50 border-emerald-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-slate-600 font-medium",children:"Upcoming"}),h.jsx("p",{className:"text-3xl font-bold text-emerald-700 mt-1",children:u.length}),h.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"scheduled"})]}),h.jsx("div",{className:"text-4xl",children:""})]})}),h.jsx("article",{className:"card bg-green-50 border-green-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-slate-600 font-medium",children:"Completed"}),h.jsx("p",{className:"text-3xl font-bold text-green-700 mt-1",children:c.length}),h.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["",v.toLocaleString("en-IN")]})]}),h.jsx("div",{className:"text-4xl",children:""})]})}),h.jsx("article",{className:"card bg-purple-50 border-purple-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-slate-600 font-medium",children:"Total Patients"}),h.jsx("p",{className:"text-3xl font-bold text-purple-700 mt-1",children:x}),h.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"unique"})]}),h.jsx("div",{className:"text-4xl",children:""})]})}),h.jsx("article",{className:"card bg-amber-50 border-amber-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-slate-600 font-medium",children:"Potential Revenue"}),h.jsxs("p",{className:"text-2xl font-bold text-amber-700 mt-1",children:["",b.toLocaleString("en-IN")]}),h.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"from upcoming"})]}),h.jsx("div",{className:"text-4xl",children:""})]})})]}),h.jsxs("section",{className:"card",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-med-900",children:" Today's Schedule"}),h.jsx("p",{className:"text-sm text-slate-600 mt-1",children:new Date().toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long"})})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-xs text-slate-500",children:"Total Consultations"}),h.jsx("p",{className:"text-lg font-bold text-med-700",children:l.length})]})]}),P.length>0?h.jsx("div",{className:"space-y-3",children:P.map(I=>h.jsx("article",{className:"rounded-xl border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-white p-4 shadow-sm hover:shadow-md transition-shadow",children:h.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx("p",{className:"font-bold text-xl text-blue-900",children:I.time}),h.jsx("span",{className:"rounded-full bg-blue-600 px-3 py-1 text-xs font-bold text-white",children:"TODAY"})]}),h.jsxs("div",{className:"ml-10",children:[h.jsx("p",{className:"font-bold text-lg text-slate-900",children:I.patientName||"Patient Name Not Provided"}),h.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[h.jsx("span",{className:"font-semibold",children:"Patient ID:"})," ",I.patient_id]}),h.jsxs("p",{className:"text-sm text-slate-700 mt-2 bg-amber-50 border border-amber-200 rounded-lg p-2",children:[h.jsx("span",{className:"font-semibold text-amber-900",children:"Chief Complaint:"}),h.jsx("br",{}),I.reason]}),I.uploadedMedicalFile&&h.jsxs("p",{className:"text-xs text-blue-600 mt-2 flex items-center gap-1",children:[h.jsx("span",{children:""}),h.jsx("span",{className:"font-semibold",children:"Medical File Attached:"})," ",I.uploadedMedicalFile.fileName]}),h.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[h.jsx("span",{className:"font-semibold",children:"Fee:"})," ",I.consultationFee," ",h.jsx("span",{className:"font-semibold",children:"Apt ID:"})," ",I.id]})]})]}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("span",{className:`rounded-full px-2.5 py-1 text-xs font-semibold ${f(I.status)}`,children:I.status}),I.status!=="Completed"&&I.status!=="Cancelled"&&h.jsx("button",{className:"btn-secondary text-xs",onClick:()=>n(I.id,"Completed"),children:"Mark Complete"})]})]})},I.id))}):h.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"No appointments scheduled for today."})]}),h.jsxs("section",{className:"card",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h3",{className:"text-lg font-semibold text-med-900",children:" All Appointments"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-semibold",children:[u.length," Upcoming"]}),h.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-semibold",children:[c.length," Completed"]})]})]}),h.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Complete history of your patient consultations"}),a.length>0?h.jsx("div",{className:"space-y-2",children:a.map(I=>h.jsx("article",{className:`rounded-lg border p-3 ${I.status==="Completed"?"bg-green-50 border-green-200":I.status==="Cancelled"?"bg-red-50 border-red-200":y(I.date)?"bg-blue-50 border-blue-300 border-2":"bg-white border-slate-200"}`,children:h.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("p",{className:"font-bold text-base text-slate-900",children:I.patientName||"Not specified"}),y(I.date)&&h.jsx("span",{className:"rounded-full bg-blue-600 px-2 py-0.5 text-xs font-bold text-white",children:"TODAY"})]}),h.jsxs("div",{className:"space-y-1 text-sm",children:[h.jsxs("p",{className:"text-slate-700",children:[h.jsx("span",{className:"font-semibold",children:" Date & Time:"})," ",I.date," at ",I.time]}),h.jsxs("p",{className:"text-slate-700",children:[h.jsx("span",{className:"font-semibold",children:" Patient ID:"})," ",I.patient_id]}),h.jsxs("p",{className:"text-slate-700",children:[h.jsx("span",{className:"font-semibold",children:" Chief Complaint:"})," ",I.reason]}),h.jsxs("p",{className:"text-slate-700",children:[h.jsx("span",{className:"font-semibold",children:" Consultation Fee:"})," ",I.consultationFee]}),I.uploadedMedicalFile&&h.jsxs("p",{className:"text-xs text-blue-600 flex items-center gap-1 mt-1",children:[" ",h.jsx("span",{className:"font-semibold",children:"Attachment:"})," ",I.uploadedMedicalFile.fileName]})]})]}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("span",{className:`rounded-full px-2.5 py-1 text-xs font-semibold ${f(I.status)}`,children:I.status}),I.status!=="Completed"&&I.status!=="Cancelled"&&h.jsxs(h.Fragment,{children:[h.jsx("button",{className:"btn-secondary text-xs",onClick:()=>n(I.id,"Completed"),children:"Mark Complete"}),h.jsx("button",{className:"btn-secondary text-xs",onClick:()=>r(I.id),children:"Cancel"})]})]})]})},I.id))}):h.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"No appointments found for this doctor."})]}),h.jsxs("section",{className:"card bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200",children:[h.jsx("h3",{className:"text-lg font-semibold text-purple-900 flex items-center gap-2",children:" Patient Progress Tracker"}),h.jsx("p",{className:"text-sm text-slate-700 mt-1 mb-4",children:"View complete appointment history grouped by patient"}),Object.keys(p).length>0?h.jsx("div",{className:"space-y-3",children:Object.entries(p).map(([I,N])=>{const M=N.filter(k=>k.status==="Completed").length,A=N.filter(k=>k.status==="Upcoming").length,O=N.filter(k=>k.status==="Completed").reduce((k,$)=>k+($.consultationFee||0),0);return h.jsxs("article",{className:"rounded-xl border-2 border-purple-300 bg-white p-4 shadow-sm",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3 pb-3 border-b border-purple-200",children:[h.jsxs("div",{children:[h.jsxs("h4",{className:"font-bold text-lg text-purple-900 flex items-center gap-2",children:[h.jsx("span",{children:""}),I]}),h.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:["Patient ID: ",N[0].patient_id]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"flex gap-2 mb-1",children:[h.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-semibold",children:[M," Completed"]}),h.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-semibold",children:[A," Upcoming"]})]}),O>0&&h.jsxs("p",{className:"text-xs text-slate-600",children:["Total Revenue: ",h.jsxs("span",{className:"font-bold text-green-700",children:["",O.toLocaleString("en-IN")]})]})]})]}),h.jsx("div",{className:"space-y-2",children:N.sort((k,$)=>new Date($.date)-new Date(k.date)).map(k=>h.jsx("div",{className:`rounded-lg p-3 text-sm border-l-4 ${k.status==="Completed"?"bg-green-50 border-green-500":k.status==="Cancelled"?"bg-red-50 border-red-500":"bg-blue-50 border-blue-500"}`,children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("p",{className:"font-semibold text-slate-900",children:k.date}),h.jsxs("span",{className:"text-xs text-slate-500",children:["at ",k.time]}),y(k.date)&&h.jsx("span",{className:"text-xs bg-blue-600 text-white px-2 py-0.5 rounded-full font-bold",children:"TODAY"})]}),h.jsxs("p",{className:"text-slate-700 text-xs mt-1",children:[h.jsx("span",{className:"font-semibold",children:"Chief Complaint:"})," ",k.reason]}),h.jsxs("p",{className:"text-slate-600 text-xs mt-1",children:[h.jsx("span",{className:"font-semibold",children:"Fee:"})," ",k.consultationFee," ",h.jsx("span",{className:"font-semibold",children:" ID:"})," ",k.id]}),k.uploadedMedicalFile&&h.jsxs("p",{className:"text-xs text-blue-600 mt-1 flex items-center gap-1",children:[" ",k.uploadedMedicalFile.fileName]})]}),h.jsx("span",{className:`rounded-full px-2 py-0.5 text-xs font-semibold whitespace-nowrap ${f(k.status)}`,children:k.status})]})},k.id))})]},I)})}):h.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"No patient data available yet."})]}),h.jsx("section",{className:"card bg-gradient-to-br from-med-50 to-purple-50 border-med-300",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"w-20 h-20 rounded-full bg-med-600 flex items-center justify-center text-white text-3xl font-bold",children:(T=t==null?void 0:t.name)==null?void 0:T.split(" ").map(I=>I[0]).join("").slice(0,2)}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-xl font-bold text-med-900",children:"Admin Profile"}),h.jsxs("div",{className:"mt-3 grid gap-2",children:[h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-med-600 font-semibold min-w-[120px]",children:" Name:"}),h.jsx("span",{className:"text-slate-700",children:t==null?void 0:t.name})]}),h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-med-600 font-semibold min-w-[120px]",children:" Hospital:"}),h.jsx("span",{className:"text-slate-700",children:t==null?void 0:t.hospitalName})]}),h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-med-600 font-semibold min-w-[120px]",children:" Email:"}),h.jsx("span",{className:"text-slate-700",children:t==null?void 0:t.email})]}),h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-med-600 font-semibold min-w-[120px]",children:" Admin ID:"}),h.jsx("span",{className:"text-slate-700",children:t==null?void 0:t.id})]})]}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-med-200",children:[h.jsx("h4",{className:"font-semibold text-med-800 mb-2",children:" Performance Summary"}),h.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[h.jsxs("div",{className:"bg-white rounded-lg p-2 border border-med-200",children:[h.jsx("p",{className:"text-xs text-slate-500",children:"Total Appointments"}),h.jsx("p",{className:"text-lg font-bold text-med-700",children:a.length})]}),h.jsxs("div",{className:"bg-white rounded-lg p-2 border border-green-200",children:[h.jsx("p",{className:"text-xs text-slate-500",children:"Completed"}),h.jsx("p",{className:"text-lg font-bold text-green-700",children:c.length})]}),h.jsxs("div",{className:"bg-white rounded-lg p-2 border border-red-200",children:[h.jsx("p",{className:"text-xs text-slate-500",children:"Cancelled"}),h.jsx("p",{className:"text-lg font-bold text-red-700",children:S.length})]}),h.jsxs("div",{className:"bg-white rounded-lg p-2 border border-purple-200",children:[h.jsx("p",{className:"text-xs text-slate-500",children:"Patients Served"}),h.jsx("p",{className:"text-lg font-bold text-purple-700",children:x})]})]})]})]})]})})]})}function k_e(){const{currentUser:t,superAdminLogin:e,getRoleHomeRoute:n}=_r(),r=tr(),[i,a]=U.useState({email:"",password:""}),[s,l]=U.useState(!1),[u,c]=U.useState(!1),[p,f]=U.useState("");if(t)return h.jsx(gi,{to:n(t.role),replace:!0});const y=async v=>{v.preventDefault(),f(""),c(!0);try{await e(i.email,i.password),r("/super-admin-dashboard")}catch{f("Invalid credentials")}finally{c(!1)}};return h.jsx("div",{className:"auth-shell",children:h.jsxs("div",{className:"auth-split",children:[h.jsxs("aside",{className:"auth-brand-panel animate-fadeIn",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.24em] text-blue-100",children:"Super Admin Access"}),h.jsx("h1",{className:"mt-3 text-4xl font-bold leading-tight",children:"Platform Governance Console"}),h.jsx("p",{className:"mt-4 max-w-md text-blue-100/90",children:"Secure login for company-level approvals, hospital governance, and compliance operations."})]}),h.jsx("div",{className:"rounded-2xl border border-white/30 bg-white/10 p-4 text-sm text-blue-50 shadow-lg",children:"Controlled access  Approval workflow  Audit-ready records"})]}),h.jsx("section",{className:"auth-form-wrap animate-fadeIn",children:h.jsxs("div",{className:"auth-glass-card",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Super Admin Login"}),h.jsx("h2",{className:"mt-1 text-3xl font-bold text-slate-900",children:"Sign in securely"}),h.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Use your organization-level credentials to continue."}),h.jsxs("form",{className:"mt-6 space-y-4",onSubmit:y,children:[h.jsxs("div",{className:"floating-field",children:[h.jsx("input",{type:"email",className:"floating-input",placeholder:"Email",value:i.email,onChange:v=>a(b=>({...b,email:v.target.value}))}),h.jsx("span",{className:"floating-label",children:"Email"})]}),h.jsxs("div",{className:"floating-field",children:[h.jsx("input",{type:s?"text":"password",className:"floating-input pr-12",placeholder:"Password",value:i.password,onChange:v=>a(b=>({...b,password:v.target.value}))}),h.jsx("span",{className:"floating-label",children:"Password"}),h.jsx("button",{type:"button",className:"absolute right-3 top-3 text-xs font-semibold text-med-700",onClick:()=>l(v=>!v),children:s?"Hide":"Show"})]}),p?h.jsx("p",{className:"rounded-xl bg-red-50 p-3 text-sm text-red-700",children:p}):null,h.jsx("button",{className:"btn-primary w-full",type:"submit",disabled:u,children:u?h.jsxs("span",{className:"inline-flex items-center gap-2",children:[h.jsx("span",{className:"spinner"})," Signing in..."]}):"Login as Super Admin"})]}),h.jsxs("div",{className:"mt-5 border-t border-slate-200 pt-4 text-sm text-slate-600",children:[h.jsxs("p",{children:["Hospital admin access:"," ",h.jsx(Qe,{className:"font-semibold text-med-700 transition hover:opacity-80",to:"/login?role=hospital-admin",children:"Login"})]}),h.jsxs("p",{className:"mt-1",children:["Need registration approval flow?"," ",h.jsx(Qe,{className:"font-semibold text-med-700 transition hover:opacity-80",to:"/hospital-signup",children:"Open Hospital Signup"})]})]})]})})]})})}function UC(t){var n,r,i,a;if((n=t.licenseFileType)!=null&&n.includes("pdf"))return"pdf";if((r=t.licenseFileType)!=null&&r.includes("image"))return"image";const e=(a=(i=t.licenseFileName)==null?void 0:i.split(".").pop())==null?void 0:a.toLowerCase();return e==="pdf"?"pdf":["jpg","jpeg","png"].includes(e||"")?"image":"unknown"}function D_e(){var F;const{state:t,addDepartment:e,editDepartment:n,deleteDepartment:r}=Xt(),[i,a]=U.useState(jh()),[s,l]=U.useState(Ou()),[u,c]=U.useState(ZA()),[p,f]=U.useState(""),[y,v]=U.useState({old:"",value:""}),[b,S]=U.useState({}),[x,P]=U.useState(null),[w,T]=U.useState({type:"",message:""}),I=i.filter(W=>W.status==="Pending Approval"),N=s.filter(W=>W.status!=="Rejected"),M=U.useMemo(()=>{var Z;const W=(Z=t.patient)!=null&&Z.name?1:0,Y=t.appointments.length,G=t.appointments.filter(z=>z.status!=="Cancelled").reduce((z,q)=>z+Number(q.consultationFee||0),0);return{totalDoctors:t.doctors.length,totalPatients:W,totalAppointments:Y,revenue:G}},[t.appointments,t.doctors.length,(F=t.patient)==null?void 0:F.name]),A=()=>{a(jh()),l(Ou()),c(ZA())},O=(W,Y)=>{T({type:W,message:Y}),setTimeout(()=>T({type:"",message:""}),3e3)},k=(W,Y)=>{const G=(b[W.id]||"").trim();if(Y==="reject"&&!G){O("error","Rejection reason is required.");return}if(Y==="more-info"&&!G){O("error","Clarification note is required.");return}W7(W.id,Y,G),S(Z=>({...Z,[W.id]:""})),A(),O("success",Y==="approve"?"Hospital approved successfully.":"Request updated successfully.")},$=W=>{const Y=W.status==="Suspended"?"Active":"Suspended";G7(W.id,Y),A()},B=W=>{const Y=UC(W);return W.licenseFileDataUrl?Y==="pdf"?h.jsx("iframe",{title:W.licenseFileName,src:W.licenseFileDataUrl,className:"h-44 w-full rounded-lg border border-slate-200"}):Y==="image"?h.jsx("img",{src:W.licenseFileDataUrl,alt:W.licenseFileName,className:"h-44 w-full rounded-lg border border-slate-200 object-cover"}):h.jsx("p",{className:"text-xs text-slate-500",children:"Unsupported file type for preview."}):h.jsx("p",{className:"text-xs text-slate-500",children:"Preview unavailable. File was not uploaded with preview data."})},D=W=>{if(!W.licenseFileDataUrl){O("error","Download unavailable for this file.");return}const Y=document.createElement("a");Y.href=W.licenseFileDataUrl,Y.download=W.licenseFileName||"hospital-license",document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)};return h.jsxs("div",{className:"page-shell space-y-4",children:[w.message?h.jsx("div",{className:`rounded-xl p-3 text-sm ${w.type==="success"?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"}`,children:w.message}):null,h.jsxs("section",{className:"card",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Company Control Center"}),h.jsx("h2",{className:"mt-1 text-xl font-semibold",children:"Super Admin Dashboard"})]}),h.jsxs("section",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[h.jsxs("article",{className:"card",children:[h.jsx("p",{className:"text-xs text-slate-500",children:"Pending Hospital Requests"}),h.jsx("p",{className:"text-2xl font-bold text-med-700",children:I.length})]}),h.jsxs("article",{className:"card",children:[h.jsx("p",{className:"text-xs text-slate-500",children:"Approved Hospitals"}),h.jsx("p",{className:"text-2xl font-bold text-med-700",children:N.length})]}),h.jsxs("article",{className:"card",children:[h.jsx("p",{className:"text-xs text-slate-500",children:"Total Doctors"}),h.jsx("p",{className:"text-2xl font-bold text-med-700",children:M.totalDoctors})]}),h.jsxs("article",{className:"card",children:[h.jsx("p",{className:"text-xs text-slate-500",children:"Total Patients"}),h.jsx("p",{className:"text-2xl font-bold text-med-700",children:M.totalPatients})]}),h.jsxs("article",{className:"card",children:[h.jsx("p",{className:"text-xs text-slate-500",children:"Total Appointments"}),h.jsx("p",{className:"text-2xl font-bold text-med-700",children:M.totalAppointments})]}),h.jsxs("article",{className:"card",children:[h.jsx("p",{className:"text-xs text-slate-500",children:"Revenue Overview"}),h.jsxs("p",{className:"text-2xl font-bold text-med-700",children:["",M.revenue]})]})]}),h.jsxs("section",{className:"card space-y-3",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Pending Hospital Requests"}),I.length?I.map(W=>h.jsxs("article",{className:"rounded-xl border border-slate-100 p-4",children:[h.jsxs("div",{className:"grid gap-3 lg:grid-cols-[1fr,280px]",children:[h.jsxs("div",{className:"space-y-1 text-sm",children:[h.jsx("p",{className:"text-base font-semibold",children:W.hospitalName}),h.jsxs("p",{className:"text-slate-600",children:["Admin: ",W.adminName]}),h.jsxs("p",{className:"text-slate-600",children:["Email: ",W.contactEmail]}),h.jsxs("p",{className:"text-slate-600",children:["Phone: ",W.phone]}),h.jsxs("p",{className:"text-slate-600",children:["Submitted: ",new Date(W.submittedAt).toLocaleString()]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-slate-500",children:"License Preview"}),B(W),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx("button",{className:"btn-secondary",onClick:()=>P(W),children:"Expand"}),h.jsx("button",{className:"btn-secondary",onClick:()=>D(W),children:"Download"})]})]})]}),h.jsx("div",{className:"mt-3",children:h.jsx("input",{className:"input",placeholder:"Reason (required for Reject / Clarification)",value:b[W.id]||"",onChange:Y=>S(G=>({...G,[W.id]:Y.target.value}))})}),h.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[h.jsx("button",{className:"btn-primary",onClick:()=>k(W,"approve"),children:"Approve"}),h.jsx("button",{className:"btn-secondary",onClick:()=>k(W,"reject"),children:"Reject"}),h.jsx("button",{className:"btn-secondary",onClick:()=>k(W,"more-info"),children:"Request clarification"})]})]},W.id)):h.jsx("p",{className:"text-sm text-slate-500",children:"No pending requests."})]}),h.jsxs("section",{className:"card space-y-3",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Approved Hospitals"}),N.map(W=>h.jsx("article",{className:"rounded-xl border border-slate-100 p-3",children:h.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold",children:W.hospitalName}),h.jsxs("p",{className:"text-sm text-slate-600",children:[W.city,", ",W.state]}),h.jsxs("p",{className:"text-xs text-slate-500",children:["Status: ",W.status]})]}),h.jsx("button",{className:"btn-secondary",onClick:()=>$(W),children:W.status==="Suspended"?"Reactivate":"Suspend"})]})},W.id))]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Manage Departments"}),h.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[h.jsx("input",{className:"input max-w-sm",value:p,onChange:W=>f(W.target.value),placeholder:"Add new department"}),h.jsx("button",{className:"btn-primary",onClick:()=>{e(p),f("")},children:"Add"})]}),h.jsx("div",{className:"mt-3 grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:t.departments.map(W=>h.jsx("article",{className:"rounded-xl border border-slate-100 p-2 text-sm",children:y.old===W?h.jsxs("div",{className:"space-y-2",children:[h.jsx("input",{className:"input",value:y.value,onChange:Y=>v({old:W,value:Y.target.value})}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{className:"btn-primary",onClick:()=>{n(W,y.value),v({old:"",value:""})},children:"Save"}),h.jsx("button",{className:"btn-secondary",onClick:()=>v({old:"",value:""}),children:"Cancel"})]})]}):h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("span",{children:W}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("button",{className:"btn-secondary",onClick:()=>v({old:W,value:W}),children:"Edit"}),h.jsx("button",{className:"btn-secondary",onClick:()=>r(W),children:"Delete"})]})]})},W))})]}),h.jsxs("section",{className:"grid gap-4 lg:grid-cols-2",children:[h.jsxs("article",{className:"card",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"All Doctors"}),h.jsx("div",{className:"mt-3 max-h-72 space-y-2 overflow-auto",children:t.doctors.map(W=>h.jsxs("div",{className:"rounded-xl border border-slate-100 p-2 text-sm",children:[h.jsx("p",{className:"font-semibold",children:W.fullName}),h.jsxs("p",{className:"text-slate-600",children:[W.department,"  ",W.hospitalAffiliation]})]},W.id))})]}),h.jsxs("article",{className:"card",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"System Appointments"}),h.jsx("div",{className:"mt-3 max-h-72 space-y-2 overflow-auto",children:t.appointments.map(W=>h.jsxs("div",{className:"rounded-xl border border-slate-100 p-2 text-sm",children:[h.jsxs("p",{className:"font-semibold",children:[W.id,"  ",W.doctorName]}),h.jsxs("p",{className:"text-slate-600",children:[W.department,"  ",W.date," ",W.time]}),h.jsxs("p",{className:"text-xs text-slate-500",children:["Status: ",W.status]})]},W.id))})]})]}),h.jsxs("section",{className:"card",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Platform Activity Logs"}),h.jsx("div",{className:"mt-3 max-h-56 space-y-2 overflow-auto",children:u.map(W=>h.jsxs("div",{className:"rounded-xl border border-slate-100 p-2 text-sm",children:[h.jsx("p",{className:"font-semibold",children:W.action}),h.jsxs("p",{className:"text-xs text-slate-500",children:[new Date(W.createdAt).toLocaleString(),"  ",W.actor]})]},W.id))})]}),x?h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/70 p-4",children:h.jsxs("div",{className:"w-full max-w-5xl rounded-2xl bg-white p-4 shadow-card",children:[h.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[h.jsx("h4",{className:"text-lg font-semibold",children:x.licenseFileName}),h.jsx("button",{className:"btn-secondary",onClick:()=>P(null),children:"Close"})]}),UC(x)==="pdf"?h.jsx("iframe",{title:x.licenseFileName,src:x.licenseFileDataUrl,className:"h-[70vh] w-full rounded-xl border border-slate-200"}):h.jsx("img",{src:x.licenseFileDataUrl,alt:x.licenseFileName,className:"h-[70vh] w-full rounded-xl border border-slate-200 object-contain"})]})}):null]})}function R_e(){const{currentUser:t,getRoleHomeRoute:e}=_r();return t?h.jsx(gi,{to:e(t.role),replace:!0}):h.jsxs("div",{className:"auth-shell relative overflow-hidden",style:{backgroundImage:"url('/images/auth-bg.avif')",backgroundSize:"cover",backgroundPosition:"center"},children:[h.jsx("div",{className:"pointer-events-none absolute -left-20 top-10 h-64 w-64 rounded-full bg-med-200/60 blur-3xl"}),h.jsx("div",{className:"pointer-events-none absolute -right-20 top-24 h-72 w-72 rounded-full bg-blue-200/60 blur-3xl"}),h.jsx("div",{className:"pointer-events-none absolute bottom-0 left-1/3 h-72 w-72 rounded-full bg-sky-200/50 blur-3xl"}),h.jsx("div",{className:"page-shell flex min-h-[75vh] items-center justify-center py-8",children:h.jsxs("section",{className:"card relative w-full max-w-5xl overflow-hidden bg-blue-200/90 backdrop-blur-sm",children:[h.jsx("div",{className:"pointer-events-none absolute inset-0 bg-cover bg-center opacity-15",style:{backgroundImage:"url('https://img.freepik.com/free-photo/health-still-life-with-copy-space_23-2148854031.jpg?semt=ais_user_personalization&w=740&q=80')"}}),h.jsx("div",{className:"pointer-events-none absolute inset-0 bg-blue-200/72"}),h.jsxs("div",{className:"relative z-10",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Authentication Portal"}),h.jsx("h2",{className:"mt-1 text-2xl font-bold",children:"Choose your account type"}),h.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Select one of the options below to login or create a new account."}),h.jsxs("div",{className:"mt-6 grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[h.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Patient"}),h.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Book appointments, use triage, and track your records."}),h.jsxs("div",{className:"mt-4 flex gap-2",children:[h.jsx(Qe,{to:"/login",className:"btn-primary w-full justify-center",children:"Login"}),h.jsx(Qe,{to:"/signup",className:"btn-secondary w-full justify-center",children:"Sign Up"})]})]}),h.jsxs("article",{className:"rounded-2xl border border-emerald-200 bg-emerald-50/50 p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-emerald-900",children:"Doctor Access"}),h.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Access your workspace, view appointments, and patients."}),h.jsx("div",{className:"mt-4",children:h.jsx(Qe,{to:"/doctor-login",className:"btn-primary w-full justify-center bg-emerald-600 hover:bg-emerald-700 border-emerald-600",children:"Doctor Login"})})]}),h.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Hospital Admin"}),h.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Manage hospital profile, doctors, and operations."}),h.jsxs("div",{className:"mt-4 flex gap-2 flex-col",children:[h.jsx(Qe,{to:"/hospital-login",className:"btn-primary w-full justify-center",children:"Admin Login"}),h.jsx(Qe,{to:"/hospital-signup",className:"btn-secondary w-full justify-center",children:"Register Hospital"})]})]}),h.jsxs("article",{className:"rounded-2xl border border-slate-200 bg-white/70 p-4",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Super Admin"}),h.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Platform management and hospital approvals."}),h.jsx("div",{className:"mt-4",children:h.jsx(Qe,{to:"/super-admin-login",className:"btn-secondary w-full justify-center",children:"Login"})})]})]})]})]})})]})}function L_e(){return h.jsx("div",{className:"page-shell",children:h.jsxs("section",{className:"card text-center",children:[h.jsx("h2",{className:"text-2xl font-bold",children:"Page Not Found"}),h.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"The requested page could not be found."}),h.jsx(Qe,{className:"btn-primary mt-4",to:"/",children:"Back to Dashboard"})]})})}function $_e(){const{currentUser:t,login:e,forgotPassword:n,getRoleHomeRoute:r}=_r(),i=tr(),[a,s]=U.useState({email:"",password:"",rememberMe:!0}),[l,u]=U.useState(!1),[c,p]=U.useState(!1),[f,y]=U.useState(""),[v,b]=U.useState({type:"",message:""});if(U.useEffect(()=>{const T=localStorage.getItem("pc_remembered_email");T&&s(I=>({...I,email:T}))},[]),t)return h.jsx(gi,{to:r(t.role),replace:!0});const S=T=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(T),x=()=>S(a.email)?a.password?"":"Please enter your password.":"Please enter a valid email address.",P=async T=>{T.preventDefault(),y("");const I=x();if(I){y(I);return}p(!0);try{await e(a.email,a.password),a.rememberMe?localStorage.setItem("pc_remembered_email",a.email):localStorage.removeItem("pc_remembered_email"),i("/")}catch(N){y((N==null?void 0:N.message)||"Invalid credentials")}finally{p(!1)}},w=async()=>{y("");try{await n(a.email),b({type:"success",message:"If your email exists, reset instructions were sent."}),setTimeout(()=>b({type:"",message:""}),3e3)}catch{b({type:"error",message:"Unable to process reset right now. Please try again."}),setTimeout(()=>b({type:"",message:""}),3e3)}};return h.jsx("div",{className:"auth-shell",children:h.jsxs("div",{className:"auth-split",children:[h.jsxs("aside",{className:"auth-brand-panel animate-fadeIn",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.24em] text-blue-100",children:"Prognosis Care"}),h.jsx("h1",{className:"mt-3 text-4xl font-bold leading-tight",children:"Secure Hospital Authentication"}),h.jsx("p",{className:"mt-4 max-w-md text-blue-100/90",children:"Enterprise-grade access for patients, hospital administrators, and the super admin approval system."})]}),h.jsx("div",{className:"rounded-2xl border border-white/30 bg-white/10 p-4 text-sm text-blue-50 shadow-lg",children:"Role-based access  Encrypted session token  Approval-controlled hospital onboarding"})]}),h.jsx("section",{className:"auth-form-wrap animate-fadeIn",children:h.jsxs("div",{className:"auth-glass-card",children:[v.message?h.jsx("div",{className:`mb-4 rounded-xl p-3 text-sm ${v.type==="success"?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"}`,children:v.message}):null,h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Login"}),h.jsx("h2",{className:"mt-1 text-3xl font-bold text-slate-900",children:"Welcome back"}),h.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Sign in to continue your healthcare journey."}),h.jsxs("form",{className:"mt-6 space-y-4",onSubmit:P,children:[h.jsxs("div",{className:"floating-field",children:[h.jsx("input",{className:"floating-input",type:"email",placeholder:"Email",value:a.email,onChange:T=>s(I=>({...I,email:T.target.value}))}),h.jsx("span",{className:"floating-label",children:"Email"})]}),h.jsxs("div",{className:"floating-field",children:[h.jsx("input",{className:"floating-input pr-12",type:l?"text":"password",placeholder:"Password",value:a.password,onChange:T=>s(I=>({...I,password:T.target.value}))}),h.jsx("span",{className:"floating-label",children:"Password"}),h.jsx("button",{type:"button",className:"absolute right-3 top-3 text-xs font-semibold text-med-700",onClick:()=>u(T=>!T),children:l?"Hide":"Show"})]}),h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsxs("label",{className:"inline-flex items-center gap-2 text-slate-600",children:[h.jsx("input",{type:"checkbox",checked:a.rememberMe,onChange:T=>s(I=>({...I,rememberMe:T.target.checked}))}),"Remember me"]}),h.jsx("button",{type:"button",className:"font-semibold text-med-700",onClick:w,children:"Forgot Password?"})]}),f?h.jsx("p",{className:"rounded-xl bg-red-50 p-3 text-sm text-red-700",children:f}):null,h.jsx("button",{className:"btn-primary w-full",type:"submit",disabled:c,children:c?h.jsxs("span",{className:"inline-flex items-center gap-2",children:[h.jsx("span",{className:"spinner"})," Signing in..."]}):"Login"})]}),h.jsx("div",{className:"mt-5 border-t border-slate-200 pt-4 text-sm text-slate-600",children:h.jsxs("p",{children:["Hospital admin registration:"," ",h.jsx(Qe,{className:"font-semibold text-med-700 transition hover:opacity-80",to:"/hospital-signup",children:"Create approved admin account"})]})})]})})]})})}function F_e(){const{currentUser:t,doctorLogin:e,getRoleHomeRoute:n}=_r(),r=tr(),[i,a]=U.useState({email:"",password:""}),[s,l]=U.useState(!1),[u,c]=U.useState(!1),[p,f]=U.useState("");if(t)return h.jsx(gi,{to:n(t.role),replace:!0});const y=async v=>{v.preventDefault(),f(""),c(!0);try{await e(i.email,i.password),r("/doctor-workspace")}catch(b){f((b==null?void 0:b.message)||"Invalid credentials")}finally{c(!1)}};return h.jsx("div",{className:"auth-shell",children:h.jsxs("div",{className:"auth-split",children:[h.jsxs("aside",{className:"auth-brand-panel animate-fadeIn bg-emerald-700",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.24em] text-emerald-100",children:"Medical Staff Access"}),h.jsx("h1",{className:"mt-3 text-4xl font-bold leading-tight",children:"Doctor Workspace"}),h.jsx("p",{className:"mt-4 max-w-md text-emerald-100/90",children:"Access your patient records, appointments, and diagnostic tools in one secure place."})]}),h.jsx("div",{className:"rounded-2xl border border-white/30 bg-white/10 p-4 text-sm text-emerald-50 shadow-lg",children:"HIPAA Compliant  Secure Access  Clinical Tools"})]}),h.jsx("section",{className:"auth-form-wrap animate-fadeIn",children:h.jsxs("div",{className:"auth-glass-card",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-emerald-600",children:"Secure Audit Log"}),h.jsx("h2",{className:"mt-1 text-3xl font-bold text-slate-900",children:"Doctor Login"}),h.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Welcome back, Doctor. Please sign in."}),h.jsxs("form",{className:"mt-6 space-y-4",onSubmit:y,children:[h.jsxs("div",{className:"floating-field",children:[h.jsx("input",{type:"email",className:"floating-input focus:border-emerald-500",placeholder:"Email",value:i.email,onChange:v=>a(b=>({...b,email:v.target.value}))}),h.jsx("span",{className:"floating-label",children:"Email"})]}),h.jsxs("div",{className:"floating-field",children:[h.jsx("input",{type:s?"text":"password",className:"floating-input pr-12 focus:border-emerald-500",placeholder:"Password",value:i.password,onChange:v=>a(b=>({...b,password:v.target.value}))}),h.jsx("span",{className:"floating-label",children:"Password"}),h.jsx("button",{type:"button",className:"absolute right-3 top-3 text-xs font-semibold text-emerald-700",onClick:()=>l(v=>!v),children:s?"Hide":"Show"})]}),p?h.jsx("p",{className:"rounded-xl bg-red-50 p-3 text-sm text-red-700",children:p}):null,h.jsx("button",{className:"btn-primary w-full bg-emerald-600 hover:bg-emerald-700 active:bg-emerald-800 border-emerald-600",type:"submit",disabled:u,children:u?h.jsxs("span",{className:"inline-flex items-center gap-2",children:[h.jsx("span",{className:"spinner"})," Authenticating..."]}):"Login"})]}),h.jsx("div",{className:"mt-5 border-t border-slate-200 pt-4 text-sm text-slate-600",children:h.jsxs("p",{children:["Not a doctor?"," ",h.jsx(Qe,{className:"font-semibold text-emerald-700 transition hover:opacity-80",to:"/auth",children:"Go back to options"})]})})]})})]})})}function B_e(){const{currentUser:t,signup:e,getRoleHomeRoute:n}=_r(),r=tr(),[i,a]=U.useState({email:"",password:"",confirmPassword:""}),[s,l]=U.useState(!1),[u,c]=U.useState(!1),[p,f]=U.useState(!1),[y,v]=U.useState("");if(t)return h.jsx(gi,{to:n(t.role),replace:!0});const b=x=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x),S=async x=>{if(x.preventDefault(),v(""),!b(i.email)){v("Please enter a valid email address.");return}if(i.password!==i.confirmPassword){v("Passwords do not match.");return}f(!0);try{await e(i.email,i.password),r("/welcome")}catch(P){v((P==null?void 0:P.message)||"Unable to create account.")}finally{f(!1)}};return h.jsx("div",{className:"auth-shell",children:h.jsxs("div",{className:"auth-split",children:[h.jsxs("aside",{className:"auth-brand-panel animate-fadeIn",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.24em] text-blue-100",children:"Patient Onboarding"}),h.jsx("h1",{className:"mt-3 text-4xl font-bold leading-tight",children:"Create your patient account"}),h.jsx("p",{className:"mt-4 max-w-md text-blue-100/90",children:"Access AI triage, appointments, records, and hospital recommendations from one secure place."})]}),h.jsx("div",{className:"rounded-2xl border border-white/30 bg-white/10 p-4 text-sm text-blue-50 shadow-lg",children:"Patient-first experience  Secure sessions  Fast onboarding"})]}),h.jsx("section",{className:"auth-form-wrap animate-fadeIn",children:h.jsxs("div",{className:"auth-glass-card",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Patient Signup"}),h.jsx("h2",{className:"mt-1 text-3xl font-bold text-slate-900",children:"Create account"}),h.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Start your healthcare journey in under a minute."}),h.jsxs("form",{className:"mt-6 space-y-4",onSubmit:S,children:[h.jsxs("div",{className:"floating-field",children:[h.jsx("input",{type:"email",className:"floating-input",placeholder:"Email",value:i.email,onChange:x=>a(P=>({...P,email:x.target.value}))}),h.jsx("span",{className:"floating-label",children:"Email"})]}),h.jsxs("div",{className:"floating-field",children:[h.jsx("input",{type:s?"text":"password",className:"floating-input pr-12",placeholder:"Create Password",value:i.password,onChange:x=>a(P=>({...P,password:x.target.value}))}),h.jsx("span",{className:"floating-label",children:"Create Password"}),h.jsx("button",{type:"button",className:"absolute right-3 top-3 text-xs font-semibold text-med-700",onClick:()=>l(x=>!x),children:s?"Hide":"Show"})]}),h.jsxs("div",{className:"floating-field",children:[h.jsx("input",{type:u?"text":"password",className:"floating-input pr-12",placeholder:"Confirm Password",value:i.confirmPassword,onChange:x=>a(P=>({...P,confirmPassword:x.target.value}))}),h.jsx("span",{className:"floating-label",children:"Confirm Password"}),h.jsx("button",{type:"button",className:"absolute right-3 top-3 text-xs font-semibold text-med-700",onClick:()=>c(x=>!x),children:u?"Hide":"Show"})]}),y?h.jsx("p",{className:"rounded-xl bg-red-50 p-3 text-sm text-red-700",children:y}):null,h.jsx("button",{className:"btn-primary w-full",type:"submit",disabled:p,children:p?h.jsxs("span",{className:"inline-flex items-center gap-2",children:[h.jsx("span",{className:"spinner"})," Creating account..."]}):"Sign Up"})]}),h.jsx("div",{className:"mt-5 border-t border-slate-200 pt-4 text-sm text-slate-600",children:h.jsxs("p",{children:["Already have an account?"," ",h.jsx(Qe,{className:"font-semibold text-med-700 transition hover:opacity-80",to:"/login",children:"Login"})]})})]})})]})})}function V_e(){const{state:t}=Xt(),e=t.notifications[0];return e?h.jsxs("div",{className:"pointer-events-none fixed bottom-4 right-4 z-50 max-w-sm animate-fadeIn rounded-2xl border border-med-100 bg-white p-4 shadow-card",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-med-600",children:"Notification"}),h.jsx("p",{className:"mt-1 text-sm text-slate-700",children:e.message})]}):null}function U_e({hospitals:t,initialHospitalId:e,onConfirm:n}){const r=U.useMemo(()=>{var l;return e&&t.some(u=>u.id===e)?e:((l=t[0])==null?void 0:l.id)||""},[t,e]),[i,a]=U.useState(r),s=()=>{i&&n(i)};return h.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/50 p-4 backdrop-blur-sm",children:h.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-6 shadow-xl",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Hospital Selection"}),h.jsx("h3",{className:"mt-2 text-2xl font-bold text-slate-900",children:"Choose your hospital"}),h.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"You will only see doctors, departments, and services for the hospital you select."}),h.jsxs("label",{className:"mt-5 block text-sm font-medium text-slate-700",children:["Contracted Hospital",h.jsx("select",{className:"input mt-2",value:i,onChange:l=>a(l.target.value),required:!0,children:t.map(l=>h.jsx("option",{value:l.id,children:l.name},l.id))})]}),h.jsx("button",{type:"button",className:"btn-primary mt-6 w-full",onClick:s,disabled:!i,children:"Continue"})]})})}function z_e({fallbackPath:t="/auth"}){const e=tr(),n=()=>{if(window.history.length>1){e(-1);return}e(t)};return h.jsx("button",{type:"button",className:"mb-4 inline-flex items-center gap-2 rounded-xl border border-slate-200 bg-white/70 px-3 py-2 text-sm font-semibold text-slate-700 transition hover:bg-white",onClick:n,children:" Back"})}function H_e(t){return t==="super-admin"?"/super-admin-dashboard":t==="hospital-admin"?"/hospital-dashboard":t==="doctor"?"/doctor-workspace":"/dashboard"}function Jt({children:t,allowedRoles:e,redirectPath:n="/auth"}){const{currentUser:r,authLoading:i}=_r();return i?h.jsx("div",{className:"page-shell",children:h.jsx("section",{className:"card text-center text-sm text-slate-600",children:"Checking authentication..."})}):r?e!=null&&e.length&&!e.includes(r.role)?h.jsx(gi,{to:H_e(r.role),replace:!0}):t:h.jsx(gi,{to:n,replace:!0})}const W_e=[{to:"/dashboard",label:"Dashboard"},{to:"/welcome",label:"Welcome"},{to:"/my-appointments",label:"My Appointments"},{to:"/triage",label:"AI Assistant"},{to:"/ambulance",label:"Ambulance"},{to:"/medical-records",label:"Medical Records"}],G_e=[{to:"/hospital-dashboard",label:"Hospital Dashboard"},{to:"/medical-records",label:"Medical Records"}],K_e=[{to:"/doctor-workspace",label:"Doctor Workspace"},{to:"/my-appointments",label:"My Calendar"}],q_e=[{to:"/super-admin-dashboard",label:"Super Dashboard"}];function Z_e(){const t=qo(),{currentUser:e,logout:n,getRoleHomeRoute:r,completeHospitalSelection:i}=_r(),{hospitals:a,state:s,setPatientSelectedHospital:l}=Xt(),u=(e==null?void 0:e.role)==="patient"&&!!(e!=null&&e.needsHospitalSelection),c=y=>{l(y),i()},p=(e==null?void 0:e.role)==="super-admin"?q_e:(e==null?void 0:e.role)==="hospital-admin"?G_e:(e==null?void 0:e.role)==="doctor"?K_e:W_e,f=t.pathname!=="/auth"&&t.pathname!=="/";return h.jsxs("div",{className:"min-h-screen bg-red-50 text-slate-900",children:[e?h.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-200 bg-white/95 backdrop-blur",children:h.jsxs("div",{className:"page-shell flex flex-wrap items-center justify-between gap-3 py-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-med-600",children:"Prognosis Care"}),h.jsx("h1",{className:"text-lg font-bold",children:"AI Healthcare Triage & Diagnostics"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("nav",{className:"flex flex-wrap gap-2",children:p.map(y=>h.jsx(RV,{to:y.to,className:({isActive:v})=>`rounded-xl px-3 py-2 text-sm font-medium transition ${v?"bg-med-100 text-med-700":"text-slate-600 hover:bg-slate-100"}`,children:y.label},y.to))}),h.jsx("button",{type:"button",className:"btn-secondary",onClick:n,children:"Logout"})]})]})}):null,f?h.jsx("div",{className:"page-shell pt-4",children:h.jsx(z_e,{fallbackPath:"/"})}):null,h.jsx("main",{className:"animate-fadeIn",children:h.jsxs(EV,{children:[h.jsx(Xe,{path:"/auth",element:h.jsx(R_e,{})}),h.jsx(Xe,{path:"/login",element:h.jsx($_e,{})}),h.jsx(Xe,{path:"/signup",element:h.jsx(B_e,{})}),h.jsx(Xe,{path:"/super-admin-login",element:h.jsx(k_e,{})}),h.jsx(Xe,{path:"/hospital-signup",element:h.jsx(C_e,{})}),h.jsx(Xe,{path:"/hospital-login",element:h.jsx(O_e,{})}),h.jsx(Xe,{path:"/doctor-login",element:h.jsx(F_e,{})}),h.jsx(Xe,{path:"/hospital-admin-login",element:h.jsx(j_e,{})}),h.jsx(Xe,{path:"/",element:e?h.jsx(gi,{to:r(e==null?void 0:e.role),replace:!0}):h.jsx(JV,{})}),h.jsx(Xe,{path:"/welcome",element:h.jsx(Jt,{allowedRoles:["patient"],children:h.jsx(z7,{})})}),h.jsx(Xe,{path:"/dashboard",element:h.jsx(Jt,{allowedRoles:["patient"],children:h.jsx(Ive,{})})}),h.jsx(Xe,{path:"/appointments",element:h.jsx(Jt,{allowedRoles:["patient"],children:h.jsx(Ove,{})})}),h.jsx(Xe,{path:"/my-appointments",element:h.jsx(Jt,{allowedRoles:["patient","doctor"],children:h.jsx(Dve,{})})}),h.jsx(Xe,{path:"/opd-departments",element:h.jsx(Jt,{allowedRoles:["patient"],children:h.jsx(Rve,{})})}),h.jsx(Xe,{path:"/opd-departments/:departmentSlug",element:h.jsx(Jt,{allowedRoles:["patient"],children:h.jsx(Lve,{})})}),h.jsx(Xe,{path:"/doctor/:id",element:h.jsx(Jt,{allowedRoles:["patient"],children:h.jsx($ve,{})})}),h.jsx(Xe,{path:"/chat-history",element:h.jsx(Jt,{allowedRoles:["patient"],children:h.jsx(x_e,{})})}),h.jsx(Xe,{path:"/triage",element:h.jsx(Jt,{allowedRoles:["patient"],children:h.jsx(P_e,{})})}),h.jsx(Xe,{path:"/ambulance",element:h.jsx(Jt,{allowedRoles:["patient"],children:h.jsx(v_e,{})})}),h.jsx(Xe,{path:"/lab-booking",element:h.jsx(Jt,{allowedRoles:["patient"],children:h.jsx(S_e,{})})}),h.jsx(Xe,{path:"/payment",element:h.jsx(Jt,{allowedRoles:["patient"],children:h.jsx(T_e,{})})}),h.jsx(Xe,{path:"/booking-confirmation",element:h.jsx(Jt,{allowedRoles:["patient"],children:h.jsx(A_e,{})})}),h.jsx(Xe,{path:"/medical-records",element:h.jsx(Jt,{allowedRoles:["patient","hospital-admin"],children:h.jsx(M_e,{})})}),h.jsx(Xe,{path:"/admin/hospital",element:h.jsx(Jt,{allowedRoles:["patient"],children:h.jsx(N_e,{})})}),h.jsx(Xe,{path:"/doctor-dashboard",element:h.jsx(Jt,{allowedRoles:["hospital-admin"],children:h.jsx(VC,{})})}),h.jsx(Xe,{path:"/doctor-workspace",element:h.jsx(Jt,{allowedRoles:["doctor"],children:h.jsx(Kve,{})})}),h.jsx(Xe,{path:"/hospital-dashboard",element:h.jsx(Jt,{allowedRoles:["hospital-admin"],children:h.jsx(VC,{})})}),h.jsx(Xe,{path:"/super-admin-dashboard",element:h.jsx(Jt,{allowedRoles:["super-admin"],children:h.jsx(D_e,{})})}),h.jsx(Xe,{path:"/app",element:h.jsx(gi,{to:"/",replace:!0})}),h.jsx(Xe,{path:"*",element:h.jsx(L_e,{})})]})}),e?h.jsx(V_e,{}):null,u?h.jsx(U_e,{hospitals:a,initialHospitalId:s.patient.selectedHospitalId,onConfirm:c}):null]})}A0.createRoot(document.getElementById("root")).render(h.jsx(X.StrictMode,{children:h.jsx(jV,{children:h.jsx(X7,{children:h.jsx(U7,{children:h.jsx(Z_e,{})})})})}));
